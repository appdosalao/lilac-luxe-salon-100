const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AgendamentoOnlineForm-C4w8sPL7.js","assets/react-vendor-lX9dz28M.js"])))=>i.map(i=>d[i]);
import{r as Md,a as x,j as a,R as LC,g as NR,c as wr,b as A,d as FC,e as yt}from"./react-vendor-lX9dz28M.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var zC,jj=Md;zC=jj.createRoot,jj.hydrateRoot;var Jh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qh=typeof window>"u"||"Deno"in globalThis;function qn(){}function _R(e,t){return typeof e=="function"?e(t):e}function SR(e){return typeof e=="number"&&e>=0&&e!==1/0}function CR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wj(e,t){return typeof e=="function"?e(t):e}function PR(e,t){return typeof e=="function"?e(t):e}function Nj(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:c}=e;if(i){if(n){if(t.queryHash!==ky(i,t.options))return!1}else if(!Rl(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function _j(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Dl(t.options.mutationKey)!==Dl(o))return!1}else if(!Rl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function ky(e,t){return(t?.queryKeyHashFn||Dl)(e)}function Dl(e){return JSON.stringify(e,(t,r)=>nv(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Rl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Rl(e[r],t[r])):!1}function BC(e,t){if(e===t)return e;const r=Sj(e)&&Sj(t);if(r||nv(e)&&nv(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,c=r?[]:{};let l=0;for(let d=0;d<i;d++){const u=r?d:o[d];(!r&&n.includes(u)||r)&&e[u]===void 0&&t[u]===void 0?(c[u]=void 0,l++):(c[u]=BC(e[u],t[u]),c[u]===e[u]&&e[u]!==void 0&&l++)}return s===i&&l===s?e:c}return t}function Sj(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nv(e){if(!Cj(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Cj(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Cj(e){return Object.prototype.toString.call(e)==="[object Object]"}function AR(e){return new Promise(t=>{setTimeout(t,e)})}function kR(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?BC(e,t):t}function ER(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function OR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ey=Symbol();function VC(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ey?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var TR=class extends Jh{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Qh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},UC=new TR,$R=class extends Jh{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Qh&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},bf=new $R;function MR(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function DR(e){return Math.min(1e3*2**e,3e4)}function qC(e){return(e??"online")==="online"?bf.isOnline():!0}var WC=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Zp(e){return e instanceof WC}function HC(e){let t=!1,r=0,n=!1,s;const o=MR(),i=m=>{n||(h(new WC(m)),e.abort?.())},c=()=>{t=!0},l=()=>{t=!1},d=()=>UC.isFocused()&&(e.networkMode==="always"||bf.isOnline())&&e.canRun(),u=()=>qC(e.networkMode)&&e.canRun(),f=m=>{n||(n=!0,e.onSuccess?.(m),s?.(),o.resolve(m))},h=m=>{n||(n=!0,e.onError?.(m),s?.(),o.reject(m))},p=()=>new Promise(m=>{s=g=>{(n||d())&&m(g)},e.onPause?.()}).then(()=>{s=void 0,n||e.onContinue?.()}),v=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{if(n)return;const b=e.retry??(Qh?0:3),w=e.retryDelay??DR,j=typeof w=="function"?w(r,y):w,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!N){h(y);return}r++,e.onFail?.(r,y),AR(j).then(()=>d()?void 0:p()).then(()=>{t?h(y):v()})})};return{promise:o,cancel:i,continue:()=>(s?.(),o),cancelRetry:c,continueRetry:l,canStart:u,start:()=>(u()?v():p().then(v),o)}}function RR(){let e=[],t=0,r=c=>{c()},n=c=>{c()},s=c=>setTimeout(c,0);const o=c=>{t?e.push(c):s(()=>{r(c)})},i=()=>{const c=e;e=[],c.length&&s(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||i()}return l},batchCalls:c=>(...l)=>{o(()=>{c(...l)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var Mr=RR(),GC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SR(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qh?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},IR=class extends GC{#e;#t;#r;#n;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=FR(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=kR(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(qn).catch(qn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>PR(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ey||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!CR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const c=VC(this.options,t),l={queryKey:this.queryKey,meta:this.meta};return n(l),this.#s=!1,this.options.persister?this.options.persister(c,l,this):c(l)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const i=c=>{Zp(c)&&c.silent||this.#a({type:"error",error:c}),Zp(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=HC({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){i(l);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:i,onFail:(c,l)=>{this.#a({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LR(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Zp(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Mr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function LR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function FR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zR=class extends Jh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,s=t.queryHash??ky(n,t);let o=this.get(s);return o||(o=new IR({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Nj(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Nj(e,r)):t}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},BR=class extends GC{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||VR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=HC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Mr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function VR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var UR=class extends Jh{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new BR({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=ju(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=ju(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(ju(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(ju(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Mr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>_j(t,r))}findAll(e={}){return this.getAll().filter(t=>_j(e,t))}notify(e){Mr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Mr.batch(()=>Promise.all(e.map(t=>t.continue().catch(qn))))}};function ju(e){return e.options.scope?.id??String(e.mutationId)}function Pj(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},l=0;const d=async()=>{let u=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},h=VC(t.options,t.fetchOptions),p=async(v,m,g)=>{if(u)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const y={queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};f(y);const b=await h(y),{maxPages:w}=t.options,j=g?OR:ER;return{pages:j(v.pages,b,w),pageParams:j(v.pageParams,m,w)}};if(s&&o.length){const v=s==="backward",m=v?qR:Aj,g={pages:o,pageParams:i},y=m(n,g);c=await p(g,y,v)}else{const v=e??o.length;do{const m=l===0?i[0]??n.initialPageParam:Aj(n,c);if(l>0&&m==null)break;c=await p(c,m),l++}while(l<v)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=d}}}function Aj(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function qR(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var WR=class{#e;#t;#r;#n;#o;#s;#a;#i;constructor(e={}){this.#e=e.queryCache||new zR,this.#t=e.mutationCache||new UR,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=UC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=bf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=this.#e.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(wj(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(n.queryHash)?.state.data,i=_R(t,o);if(i!==void 0)return this.#e.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Mr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Mr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return Mr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Mr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(qn).catch(qn)}invalidateQueries(e={},t={}){return Mr.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},n=Mr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(qn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(qn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(wj(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(qn).catch(qn)}fetchInfiniteQuery(e){return e.behavior=Pj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(qn).catch(qn)}ensureInfiniteQueryData(e){return e.behavior=Pj(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Dl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let r={};return t.forEach(n=>{Rl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){this.#o.set(Dl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let r={};return t.forEach(n=>{Rl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ky(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Ey&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},HR=x.createContext(void 0),GR=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(HR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(this,arguments)}var Cs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cs||(Cs={}));const kj="popstate";function KR(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:c}=n.location;return av("",{pathname:o,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:jf(s)}return ZR(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YR(){return Math.random().toString(36).substr(2,8)}function Ej(e,t){return{usr:e.state,key:e.key,idx:t}}function av(e,t,r,n){return r===void 0&&(r=null),Il({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fc(t):t,{state:r,key:t&&t.key||n||YR()})}function jf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ZR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,c=Cs.Pop,l=null,d=u();d==null&&(d=0,i.replaceState(Il({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function f(){c=Cs.Pop;let g=u(),y=g==null?null:g-d;d=g,l&&l({action:c,location:m.location,delta:y})}function h(g,y){c=Cs.Push;let b=av(m.location,g,y);d=u()+1;let w=Ej(b,d),j=m.createHref(b);try{i.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&l&&l({action:c,location:m.location,delta:1})}function p(g,y){c=Cs.Replace;let b=av(m.location,g,y);d=u();let w=Ej(b,d),j=m.createHref(b);i.replaceState(w,"",j),o&&l&&l({action:c,location:m.location,delta:0})}function v(g){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof g=="string"?g:jf(g);return b=b.replace(/ $/,"%20"),Ht(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return c},get location(){return e(s,i)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(kj,f),l=g,()=>{s.removeEventListener(kj,f),l=null}},createHref(g){return t(s,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return i.go(g)}};return m}var Oj;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Oj||(Oj={}));function XR(e,t,r){return r===void 0&&(r="/"),JR(e,t,r)}function JR(e,t,r,n){let s=typeof t=="string"?fc(t):t,o=Oy(s.pathname||"/",r);if(o==null)return null;let i=YC(e);QR(i);let c=null;for(let l=0;c==null&&l<i.length;++l){let d=uI(o);c=cI(i[l],d)}return c}function YC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,c)=>{let l={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=Es([n,l.relativePath]),u=r.concat(l);o.children&&o.children.length>0&&(Ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),YC(o.children,t,u,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:oI(d,o.index),routesMeta:u})};return e.forEach((o,i)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,i);else for(let l of ZC(o.path))s(o,i,l)}),t}function ZC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=ZC(n.join("/")),c=[];return c.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&c.push(...i),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function QR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:iI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eI=/^:[\w-]+$/,tI=3,rI=2,nI=1,aI=10,sI=-2,Tj=e=>e==="*";function oI(e,t){let r=e.split("/"),n=r.length;return r.some(Tj)&&(n+=sI),t&&(n+=rI),r.filter(s=>!Tj(s)).reduce((s,o)=>s+(eI.test(o)?tI:o===""?nI:aI),n)}function iI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function cI(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let c=0;c<n.length;++c){let l=n[c],d=c===n.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=lI({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},u),h=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Es([o,f.pathname]),pathnameBase:pI(Es([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Es([o,f.pathnameBase]))}return i}function lI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=dI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let m=c[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const v=c[f];return p&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:i,pattern:e}}function dI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),KC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function uI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return KC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Oy(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fc(e):e;return{pathname:r?r.startsWith("/")?r:hI(r,t):t,search:gI(n),hash:vI(s)}}function hI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ty(e,t){let r=mI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $y(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fc(e):(s=Il({},e),Ht(!s.pathname||!s.pathname.includes("?"),Xp("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),Xp("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),Xp("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,c;if(i==null)c=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}c=f>=0?t[f]:"/"}let l=fI(s,c),d=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||u)&&(l.pathname+="/"),l}const Es=e=>e.join("/").replace(/\/\/+/g,"/"),pI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),gI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XC=["post","put","patch","delete"];new Set(XC);const yI=["get",...XC];new Set(yI);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}const My=x.createContext(null),bI=x.createContext(null),Ls=x.createContext(null),em=x.createContext(null),Fs=x.createContext({outlet:null,matches:[],isDataRoute:!1}),JC=x.createContext(null);function jI(e,t){let{relative:r}=t===void 0?{}:t;hc()||Ht(!1);let{basename:n,navigator:s}=x.useContext(Ls),{hash:o,pathname:i,search:c}=eP(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:Es([n,i])),s.createHref({pathname:l,search:c,hash:o})}function hc(){return x.useContext(em)!=null}function zs(){return hc()||Ht(!1),x.useContext(em).location}function QC(e){x.useContext(Ls).static||x.useLayoutEffect(e)}function Ar(){let{isDataRoute:e}=x.useContext(Fs);return e?MI():wI()}function wI(){hc()||Ht(!1);let e=x.useContext(My),{basename:t,future:r,navigator:n}=x.useContext(Ls),{matches:s}=x.useContext(Fs),{pathname:o}=zs(),i=JSON.stringify(Ty(s,r.v7_relativeSplatPath)),c=x.useRef(!1);return QC(()=>{c.current=!0}),x.useCallback(function(d,u){if(u===void 0&&(u={}),!c.current)return;if(typeof d=="number"){n.go(d);return}let f=$y(d,JSON.parse(i),o,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Es([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,i,o,e])}function eP(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Ls),{matches:s}=x.useContext(Fs),{pathname:o}=zs(),i=JSON.stringify(Ty(s,n.v7_relativeSplatPath));return x.useMemo(()=>$y(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function NI(e,t){return _I(e,t)}function _I(e,t,r,n){hc()||Ht(!1);let{navigator:s}=x.useContext(Ls),{matches:o}=x.useContext(Fs),i=o[o.length-1],c=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let d=zs(),u;if(t){var f;let g=typeof t=="string"?fc(t):t;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Ht(!1),u=g}else u=d;let h=u.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=XR(e,{pathname:p}),m=kI(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Es([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Es([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&m?x.createElement(em.Provider,{value:{location:Ll({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Cs.Pop}},m):m}function SI(){let e=$I(),t=xI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const CI=x.createElement(SI,null);class PI extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Fs.Provider,{value:this.props.routeContext},x.createElement(JC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AI(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(My);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Fs.Provider,{value:t},n)}function kI(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let u=i.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);u>=0||Ht(!1),i=i.slice(0,Math.min(i.length,u+1))}let l=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,f,h)=>{let p,v=!1,m=null,g=null;r&&(p=c&&f.route.id?c[f.route.id]:void 0,m=f.route.errorElement||CI,l&&(d<0&&h===0?(DI("route-fallback"),v=!0,g=null):d===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),b=()=>{let w;return p?w=m:v?w=g:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,x.createElement(AI,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(PI,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var tP=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tP||{}),rP=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rP||{});function EI(e){let t=x.useContext(My);return t||Ht(!1),t}function OI(e){let t=x.useContext(bI);return t||Ht(!1),t}function TI(e){let t=x.useContext(Fs);return t||Ht(!1),t}function nP(e){let t=TI(),r=t.matches[t.matches.length-1];return r.route.id||Ht(!1),r.route.id}function $I(){var e;let t=x.useContext(JC),r=OI(),n=nP();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function MI(){let{router:e}=EI(tP.UseNavigateStable),t=nP(rP.UseNavigateStable),r=x.useRef(!1);return QC(()=>{r.current=!0}),x.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ll({fromRouteId:t},o)))},[e,t])}const $j={};function DI(e,t,r){$j[e]||($j[e]=!0)}function wf(e){let{to:t,replace:r,state:n,relative:s}=e;hc()||Ht(!1);let{future:o,static:i}=x.useContext(Ls),{matches:c}=x.useContext(Fs),{pathname:l}=zs(),d=Ar(),u=$y(t,Ty(c,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(u);return x.useEffect(()=>d(JSON.parse(f),{replace:r,state:n,relative:s}),[d,f,s,r,n]),null}function Ot(e){Ht(!1)}function RI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Cs.Pop,navigator:o,static:i=!1,future:c}=e;hc()&&Ht(!1);let l=t.replace(/^\/*/,"/"),d=x.useMemo(()=>({basename:l,navigator:o,static:i,future:Ll({v7_relativeSplatPath:!1},c)}),[l,c,o,i]);typeof n=="string"&&(n=fc(n));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,m=x.useMemo(()=>{let g=Oy(u,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:v},navigationType:s}},[l,u,f,h,p,v,s]);return m==null?null:x.createElement(Ls.Provider,{value:d},x.createElement(em.Provider,{children:r,value:m}))}function II(e){let{children:t,location:r}=e;return NI(sv(t),r)}new Promise(()=>{});function sv(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let o=[...t,s];if(n.type===x.Fragment){r.push.apply(r,sv(n.props.children,o));return}n.type!==Ot&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=sv(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function LI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function FI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zI(e,t){return e.button===0&&(!t||t==="_self")&&!FI(e)}function iv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function BI(e,t){let r=iv(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const VI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UI="6";try{window.__reactRouterVersion=UI}catch{}const qI="startTransition",Mj=LC[qI];function WI(e){let{basename:t,children:r,future:n,window:s}=e,o=x.useRef();o.current==null&&(o.current=KR({window:s,v5Compat:!0}));let i=o.current,[c,l]=x.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=x.useCallback(f=>{d&&Mj?Mj(()=>l(f)):l(f)},[l,d]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(RI,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:i,future:n})}const HI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ki=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:c,target:l,to:d,preventScrollReset:u,viewTransition:f}=t,h=LI(t,VI),{basename:p}=x.useContext(Ls),v,m=!1;if(typeof d=="string"&&GI.test(d)&&(v=d,HI))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),N=Oy(j.pathname,p);j.origin===w.origin&&N!=null?d=N+j.search+j.hash:m=!0}catch{}let g=jI(d,{relative:s}),y=KI(d,{replace:i,state:c,target:l,preventScrollReset:u,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",ov({},h,{href:v||g,onClick:m||o?n:b,ref:r,target:l}))});var Dj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dj||(Dj={}));var Rj;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rj||(Rj={}));function KI(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:c}=t===void 0?{}:t,l=Ar(),d=zs(),u=eP(e,{relative:i});return x.useCallback(f=>{if(zI(f,r)){f.preventDefault();let h=n!==void 0?n:jf(d)===jf(u);l(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:c})}},[d,l,u,n,s,r,e,o,i,c])}function Dy(e){let t=x.useRef(iv(e)),r=x.useRef(!1),n=zs(),s=x.useMemo(()=>BI(n.search,r.current?null:t.current),[n.search]),o=Ar(),i=x.useCallback((c,l)=>{const d=iv(typeof c=="function"?c(s):c);r.current=!0,o("?"+d,l)},[o,s]);return[s,i]}const YI="modulepreload",ZI=function(e){return"/lilac-luxe-salon-100/"+e},Ij={},mc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=Promise.allSettled(r.map(l=>{if(l=ZI(l),l in Ij)return;Ij[l]=!0;const d=l.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":YI,d||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},XI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mc(async()=>{const{default:n}=await Promise.resolve().then(()=>pc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ry extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class JI extends Ry{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Lj extends Ry{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fj extends Ry{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var cv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(cv||(cv={}));var QI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};class e4{constructor(t,{headers:r={},customFetch:n,region:s=cv.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=XI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return QI(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let c={},{region:l}=r;l||(l=this.region);const d=new URL(`${this.url}/${t}`);l&&l!=="any"&&(c["x-region"]=l,d.searchParams.set("forceFunctionRegion",l));let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(c["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(c["Content-Type"]="application/json",u=JSON.stringify(i)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(m=>{throw new JI(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Lj(f);if(!f.ok)throw new Fj(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Fj||s instanceof Lj?s.context:void 0}}})}}var Yr={},Iy={},tm={},Dd={},rm={},nm={},t4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ei=t4();const r4=Ei.fetch,aP=Ei.fetch.bind(Ei),sP=Ei.Headers,n4=Ei.Request,a4=Ei.Response,pc=Object.freeze(Object.defineProperty({__proto__:null,Headers:sP,Request:n4,Response:a4,default:aP,fetch:r4},Symbol.toStringTag,{value:"Module"})),s4=NR(pc);var am={};Object.defineProperty(am,"__esModule",{value:!0});let o4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};am.default=o4;var oP=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nm,"__esModule",{value:!0});const i4=oP(s4),c4=oP(am);let l4=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=i4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,c,l;let d=null,u=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),g=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(d={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{d=JSON.parse(m),Array.isArray(d)&&o.status===404&&(u=[],d=null,h=200,p="OK")}catch{o.status===404&&m===""?(h=204,p="No Content"):d={message:m}}if(d&&this.isMaybeSingle&&(!((l=d?.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,p="OK"),d&&this.shouldThrowOnError)throw new c4.default(d)}return{error:d,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,c,l;return{error:{message:`${(i=o?.name)!==null&&i!==void 0?i:"FetchError"}: ${o?.message}`,details:`${(c=o?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};nm.default=l4;var d4=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rm,"__esModule",{value:!0});const u4=d4(nm);let f4=class extends u4.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",c=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var c;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};rm.default=f4;var h4=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dd,"__esModule",{value:!0});const m4=h4(rm);let p4=class extends m4.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Dd.default=p4;var g4=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tm,"__esModule",{value:!0});const Zc=g4(Dd);let v4=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Zc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(i.length>0){const c=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new Zc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const l=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){const d=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Zc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Zc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Zc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};tm.default=v4;var sm={},om={};Object.defineProperty(om,"__esModule",{value:!0});om.version=void 0;om.version="0.0.0-automated";Object.defineProperty(sm,"__esModule",{value:!0});sm.DEFAULT_HEADERS=void 0;const x4=om;sm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${x4.version}`};var iP=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Iy,"__esModule",{value:!0});const y4=iP(tm),b4=iP(Dd),j4=sm;let w4=class cP{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},j4.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new y4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const c=new URL(`${this.url}/rpc/${t}`);let l;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{c.searchParams.append(u,f)})):(i="POST",l=r);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new b4.default({method:i,url:c,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Iy.default=w4;var gc=wr&&wr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.PostgrestError=Yr.PostgrestBuilder=Yr.PostgrestTransformBuilder=Yr.PostgrestFilterBuilder=Yr.PostgrestQueryBuilder=Yr.PostgrestClient=void 0;const lP=gc(Iy);Yr.PostgrestClient=lP.default;const dP=gc(tm);Yr.PostgrestQueryBuilder=dP.default;const uP=gc(Dd);Yr.PostgrestFilterBuilder=uP.default;const fP=gc(rm);Yr.PostgrestTransformBuilder=fP.default;const hP=gc(nm);Yr.PostgrestBuilder=hP.default;const mP=gc(am);Yr.PostgrestError=mP.default;var N4=Yr.default={PostgrestClient:lP.default,PostgrestQueryBuilder:dP.default,PostgrestFilterBuilder:uP.default,PostgrestTransformBuilder:fP.default,PostgrestBuilder:hP.default,PostgrestError:mP.default};const{PostgrestClient:_4,PostgrestQueryBuilder:k1e,PostgrestFilterBuilder:E1e,PostgrestTransformBuilder:O1e,PostgrestBuilder:T1e,PostgrestError:$1e}=N4;class S4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const C4="2.15.1",P4=`realtime-js/${C4}`,A4="1.0.0",lv=1e4,k4=1e3,E4=100;var xl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xl||(xl={}));var rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rr||(rr={}));var Wn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wn||(Wn={}));var dv;(function(e){e.websocket="websocket"})(dv||(dv={}));var fo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fo||(fo={}));class O4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const c=n.decode(t.slice(i,i+s));i=i+s;const l=n.decode(t.slice(i,i+o));i=i+o;const d=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:c,event:l,payload:d}}}class pP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nt||(Nt={}));const zj=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=T4(i,e,t,s),o),{})},T4=(e,t,r,n)=>{const s=t.find(c=>c.name===e),o=s?.type,i=r[e];return o&&!n.includes(o)?gP(o,i):uv(i)},gP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return R4(t,r)}switch(e){case Nt.bool:return $4(t);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return M4(t);case Nt.json:case Nt.jsonb:return D4(t);case Nt.timestamp:return I4(t);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return uv(t);default:return uv(t)}},uv=e=>e,$4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},D4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},R4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(c=>gP(t,c))}return e},I4=e=>typeof e=="string"?e.replace(" ","T"):e,vP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Jp{constructor(t,r,n={},s=lv){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bj;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bj||(Bj={}));class yl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=yl.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yl.syncDiff(this.state,s,o,i),c())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),c={},l={};return this.map(o,(d,u)=>{i[d]||(l[d]=u)}),this.map(i,(d,u)=>{const f=o[d];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=u.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(c[d]=v),m.length>0&&(l[d]=m)}else c[d]=u}),this.syncDiff(o,{joins:c,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(c,l)=>{var d;const u=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(l),u.length>0){const f=t[c].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[c].unshift(...h)}n(c,u,l)}),this.map(i,(c,l)=>{let d=t[c];if(!d)return;const u=l.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[c]=d,s(c,d,l),d.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vj;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Vj||(Vj={}));var bl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bl||(bl={}));var Ua;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ua||(Ua={}));class Ly{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Jp(this,Wn.join,this.params,this.timeout),this.rejoinTimer=new pP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new yl(this),this.broadcastEndpointURL=vP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:o,presence:i,private:c}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[bl.PRESENCE]&&this.bindings[bl.PRESENCE].length>0,u={},f={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Ua.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Ua.CLOSED)),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t?.(Ua.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(p=v?.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<m;y++){const b=v[y],{filter:{event:w,schema:j,table:N,filter:S}}=b,_=h&&h[y];if(_&&_.event===w&&_.schema===j&&_.table===N&&_.filter===S)g.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=rr.errored,t?.(Ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ua.SUBSCRIBED);return}}).receive("error",h=>{this.state=rr.errored,t?.(Ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rr.joined&&t===bl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,c,l;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(i=this.params)===null||i===void 0?void 0:i.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Jp(this,Wn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jp(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>E4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:c,error:l,leave:d,join:u}=Wn;if(n&&[c,l,d,u].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,m,g,y,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,N=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(N==="*"||N?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(b=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:w}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ly.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wn.close,{},t)}_onError(t){this._on(Wn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=zj(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=zj(t.columns,t.old_record)),r}}const Uj=()=>{},wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L4=[1e3,2e3,5e3,1e4],F4=1e4,z4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class B4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lv,this.transport=null,this.heartbeatIntervalMs=wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uj,this.ref=0,this.reconnectTimer=null,this.logger=Uj,this.conn=null,this.sendBuffer=[],this.serializer=new O4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>mc(async()=>{const{default:c}=await Promise.resolve().then(()=>pc);return{default:c}},void 0).then(({default:c})=>c(...i)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${dv.websocket}`,this.httpEndpoint=vP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:A4}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xl.connecting:return fo.Connecting;case xl.open:return fo.Open;case xl.closing:return fo.Closing;default:return fo.Closed}}isConnected(){return this.connectionState()===fo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Ly(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(k4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,c=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${c}`.trim(),o),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([z4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:P4};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Wn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new pP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,c,l,d;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:lv,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:wu.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t?.accessToken)!==null&&i!==void 0?i:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:u=>L4[u-1]||F4,this.encode=(l=t?.encode)!==null&&l!==void 0?l:(u,f)=>f(JSON.stringify(u)),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Fy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class V4 extends Fy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fv extends Fy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var U4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};const xP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mc(async()=>{const{default:n}=await Promise.resolve().then(()=>pc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},q4=()=>U4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mc(()=>Promise.resolve().then(()=>pc),void 0)).Response:Response}),hv=e=>{if(Array.isArray(e))return e.map(r=>hv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=hv(n)}),t},W4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var zo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};const Qp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H4=(e,t,r)=>zo(void 0,void 0,void 0,function*(){const n=yield q4();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{const o=e.status||500,i=s?.statusCode||o+"";t(new V4(Qp(s),o,i))}).catch(s=>{t(new fv(Qp(s),s))}):t(new fv(Qp(e),e))}),G4=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!n?s:(W4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(n)):s.body=n,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Rd(e,t,r,n,s,o){return zo(this,void 0,void 0,function*(){return new Promise((i,c)=>{e(r,G4(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>H4(l,c,n))})})}function Nf(e,t,r,n){return zo(this,void 0,void 0,function*(){return Rd(e,"GET",t,r,n)})}function ma(e,t,r,n,s){return zo(this,void 0,void 0,function*(){return Rd(e,"POST",t,n,s,r)})}function mv(e,t,r,n,s){return zo(this,void 0,void 0,function*(){return Rd(e,"PUT",t,n,s,r)})}function K4(e,t,r,n){return zo(this,void 0,void 0,function*(){return Rd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yP(e,t,r,n,s){return zo(this,void 0,void 0,function*(){return Rd(e,"DELETE",t,n,s,r)})}var Er=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};const Y4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qj={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z4{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=xP(s)}uploadOrUpdate(t,r,n,s){return Er(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},qj),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,c["cache-control"]=`max-age=${i.cacheControl}`,c["content-type"]=i.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(c=Object.assign(Object.assign({},c),s.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),f=yield(t=="PUT"?mv:ma)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:c},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(ar(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Er(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${i}`);c.searchParams.set("token",r);try{let l;const d=Object.assign({upsert:qj.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield mv(this.fetch,c.toString(),l,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(ar(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Er(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield ma(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),c=i.searchParams.get("token");if(!c)throw new Fy("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:c},error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}update(t,r,n){return Er(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Er(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Er(this,void 0,void 0,function*(){try{return{data:{path:(yield ma(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Er(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield ma(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Er(this,void 0,void 0,function*(){try{const s=yield ma(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}download(t,r){return Er(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),i=o?`?${o}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Nf(this.fetch,`${this.url}/${s}/${c}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ar(c))return{data:null,error:c};throw c}})}info(t){return Er(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Nf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hv(n),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}exists(t){return Er(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield K4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ar(n)&&n instanceof fv){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const c=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${d}`)}}}remove(t){return Er(this,void 0,void 0,function*(){try{return{data:yield yP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}list(t,r,n){return Er(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Y4),r),{prefix:t||""});return{data:yield ma(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}listV2(t,r){return Er(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield ma(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const X4="2.11.0",J4={"X-Client-Info":`storage-js/${X4}`};var Qo=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};class Q4{constructor(t,r={},n,s){const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},J4),r),this.fetch=xP(n)}listBuckets(){return Qo(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ar(t))return{data:null,error:t};throw t}})}getBucket(t){return Qo(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Qo(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Qo(this,void 0,void 0,function*(){try{return{data:yield mv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qo(this,void 0,void 0,function*(){try{return{data:yield ma(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qo(this,void 0,void 0,function*(){try{return{data:yield yP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}}class e5 extends Q4{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Z4(this.url,this.headers,t,this.fetch)}}const t5="2.55.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const r5={"X-Client-Info":`supabase-js-${hl}/${t5}`},n5={headers:r5},a5={schema:"public"},s5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o5={};var i5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};const c5=e=>{let t;return e?t=e:typeof fetch>"u"?t=aP:t=fetch,(...r)=>t(...r)},l5=()=>typeof Headers>"u"?sP:Headers,d5=(e,t,r)=>{const n=c5(r),s=l5();return(o,i)=>i5(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:e;let d=new s(i?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:d}))})};var u5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};function f5(e){return e.endsWith("/")?e:e+"/"}function h5(e,t){var r,n;const{db:s,auth:o,realtime:i,global:c}=e,{db:l,auth:d,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>u5(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const bP="2.71.1",hi=30*1e3,pv=3,eg=pv*hi,m5="http://localhost:9999",p5="supabase.auth.token",g5={"X-Client-Info":`gotrue-js/${bP}`},gv="X-Supabase-Api-Version",jP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x5=10*60*1e3;class zy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ze(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class y5 extends zy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function b5(e){return Ze(e)&&e.name==="AuthApiError"}class wP extends zy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bs extends zy{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ys extends Bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j5(e){return Ze(e)&&e.name==="AuthSessionMissingError"}class Nu extends Bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _u extends Bs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Su extends Bs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function w5(e){return Ze(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wj extends Bs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vv extends Bs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function tg(e){return Ze(e)&&e.name==="AuthRetryableFetchError"}class Hj extends Bs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xv extends Bs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gj=` 	
\r=`.split(""),N5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gj.length;t+=1)e[Gj[t].charCodeAt(0)]=-2;for(let t=0;t<_f.length;t+=1)e[_f[t].charCodeAt(0)]=t;return e})();function Kj(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_f[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_f[n]),t.queuedBits-=6}}function NP(e,t,r){const n=N5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Yj(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{C5(i,n,r)};for(let i=0;i<e.length;i+=1)NP(e.charCodeAt(i),s,o);return t.join("")}function _5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function S5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}_5(n,t)}}function C5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function P5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)NP(e.charCodeAt(s),r,n);return new Uint8Array(t)}function A5(e){const t=[];return S5(e,r=>t.push(r)),new Uint8Array(t)}function k5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Kj(s,r,n)),Kj(null,r,n),t.join("")}function E5(e){return Math.round(Date.now()/1e3)+e}function O5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",eo={tested:!1,writable:!1},_P=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(eo.tested)return eo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),eo.tested=!0,eo.writable=!0}catch{eo.tested=!0,eo.writable=!1}return eo.writable};function T5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const SP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>mc(async()=>{const{default:n}=await Promise.resolve().then(()=>pc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},to=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ps=async(e,t)=>{await e.removeItem(t)};class im{constructor(){this.promise=new im.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}im.promiseConstructor=Promise;function rg(e){const t=e.split(".");if(t.length!==3)throw new xv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!v5.test(t[n]))throw new xv("JWT not in base64url format");return{header:JSON.parse(Yj(t[0])),payload:JSON.parse(Yj(t[1])),signature:P5(t[2]),raw:{header:t[0],payload:t[1]}}}async function M5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function D5(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function R5(e){return("0"+e.toString(16)).substr(-2)}function I5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,R5).join("")}async function L5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function F5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await L5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(e,t,r=!1){const n=I5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await mi(e,`${t}-code-verifier`,s);const o=await F5(n);return[o,n===o?"plain":"s256"]}const z5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B5(e){const t=e.headers.get(gv);if(!t||!t.match(z5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function V5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function U5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ti(e){if(!q5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ng(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Zj(e){return JSON.parse(JSON.stringify(e))}var W5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const so=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H5=[502,503,504];async function Xj(e){var t;if(!$5(e))throw new vv(so(e),0);if(H5.includes(e.status))throw new vv(so(e),e.status);let r;try{r=await e.json()}catch(o){throw new wP(so(o),o)}let n;const s=B5(e);if(s&&s.getTime()>=jP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hj(so(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ys}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Hj(so(r),e.status,r.weak_password.reasons);throw new y5(so(r),e.status||500,n)}const G5=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ot(e,t,r,n){var s;const o=Object.assign({},n?.headers);o[gv]||(o[gv]=jP["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(i.redirect_to=n.redirectTo);const c=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await K5(e,t,r+c,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function K5(e,t,r,n,s,o){const i=G5(t,n,s,o);let c;try{c=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new vv(so(l),0)}if(c.ok||await Xj(c),n?.noResolveJson)return c;try{return await c.json()}catch(l){await Xj(l)}}function Va(e){var t;let r=null;J5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=E5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jj(e){const t=Va(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Y5(e){return{data:e,error:null}}function Z5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=W5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:c,user:l},error:null}}function X5(e){return e}function J5(e){return e.access_token&&e.refresh_token&&e.expires_in}const ag=["global","local","others"];var Q5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class eL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=SP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=ag[0]){if(ag.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ag.join(", ")}`);try{return await ot(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ot(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ns})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Q5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await ot(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Z5,redirectTo:r?.redirectTo})}catch(r){if(Ze(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ot(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ns})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await ot(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:X5});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);d[`${g}Page`]=m}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(Ze(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){ti(t);try{return await ot(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ns})}catch(r){if(Ze(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ti(t);try{return await ot(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ns})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ti(t);try{return await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ns})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ti(t.userId);try{const{data:r,error:n}=await ot(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ti(t.userId),ti(t.id);try{return{data:await ot(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}}function Qj(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function tL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ri={debug:!!(globalThis&&_P()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class CP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rL extends CP{}async function nL(e,t,r){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ri.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}tL();const aL={url:m5,storageKey:p5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:g5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ew(e,t,r){return await r()}const ni={};class Fl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aL),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eL({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=SP(s.fetch),this.lock=s.lock||ew,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Vn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=nL:this.lock=ew,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_P()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qj(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qj(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ni[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ni[this.storageKey]=Object.assign(Object.assign({},ni[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ni[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ni[this.storageKey]=Object.assign(Object.assign({},ni[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=T5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Vn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),w5(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",c),await this._saveSession(i),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ze(r)?{error:r}:{error:new wP("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Va}),{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ei(this.storage,this.storageKey)),o=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},xform:Va})}else if("phone"in t){const{phone:u,password:f,options:h}=t;o=await ot(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(s=h?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Va})}else throw new _u("You must provide either an email or phone number and a password");const{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const l=i.session,d=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(Ze(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:c}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jj})}else if("phone"in t){const{phone:o,password:i,options:c}=t;r=await ot(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Jj})}else throw new _u("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Nu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,i,c,l,d,u,f,h,p;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:b,options:w}=t;let j;if(Vn())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),m=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:y}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:k5(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Va});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Nu}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(Ze(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ot(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Va});if(await ps(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Nu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(Ze(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,c=await ot(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Va}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nu}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:c,options:l}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await ei(this.storage,this.storageKey));const{error:f}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:c,options:l}=t,{data:d,error:u}=await ot(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new _u("You must provide either an email or phone number.")}catch(c){if(Ze(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:c}=await ot(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Va});if(c)throw c;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,d=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(Ze(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await ei(this.storage,this.storageKey)),await ot(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Y5})}catch(o){if(Ze(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ys;const{error:s}=await ot(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Ze(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:c}=await ot(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:c}}throw new _u("You must provide either an email or phone number and a type")}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<eg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await to(this.userStorage,this.storageKey+"-user");i?.user?t.user=i.user:t.user=ng()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,u)=>(!i&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ns}):await this._useSession(async r=>{var n,s,o;const{data:i,error:c}=r;if(c)throw c;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await ot(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ns})})}catch(r){if(Ze(r))return j5(r)&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ys;const i=s.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await ei(this.storage,this.storageKey));const{data:d,error:u}=await ot(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:i.access_token,xform:Ns});if(u)throw u;return i.user=d.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(Ze(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ys;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=rg(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Ze(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:c}=r;if(c)throw c;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ys;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ze(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vn())throw new Su("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Su(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Wj("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Su("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wj("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:c,expires_at:l,token_type:d}=t;if(!o||!c||!i||!d)throw new Su("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(c);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=hi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:m,error:g}=await this._getUser(o);if(g)throw g;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:d,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(Ze(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:c}=await this.admin.signOut(i,t);if(c&&!(b5(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await ps(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=O5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ei(this.storage,this.storageKey,!0));try{return await ot(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Ze(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,c,l,d,u;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ot(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return Vn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Ze(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ot(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await D5(async s=>(s>0&&await M5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ot(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Va})),(s,o)=>{const i=200*Math.pow(2,s);return o&&tg(o)&&Date.now()+i-n<hi})}catch(n){if(this._debug(r,"error",n),Ze(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Vn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await to(this.storage,this.storageKey);if(s&&this.userStorage){let i=await to(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await mi(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i?.user)!==null&&t!==void 0?t:ng()}else if(s&&!s.user&&!s.user){const i=await to(this.storage,this.storageKey+"-user");i&&i?.user?(s.user=i.user,await ps(this.storage,this.storageKey+"-user"),await mi(this.storage,this.storageKey,s)):s.user=ng()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<eg;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${eg}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),tg(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:c}=await this._getUser(s.access_token);!c&&i?.user?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new im;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ys;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),Ze(o)){const i={session:null,error:o};return tg(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await mi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Zj(s);await mi(this.storage,this.storageKey,o)}else{const s=Zj(r);await mi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ps(this.storage,this.storageKey),await ps(this.storage,this.storageKey+"-code-verifier"),await ps(this.storage,this.storageKey+"-user"),this.userStorage&&await ps(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/hi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hi}ms, refresh threshold is ${pv} ticks`),s<=pv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof CP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await ei(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(c.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ot(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=await ot(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:c}=await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:c})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ot(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=rg(s.access_token);let c=null;i.aal&&(c=i.aal);let l=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+x5>s)return n;const{data:o,error:i}=await ot(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:c,payload:l}}=rg(n);r?.allowExpired||V5(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const u=U5(s.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,A5(`${c}.${l}`)))throw new xv("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}}}Fl.nextInstanceID=0;const sL=Fl;class oL extends sL{constructor(t){super(t)}}var iL=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(u){try{d(n.next(u))}catch(f){i(f)}}function l(u){try{d(n.throw(u))}catch(f){i(f)}}function d(u){u.done?o(u.value):s(u.value).then(c,l)}d((n=n.apply(e,t||[])).next())})};class cL{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=f5(t),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:a5,realtime:o5,auth:Object.assign(Object.assign({},s5),{storageKey:d}),global:n5},f=h5(n??{},u);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=d5(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new _4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new e5(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new e4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return iL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:c,debug:l},d,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new oL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:c,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new B4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lL=(e,t,r)=>new cL(e,t,r);function dL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}dL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uL="https://dfwepnzwktjyhvfmpuxo.supabase.co",fL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmd2Vwbnp3a3RqeWh2Zm1wdXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1NzE4NzQsImV4cCI6MjA3MTE0Nzg3NH0.9BR-N9tSzHetSL50Dsalwb-q_dNHfdQBp32Y9qIXlag",W=lL(uL,fL,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});var hL=e=>{switch(e){case"success":return gL;case"info":return xL;case"warning":return vL;case"error":return yL;default:return null}},mL=Array(12).fill(0),pL=({visible:e})=>A.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},A.createElement("div",{className:"sonner-spinner"},mL.map((t,r)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),gL=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vL=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xL=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yL=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bL=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},yv=1,jL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:yv++,o=this.toasts.find(c=>c.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:i,title:r}):c):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(NL(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:c})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,c=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:c})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,c=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:c})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||yv++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},sn=new jL,wL=(e,t)=>{let r=t?.id||yv++;return sn.addToast({title:e,...t,id:r}),r},NL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",_L=wL,SL=()=>sn.toasts,V=Object.assign(_L,{success:sn.success,info:sn.info,warning:sn.warning,error:sn.error,custom:sn.custom,message:sn.message,promise:sn.promise,dismiss:sn.dismiss,loading:sn.loading},{getHistory:SL});function CL(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}CL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cu(e){return e.label!==void 0}var PL=3,AL="32px",kL=4e3,EL=356,OL=14,TL=20,$L=200;function ML(...e){return e.filter(Boolean).join(" ")}var DL=e=>{var t,r,n,s,o,i,c,l,d,u;let{invert:f,toast:h,unstyled:p,interacting:v,setHeights:m,visibleToasts:g,heights:y,index:b,toasts:w,expanded:j,removeToast:N,defaultRichColors:S,closeButton:_,style:C,cancelButtonStyle:E,actionButtonStyle:$,className:k="",descriptionClassName:P="",duration:O,position:T,gap:I,loadingIcon:R,expandByDefault:D,classNames:M,icons:U,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:K,cn:ae}=e,[de,_e]=A.useState(!1),[Ke,q]=A.useState(!1),[ie,we]=A.useState(!1),[oe,he]=A.useState(!1),[je,X]=A.useState(0),[Ye,ve]=A.useState(0),Ue=A.useRef(null),Ee=A.useRef(null),et=b===0,hr=b+1<=g,Dt=h.type,F=h.dismissible!==!1,H=h.className||"",J=h.descriptionClassName||"",ye=A.useMemo(()=>y.findIndex(qe=>qe.toastId===h.id)||0,[y,h.id]),xe=A.useMemo(()=>{var qe;return(qe=h.closeButton)!=null?qe:_},[h.closeButton,_]),me=A.useMemo(()=>h.duration||O||kL,[h.duration,O]),Ce=A.useRef(0),lt=A.useRef(0),mt=A.useRef(0),er=A.useRef(null),[Qs,ua]=T.split("-"),yu=A.useMemo(()=>y.reduce((qe,kt,wt)=>wt>=ye?qe:qe+kt.height,0),[y,ye]),Jo=bL(),Kc=h.invert||f,Yc=Dt==="loading";lt.current=A.useMemo(()=>ye*I+yu,[ye,yu]),A.useEffect(()=>{_e(!0)},[]),A.useLayoutEffect(()=>{if(!de)return;let qe=Ee.current,kt=qe.style.height;qe.style.height="auto";let wt=qe.getBoundingClientRect().height;qe.style.height=kt,ve(wt),m(fa=>fa.find(ha=>ha.toastId===h.id)?fa.map(ha=>ha.toastId===h.id?{...ha,height:wt}:ha):[{toastId:h.id,height:wt,position:h.position},...fa])},[de,h.title,h.description,m,h.id]);let zn=A.useCallback(()=>{q(!0),X(lt.current),m(qe=>qe.filter(kt=>kt.toastId!==h.id)),setTimeout(()=>{N(h)},$L)},[h,N,m,lt]);A.useEffect(()=>{if(h.promise&&Dt==="loading"||h.duration===1/0||h.type==="loading")return;let qe,kt=me;return j||v||K&&Jo?(()=>{if(mt.current<Ce.current){let wt=new Date().getTime()-Ce.current;kt=kt-wt}mt.current=new Date().getTime()})():kt!==1/0&&(Ce.current=new Date().getTime(),qe=setTimeout(()=>{var wt;(wt=h.onAutoClose)==null||wt.call(h,h),zn()},kt)),()=>clearTimeout(qe)},[j,v,D,h,me,zn,h.promise,Dt,K,Jo]),A.useEffect(()=>{let qe=Ee.current;if(qe){let kt=qe.getBoundingClientRect().height;return ve(kt),m(wt=>[{toastId:h.id,height:kt,position:h.position},...wt]),()=>m(wt=>wt.filter(fa=>fa.toastId!==h.id))}},[m,h.id]),A.useEffect(()=>{h.delete&&zn()},[zn,h.delete]);function Yp(){return U!=null&&U.loading?A.createElement("div",{className:"sonner-loader","data-visible":Dt==="loading"},U.loading):R?A.createElement("div",{className:"sonner-loader","data-visible":Dt==="loading"},R):A.createElement(pL,{visible:Dt==="loading"})}return A.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ee,className:ae(k,H,M?.toast,(t=h?.classNames)==null?void 0:t.toast,M?.default,M?.[Dt],(r=h?.classNames)==null?void 0:r[Dt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":de,"data-promise":!!h.promise,"data-removed":Ke,"data-visible":hr,"data-y-position":Qs,"data-x-position":ua,"data-index":b,"data-front":et,"data-swiping":ie,"data-dismissible":F,"data-type":Dt,"data-invert":Kc,"data-swipe-out":oe,"data-expanded":!!(j||D&&de),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${Ke?je:lt.current}px`,"--initial-height":D?"auto":`${Ye}px`,...C,...h.style},onPointerDown:qe=>{Yc||!F||(Ue.current=new Date,X(lt.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(we(!0),er.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,kt,wt,fa;if(oe||!F)return;er.current=null;let ha=Number(((qe=Ee.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),bu=new Date().getTime()-((kt=Ue.current)==null?void 0:kt.getTime()),wR=Math.abs(ha)/bu;if(Math.abs(ha)>=TL||wR>.11){X(lt.current),(wt=h.onDismiss)==null||wt.call(h,h),zn(),he(!0);return}(fa=Ee.current)==null||fa.style.setProperty("--swipe-amount","0px"),we(!1)},onPointerMove:qe=>{var kt;if(!er.current||!F)return;let wt=qe.clientY-er.current.y,fa=qe.clientX-er.current.x,ha=(Qs==="top"?Math.min:Math.max)(0,wt),bu=qe.pointerType==="touch"?10:2;Math.abs(ha)>bu?(kt=Ee.current)==null||kt.style.setProperty("--swipe-amount",`${wt}px`):Math.abs(fa)>bu&&(er.current=null)}},xe&&!h.jsx?A.createElement("button",{"aria-label":ne,"data-disabled":Yc,"data-close-button":!0,onClick:Yc||!F?()=>{}:()=>{var qe;zn(),(qe=h.onDismiss)==null||qe.call(h,h)},className:ae(M?.closeButton,(s=h?.classNames)==null?void 0:s.closeButton)},A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||A.isValidElement(h.title)?h.jsx||h.title:A.createElement(A.Fragment,null,Dt||h.icon||h.promise?A.createElement("div",{"data-icon":"",className:ae(M?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Yp():null,h.type!=="loading"?h.icon||U?.[Dt]||hL(Dt):null):null,A.createElement("div",{"data-content":"",className:ae(M?.content,(i=h?.classNames)==null?void 0:i.content)},A.createElement("div",{"data-title":"",className:ae(M?.title,(c=h?.classNames)==null?void 0:c.title)},h.title),h.description?A.createElement("div",{"data-description":"",className:ae(P,J,M?.description,(l=h?.classNames)==null?void 0:l.description)},h.description):null),A.isValidElement(h.cancel)?h.cancel:h.cancel&&Cu(h.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:qe=>{var kt,wt;Cu(h.cancel)&&F&&((wt=(kt=h.cancel).onClick)==null||wt.call(kt,qe),zn())},className:ae(M?.cancelButton,(d=h?.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,A.isValidElement(h.action)?h.action:h.action&&Cu(h.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||$,onClick:qe=>{var kt,wt;Cu(h.action)&&(qe.defaultPrevented||((wt=(kt=h.action).onClick)==null||wt.call(kt,qe),zn()))},className:ae(M?.actionButton,(u=h?.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function tw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var RL=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:c,theme:l="light",richColors:d,duration:u,style:f,visibleToasts:h=PL,toastOptions:p,dir:v=tw(),gap:m=OL,loadingIcon:g,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:j=ML}=e,[N,S]=A.useState([]),_=A.useMemo(()=>Array.from(new Set([r].concat(N.filter(K=>K.position).map(K=>K.position)))),[N,r]),[C,E]=A.useState([]),[$,k]=A.useState(!1),[P,O]=A.useState(!1),[T,I]=A.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=A.useRef(null),D=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=A.useRef(null),U=A.useRef(!1),ne=A.useCallback(K=>{var ae;(ae=N.find(de=>de.id===K.id))!=null&&ae.delete||sn.dismiss(K.id),S(de=>de.filter(({id:_e})=>_e!==K.id))},[N]);return A.useEffect(()=>sn.subscribe(K=>{if(K.dismiss){S(ae=>ae.map(de=>de.id===K.id?{...de,delete:!0}:de));return}setTimeout(()=>{FC.flushSync(()=>{S(ae=>{let de=ae.findIndex(_e=>_e.id===K.id);return de!==-1?[...ae.slice(0,de),{...ae[de],...K},...ae.slice(de+1)]:[K,...ae]})})})}),[]),A.useEffect(()=>{if(l!=="system"){I(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{I(K?"dark":"light")})},[l]),A.useEffect(()=>{N.length<=1&&k(!1)},[N]),A.useEffect(()=>{let K=ae=>{var de,_e;n.every(Ke=>ae[Ke]||ae.code===Ke)&&(k(!0),(de=R.current)==null||de.focus()),ae.code==="Escape"&&(document.activeElement===R.current||(_e=R.current)!=null&&_e.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),A.useEffect(()=>{if(R.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,U.current=!1)}},[R.current]),N.length?A.createElement("section",{"aria-label":`${b} ${D}`,tabIndex:-1},_.map((K,ae)=>{var de;let[_e,Ke]=K.split("-");return A.createElement("ol",{key:K,dir:v==="auto"?tw():v,tabIndex:-1,ref:R,className:i,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":_e,"data-x-position":Ke,style:{"--front-toast-height":`${((de=C[0])==null?void 0:de.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||AL,"--width":`${EL}px`,"--gap":`${m}px`,...f},onBlur:q=>{U.current&&!q.currentTarget.contains(q.relatedTarget)&&(U.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||U.current||(U.current=!0,M.current=q.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{P||k(!1)},onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},N.filter(q=>!q.position&&ae===0||q.position===K).map((q,ie)=>{var we,oe;return A.createElement(DL,{key:q.id,icons:y,index:ie,toast:q,defaultRichColors:d,duration:(we=p?.duration)!=null?we:u,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:t,visibleToasts:h,closeButton:(oe=p?.closeButton)!=null?oe:o,interacting:P,position:K,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:ne,toasts:N.filter(he=>he.position==q.position),heights:C.filter(he=>he.position==q.position),setHeights:E,expandByDefault:s,gap:m,loadingIcon:g,expanded:$,pauseWhenPageIsHidden:w,cn:j})}))})):null};const PP=x.createContext(void 0),IL=({children:e})=>{const t=Ar(),[r,n]=x.useState(null),[s,o]=x.useState(null),[i,c]=x.useState(null),[l,d]=x.useState(!0),[u,f]=x.useState(null),[h,p]=x.useState(!1),v=async j=>{const N=j||s,S=N?.user||r;if(!N||!S){console.log("[AUTH]  Sem sesso ou usurio, pulando verificao"),f(null);return}p(!0),console.log("[AUTH]  Iniciando verificao de assinatura para:",S.email);try{const{data:{session:_},error:C}=await W.auth.getSession();if(C||!_||!_.access_token){console.error("[AUTH]  Sesso invlida, definindo como inactive:",C),f({subscribed:!1,status:"inactive",is_trial_expired:!1}),p(!1);return}const E=_.expires_at,$=Math.floor(Date.now()/1e3);if(E&&E<$){console.error("[AUTH]  Token expirado, tentando refresh");const{data:O,error:T}=await W.auth.refreshSession();if(T||!O.session){console.error("[AUTH]  Falha no refresh, definindo como inactive"),f({subscribed:!1,status:"inactive",is_trial_expired:!1}),p(!1);return}console.log("[AUTH]  Token refreshed com sucesso")}console.log("[AUTH]  Chamando check-subscription com token vlido...");const{data:k,error:P}=await W.functions.invoke("check-subscription",{body:{}});if(P){console.error("[AUTH]  Erro ao verificar assinatura:",P),f({subscribed:!1,status:"inactive",is_trial_expired:!1}),p(!1);return}console.log("[AUTH]  Status recebido:",k),f({subscribed:k.subscribed,status:k.status,trial_days_remaining:k.trial_days_remaining,trial_end_date:k.trial_end_date,is_trial_expired:k.is_trial_expired||!1,subscription_end:k.subscription_end,product_id:k.product_id})}catch(_){console.error("[AUTH]  Exceo ao verificar assinatura:",_),f({subscribed:!1,status:"inactive",is_trial_expired:!1})}finally{p(!1)}};x.useEffect(()=>{const j=localStorage.getItem("app-theme");console.log(" [INIT] Tema armazenado localmente:",j),j&&document.documentElement.setAttribute("data-theme",j);const{data:{subscription:N}}=W.auth.onAuthStateChange((S,_)=>{console.log(" [AUTH] State changed:",S,"User ID:",_?.user?.id),o(_),n(_?.user??null),_?.user?(console.log(" [AUTH] Usurio logado, buscando perfil..."),!localStorage.getItem("onboarding-completed")&&S==="SIGNED_IN"&&setTimeout(()=>t("/onboarding"),500),setTimeout(async()=>{try{console.log(" [QUERY] Buscando usurio no banco:",_.user.id);const{data:E,error:$}=await W.from("usuarios").select("*").eq("id",_.user.id).single();if(console.log(" [QUERY] Resultado:",{userData:E,error:$}),$&&$.code!=="PGRST116"){console.error(" [ERROR] Erro ao buscar dados do usurio:",$),console.error(" [ERROR] Cdigo do erro:",$.code),console.error(" [ERROR] Mensagem:",$.message);return}if(E){const k=E;c(k);const P=k.tema_preferencia||"feminino";console.log(" [SUCCESS] Usurio carregado:",k.email),console.log(" [SUCCESS] Tema do banco de dados:",P),console.log(" [SUCCESS] Aplicando tema:",P),document.documentElement.setAttribute("data-theme",P),localStorage.setItem("app-theme",P),console.log(" [AUTH] Iniciando verificao de assinatura aps carregar usurio"),v(_)}else console.log(" [WARNING] Usurio no encontrado no banco, aplicando tema padro"),document.documentElement.setAttribute("data-theme","feminino"),localStorage.setItem("app-theme","feminino")}catch(E){console.error(" [EXCEPTION] Erro ao buscar perfil do usurio:",E),document.documentElement.setAttribute("data-theme","feminino"),localStorage.setItem("app-theme","feminino")}},0)):(c(null),console.log(" [AUTH] Sem sesso, aplicando tema padro"),document.documentElement.setAttribute("data-theme","feminino"),localStorage.setItem("app-theme","feminino")),d(!1)});return W.auth.getSession().then(({data:{session:S}})=>{S||d(!1)}),()=>N.unsubscribe()},[]);const m=async(j,N,S,_)=>{try{d(!0);const C=`${window.location.origin}/`;console.log(" [SIGNUP] Iniciando cadastro..."),console.log(" [SIGNUP] Tema selecionado:",S.tema_preferencia),console.log(" [SIGNUP] Email:",j),console.log(" [SIGNUP] Tipo de plano:",_);const{data:E,error:$}=await W.auth.signUp({email:j,password:N,options:{emailRedirectTo:C,data:{nome_completo:S.nome_completo,nome_personalizado_app:S.nome_personalizado_app||"Meu Salo",telefone:S.telefone,tema_preferencia:S.tema_preferencia||"feminino",plan_type:_||"trial"}}});if($)return console.error(" [SIGNUP] Erro no auth.signUp:",$),V.error($.message),{error:$};if(console.log(" [SIGNUP] Conta criada com sucesso! User ID:",E.user?.id),S.tema_preferencia&&(document.documentElement.setAttribute("data-theme",S.tema_preferencia),localStorage.setItem("app-theme",S.tema_preferencia)),_==="trial"&&E.user&&!$){console.log(" [SIGNUP] Fazendo login automtico para trial...");const{error:k}=await W.auth.signInWithPassword({email:j,password:N});if(k)return console.error(" [SIGNUP] Erro no login automtico:",k),V.error("Conta criada! Por favor, faa login."),{error:k};console.log(" [SIGNUP] Login automtico realizado com sucesso!"),await new Promise(P=>setTimeout(P,500)),V.success(" Conta criada! Bem-vindo ao seu trial de 7 dias!")}else V.success("Conta criada com sucesso! Faa login para continuar.");return{error:null}}catch(C){return console.error(" [SIGNUP] EXCEO GERAL no cadastro:",C),V.error("Erro inesperado no cadastro. Por favor, tente novamente."),{error:C}}finally{d(!1)}},g=async(j,N)=>{try{d(!0);const{error:S}=await W.auth.signInWithPassword({email:j,password:N});return S?(V.error(S.message),{error:S}):(V.success("Login realizado com sucesso!"),{error:null})}catch(S){return console.error("Erro no login:",S),{error:S}}finally{d(!1)}},y=async()=>{try{d(!0),await W.auth.signOut(),n(null),o(null),c(null),V.success("Logout realizado com sucesso!")}catch(j){console.error("Erro no logout:",j),V.error("Erro ao fazer logout")}finally{d(!1)}},b=async j=>{if(!r)return{error:new Error("Usurio no autenticado")};try{d(!0);const{data:N,error:S}=await W.from("usuarios").update(j).eq("id",r.id).select().single();return S?(V.error("Erro ao atualizar perfil"),{error:S}):(c(N),j.tema_preferencia&&(console.log("Aplicando novo tema:",j.tema_preferencia),document.documentElement.setAttribute("data-theme",j.tema_preferencia),localStorage.setItem("app-theme",j.tema_preferencia)),V.success("Perfil atualizado com sucesso!"),{error:null})}catch(N){return console.error("Erro ao atualizar perfil:",N),{error:N}}finally{d(!1)}},w=!!s;return a.jsx(PP.Provider,{value:{user:r,session:s,usuario:i,isLoading:l,isAuthenticated:w,subscription:u,isSubscriptionLoading:h,setSubscription:f,checkSubscription:v,signUp:m,signIn:g,signOut:y,updateProfile:b},children:e})},It=()=>{const e=x.useContext(PP);if(e===void 0)throw new Error("useSupabaseAuth deve ser usado dentro de SupabaseAuthProvider");return e},vr=({children:e})=>{const{isAuthenticated:t,isLoading:r,subscription:n,isSubscriptionLoading:s}=It();if(r||s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!t)return a.jsx(wf,{to:"/login",replace:!0});const o=["/assinatura","/onboarding","/checkout-success"],i=window.location.pathname;if(o.includes(i))return a.jsx(a.Fragment,{children:e});const c=n?.status==="trial"&&!n?.is_trial_expired,l=n?.status==="active",d=c||l;return console.log("[PROTECTED-ROUTE] Access check:",{pathname:i,hasAccess:d,subscriptionStatus:n?.status,isTrialExpired:n?.is_trial_expired,trialDaysRemaining:n?.trial_days_remaining,subscribed:n?.subscribed}),d?a.jsx(a.Fragment,{children:e}):(console.log("[PROTECTED-ROUTE]  Acesso negado, redirecionando para /assinatura"),a.jsx(wf,{to:"/assinatura",replace:!0}))},cm=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!1),[s,o]=x.useState(!1),[i,c]=x.useState(typeof navigator<"u"?!navigator.onLine:!1),[l,d]=x.useState(!1);return x.useEffect(()=>{(()=>{try{const b=window.matchMedia("(display-mode: standalone)").matches,w=window.navigator.standalone===!0;o(b||w)}catch(b){console.warn("Erro ao verificar se est instalado:",b)}})();const v=b=>{try{b.preventDefault(),t(b),n(!0)}catch(w){console.warn("Erro no handleBeforeInstallPrompt:",w)}},m=()=>{try{o(!0),n(!1),t(null)}catch(b){console.warn("Erro no handleAppInstalled:",b)}},g=()=>{try{c(!1)}catch(b){console.warn("Erro no handleOnline:",b)}},y=()=>{try{c(!0)}catch(b){console.warn("Erro no handleOffline:",b)}};try{window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",m),window.addEventListener("online",g),window.addEventListener("offline",y)}catch(b){console.warn("Erro ao registrar event listeners:",b)}if("serviceWorker"in navigator){navigator.serviceWorker.ready.then(b=>{console.log("Service Worker verificado no usePWA:",b.scope),b.addEventListener("updatefound",()=>{const w=b.installing;w&&w.addEventListener("statechange",()=>{if(w.state==="installed"&&navigator.serviceWorker.controller)try{d(!0)}catch(j){console.warn("Erro ao atualizar hasUpdate:",j)}})})}).catch(b=>{console.log("Erro ao acessar Service Worker:",b)});try{navigator.serviceWorker.addEventListener("message",b=>{if(b.data&&b.data.type==="UPDATE_AVAILABLE")try{d(!0)}catch(w){console.warn("Erro ao processar mensagem do Service Worker:",w)}})}catch(b){console.warn("Erro ao adicionar listener de mensagens:",b)}}return()=>{try{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",m),window.removeEventListener("online",g),window.removeEventListener("offline",y)}catch(b){console.warn("Erro ao remover event listeners:",b)}}},[]),{isInstallable:r,isInstalled:s,isOffline:i,hasUpdate:l,installApp:async()=>{if(!e)return!1;try{return await e.prompt(),(await e.userChoice).outcome==="accepted"?(n(!1),t(null),!0):!1}catch(p){return console.error("Erro ao instalar o app:",p),!1}},updateApp:()=>{try{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(p=>{p&&p.waiting&&(p.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())})}catch(p){console.error("Erro ao atualizar o app:",p)}},dismissInstall:()=>{try{n(!1),t(null)}catch(p){console.error("Erro ao dispensar instalao:",p)}}}};function LL(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function lm(...e){return t=>e.forEach(r=>LL(r,t))}function Ve(...e){return x.useCallback(lm(...e),e)}var Ur=x.forwardRef((e,t)=>{const{children:r,...n}=e,s=x.Children.toArray(r),o=s.find(FL);if(o){const i=o.props.children,c=s.map(l=>l===o?x.Children.count(i)>1?x.Children.only(null):x.isValidElement(i)?i.props.children:null:l);return a.jsx(bv,{...n,ref:t,children:x.isValidElement(i)?x.cloneElement(i,void 0,c):null})}return a.jsx(bv,{...n,ref:t,children:r})});Ur.displayName="Slot";var bv=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const s=BL(r);return x.cloneElement(r,{...zL(n,r.props),ref:t?lm(t,s):s})}return x.Children.count(r)>1?x.Children.only(null):null});bv.displayName="SlotClone";var By=({children:e})=>a.jsx(a.Fragment,{children:e});function FL(e){return x.isValidElement(e)&&e.type===By}function zL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function BL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function AP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=AP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=AP(e))&&(n&&(n+=" "),n+=t);return n}const rw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nw=We,vc=(e,t)=>r=>{var n;if(t?.variants==null)return nw(e,r?.class,r?.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(d=>{const u=r?.[d],f=o?.[d];if(u===null)return null;const h=rw(u)||rw(f);return s[d][h]}),c=r&&Object.entries(r).reduce((d,u)=>{let[f,h]=u;return h===void 0||(d[f]=h),d},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...o,...c}[m]):{...o,...c}[m]===g})?[...d,f,h]:d},[]);return nw(e,i,l,r?.class,r?.className)},Vy="-",VL=e=>{const t=qL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const c=i.split(Vy);return c[0]===""&&c.length!==1&&c.shift(),kP(c,t)||UL(i)},getConflictingClassGroupIds:(i,c)=>{const l=r[i]||[];return c&&n[i]?[...l,...n[i]]:l}}},kP=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?kP(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Vy);return t.validators.find(({validator:i})=>i(o))?.classGroupId},aw=/^\[(.+)\]$/,UL=e=>{if(aw.test(e)){const t=aw.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return HL(Object.entries(e.classGroups),r).forEach(([o,i])=>{jv(i,n,o,t)}),n},jv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:sw(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(WL(s)){jv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{jv(i,sw(t,o),r,n)})})},sw=(e,t)=>{let r=e;return t.split(Vy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},WL=e=>e.isThemeGetter,HL=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,c])=>[t+i,c])):o);return[r,s]}):e,GL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},EP="!",KL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=c=>{const l=[];let d=0,u=0,f;for(let g=0;g<c.length;g++){let y=c[g];if(d===0){if(y===s&&(n||c.slice(g,g+o)===t)){l.push(c.slice(u,g)),u=g+o;continue}if(y==="/"){f=g;continue}}y==="["?d++:y==="]"&&d--}const h=l.length===0?c:c.substring(u),p=h.startsWith(EP),v=p?h.substring(1):h,m=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?c=>r({className:c,parseClassName:i}):i},YL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZL=e=>({cache:GL(e.cacheSize),parseClassName:KL(e),...VL(e)}),XL=/\s+/,JL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(XL);let c="";for(let l=i.length-1;l>=0;l-=1){const d=i[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(d);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){c=d+(c.length>0?" "+c:c);continue}if(m=n(h),!m){c=d+(c.length>0?" "+c:c);continue}v=!1}const g=YL(u).join(":"),y=f?g+EP:g,b=y+m;if(o.includes(b))continue;o.push(b);const w=s(m,v);for(let j=0;j<w.length;++j){const N=w[j];o.push(y+N)}c=d+(c.length>0?" "+c:c)}return c};function QL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OP(t))&&(n&&(n+=" "),n+=r);return n}const OP=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OP(e[n]))&&(r&&(r+=" "),r+=t);return r};function e3(e,...t){let r,n,s,o=i;function i(l){const d=t.reduce((u,f)=>f(u),e());return r=ZL(d),n=r.cache.get,s=r.cache.set,o=c,c(l)}function c(l){const d=n(l);if(d)return d;const u=JL(l,r);return s(l,u),u}return function(){return o(QL.apply(null,arguments))}}const Et=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},TP=/^\[(?:([a-z-]+):)?(.+)\]$/i,t3=/^\d+\/\d+$/,r3=new Set(["px","full","screen"]),n3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,o3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,i3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,La=e=>ji(e)||r3.has(e)||t3.test(e),gs=e=>xc(e,"length",p3),ji=e=>!!e&&!Number.isNaN(Number(e)),sg=e=>xc(e,"number",ji),Xc=e=>!!e&&Number.isInteger(Number(e)),c3=e=>e.endsWith("%")&&ji(e.slice(0,-1)),Je=e=>TP.test(e),vs=e=>n3.test(e),l3=new Set(["length","size","percentage"]),d3=e=>xc(e,l3,$P),u3=e=>xc(e,"position",$P),f3=new Set(["image","url"]),h3=e=>xc(e,f3,v3),m3=e=>xc(e,"",g3),Jc=()=>!0,xc=(e,t,r)=>{const n=TP.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},p3=e=>a3.test(e)&&!s3.test(e),$P=()=>!1,g3=e=>o3.test(e),v3=e=>i3.test(e),x3=()=>{const e=Et("colors"),t=Et("spacing"),r=Et("blur"),n=Et("brightness"),s=Et("borderColor"),o=Et("borderRadius"),i=Et("borderSpacing"),c=Et("borderWidth"),l=Et("contrast"),d=Et("grayscale"),u=Et("hueRotate"),f=Et("invert"),h=Et("gap"),p=Et("gradientColorStops"),v=Et("gradientColorStopPositions"),m=Et("inset"),g=Et("margin"),y=Et("opacity"),b=Et("padding"),w=Et("saturate"),j=Et("scale"),N=Et("sepia"),S=Et("skew"),_=Et("space"),C=Et("translate"),E=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Je,t],P=()=>[Je,t],O=()=>["",La,gs],T=()=>["auto",ji,Je],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Je],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[ji,Je];return{cacheSize:500,separator:":",theme:{colors:[Jc],spacing:[La,gs],blur:["none","",vs,Je],brightness:K(),borderColor:[e],borderRadius:["none","","full",vs,Je],borderSpacing:P(),borderWidth:O(),contrast:K(),grayscale:U(),hueRotate:K(),invert:U(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[c3,gs],inset:k(),margin:k(),opacity:K(),padding:P(),saturate:K(),scale:K(),sepia:U(),skew:K(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[vs]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Je]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xc,Je]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Xc,Je]}],"grid-cols":[{"grid-cols":[Jc]}],"col-start-end":[{col:["auto",{span:["full",Xc,Je]},Je]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Jc]}],"row-start-end":[{row:["auto",{span:[Xc,Je]},Je]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,t]}],"min-w":[{"min-w":[Je,t,"min","max","fit"]}],"max-w":[{"max-w":[Je,t,"none","full","min","max","fit","prose",{screen:[vs]},vs]}],h:[{h:[Je,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,t,"auto","min","max","fit"]}],"font-size":[{text:["base",vs,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",sg]}],"font-family":[{font:[Jc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",ji,sg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",La,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",La,gs]}],"underline-offset":[{"underline-offset":["auto",La,Je]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),u3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",d3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},h3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[La,Je]}],"outline-w":[{outline:[La,gs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[La,gs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",vs,m3]}],"shadow-color":[{shadow:[Jc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",vs,Je]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Xc,Je]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[La,gs,sg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y3=e3(x3);function Q(...e){return y3(We(e))}function Tr(e){return typeof e=="string"?e:new Date(e).toISOString().split("T")[0]}function b3(e){if(e instanceof Date)return e;if(typeof e=="string"){const[t,r,n]=e.split("-").map(Number);return new Date(t,(r||1)-1,n||1)}return new Date(e)}function pi(e){const[t,r]=e.split(":").map(Number);return t*60+r}function MP(e,t,r,n){return e<n&&r<t}const Oi=vc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-responsive-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 btn-touch touch-action-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 active:scale-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 active:scale-95",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground active:scale-95",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground active:scale-95",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 sm:h-10 px-4 py-2 text-base sm:text-sm",sm:"h-10 sm:h-9 rounded-md px-3 text-sm",lg:"h-12 sm:h-11 rounded-md px-8 text-base",icon:"h-11 w-11 sm:h-10 sm:w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Ur:"button";return a.jsx(i,{className:Q(Oi({variant:t,size:r,className:e})),ref:o,...s})});z.displayName="Button";const L=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));L.displayName="Card";const Y=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));Y.displayName="CardHeader";const Z=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Q("text-2xl font-semibold leading-none tracking-tight",e),...t}));Z.displayName="CardTitle";const Oe=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));Oe.displayName="CardDescription";const B=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Q("p-6 pt-0",e),...t}));B.displayName="CardContent";const j3=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Q("flex items-center p-6 pt-0",e),...t}));j3.displayName="CardFooter";const w3=vc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:t,...r}){return a.jsx("div",{className:Q(w3({variant:t}),e),...r})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...c},l)=>x.createElement("svg",{ref:l,..._3,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:DP("lucide",s),...c},[...i.map(([d,u])=>x.createElement(d,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=x.forwardRef(({className:n,...s},o)=>x.createElement(S3,{ref:o,iconNode:t,className:DP(`lucide-${N3(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=le("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=le("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=le("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=le("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=le("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=le("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=le("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=le("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=le("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=le("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=le("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=le("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vs=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=le("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=le("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=le("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=le("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=le("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=le("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=le("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=le("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=le("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=le("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=le("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=le("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=le("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=le("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=le("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=le("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=le("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=le("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),BP=({variant:e="banner",showDismiss:t=!0})=>{const{isInstallable:r,installApp:n,dismissInstall:s}=cm(),{usuario:o}=It(),[i,c]=x.useState(!1),[l,d]=x.useState(!1);if(!r||l)return null;const u=async()=>{c(!0),await n()&&d(!0),c(!1)},f=()=>{d(!0),s()},h=o?.nome_personalizado_app||"Sistema do Salo";return e==="banner"?a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-primary text-primary-foreground p-3 shadow-lg",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_n,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Instale o ",h]}),a.jsx("p",{className:"text-sm opacity-90",children:"Acesso rpido direto da tela inicial"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{onClick:u,disabled:i,variant:"secondary",size:"sm",children:i?"Instalando...":"Instalar"}),t&&a.jsx(z,{onClick:f,variant:"ghost",size:"sm",className:"text-primary-foreground hover:bg-primary-foreground/20",children:a.jsx(Vt,{className:"h-4 w-4"})})]})]})}):e==="floating"?a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:a.jsxs(L,{className:"w-80 shadow-xl",children:[a.jsxs(Y,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_n,{className:"h-5 w-5 text-primary"}),a.jsx(Z,{className:"text-lg",children:"Instalar App"})]}),t&&a.jsx(z,{onClick:f,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsxs(Oe,{children:["Instale o ",h," para acesso rpido"]})]}),a.jsxs(B,{className:"pt-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs(ce,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(Nv,{className:"h-3 w-3"}),"Mobile"]}),a.jsxs(ce,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(tF,{className:"h-3 w-3"}),"Tablet"]}),a.jsxs(ce,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(ow,{className:"h-3 w-3"}),"Desktop"]})]}),a.jsx(z,{onClick:u,disabled:i,className:"w-full",children:i?"Instalando...":"Instalar Agora"})]})]})}):a.jsxs(L,{className:"border-primary/20 bg-primary/5",children:[a.jsx(Y,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(_n,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs(Z,{className:"text-lg",children:["Instalar ",h]}),a.jsx(Oe,{children:"Tenha acesso rpido direto da sua tela inicial"})]})]}),t&&a.jsx(z,{onClick:f,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]})}),a.jsx(B,{className:"pt-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ce,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(Nv,{className:"h-3 w-3"}),"Mobile"]}),a.jsxs(ce,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(ow,{className:"h-3 w-3"}),"Desktop"]})]}),a.jsx(z,{onClick:u,disabled:i,size:"sm",children:i?"Instalando...":"Instalar"})]})})]})},nF=({variant:e="floating",showDismiss:t=!0})=>{const{hasUpdate:r,updateApp:n}=cm(),[s,o]=x.useState(!1),[i,c]=x.useState(!1);if(!r||i)return null;const l=()=>{o(!0),n()},d=()=>{c(!0)};return e==="banner"?a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-info text-info-foreground p-3 shadow-lg",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Zr,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Nova verso disponvel"}),a.jsx("p",{className:"text-sm opacity-90",children:"Atualize para a verso mais recente"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{onClick:l,disabled:s,variant:"secondary",size:"sm",children:s?"Atualizando...":"Atualizar"}),t&&a.jsx(z,{onClick:d,variant:"ghost",size:"sm",className:"hover:bg-primary/20",children:a.jsx(Vt,{className:"h-4 w-4"})})]})]})}):e==="floating"?a.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:a.jsxs(L,{className:"w-80 shadow-xl border-info/20 bg-info/5",children:[a.jsxs(Y,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zr,{className:"h-5 w-5 text-info"}),a.jsx(Z,{className:"text-lg",children:"Atualizao"})]}),t&&a.jsx(z,{onClick:d,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsx(Oe,{children:"Nova verso disponvel com melhorias e correes"})]}),a.jsx(B,{className:"pt-0",children:a.jsx(z,{onClick:l,disabled:s,className:"w-full",children:s?"Atualizando...":"Atualizar Agora"})})]})}):a.jsxs(L,{className:"border-info/20 bg-info/5",children:[a.jsx(Y,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-info/10 flex items-center justify-center",children:a.jsx(Zr,{className:"h-5 w-5 text-info"})}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg",children:"Nova Verso Disponvel"}),a.jsx(Oe,{children:"Atualize para ter acesso s ltimas melhorias"})]})]}),t&&a.jsx(z,{onClick:d,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]})}),a.jsx(B,{className:"pt-0",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(z,{onClick:l,disabled:s,size:"sm",children:s?"Atualizando...":"Atualizar"})})})]})},aF=({position:e="top",variant:t="badge"})=>{const{isOffline:r}=cm(),[n,s]=x.useState(!1),[o,i]=x.useState(!1);return x.useEffect(()=>{if(o&&!r){s(!0);const c=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(c)}i(r)},[r,o]),t==="banner"?r?a.jsx("div",{className:`fixed left-0 right-0 z-40 bg-warning text-warning-foreground p-2 ${e==="top"?"top-0":"bottom-0"}`,children:a.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(dw,{className:"h-4 w-4"}),"Voc est offline. Algumas funcionalidades podem estar limitadas."]})}):n?a.jsx("div",{className:`fixed left-0 right-0 z-40 bg-success text-success-foreground p-2 ${e==="top"?"top-0":"bottom-0"}`,children:a.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(uw,{className:"h-4 w-4"}),"Conexo restaurada!"]})}):null:r?a.jsxs(ce,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(dw,{className:"h-3 w-3"}),"Offline"]}):n?a.jsxs(ce,{className:"flex items-center gap-1 bg-success text-success-foreground",children:[a.jsx(uw,{className:"h-3 w-3"}),"Online"]}):null},sF=x.createContext(void 0),oF=({children:e,showInstallPrompt:t=!0,showUpdatePrompt:r=!0,showOfflineIndicator:n=!0})=>{const s=cm();return a.jsxs(sF.Provider,{value:s,children:[e,t&&a.jsx(BP,{variant:"floating"}),r&&a.jsx(nF,{}),n&&a.jsx(aF,{variant:"banner"})]})},cg=768;function VP(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${cg-1}px)`),n=()=>t(window.innerWidth<cg);return r.addEventListener("change",n),t(window.innerWidth<cg),()=>r.removeEventListener("change",n)},[]),e}const se=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Q("flex h-11 sm:h-10 w-full rounded-md border border-input bg-background px-3 sm:px-4 py-2 text-base sm:text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",e),ref:n,...r}));se.displayName="Input";var iF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ke=iF.reduce((e,t)=>{const r=x.forwardRef((n,s)=>{const{asChild:o,...i}=n,c=o?Ur:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function UP(e,t){e&&Md.flushSync(()=>e.dispatchEvent(t))}var cF="Separator",fw="horizontal",lF=["horizontal","vertical"],qP=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=fw,...s}=e,o=dF(n)?n:fw,c=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(ke.div,{"data-orientation":o,...c,...s,ref:t})});qP.displayName=cF;function dF(e){return lF.includes(e)}var WP=qP;const Ha=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(WP,{ref:s,decorative:r,orientation:t,className:Q("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ha.displayName=WP.displayName;function ge(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function uF(e,t){const r=x.createContext(t),n=o=>{const{children:i,...c}=o,l=x.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function ia(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];const d=f=>{const{scope:h,children:p,...v}=f,m=h?.[e]?.[l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};d.displayName=o+"Provider";function u(f,h){const p=h?.[e]?.[l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[d,u]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,fF(s,...t)]}function fF(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var _r=globalThis?.document?x.useLayoutEffect:()=>{},hF=LC.useId||(()=>{}),mF=0;function Sn(e){const[t,r]=x.useState(hF());return _r(()=>{r(n=>n??String(mF++))},[e]),e||(t?`radix-${t}`:"")}function or(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function Ea({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=pF({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,c=or(r),l=x.useCallback(d=>{if(o){const f=typeof d=="function"?d(e):d;f!==e&&c(f)}else s(d)},[o,e,s,c]);return[i,l]}function pF({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),o=or(t);return x.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function gF(e,t=globalThis?.document){const r=or(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vF="DismissableLayer",Sv="dismissableLayer.update",xF="dismissableLayer.pointerDownOutside",yF="dismissableLayer.focusOutside",hw,HP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:c,...l}=e,d=x.useContext(HP),[u,f]=x.useState(null),h=u?.ownerDocument??globalThis?.document,[,p]=x.useState({}),v=Ve(t,_=>f(_)),m=Array.from(d.layers),[g]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=u?m.indexOf(u):-1,w=d.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=wF(_=>{const C=_.target,E=[...d.branches].some($=>$.contains(C));!j||E||(s?.(_),i?.(_),_.defaultPrevented||c?.())},h),S=NF(_=>{const C=_.target;[...d.branches].some($=>$.contains(C))||(o?.(_),i?.(_),_.defaultPrevented||c?.())},h);return gF(_=>{b===d.layers.size-1&&(n?.(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},h),x.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(hw=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),mw(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=hw)}},[u,h,r,d]),x.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),mw())},[u,d]),x.useEffect(()=>{const _=()=>p({});return document.addEventListener(Sv,_),()=>document.removeEventListener(Sv,_)},[]),a.jsx(ke.div,{...l,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:ge(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ge(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ge(e.onPointerDownCapture,N.onPointerDownCapture)})});jc.displayName=vF;var bF="DismissableLayerBranch",jF=x.forwardRef((e,t)=>{const r=x.useContext(HP),n=x.useRef(null),s=Ve(t,n);return x.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(ke.div,{...e,ref:s})});jF.displayName=bF;function wF(e,t=globalThis?.document){const r=or(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let l=function(){GP(xF,r,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function NF(e,t=globalThis?.document){const r=or(e),n=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!n.current&&GP(yF,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function mw(){const e=new CustomEvent(Sv);document.dispatchEvent(e)}function GP(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?UP(s,o):s.dispatchEvent(o)}var lg="focusScope.autoFocusOnMount",dg="focusScope.autoFocusOnUnmount",pw={bubbles:!1,cancelable:!0},_F="FocusScope",zd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[c,l]=x.useState(null),d=or(s),u=or(o),f=x.useRef(null),h=Ve(t,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!c)return;const j=w.target;c.contains(j)?f.current=j:bs(f.current,{select:!0})},g=function(w){if(p.paused||!c)return;const j=w.relatedTarget;j!==null&&(c.contains(j)||bs(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&bs(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,c,p.paused]),x.useEffect(()=>{if(c){vw.add(p);const m=document.activeElement;if(!c.contains(m)){const y=new CustomEvent(lg,pw);c.addEventListener(lg,d),c.dispatchEvent(y),y.defaultPrevented||(SF(EF(KP(c)),{select:!0}),document.activeElement===m&&bs(c))}return()=>{c.removeEventListener(lg,d),setTimeout(()=>{const y=new CustomEvent(dg,pw);c.addEventListener(dg,u),c.dispatchEvent(y),y.defaultPrevented||bs(m??document.body,{select:!0}),c.removeEventListener(dg,u),vw.remove(p)},0)}}},[c,d,u,p]);const v=x.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const b=m.currentTarget,[w,j]=CF(b);w&&j?!m.shiftKey&&y===j?(m.preventDefault(),r&&bs(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&bs(j,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(ke.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});zd.displayName=_F;function SF(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(bs(n,{select:t}),document.activeElement!==r)return}function CF(e){const t=KP(e),r=gw(t,e),n=gw(t.reverse(),e);return[r,n]}function KP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gw(e,t){for(const r of e)if(!PF(r,{upTo:t}))return r}function PF(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AF(e){return e instanceof HTMLInputElement&&"select"in e}function bs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&AF(e)&&t&&e.select()}}var vw=kF();function kF(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=xw(e,t),e.unshift(t)},remove(t){e=xw(e,t),e[0]?.resume()}}}function xw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function EF(e){return e.filter(t=>t.tagName!=="A")}var OF="Portal",Bd=x.forwardRef((e,t)=>{const{container:r,...n}=e,[s,o]=x.useState(!1);_r(()=>o(!0),[]);const i=r||s&&globalThis?.document?.body;return i?FC.createPortal(a.jsx(ke.div,{...n,ref:t}),i):null});Bd.displayName=OF;function TF(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var kr=e=>{const{present:t,children:r}=e,n=$F(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),o=Ve(n.ref,MF(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:o}):null};kr.displayName="Presence";function $F(e){const[t,r]=x.useState(),n=x.useRef({}),s=x.useRef(e),o=x.useRef("none"),i=e?"mounted":"unmounted",[c,l]=TF(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=Au(n.current);o.current=c==="mounted"?d:"none"},[c]),_r(()=>{const d=n.current,u=s.current;if(u!==e){const h=o.current,p=Au(d);e?l("MOUNT"):p==="none"||d?.display==="none"?l("UNMOUNT"):l(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),_r(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const m=Au(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(o.current=Au(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(d=>{d&&(n.current=getComputedStyle(d)),r(d)},[])}}function Au(e){return e?.animationName||"none"}function MF(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ug=0;function pm(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yw()),document.body.insertAdjacentElement("beforeend",e[1]??yw()),ug++,()=>{ug===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ug--}},[])}function yw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ga=function(){return ga=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ga.apply(this,arguments)};function YP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function DF(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var nf="right-scroll-bar-position",af="width-before-scroll-bar",RF="with-scroll-bars-hidden",IF="--removed-body-scroll-bar-size";function fg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LF(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var FF=typeof window<"u"?x.useLayoutEffect:x.useEffect,bw=new WeakMap;function zF(e,t){var r=LF(null,function(n){return e.forEach(function(s){return fg(s,n)})});return FF(function(){var n=bw.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(c){o.has(c)||fg(c,null)}),o.forEach(function(c){s.has(c)||fg(c,i)})}bw.set(r,e)},[e]),r}function BF(e){return e}function VF(e,t){t===void 0&&(t=BF);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(o),i=r}var l=function(){var u=i;i=[],u.forEach(o)},d=function(){return Promise.resolve().then(l)};d(),r={push:function(u){i.push(u),d()},filter:function(u){return i=i.filter(u),r}}}};return s}function UF(e){e===void 0&&(e={});var t=VF(null);return t.options=ga({async:!0,ssr:!1},e),t}var ZP=function(e){var t=e.sideCar,r=YP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,ga({},r))};ZP.isSideCarExport=!0;function qF(e,t){return e.useMedium(t),ZP}var XP=UF(),hg=function(){},gm=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:hg,onWheelCapture:hg,onTouchMoveCapture:hg}),s=n[0],o=n[1],i=e.forwardProps,c=e.children,l=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,b=e.gapMode,w=YP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=zF([r,t]),S=ga(ga({},w),s);return x.createElement(x.Fragment,null,u&&x.createElement(j,{sideCar:XP,removeScrollBar:d,shards:f,noIsolation:p,inert:v,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:b}),i?x.cloneElement(x.Children.only(c),ga(ga({},S),{ref:N})):x.createElement(y,ga({},S,{className:l,ref:N}),c))});gm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gm.classNames={fullWidth:af,zeroRight:nf};var WF=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HF(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=WF();return t&&e.setAttribute("nonce",t),e}function GF(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KF(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YF=function(){var e=0,t=null;return{add:function(r){e==0&&(t=HF())&&(GF(t,r),KF(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZF=function(){var e=YF();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},JP=function(){var e=ZF(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},XF={left:0,top:0,right:0,gap:0},mg=function(e){return parseInt(e||"",10)||0},JF=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[mg(r),mg(n),mg(s)]},QF=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XF;var t=JF(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},e6=JP(),wi="data-scroll-locked",t6=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(RF,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(wi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nf,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(af,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(nf," .").concat(nf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(af," .").concat(af,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wi,`] {
    `).concat(IF,": ").concat(c,`px;
  }
`)},jw=function(){var e=parseInt(document.body.getAttribute(wi)||"0",10);return isFinite(e)?e:0},r6=function(){x.useEffect(function(){return document.body.setAttribute(wi,(jw()+1).toString()),function(){var e=jw()-1;e<=0?document.body.removeAttribute(wi):document.body.setAttribute(wi,e.toString())}},[])},n6=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;r6();var o=x.useMemo(function(){return QF(s)},[s]);return x.createElement(e6,{styles:t6(o,!t,s,r?"":"!important")})},Cv=!1;if(typeof window<"u")try{var ku=Object.defineProperty({},"passive",{get:function(){return Cv=!0,!0}});window.addEventListener("test",ku,ku),window.removeEventListener("test",ku,ku)}catch{Cv=!1}var ai=Cv?{passive:!1}:!1,a6=function(e){return e.tagName==="TEXTAREA"},QP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!a6(e)&&r[t]==="visible")},s6=function(e){return QP(e,"overflowY")},o6=function(e){return QP(e,"overflowX")},ww=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=e2(e,n);if(s){var o=t2(e,n),i=o[1],c=o[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},i6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},c6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},e2=function(e,t){return e==="v"?s6(t):o6(t)},t2=function(e,t){return e==="v"?i6(t):c6(t)},l6=function(e,t){return e==="h"&&t==="rtl"?-1:1},d6=function(e,t,r,n,s){var o=l6(e,window.getComputedStyle(t).direction),i=o*n,c=r.target,l=t.contains(c),d=!1,u=i>0,f=0,h=0;do{var p=t2(e,c),v=p[0],m=p[1],g=p[2],y=m-g-o*v;(v||y)&&e2(e,c)&&(f+=y,h+=v),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(u&&Math.abs(f)<1||!u&&Math.abs(h)<1)&&(d=!0),d},Eu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Nw=function(e){return[e.deltaX,e.deltaY]},_w=function(e){return e&&"current"in e?e.current:e},u6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},h6=0,si=[];function m6(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(h6++)[0],o=x.useState(JP)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=DF([e.lockRef.current],(e.shards||[]).map(_w),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=Eu(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-y[0],j="deltaY"in m?m.deltaY:b[1]-y[1],N,S=m.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&_==="h"&&S.type==="range")return!1;var C=ww(_,S);if(!C)return!0;if(C?N=_:(N=_==="v"?"h":"v",C=ww(_,S)),!C)return!1;if(!n.current&&"changedTouches"in m&&(w||j)&&(n.current=N),!N)return!0;var E=n.current||N;return d6(E,g,m,E==="h"?w:j)},[]),l=x.useCallback(function(m){var g=m;if(!(!si.length||si[si.length-1]!==o)){var y="deltaY"in g?Nw(g):Eu(g),b=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&u6(N.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(_w).filter(Boolean).filter(function(N){return N.contains(g.target)}),j=w.length>0?c(g,w[0]):!i.current.noIsolation;j&&g.cancelable&&g.preventDefault()}}},[]),d=x.useCallback(function(m,g,y,b){var w={name:m,delta:g,target:y,should:b,shadowParent:p6(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),u=x.useCallback(function(m){r.current=Eu(m),n.current=void 0},[]),f=x.useCallback(function(m){d(m.type,Nw(m),m.target,c(m,e.lockRef.current))},[]),h=x.useCallback(function(m){d(m.type,Eu(m),m.target,c(m,e.lockRef.current))},[]);x.useEffect(function(){return si.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ai),document.addEventListener("touchmove",l,ai),document.addEventListener("touchstart",u,ai),function(){si=si.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,ai),document.removeEventListener("touchmove",l,ai),document.removeEventListener("touchstart",u,ai)}},[]);var p=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(o,{styles:f6(s)}):null,p?x.createElement(n6,{gapMode:e.gapMode}):null)}function p6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const g6=qF(XP,m6);var Vd=x.forwardRef(function(e,t){return x.createElement(gm,ga({},e,{ref:t,sideCar:g6}))});Vd.classNames=gm.classNames;var v6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oi=new WeakMap,Ou=new WeakMap,Tu={},pg=0,r2=function(e){return e&&(e.host||r2(e.parentNode))},x6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=r2(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},y6=function(e,t,r,n){var s=x6(t,Array.isArray(e)?e:[e]);Tu[r]||(Tu[r]=new WeakMap);var o=Tu[r],i=[],c=new Set,l=new Set(s),d=function(f){!f||c.has(f)||(c.add(f),d(f.parentNode))};s.forEach(d);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))u(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(oi.get(h)||0)+1,g=(o.get(h)||0)+1;oi.set(h,m),o.set(h,g),i.push(h),m===1&&v&&Ou.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(t),c.clear(),pg++,function(){i.forEach(function(f){var h=oi.get(f)-1,p=o.get(f)-1;oi.set(f,h),o.set(f,p),h||(Ou.has(f)||f.removeAttribute(n),Ou.delete(f)),p||f.removeAttribute(r)}),pg--,pg||(oi=new WeakMap,oi=new WeakMap,Ou=new WeakMap,Tu={})}},vm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=v6(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),y6(n,s,r,"aria-hidden")):function(){return null}},Wy="Dialog",[n2,Hy]=ia(Wy),[b6,ca]=n2(Wy),Gy=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,c=x.useRef(null),l=x.useRef(null),[d=!1,u]=Ea({prop:n,defaultProp:s,onChange:o});return a.jsx(b6,{scope:t,triggerRef:c,contentRef:l,contentId:Sn(),titleId:Sn(),descriptionId:Sn(),open:d,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),modal:i,children:r})};Gy.displayName=Wy;var a2="DialogTrigger",Ky=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ca(a2,r),o=Ve(t,s.triggerRef);return a.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nb(s.open),...n,ref:o,onClick:ge(e.onClick,s.onOpenToggle)})});Ky.displayName=a2;var Yy="DialogPortal",[j6,s2]=n2(Yy,{forceMount:void 0}),Zy=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=ca(Yy,t);return a.jsx(j6,{scope:t,forceMount:r,children:x.Children.map(n,i=>a.jsx(kr,{present:r||o.open,children:a.jsx(Bd,{asChild:!0,container:s,children:i})}))})};Zy.displayName=Yy;var Pf="DialogOverlay",Xy=x.forwardRef((e,t)=>{const r=s2(Pf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=ca(Pf,e.__scopeDialog);return o.modal?a.jsx(kr,{present:n||o.open,children:a.jsx(w6,{...s,ref:t})}):null});Xy.displayName=Pf;var w6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ca(Pf,r);return a.jsx(Vd,{as:Ur,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(ke.div,{"data-state":nb(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Po="DialogContent",Jy=x.forwardRef((e,t)=>{const r=s2(Po,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=ca(Po,e.__scopeDialog);return a.jsx(kr,{present:n||o.open,children:o.modal?a.jsx(N6,{...s,ref:t}):a.jsx(_6,{...s,ref:t})})});Jy.displayName=Po;var N6=x.forwardRef((e,t)=>{const r=ca(Po,e.__scopeDialog),n=x.useRef(null),s=Ve(t,r.contentRef,n);return x.useEffect(()=>{const o=n.current;if(o)return vm(o)},[]),a.jsx(o2,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&o.preventDefault()}),onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault())})}),_6=x.forwardRef((e,t)=>{const r=ca(Po,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(o2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),o2=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,c=ca(Po,r),l=x.useRef(null),d=Ve(t,l);return pm(),a.jsxs(a.Fragment,{children:[a.jsx(zd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(jc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":nb(c.open),...i,ref:d,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(S6,{titleId:c.titleId}),a.jsx(P6,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Qy="DialogTitle",eb=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ca(Qy,r);return a.jsx(ke.h2,{id:s.titleId,...n,ref:t})});eb.displayName=Qy;var i2="DialogDescription",tb=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ca(i2,r);return a.jsx(ke.p,{id:s.descriptionId,...n,ref:t})});tb.displayName=i2;var c2="DialogClose",rb=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ca(c2,r);return a.jsx(ke.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});rb.displayName=c2;function nb(e){return e?"open":"closed"}var l2="DialogTitleWarning",[d2,u2]=uF(l2,{contentName:Po,titleName:Qy,docsSlug:"dialog"}),S6=({titleId:e})=>{const t=u2(l2),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},C6="DialogDescriptionWarning",P6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${u2(C6).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xm=Gy,ym=Ky,bm=Zy,wc=Xy,Nc=Jy,_c=eb,Sc=tb,Ud=rb;const A6=Object.freeze(Object.defineProperty({__proto__:null,Close:Ud,Content:Nc,Description:Sc,Dialog:Gy,DialogClose:rb,DialogContent:Jy,DialogDescription:tb,DialogOverlay:Xy,DialogPortal:Zy,DialogTitle:eb,DialogTrigger:Ky,Overlay:wc,Portal:bm,Root:xm,Title:_c,Trigger:ym,WarningProvider:d2,createDialogScope:Hy},Symbol.toStringTag,{value:"Module"})),f2=xm,k6=ym,E6=bm,h2=x.forwardRef(({className:e,...t},r)=>a.jsx(wc,{className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));h2.displayName=wc.displayName;const O6=vc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ab=x.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(E6,{children:[a.jsx(h2,{}),a.jsxs(Nc,{ref:s,className:Q(O6({side:e}),t),...n,children:[r,a.jsxs(Ud,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Vt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ab.displayName=Nc.displayName;const m2=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});m2.displayName="SheetHeader";const p2=x.forwardRef(({className:e,...t},r)=>a.jsx(_c,{ref:r,className:Q("text-lg font-semibold text-foreground",e),...t}));p2.displayName=_c.displayName;const T6=x.forwardRef(({className:e,...t},r)=>a.jsx(Sc,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));T6.displayName=Sc.displayName;function jn({className:e,...t}){return a.jsx("div",{className:Q("animate-pulse rounded-md bg-muted",e),...t})}const $6=["top","right","bottom","left"],Ts=Math.min,ln=Math.max,Af=Math.round,$u=Math.floor,$s=e=>({x:e,y:e}),M6={left:"right",right:"left",bottom:"top",top:"bottom"},D6={start:"end",end:"start"};function Pv(e,t,r){return ln(e,Ts(t,r))}function as(e,t){return typeof e=="function"?e(t):e}function ss(e){return e.split("-")[0]}function Cc(e){return e.split("-")[1]}function sb(e){return e==="x"?"y":"x"}function ob(e){return e==="y"?"height":"width"}function Ms(e){return["top","bottom"].includes(ss(e))?"y":"x"}function ib(e){return sb(Ms(e))}function R6(e,t,r){r===void 0&&(r=!1);const n=Cc(e),s=ib(e),o=ob(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=kf(i)),[i,kf(i)]}function I6(e){const t=kf(e);return[Av(e),t,Av(t)]}function Av(e){return e.replace(/start|end/g,t=>D6[t])}function L6(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function F6(e,t,r,n){const s=Cc(e);let o=L6(ss(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Av)))),o}function kf(e){return e.replace(/left|right|bottom|top/g,t=>M6[t])}function z6(e){return{top:0,right:0,bottom:0,left:0,...e}}function g2(e){return typeof e!="number"?z6(e):{top:e,right:e,bottom:e,left:e}}function Ef(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Sw(e,t,r){let{reference:n,floating:s}=e;const o=Ms(t),i=ib(t),c=ob(i),l=ss(t),d=o==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[c]/2-s[c]/2;let p;switch(l){case"top":p={x:u,y:n.y-s.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Cc(t)){case"start":p[i]-=h*(r&&d?-1:1);break;case"end":p[i]+=h*(r&&d?-1:1);break}return p}const B6=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,c=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=Sw(d,n,l),h=n,p={},v=0;for(let m=0;m<c.length;m++){const{name:g,fn:y}=c[m],{x:b,y:w,data:j,reset:N}=await y({x:u,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:d,platform:i,elements:{reference:e,floating:t}});u=b??u,f=w??f,p={...p,[g]:{...p[g],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:u,y:f}=Sw(d,h,l)),m=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:p}};async function Bl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=as(t,e),v=g2(p),g=c[h?f==="floating"?"reference":"floating":f],y=Ef(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(g)))==null||r?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),b=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=Ef(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-N.top+v.top)/j.y,bottom:(N.bottom-y.bottom+v.bottom)/j.y,left:(y.left-N.left+v.left)/j.x,right:(N.right-y.right+v.right)/j.x}}const V6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=as(e,t)||{};if(d==null)return{};const f=g2(u),h={x:r,y:n},p=ib(s),v=ob(p),m=await i.getDimensions(d),g=p==="y",y=g?"top":"left",b=g?"bottom":"right",w=g?"clientHeight":"clientWidth",j=o.reference[v]+o.reference[p]-h[p]-o.floating[v],N=h[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let _=S?S[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=c.floating[w]||o.floating[v]);const C=j/2-N/2,E=_/2-m[v]/2-1,$=Ts(f[y],E),k=Ts(f[b],E),P=$,O=_-m[v]-k,T=_/2-m[v]/2+C,I=Pv(P,T,O),R=!l.arrow&&Cc(s)!=null&&T!==I&&o.reference[v]/2-(T<P?$:k)-m[v]/2<0,D=R?T<P?T-P:T-O:0;return{[p]:h[p]+D,data:{[p]:I,centerOffset:T-I-D,...R&&{alignmentOffset:D}},reset:R}}}),U6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:c,platform:l,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=as(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=ss(s),b=Ms(c),w=ss(c)===c,j=await(l.isRTL==null?void 0:l.isRTL(d.floating)),N=h||(w||!m?[kf(c)]:I6(c)),S=v!=="none";!h&&S&&N.push(...F6(c,m,v,j));const _=[c,...N],C=await Bl(t,g),E=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&E.push(C[y]),f){const T=R6(s,i,j);E.push(C[T[0]],C[T[1]])}if($=[...$,{placement:s,overflows:E}],!E.every(T=>T<=0)){var k,P;const T=(((k=o.flip)==null?void 0:k.index)||0)+1,I=_[T];if(I)return{data:{index:T,overflows:$},reset:{placement:I}};let R=(P=$.filter(D=>D.overflows[0]<=0).sort((D,M)=>D.overflows[1]-M.overflows[1])[0])==null?void 0:P.placement;if(!R)switch(p){case"bestFit":{var O;const D=(O=$.filter(M=>{if(S){const U=Ms(M.placement);return U===b||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,ne)=>U+ne,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:O[0];D&&(R=D);break}case"initialPlacement":R=c;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function Cw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pw(e){return $6.some(t=>e[t]>=0)}const q6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=as(e,t);switch(n){case"referenceHidden":{const o=await Bl(t,{...s,elementContext:"reference"}),i=Cw(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Pw(i)}}}case"escaped":{const o=await Bl(t,{...s,altBoundary:!0}),i=Cw(o,r.floating);return{data:{escapedOffsets:i,escaped:Pw(i)}}}default:return{}}}}};async function W6(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=ss(r),c=Cc(r),l=Ms(r)==="y",d=["left","top"].includes(i)?-1:1,u=o&&l?-1:1,f=as(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),l?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const H6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:c}=t,l=await W6(t,e);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},G6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...l}=as(e,t),d={x:r,y:n},u=await Bl(t,l),f=Ms(ss(s)),h=sb(f);let p=d[h],v=d[f];if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+u[g],w=p-u[y];p=Pv(b,p,w)}if(i){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+u[g],w=v-u[y];v=Pv(b,v,w)}const m=c.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:o,[f]:i}}}}}},K6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=as(e,t),u={x:r,y:n},f=Ms(s),h=sb(f);let p=u[h],v=u[f];const m=as(c,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",j=o.reference[h]-o.floating[w]+g.mainAxis,N=o.reference[h]+o.reference[w]-g.mainAxis;p<j?p=j:p>N&&(p=N)}if(d){var y,b;const w=h==="y"?"width":"height",j=["top","left"].includes(ss(s)),N=o.reference[f]-o.floating[w]+(j&&((y=i.offset)==null?void 0:y[f])||0)+(j?0:g.crossAxis),S=o.reference[f]+o.reference[w]+(j?0:((b=i.offset)==null?void 0:b[f])||0)-(j?g.crossAxis:0);v<N?v=N:v>S&&(v=S)}return{[h]:p,[f]:v}}}},Y6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:c}=t,{apply:l=()=>{},...d}=as(e,t),u=await Bl(t,d),f=ss(s),h=Cc(s),p=Ms(s)==="y",{width:v,height:m}=o.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const b=m-u.top-u.bottom,w=v-u.left-u.right,j=Ts(m-u[g],b),N=Ts(v-u[y],w),S=!t.middlewareData.shift;let _=j,C=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=b),S&&!h){const $=ln(u.left,0),k=ln(u.right,0),P=ln(u.top,0),O=ln(u.bottom,0);p?C=v-2*($!==0||k!==0?$+k:ln(u.left,u.right)):_=m-2*(P!==0||O!==0?P+O:ln(u.top,u.bottom))}await l({...t,availableWidth:C,availableHeight:_});const E=await i.getDimensions(c.floating);return v!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function jm(){return typeof window<"u"}function Pc(e){return v2(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $a(e){var t;return(t=(v2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function v2(e){return jm()?e instanceof Node||e instanceof fn(e).Node:!1}function ea(e){return jm()?e instanceof Element||e instanceof fn(e).Element:!1}function Oa(e){return jm()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function Aw(e){return!jm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}function qd(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=ta(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function Z6(e){return["table","td","th"].includes(Pc(e))}function wm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function cb(e){const t=lb(),r=ea(e)?ta(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function X6(e){let t=Ds(e);for(;Oa(t)&&!$i(t);){if(cb(t))return t;if(wm(t))return null;t=Ds(t)}return null}function lb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $i(e){return["html","body","#document"].includes(Pc(e))}function ta(e){return fn(e).getComputedStyle(e)}function Nm(e){return ea(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ds(e){if(Pc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Aw(e)&&e.host||$a(e);return Aw(t)?t.host:t}function x2(e){const t=Ds(e);return $i(t)?e.ownerDocument?e.ownerDocument.body:e.body:Oa(t)&&qd(t)?t:x2(t)}function Vl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=x2(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=fn(s);if(o){const c=kv(i);return t.concat(i,i.visualViewport||[],qd(s)?s:[],c&&r?Vl(c):[])}return t.concat(s,Vl(s,[],r))}function kv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function y2(e){const t=ta(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Oa(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,c=Af(r)!==o||Af(n)!==i;return c&&(r=o,n=i),{width:r,height:n,$:c}}function db(e){return ea(e)?e:e.contextElement}function Ni(e){const t=db(e);if(!Oa(t))return $s(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=y2(t);let i=(o?Af(r.width):r.width)/n,c=(o?Af(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const J6=$s(0);function b2(e){const t=fn(e);return!lb()||!t.visualViewport?J6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Q6(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==fn(e)?!1:t}function Ao(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=db(e);let i=$s(1);t&&(n?ea(n)&&(i=Ni(n)):i=Ni(e));const c=Q6(o,r,n)?b2(o):$s(0);let l=(s.left+c.x)/i.x,d=(s.top+c.y)/i.y,u=s.width/i.x,f=s.height/i.y;if(o){const h=fn(o),p=n&&ea(n)?fn(n):n;let v=h,m=kv(v);for(;m&&n&&p!==v;){const g=Ni(m),y=m.getBoundingClientRect(),b=ta(m),w=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,j=y.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,d*=g.y,u*=g.x,f*=g.y,l+=w,d+=j,v=fn(m),m=kv(v)}}return Ef({width:u,height:f,x:l,y:d})}function ez(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=$a(n),c=t?wm(t.floating):!1;if(n===i||c&&o)return r;let l={scrollLeft:0,scrollTop:0},d=$s(1);const u=$s(0),f=Oa(n);if((f||!f&&!o)&&((Pc(n)!=="body"||qd(i))&&(l=Nm(n)),Oa(n))){const h=Ao(n);d=Ni(n),u.x=h.x+n.clientLeft,u.y=h.y+n.clientTop}return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-l.scrollLeft*d.x+u.x,y:r.y*d.y-l.scrollTop*d.y+u.y}}function tz(e){return Array.from(e.getClientRects())}function Ev(e,t){const r=Nm(e).scrollLeft;return t?t.left+r:Ao($a(e)).left+r}function rz(e){const t=$a(e),r=Nm(e),n=e.ownerDocument.body,s=ln(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ln(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Ev(e);const c=-r.scrollTop;return ta(n).direction==="rtl"&&(i+=ln(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:c}}function nz(e,t){const r=fn(e),n=$a(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,c=0,l=0;if(s){o=s.width,i=s.height;const d=lb();(!d||d&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:c,y:l}}function az(e,t){const r=Ao(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Oa(e)?Ni(e):$s(1),i=e.clientWidth*o.x,c=e.clientHeight*o.y,l=s*o.x,d=n*o.y;return{width:i,height:c,x:l,y:d}}function kw(e,t,r){let n;if(t==="viewport")n=nz(e,r);else if(t==="document")n=rz($a(e));else if(ea(t))n=az(t,r);else{const s=b2(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return Ef(n)}function j2(e,t){const r=Ds(e);return r===t||!ea(r)||$i(r)?!1:ta(r).position==="fixed"||j2(r,t)}function sz(e,t){const r=t.get(e);if(r)return r;let n=Vl(e,[],!1).filter(c=>ea(c)&&Pc(c)!=="body"),s=null;const o=ta(e).position==="fixed";let i=o?Ds(e):e;for(;ea(i)&&!$i(i);){const c=ta(i),l=cb(i);!l&&c.position==="fixed"&&(s=null),(o?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||qd(i)&&!l&&j2(e,i))?n=n.filter(u=>u!==i):s=c,i=Ds(i)}return t.set(e,n),n}function oz(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?wm(t)?[]:sz(t,this._c):[].concat(r),n],c=i[0],l=i.reduce((d,u)=>{const f=kw(t,u,s);return d.top=ln(f.top,d.top),d.right=Ts(f.right,d.right),d.bottom=Ts(f.bottom,d.bottom),d.left=ln(f.left,d.left),d},kw(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function iz(e){const{width:t,height:r}=y2(e);return{width:t,height:r}}function cz(e,t,r){const n=Oa(t),s=$a(t),o=r==="fixed",i=Ao(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const l=$s(0);if(n||!n&&!o)if((Pc(t)!=="body"||qd(s))&&(c=Nm(t)),n){const p=Ao(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&(l.x=Ev(s));let d=0,u=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();u=p.top+c.scrollTop,d=p.left+c.scrollLeft-Ev(s,p)}const f=i.left+c.scrollLeft-l.x-d,h=i.top+c.scrollTop-l.y-u;return{x:f,y:h,width:i.width,height:i.height}}function gg(e){return ta(e).position==="static"}function Ew(e,t){if(!Oa(e)||ta(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return $a(e)===r&&(r=r.ownerDocument.body),r}function w2(e,t){const r=fn(e);if(wm(e))return r;if(!Oa(e)){let s=Ds(e);for(;s&&!$i(s);){if(ea(s)&&!gg(s))return s;s=Ds(s)}return r}let n=Ew(e,t);for(;n&&Z6(n)&&gg(n);)n=Ew(n,t);return n&&$i(n)&&gg(n)&&!cb(n)?r:n||X6(e)||r}const lz=async function(e){const t=this.getOffsetParent||w2,r=this.getDimensions,n=await r(e.floating);return{reference:cz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dz(e){return ta(e).direction==="rtl"}const uz={convertOffsetParentRelativeRectToViewportRelativeRect:ez,getDocumentElement:$a,getClippingRect:oz,getOffsetParent:w2,getElementRects:lz,getClientRects:tz,getDimensions:iz,getScale:Ni,isElement:ea,isRTL:dz};function fz(e,t){let r=null,n;const s=$a(e);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const{left:d,top:u,width:f,height:h}=e.getBoundingClientRect();if(c||t(),!f||!h)return;const p=$u(u),v=$u(s.clientWidth-(d+f)),m=$u(s.clientHeight-(u+h)),g=$u(d),b={rootMargin:-p+"px "+-v+"px "+-m+"px "+-g+"px",threshold:ln(0,Ts(1,l))||1};let w=!0;function j(N){const S=N[0].intersectionRatio;if(S!==l){if(!w)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return i(!0),o}function hz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,d=db(e),u=s||o?[...d?Vl(d):[],...Vl(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=d&&c?fz(d,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),d&&!l&&p.observe(d),p.observe(t));let v,m=l?Ao(e):null;l&&g();function g(){const y=Ao(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(b=>{s&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f?.(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const mz=H6,pz=G6,gz=U6,vz=Y6,xz=q6,Ow=V6,yz=K6,bz=(e,t,r)=>{const n=new Map,s={platform:uz,...r},o={...s.platform,_c:n};return B6(e,t,{...s,platform:o})};var sf=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Of(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Of(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Of(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function N2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tw(e,t){const r=N2(e);return Math.round(t*r)/r}function vg(e){const t=x.useRef(e);return sf(()=>{t.current=e}),t}function jz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:l,open:d}=e,[u,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Of(h,n)||p(n);const[v,m]=x.useState(null),[g,y]=x.useState(null),b=x.useCallback(M=>{M!==S.current&&(S.current=M,m(M))},[]),w=x.useCallback(M=>{M!==_.current&&(_.current=M,y(M))},[]),j=o||v,N=i||g,S=x.useRef(null),_=x.useRef(null),C=x.useRef(u),E=l!=null,$=vg(l),k=vg(s),P=vg(d),O=x.useCallback(()=>{if(!S.current||!_.current)return;const M={placement:t,strategy:r,middleware:h};k.current&&(M.platform=k.current),bz(S.current,_.current,M).then(U=>{const ne={...U,isPositioned:P.current!==!1};T.current&&!Of(C.current,ne)&&(C.current=ne,Md.flushSync(()=>{f(ne)}))})},[h,t,r,k,P]);sf(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[d]);const T=x.useRef(!1);sf(()=>(T.current=!0,()=>{T.current=!1}),[]),sf(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if($.current)return $.current(j,N,O);O()}},[j,N,O,$,E]);const I=x.useMemo(()=>({reference:S,floating:_,setReference:b,setFloating:w}),[b,w]),R=x.useMemo(()=>({reference:j,floating:N}),[j,N]),D=x.useMemo(()=>{const M={position:r,left:0,top:0};if(!R.floating)return M;const U=Tw(R.floating,u.x),ne=Tw(R.floating,u.y);return c?{...M,transform:"translate("+U+"px, "+ne+"px)",...N2(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:ne}},[r,c,R.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:O,refs:I,elements:R,floatingStyles:D}),[u,O,I,R,D])}const wz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Ow({element:n.current,padding:s}).fn(r):{}:n?Ow({element:n,padding:s}).fn(r):{}}}},Nz=(e,t)=>({...mz(e),options:[e,t]}),_z=(e,t)=>({...pz(e),options:[e,t]}),Sz=(e,t)=>({...yz(e),options:[e,t]}),Cz=(e,t)=>({...gz(e),options:[e,t]}),Pz=(e,t)=>({...vz(e),options:[e,t]}),Az=(e,t)=>({...xz(e),options:[e,t]}),kz=(e,t)=>({...wz(e),options:[e,t]});var Ez="Arrow",_2=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(ke.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});_2.displayName=Ez;var Oz=_2;function Tz(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function d(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function u(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,$z(s,...t)]}function $z(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ub(e){const[t,r]=x.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,c;if("borderBoxSize"in o){const l=o.borderBoxSize,d=Array.isArray(l)?l[0]:l;i=d.inlineSize,c=d.blockSize}else i=e.offsetWidth,c=e.offsetHeight;r({width:i,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var fb="Popper",[S2,Us]=Tz(fb),[Mz,C2]=S2(fb),P2=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(Mz,{scope:t,anchor:n,onAnchorChange:s,children:r})};P2.displayName=fb;var A2="PopperAnchor",k2=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=C2(A2,r),i=x.useRef(null),c=Ve(t,i);return x.useEffect(()=>{o.onAnchorChange(n?.current||i.current)}),n?null:a.jsx(ke.div,{...s,ref:c})});k2.displayName=A2;var hb="PopperContent",[Dz,Rz]=S2(hb),E2=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,g=C2(hb,r),[y,b]=x.useState(null),w=Ve(t,ie=>b(ie)),[j,N]=x.useState(null),S=ub(j),_=S?.width??0,C=S?.height??0,E=n+(o!=="center"?"-"+o:""),$=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(d)?d:[d],P=k.length>0,O={padding:$,boundary:k.filter(Lz),altBoundary:P},{refs:T,floatingStyles:I,placement:R,isPositioned:D,middlewareData:M}=jz({strategy:"fixed",placement:E,whileElementsMounted:(...ie)=>hz(...ie,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[Nz({mainAxis:s+C,alignmentAxis:i}),l&&_z({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Sz():void 0,...O}),l&&Cz({...O}),Pz({...O,apply:({elements:ie,rects:we,availableWidth:oe,availableHeight:he})=>{const{width:je,height:X}=we.reference,Ye=ie.floating.style;Ye.setProperty("--radix-popper-available-width",`${oe}px`),Ye.setProperty("--radix-popper-available-height",`${he}px`),Ye.setProperty("--radix-popper-anchor-width",`${je}px`),Ye.setProperty("--radix-popper-anchor-height",`${X}px`)}}),j&&kz({element:j,padding:c}),Fz({arrowWidth:_,arrowHeight:C}),h&&Az({strategy:"referenceHidden",...O})]}),[U,ne]=$2(R),K=or(v);_r(()=>{D&&K?.()},[D,K]);const ae=M.arrow?.x,de=M.arrow?.y,_e=M.arrow?.centerOffset!==0,[Ke,q]=x.useState();return _r(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:D?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Dz,{scope:r,placedSide:U,onArrowChange:N,arrowX:ae,arrowY:de,shouldHideArrow:_e,children:a.jsx(ke.div,{"data-side":U,"data-align":ne,...m,ref:w,style:{...m.style,animation:D?void 0:"none"}})})})});E2.displayName=hb;var O2="PopperArrow",Iz={top:"bottom",right:"left",bottom:"top",left:"right"},T2=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=Rz(O2,n),i=Iz[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(Oz,{...s,ref:r,style:{...s.style,display:"block"}})})});T2.displayName=O2;function Lz(e){return e!==null}var Fz=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,c=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[d,u]=$2(r),f={start:"0%",center:"50%",end:"100%"}[u],h=(s.arrow?.x??0)+c/2,p=(s.arrow?.y??0)+l/2;let v="",m="";return d==="bottom"?(v=i?f:`${h}px`,m=`${-l}px`):d==="top"?(v=i?f:`${h}px`,m=`${n.floating.height+l}px`):d==="right"?(v=`${-l}px`,m=i?f:`${p}px`):d==="left"&&(v=`${n.floating.width+l}px`,m=i?f:`${p}px`),{data:{x:v,y:m}}}});function $2(e){const[t,r="center"]=e.split("-");return[t,r]}var _m=P2,Wd=k2,Sm=E2,Cm=T2,zz="VisuallyHidden",mb=x.forwardRef((e,t)=>a.jsx(ke.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));mb.displayName=zz;var Bz=mb,[Pm]=ia("Tooltip",[Us]),Am=Us(),Vz="TooltipProvider",Ov="tooltip.open",[M1e,pb]=Pm(Vz),km="Tooltip",[Uz,Em]=Pm(km),M2=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:c}=e,l=pb(km,e.__scopeTooltip),d=Am(t),[u,f]=x.useState(null),h=Sn(),p=x.useRef(0),v=i??l.disableHoverableContent,m=c??l.delayDuration,g=x.useRef(!1),[y=!1,b]=Ea({prop:n,defaultProp:s,onChange:_=>{_?(l.onOpen(),document.dispatchEvent(new CustomEvent(Ov))):l.onClose(),o?.(_)}}),w=x.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),j=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,b(!0)},[b]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),S=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,b(!0),p.current=0},m)},[m,b]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(_m,{...d,children:a.jsx(Uz,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?S():j()},[l.isOpenDelayed,S,j]),onTriggerLeave:x.useCallback(()=>{v?N():(window.clearTimeout(p.current),p.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:r})})};M2.displayName=km;var Tv="TooltipTrigger",D2=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Em(Tv,r),o=pb(Tv,r),i=Am(r),c=x.useRef(null),l=Ve(t,c,s.onTriggerChange),d=x.useRef(!1),u=x.useRef(!1),f=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Wd,{asChild:!0,...i,children:a.jsx(ke.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:ge(e.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:ge(e.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:ge(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ge(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:ge(e.onBlur,s.onClose),onClick:ge(e.onClick,s.onClose)})})});D2.displayName=Tv;var qz="TooltipPortal",[D1e,Wz]=Pm(qz,{forceMount:void 0}),Mi="TooltipContent",R2=x.forwardRef((e,t)=>{const r=Wz(Mi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Em(Mi,e.__scopeTooltip);return a.jsx(kr,{present:n||i.open,children:i.disableHoverableContent?a.jsx(I2,{side:s,...o,ref:t}):a.jsx(Hz,{side:s,...o,ref:t})})}),Hz=x.forwardRef((e,t)=>{const r=Em(Mi,e.__scopeTooltip),n=pb(Mi,e.__scopeTooltip),s=x.useRef(null),o=Ve(t,s),[i,c]=x.useState(null),{trigger:l,onClose:d}=r,u=s.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{c(null),f(!1)},[f]),p=x.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=Zz(y,g.getBoundingClientRect()),w=Xz(y,b),j=Jz(m.getBoundingClientRect()),N=eB([...w,...j]);c(N),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&u){const v=g=>p(g,u),m=g=>p(g,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",m)}}},[l,u,p,h]),x.useEffect(()=>{if(i){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},b=l?.contains(g)||u?.contains(g),w=!Qz(y,i);b?h():w&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,i,d,h]),a.jsx(I2,{...e,ref:o})}),[Gz,Kz]=Pm(km,{isInside:!1}),I2=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...c}=e,l=Em(Mi,r),d=Am(r),{onClose:u}=l;return x.useEffect(()=>(document.addEventListener(Ov,u),()=>document.removeEventListener(Ov,u)),[u]),x.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),a.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:a.jsxs(Sm,{"data-state":l.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(By,{children:n}),a.jsx(Gz,{scope:r,isInside:!0,children:a.jsx(Bz,{id:l.contentId,role:"tooltip",children:s||n})})]})})});R2.displayName=Mi;var L2="TooltipArrow",Yz=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Am(r);return Kz(L2,r).isInside?null:a.jsx(Cm,{...s,...n,ref:t})});Yz.displayName=L2;function Zz(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Xz(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Jz(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Qz(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o].x,l=t[o].y,d=t[i].x,u=t[i].y;l>n!=u>n&&r<(d-c)*(n-l)/(u-l)+c&&(s=!s)}return s}function eB(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),tB(t)}function tB(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var rB=M2,nB=D2,F2=R2;const aB=rB,sB=nB,z2=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(F2,{ref:n,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));z2.displayName=F2.displayName;const oB="sidebar:state",iB=60*60*24*7,cB="16rem",lB="18rem",dB="3rem",uB="b",B2=A.createContext(null);function Hd(){const e=A.useContext(B2);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const V2=A.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:o,...i},c)=>{const l=VP(),[d,u]=A.useState(!1),[f,h]=A.useState(e),p=t??f,v=A.useCallback(b=>{const w=typeof b=="function"?b(p):b;r?r(w):h(w),document.cookie=`${oB}=${w}; path=/; max-age=${iB}`},[r,p]),m=A.useCallback(()=>l?u(b=>!b):v(b=>!b),[l,v,u]);A.useEffect(()=>{const b=w=>{w.key===uB&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),m())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[m]);const g=p?"expanded":"collapsed",y=A.useMemo(()=>({state:g,open:p,setOpen:v,isMobile:l,openMobile:d,setOpenMobile:u,toggleSidebar:m}),[g,p,v,l,d,u,m]);return a.jsx(B2.Provider,{value:y,children:a.jsx("div",{style:{"--sidebar-width":cB,"--sidebar-width-icon":dB,...s},className:Q("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...i,children:o})})});V2.displayName="SidebarProvider";const U2=A.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},i)=>{const{isMobile:c,state:l,openMobile:d,setOpenMobile:u}=Hd();return r==="none"?a.jsx("div",{className:Q("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...o,children:s}):c?a.jsx(f2,{open:d,onOpenChange:u,...o,children:a.jsx(ab,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":lB},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:Q("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:Q("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});U2.displayName="Sidebar";const q2=A.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=Hd();return a.jsxs(z,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Q("h-7 w-7",e),onClick:o=>{t?.(o),s()},...r,children:[a.jsx(Z3,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});q2.displayName="SidebarTrigger";const fB=A.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Hd();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:Q("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});fB.displayName="SidebarRail";const hB=A.forwardRef(({className:e,...t},r)=>a.jsx("main",{ref:r,className:Q("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));hB.displayName="SidebarInset";const mB=A.forwardRef(({className:e,...t},r)=>a.jsx(se,{ref:r,"data-sidebar":"input",className:Q("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));mB.displayName="SidebarInput";const W2=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:Q("flex flex-col gap-2 p-2",e),...t}));W2.displayName="SidebarHeader";const H2=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:Q("flex flex-col gap-2 p-2",e),...t}));H2.displayName="SidebarFooter";const pB=A.forwardRef(({className:e,...t},r)=>a.jsx(Ha,{ref:r,"data-sidebar":"separator",className:Q("mx-2 w-auto bg-sidebar-border",e),...t}));pB.displayName="SidebarSeparator";const G2=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:Q("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));G2.displayName="SidebarContent";const $v=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:Q("relative flex w-full min-w-0 flex-col p-2",e),...t}));$v.displayName="SidebarGroup";const Mv=A.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Ur:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:Q("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Mv.displayName="SidebarGroupLabel";const gB=A.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Ur:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:Q("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});gB.displayName="SidebarGroupAction";const Dv=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:Q("w-full text-sm",e),...t}));Dv.displayName="SidebarGroupContent";const of=A.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:Q("flex w-full min-w-0 flex-col gap-1",e),...t}));of.displayName="SidebarMenu";const cf=A.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:Q("group/menu-item relative",e),...t}));cf.displayName="SidebarMenuItem";const vB=vc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),lf=A.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:o,...i},c)=>{const l=e?Ur:"button",{isMobile:d,state:u}=Hd(),f=a.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:Q(vB({variant:r,size:n}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(aB,{children:[a.jsx(sB,{asChild:!0,children:f}),a.jsx(z2,{side:"right",align:"center",hidden:u!=="collapsed"||d,...s})]})):f});lf.displayName="SidebarMenuButton";const xB=A.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?Ur:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:Q("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});xB.displayName="SidebarMenuAction";const yB=A.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:Q("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));yB.displayName="SidebarMenuBadge";const bB=A.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=A.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:Q("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&a.jsx(jn,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(jn,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});bB.displayName="SidebarMenuSkeleton";const jB=A.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:Q("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));jB.displayName="SidebarMenuSub";const wB=A.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));wB.displayName="SidebarMenuSubItem";const NB=A.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const i=e?Ur:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:Q("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});NB.displayName="SidebarMenuSubButton";const _B=[{title:"Dashboard",href:"/",icon:q3},{title:"Flor AI",href:"/flor-ai",icon:k3},{title:"Minha Agenda",href:"/minha-agenda",icon:Se},{title:"Clientes",href:"/clientes",icon:qr},{title:"Servios",href:"/servicos",icon:un},{title:"Cronogramas",href:"/cronogramas",icon:at},{title:"Financeiro",href:"/financeiro",icon:dt},{title:"Marketing",href:"/marketing",icon:Y3},{title:"Produtos",href:"/produtos",icon:Na},{title:"Assinatura",href:"/assinatura",icon:_a},{title:"Configuraes",href:"/configuracoes",icon:Ti}];function SB(){const{state:e,setOpen:t,open:r}=Hd(),n=VP(),s=zs(),{usuario:o,signOut:i}=It(),c=s.pathname,l=u=>c===u,d=()=>{n&&t(!1)};return a.jsxs(U2,{className:"border-r border-border/50 bg-card/80 backdrop-blur-xl transition-all duration-300 ease-in-out",collapsible:"icon",variant:"sidebar",children:[a.jsx(W2,{className:"border-b border-border/50",children:a.jsxs("div",{className:"flex items-center gap-2 p-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light flex-shrink-0",children:a.jsx(_a,{className:"h-4 w-4 text-primary-foreground"})}),e==="expanded"&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-sm font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent truncate",children:o?.nome_personalizado_app||"Sistema"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o?.nome_completo})]})]})}),a.jsxs(G2,{children:[a.jsxs($v,{children:[a.jsx(Mv,{children:"Navegao"}),a.jsx(Dv,{children:a.jsx(of,{children:_B.map(u=>{const f=u.icon,h=l(u.href);return a.jsx(cf,{children:a.jsx(lf,{asChild:!0,isActive:h,className:"data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary data-[active=true]:to-lilac-primary data-[active=true]:text-primary-foreground",children:a.jsxs(ki,{to:u.href,className:"flex items-center gap-2",onClick:d,children:[a.jsx(f,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:u.title})]})})},u.href)})})})]}),a.jsxs($v,{children:[a.jsx(Mv,{children:"Links Externos"}),a.jsx(Dv,{children:a.jsx(of,{children:a.jsx(cf,{children:a.jsx(lf,{asChild:!0,children:a.jsxs(ki,{to:"/agendamento-online",target:"_blank",className:"flex items-center gap-2 text-primary",children:[a.jsx(um,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Agendamento Online"})]})})})})})]})]}),a.jsx(H2,{className:"border-t border-border/50",children:a.jsx(of,{children:a.jsx(cf,{children:a.jsxs(lf,{onClick:i,className:"text-destructive hover:text-destructive hover:bg-destructive/5",children:[a.jsx(H3,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Sair"})]})})})})]})}const CB=vc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Jr=x.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Q(CB({variant:t}),e),...r}));Jr.displayName="Alert";const K2=x.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:Q("mb-1 font-medium leading-none tracking-tight",e),...t}));K2.displayName="AlertTitle";const Qr=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Q("text-sm [&_p]:leading-relaxed",e),...t}));Qr.displayName="AlertDescription";const PB=()=>{const{subscription:e}=It(),t=Ar();if(!e||e.status!=="trial")return null;const r=e.trial_days_remaining||0,n=()=>r<=2?"destructive":"default",s=()=>r===1?" ltimo dia do teste grtis!":r===0?" Seu teste grtis termina hoje!":` Voc tem ${r} dias restantes de teste grtis`;return a.jsx(Jr,{variant:n(),className:"mb-4 border-2",children:a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(at,{className:"h-5 w-5"}),a.jsx(Qr,{className:"font-medium",children:s()})]}),a.jsxs(z,{onClick:()=>t("/assinatura"),size:"sm",variant:r<=2?"default":"outline",className:"gap-2",children:[a.jsx(So,{className:"h-4 w-4"}),"Assinar Agora - R$ 20/ms"]})]})})},AB=()=>{const{subscription:e}=It(),t=Ar();return x.useEffect(()=>{e?.is_trial_expired&&e?.status!=="active"&&window.location.pathname!=="/assinatura"&&(console.log("[TRIAL-STATUS] Trial expired, redirecting to subscription page"),t("/assinatura",{replace:!0}))},[e,t]),null},kB=[{title:"Dashboard",href:"/"},{title:"Consultor IA",href:"/consultor"},{title:"Agendamentos",href:"/agendamentos"},{title:"Clientes",href:"/clientes"},{title:"Servios",href:"/servicos"},{title:"Cronogramas",href:"/cronogramas"},{title:"Agenda",href:"/agenda"},{title:"Financeiro",href:"/financeiro"},{title:"Marketing",href:"/marketing"},{title:"Auditoria",href:"/auditoria"},{title:"Configuraes",href:"/configuracoes"}];function EB({children:e}){const t=zs();return a.jsxs(V2,{children:[a.jsx(AB,{}),a.jsxs("div",{className:"min-h-screen flex w-full bg-gradient-to-br from-background via-lilac-lighter to-background",children:[a.jsx(SB,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("header",{className:"sticky top-0 z-30 flex h-14 xs:h-16 items-center gap-2 xs:gap-4 bg-card/80 backdrop-blur-xl border-b border-border/50 p-responsive-sm",children:[a.jsx(q2,{className:"btn-touch flex-shrink-0"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("h1",{className:"text-responsive-lg font-semibold text-foreground truncate",children:kB.find(r=>r.href===t.pathname)?.title||"Dashboard"})}),a.jsx(z,{variant:"outline",size:"sm",asChild:!0,className:"gap-1 xs:gap-2 border-primary/20 text-primary hover:bg-primary/5 btn-touch flex-shrink-0 text-responsive-xs",children:a.jsxs("a",{href:"/agendamento-online",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Se,{className:"h-3 w-3 xs:h-4 xs:w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden xs:inline",children:"Agendamento Online"}),a.jsx("span",{className:"xs:hidden",children:"Online"}),a.jsx(um,{className:"h-2 w-2 xs:h-3 xs:w-3 flex-shrink-0"})]})})]}),a.jsx("main",{className:"flex-1 p-responsive overflow-auto",children:a.jsxs("div",{className:"container-responsive max-w-none",children:[a.jsx(PB,{}),e]})})]})]})]})}function Gr({children:e}){return a.jsx(EB,{children:e})}const Gd=()=>{const{user:e}=It(),[t,r]=x.useState([]),[n,s]=x.useState(null),[o,i]=x.useState(null),[c,l]=x.useState(!0),d=async()=>{if(e?.id)try{const{data:w,error:j}=await W.from("configuracoes_horarios").select("*").eq("user_id",e.id).order("dia_semana");if(j)throw j;r(w||[])}catch(w){console.error("Erro ao buscar configuraes de horrios:",w),V.error("Erro ao carregar configuraes de horrios")}},u=async()=>{if(e?.id)try{const{data:w,error:j}=await W.from("configuracoes_notificacoes").select("*").eq("user_id",e.id).single();if(j&&j.code!=="PGRST116")throw j;s(w)}catch(w){console.error("Erro ao buscar configuraes de notificaes:",w),V.error("Erro ao carregar configuraes de notificaes")}},f=async()=>{if(e?.id)try{const{data:w,error:j}=await W.from("configuracoes_backup").select("*").eq("user_id",e.id).single();if(j&&j.code!=="PGRST116")throw j;i(w)}catch(w){console.error("Erro ao buscar configuraes de backup:",w),V.error("Erro ao carregar configuraes de backup")}},h=async w=>{if(e?.id)try{const j={...w,user_id:e.id,dia_semana:w.dia_semana,horario_abertura:w.horario_abertura,horario_fechamento:w.horario_fechamento},{data:N,error:S}=await W.from("configuracoes_horarios").upsert(j).select();if(S)throw S;return await d(),V.success("Configurao de horrio salva com sucesso!"),N}catch(j){throw console.error("Erro ao salvar configurao de horrio:",j),V.error("Erro ao salvar configurao de horrio"),j}},p=async w=>{if(e?.id)try{const{data:j,error:N}=await W.from("configuracoes_notificacoes").upsert({...w,user_id:e.id}).select();if(N)throw N;return await u(),V.success("Configuraes de notificaes salvas com sucesso!"),j}catch(j){throw console.error("Erro ao salvar configuraes de notificaes:",j),V.error("Erro ao salvar configuraes de notificaes"),j}},v=async w=>{if(e?.id)try{const{data:j,error:N}=await W.from("configuracoes_backup").upsert({...w,user_id:e.id},{onConflict:"user_id"}).select();if(N)throw N;return await f(),V.success("Configuraes de backup salvas com sucesso!"),j}catch(j){throw console.error("Erro ao salvar configuraes de backup:",j),V.error("Erro ao salvar configuraes de backup"),j}},m=async w=>{try{const{error:j}=await W.from("configuracoes_horarios").delete().eq("id",w);if(j)throw j;await d(),V.success("Configurao de horrio removida com sucesso!")}catch(j){throw console.error("Erro ao deletar configurao de horrio:",j),V.error("Erro ao remover configurao de horrio"),j}},g=w=>t.find(j=>j.dia_semana===w),y=(w,j)=>{const N=g(w);if(!N||!N.ativo)return!1;const[S,_]=j.split(":").map(Number),[C,E]=N.horario_abertura.split(":").map(Number),[$,k]=N.horario_fechamento.split(":").map(Number),P=S*60+_,O=C*60+E,T=$*60+k;if(P<O||P>=T)return!1;if(N.intervalo_inicio&&N.intervalo_fim){const[I,R]=N.intervalo_inicio.split(":").map(Number),[D,M]=N.intervalo_fim.split(":").map(Number),U=I*60+R,ne=D*60+M;if(P>=U&&P<ne)return!1}return!0},b=(w,j=60)=>{const N=g(w);if(!N||!N.ativo)return[];const S=[],[_,C]=N.horario_abertura.split(":").map(Number),[E,$]=N.horario_fechamento.split(":").map(Number),k=_*60+C,P=E*60+$,O=30;for(let T=k;T+j<=P;T+=O){const I=Math.floor(T/60),R=T%60,D=`${I.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`;y(w,D)&&S.push(D)}return S};return x.useEffect(()=>{if(e?.id){(async()=>{l(!0),await Promise.all([d(),u(),f()]),l(!1)})();const j=W.channel("configuracoes_horarios_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_horarios",filter:`user_id=eq.${e.id}`},()=>{d()}).subscribe(),N=W.channel("configuracoes_notificacoes_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_notificacoes",filter:`user_id=eq.${e.id}`},()=>{u()}).subscribe(),S=W.channel("configuracoes_backup_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_backup",filter:`user_id=eq.${e.id}`},()=>{f()}).subscribe();return()=>{W.removeChannel(j),W.removeChannel(N),W.removeChannel(S)}}},[e?.id]),{configuracaoHorarios:t,configuracaoNotificacoes:n,configuracaoBackup:o,loading:c,salvarHorario:h,salvarNotificacoes:p,salvarBackup:v,deletarHorario:m,buscarHorariosPorDia:g,verificarDisponibilidade:y,getHorariosDisponiveisDia:b,refetch:()=>{d(),u(),f()}}};function Y2(){const{user:e}=It();Gd();const[t,r]=x.useState([]),[n,s]=x.useState([]),[o,i]=x.useState(!1),[c,l]=x.useState({}),[d,u]=x.useState(1),[f]=x.useState(10),h=async(k,P)=>{if(!e)return!1;try{const O=P.includes(":")?P:`${P}:00`,{data:T,error:I}=await W.rpc("buscar_horarios_com_multiplos_intervalos",{data_selecionada:k,user_id_param:e.id,duracao_servico:30});return I?(console.error("Erro ao verificar disponibilidade:",I),!1):T?.some(R=>{const D=R.horario,M=D?D.substring(0,5):"";return(D===O||M===P)&&R.disponivel===!0})||!1}catch(O){return console.error("Erro ao verificar disponibilidade:",O),!1}},p=async()=>{if(!e)return[];try{const{data:k,error:P}=await W.from("agendamentos").select("*").eq("user_id",e.id).order("data").order("hora");return P?(console.error("Erro ao carregar agendamentos regulares:",P),[]):(k||[]).map(O=>({id:O.id,clienteId:O.cliente_id,clienteNome:"Cliente",servicoId:O.servico_id,servicoNome:"Servio",data:O.data,hora:O.hora,duracao:O.duracao,valor:parseFloat(O.valor?.toString()||"0"),valorPago:parseFloat(O.valor_pago?.toString()||"0"),valorDevido:parseFloat(O.valor_devido?.toString()||"0"),formaPagamento:O.forma_pagamento||"fiado",statusPagamento:O.status_pagamento||"em_aberto",status:O.status||"agendado",origem:O.origem||"manual",origem_cronograma:!1,confirmado:O.confirmado,observacoes:O.observacoes||void 0,createdAt:O.created_at,updatedAt:O.updated_at}))}catch(k){return console.error("Erro ao carregar agendamentos regulares:",k),[]}},v=async()=>{try{const{data:k,error:P}=await W.from("agendamentos_online").select("*").in("status",["pendente","confirmado"]).order("created_at",{ascending:!1});return P?(console.error("Erro ao carregar agendamentos online:",P),[]):(k||[]).map(O=>({id:O.id,nome_completo:O.nome_completo,email:O.email,telefone:O.telefone,servico_id:O.servico_id,data:O.data,horario:O.horario,observacoes:O.observacoes,status:O.status,valor:parseFloat(O.valor?.toString()||"0"),duracao:O.duracao,created_at:O.created_at,updated_at:O.updated_at}))}catch(k){return console.error("Erro ao carregar agendamentos online:",k),[]}},m=k=>({id:`online_${k.id}`,clienteId:"",clienteNome:k.nome_completo,servicoId:k.servico_id,servicoNome:"Servio Online",data:k.data,hora:k.horario,duracao:k.duracao,valor:k.valor,valorPago:0,valorDevido:k.valor,formaPagamento:"fiado",statusPagamento:"em_aberto",status:(k.status==="confirmado","agendado"),origem:"online",origem_cronograma:!1,confirmado:k.status==="confirmado",observacoes:k.observacoes,createdAt:k.created_at,updatedAt:k.updated_at}),g=async()=>{i(!0);try{const[k,P]=await Promise.all([p(),v()]);r(k),s(P)}catch(k){console.error("Erro ao carregar agendamentos:",k),V.error("Erro ao carregar agendamentos")}finally{i(!1)}},y=x.useMemo(()=>{const k=n.map(m);return[...t,...k]},[t,n]);x.useEffect(()=>{g();const k=W.channel("agendamentos-online-changes").on("postgres_changes",{event:"*",schema:"public",table:"agendamentos_online"},()=>{g()}).subscribe(),P=W.channel("agendamentos-regular-changes").on("postgres_changes",{event:"*",schema:"public",table:"agendamentos",filter:e?`user_id=eq.${e.id}`:void 0},()=>{g()}).subscribe();return()=>{W.removeChannel(k),W.removeChannel(P)}},[e]);const b=x.useMemo(()=>{let k=[...y];if(!c.data){const P=new Date,O=c.periodo??"mes_atual",I=(()=>{if(O==="mes_anterior"){const R=P.getMonth()===0?P.getFullYear()-1:P.getFullYear(),D=P.getMonth()===0?11:P.getMonth()-1,M=new Date(R,D,1),U=new Date(R,D+1,0);return{inicio:M,fim:U}}if(O==="proximo_mes"){const R=P.getMonth()===11?P.getFullYear()+1:P.getFullYear(),D=P.getMonth()===11?0:P.getMonth()+1,M=new Date(R,D,1),U=new Date(R,D+1,0);return{inicio:M,fim:U}}if(O==="mes_atual"){const R=new Date(P.getFullYear(),P.getMonth(),1),D=new Date(P.getFullYear(),P.getMonth()+1,0);return{inicio:R,fim:D}}return null})();if(I){const{inicio:R,fim:D}=I;k=k.filter(M=>{const U=new Date(M.data);return U>=R&&U<=D})}}return c.data&&(k=k.filter(P=>P.data===c.data)),c.status&&(k=k.filter(P=>P.status===c.status)),c.statusPagamento&&(k=k.filter(P=>P.statusPagamento===c.statusPagamento)),c.clienteId&&(k=k.filter(P=>P.clienteId===c.clienteId)),c.origem&&(k=k.filter(P=>P.origem===c.origem)),k.sort((P,O)=>{const T=new Date(`${P.data}T${P.hora}`),I=new Date(`${O.data}T${O.hora}`);return T.getTime()-I.getTime()}),k},[y,c]),w=Math.ceil(b.length/f),j=x.useMemo(()=>{const k=(d-1)*f,P=k+f;return b.slice(k,P)},[b,d,f]),N=async k=>{if(!e)return V.error("Usurio no autenticado"),!1;i(!0);try{const{data:P,error:O}=await W.rpc("converter_agendamento_online",{agendamento_online_id:k,user_id:e.id});return O?(console.error("Erro ao converter agendamento:",O),V.error("Erro ao converter agendamento"),!1):(await g(),V.success("Agendamento convertido com sucesso!"),!0)}catch(P){return console.error("Erro ao converter agendamento:",P),V.error("Erro ao converter agendamento"),!1}finally{i(!1)}},S=async k=>{i(!0);try{const{error:P}=await W.from("agendamentos_online").update({status:"confirmado"}).eq("id",k);return P?(console.error("Erro ao confirmar agendamento:",P),V.error("Erro ao confirmar agendamento"),!1):(await g(),V.success("Agendamento confirmado!"),!0)}catch(P){return console.error("Erro ao confirmar agendamento:",P),V.error("Erro ao confirmar agendamento"),!1}finally{i(!1)}},_=async k=>{if(!e)return V.error("Usurio no autenticado"),!1;if(!await h(k.data,k.hora))return V.error("Horrio no disponvel para agendamento"),!1;i(!0);try{const{data:O,error:T}=await W.from("agendamentos").insert({user_id:e.id,cliente_id:k.clienteId,servico_id:k.servicoId,data:k.data,hora:k.hora,duracao:k.duracao,valor:k.valor,valor_pago:k.valorPago||0,valor_devido:k.valorDevido||k.valor,forma_pagamento:k.formaPagamento||"fiado",status_pagamento:k.statusPagamento||"em_aberto",status:k.status||"agendado",origem:k.origem||"manual",confirmado:k.confirmado??!1,observacoes:k.observacoes||null}).select().single();return T?(console.error("Erro ao criar agendamento:",T),V.error("Erro ao criar agendamento"),!1):(await g(),V.success("Agendamento criado com sucesso!"),!0)}catch(O){return console.error("Erro ao criar agendamento:",O),V.error("Erro ao criar agendamento"),!1}finally{i(!1)}},C=async(k,P)=>{if(!e)return V.error("Usurio no autenticado"),!1;if(k.startsWith("online_")){const O=k.replace("online_","");return await S(O)}i(!0);try{const O={};P.clienteId!==void 0&&(O.cliente_id=P.clienteId),P.servicoId!==void 0&&(O.servico_id=P.servicoId),P.data!==void 0&&(O.data=P.data),P.hora!==void 0&&(O.hora=P.hora),P.duracao!==void 0&&(O.duracao=P.duracao),P.valor!==void 0&&(O.valor=P.valor),P.valorPago!==void 0&&(O.valor_pago=P.valorPago),P.valorDevido!==void 0&&(O.valor_devido=P.valorDevido),P.formaPagamento!==void 0&&(O.forma_pagamento=P.formaPagamento),P.statusPagamento!==void 0&&(O.status_pagamento=P.statusPagamento),P.status!==void 0&&(O.status=P.status),P.origem!==void 0&&(O.origem=P.origem),P.confirmado!==void 0&&(O.confirmado=P.confirmado),P.observacoes!==void 0&&(O.observacoes=P.observacoes||null);const{error:T}=await W.from("agendamentos").update(O).eq("id",k).eq("user_id",e.id);return T?(console.error("Erro ao atualizar agendamento:",T),V.error("Erro ao atualizar agendamento"),!1):(await g(),V.success("Agendamento atualizado com sucesso!"),!0)}catch(O){return console.error("Erro ao atualizar agendamento:",O),V.error("Erro ao atualizar agendamento"),!1}finally{i(!1)}},E=async k=>{if(!e)return V.error("Usurio no autenticado"),!1;if(k.startsWith("online_")){const P=k.replace("online_","");i(!0);try{console.log(" Executando delete de agendamento online no Supabase...",P);const{error:O}=await W.from("agendamentos_online").delete().eq("id",P);return O?(console.error(" Erro do Supabase ao excluir agendamento online:",O),V.error("Erro ao excluir agendamento online: "+O.message),!1):(console.log(" Agendamento online excludo com sucesso no banco"),await g(),V.success("Agendamento online excludo com sucesso!"),!0)}catch(O){return console.error(" Erro ao excluir agendamento online:",O),V.error("Erro ao excluir agendamento online"),!1}finally{i(!1)}}i(!0);try{console.log(" Executando delete de agendamento no Supabase...",k);const{error:P}=await W.from("agendamentos").delete().eq("id",k).eq("user_id",e.id);return P?(console.error(" Erro do Supabase ao excluir agendamento:",P),V.error("Erro ao excluir agendamento: "+P.message),!1):(console.log(" Agendamento excludo com sucesso no banco"),await g(),V.success("Agendamento excludo com sucesso!"),!0)}catch(P){return console.error(" Erro ao excluir agendamento:",P),V.error("Erro ao excluir agendamento"),!1}finally{i(!1)}};return{loading:o,agendamentos:j,agendamentosFiltrados:b,todosAgendamentos:y,filtros:c,setFiltros:l,paginaAtual:d,setPaginaAtual:u,totalPaginas:w,criarAgendamento:_,atualizarAgendamento:C,excluirAgendamento:E,cancelarAgendamento:async k=>k.startsWith("online_")?await E(k):await C(k,{status:"cancelado"}),recarregar:g,converterAgendamentoOnlineParaRegular:N,confirmarAgendamentoOnline:S,verificarHorarioDisponivel:h}}function Kd(){const{user:e}=It(),[t,r]=x.useState([]),[n,s]=x.useState(!1),[o,i]=x.useState({ordenacao:"nome",direcao:"asc"}),c=async()=>{if(e){s(!0);try{const{data:p,error:v}=await W.from("servicos").select("*").eq("user_id",e.id).order("nome");if(v){console.error("Erro ao carregar servios:",v),V.error("Erro ao carregar servios");return}const m=(p||[]).map(g=>({id:g.id,nome:g.nome,valor:parseFloat(g.valor.toString()),duracao:g.duracao,descricao:g.descricao||void 0,observacoes:g.observacoes||void 0,createdAt:g.created_at,updatedAt:g.updated_at}));r(m)}catch(p){console.error("Erro ao carregar servios:",p),V.error("Erro ao carregar servios")}finally{s(!1)}}};x.useEffect(()=>{c()},[e]);const l=x.useMemo(()=>{let p=[...t];if(o.busca){const v=o.busca.toLowerCase();p=p.filter(m=>m.nome.toLowerCase().includes(v)||m.descricao?.toLowerCase().includes(v))}return o.ordenacao&&p.sort((v,m)=>{const g=o.ordenacao;let y=v[g],b=m[g];return typeof y=="string"&&(y=y.toLowerCase(),b=b.toLowerCase()),o.direcao==="desc"?b>y?1:b<y?-1:0:y>b?1:y<b?-1:0}),p},[t,o]);return{loading:n,servicos:l,todosServicos:t,filtros:o,setFiltros:i,criarServico:async p=>{if(!e)return V.error("Usurio no autenticado"),!1;if(!p.nome.trim())return V.error("Nome do servio  obrigatrio"),!1;if(p.valor<=0||p.duracao<=0)return V.error("Valor e durao devem ser maiores que zero"),!1;if(t.find(m=>m.nome.toLowerCase()===p.nome.toLowerCase()))return V.error("J existe um servio com este nome"),!1;s(!0);try{const{data:m,error:g}=await W.from("servicos").insert({user_id:e.id,nome:p.nome,valor:p.valor,duracao:p.duracao,descricao:p.descricao||null,observacoes:p.observacoes||null}).select().single();if(g)return console.error("Erro ao criar servio:",g),V.error("Erro ao criar servio"),!1;const y={id:m.id,nome:m.nome,valor:parseFloat(m.valor.toString()),duracao:m.duracao,descricao:m.descricao||void 0,observacoes:m.observacoes||void 0,createdAt:m.created_at,updatedAt:m.updated_at};return r(b=>[...b,y]),V.success("Servio criado com sucesso!"),!0}catch(m){return console.error("Erro ao criar servio:",m),V.error("Erro ao criar servio"),!1}finally{s(!1)}},atualizarServico:async(p,v)=>{if(!e)return V.error("Usurio no autenticado"),!1;if(v.nome!==void 0&&!v.nome.trim())return V.error("Nome do servio  obrigatrio"),!1;if(v.valor!==void 0&&v.valor<=0)return V.error("Valor deve ser maior que zero"),!1;if(v.duracao!==void 0&&v.duracao<=0)return V.error("Durao deve ser maior que zero"),!1;s(!0);try{const m={};v.nome!==void 0&&(m.nome=v.nome),v.valor!==void 0&&(m.valor=v.valor),v.duracao!==void 0&&(m.duracao=v.duracao),v.descricao!==void 0&&(m.descricao=v.descricao||null),v.observacoes!==void 0&&(m.observacoes=v.observacoes||null);const{data:g,error:y}=await W.from("servicos").update(m).eq("id",p).eq("user_id",e.id).select().single();if(y)return console.error("Erro ao atualizar servio:",y),V.error("Erro ao atualizar servio"),!1;const b={id:g.id,nome:g.nome,valor:parseFloat(g.valor.toString()),duracao:g.duracao,descricao:g.descricao||void 0,observacoes:g.observacoes||void 0,createdAt:g.created_at,updatedAt:g.updated_at};return r(w=>w.map(j=>j.id===p?b:j)),V.success("Servio atualizado com sucesso!"),!0}catch(m){return console.error("Erro ao atualizar servio:",m),V.error("Erro ao atualizar servio"),!1}finally{s(!1)}},excluirServico:async p=>{if(!e)return V.error("Usurio no autenticado"),!1;s(!0);try{console.log(" Iniciando excluso de servio:",p,"Usurio:",e.id);const{data:v,error:m}=await W.rpc("test_delete_permissions",{table_name:"servicos",record_id:p});if(m)console.error(" Erro ao verificar permisses:",m);else{console.log(" Verificao de permisses:",v);const w=v;if(w&&typeof w=="object"&&!w.can_delete){if(!w.record_exists)return V.error("Servio no encontrado"),!1;if(!w.user_owns_record)return V.error("Voc no tem permisso para excluir este servio"),!1}}const{data:g,error:y}=await W.from("agendamentos_online").select("id, nome_completo").eq("servico_id",p);y&&console.error(" Erro ao verificar agendamentos online:",y);const{error:b}=await W.from("servicos").delete().eq("id",p).eq("user_id",e.id);return b?(console.error(" Erro do Supabase ao excluir servio:",b),V.error("Erro ao excluir servio: "+b.message),!1):(console.log(" Servio excludo com sucesso no banco"),g&&g.length>0?V.success(`Servio excludo com sucesso! ${g.length} agendamento(s) online foram atualizados.`):V.success("Servio excludo com sucesso!"),r(w=>{const j=w.filter(N=>N.id!==p);return console.log(" Lista de servios atualizada:",j.length,"servios"),j}),!0)}catch(v){return console.error("Erro ao excluir servio:",v),V.error("Erro ao excluir servio"),!1}finally{s(!1)}},obterServicoPorId:p=>t.find(v=>v.id===p),recarregar:c}}function Yd(){const{user:e}=It(),[t,r]=x.useState([]),[n,s]=x.useState(!1),o=async()=>{if(e){s(!0);try{await W.rpc("associar_clientes_agendamento_online",{p_user_id:e.id});const{data:u,error:f}=await W.from("clientes").select("*").eq("user_id",e.id).order("nome");if(f){console.error("Erro ao carregar clientes:",f),V.error("Erro ao carregar clientes");return}const h=(u||[]).map(p=>({id:p.id,nome:p.nome,nomeCompleto:p.nome,telefone:p.telefone,email:p.email||void 0,endereco:p.endereco||void 0,dataNascimento:p.data_nascimento||void 0,observacoes:p.observacoes||void 0,historicoServicos:Array.isArray(p.historico_servicos)?p.historico_servicos:[],servicoFrequente:void 0,ultimaVisita:void 0,createdAt:p.created_at,updatedAt:p.updated_at}));r(h)}catch(u){console.error("Erro ao carregar clientes:",u),V.error("Erro ao carregar clientes")}finally{s(!1)}}};return x.useEffect(()=>{o()},[e]),{loading:n,clientes:t,criarCliente:async u=>{if(!e)return V.error("Usurio no autenticado"),!1;const f=u.nome||u.nomeCompleto;if(!f?.trim())return V.error("Nome do cliente  obrigatrio"),!1;if(!u.telefone?.trim())return V.error("Telefone do cliente  obrigatrio"),!1;if(t.find(p=>p.nome?.toLowerCase()===f.toLowerCase()))return V.error("J existe um cliente com este nome"),!1;s(!0);try{const{data:p,error:v}=await W.from("clientes").insert({user_id:e.id,nome:f,telefone:u.telefone,email:u.email||null,endereco:u.endereco||null,data_nascimento:u.dataNascimento||null,observacoes:u.observacoes||null,historico_servicos:[]}).select().single();if(v)return console.error("Erro ao criar cliente:",v),V.error("Erro ao criar cliente"),!1;const m={id:p.id,nome:p.nome,nomeCompleto:p.nome,telefone:p.telefone,email:p.email||void 0,endereco:p.endereco||void 0,dataNascimento:p.data_nascimento||void 0,observacoes:p.observacoes||void 0,historicoServicos:p.historico_servicos||[],servicoFrequente:void 0,ultimaVisita:void 0,createdAt:p.created_at,updatedAt:p.updated_at};return r(g=>[...g,m]),V.success("Cliente criado com sucesso!"),!0}catch(p){return console.error("Erro ao criar cliente:",p),V.error("Erro ao criar cliente"),!1}finally{s(!1)}},atualizarCliente:async(u,f)=>{if(!e)return V.error("Usurio no autenticado"),!1;s(!0);try{const h={};f.nome!==void 0&&(h.nome=f.nome),f.nomeCompleto!==void 0&&(h.nome=f.nomeCompleto),f.telefone!==void 0&&(h.telefone=f.telefone),f.email!==void 0&&(h.email=f.email||null),f.endereco!==void 0&&(h.endereco=f.endereco||null),f.dataNascimento!==void 0&&(h.data_nascimento=f.dataNascimento||null),f.observacoes!==void 0&&(h.observacoes=f.observacoes||null),f.historicoServicos!==void 0&&(h.historico_servicos=f.historicoServicos);const{data:p,error:v}=await W.from("clientes").update(h).eq("id",u).eq("user_id",e.id).select().single();if(v)return console.error("Erro ao atualizar cliente:",v),V.error("Erro ao atualizar cliente"),!1;const m={id:p.id,nome:p.nome,nomeCompleto:p.nome,telefone:p.telefone,email:p.email||void 0,endereco:p.endereco||void 0,dataNascimento:p.data_nascimento||void 0,observacoes:p.observacoes||void 0,historicoServicos:p.historico_servicos||[],servicoFrequente:void 0,ultimaVisita:void 0,createdAt:p.created_at,updatedAt:p.updated_at};return r(g=>g.map(y=>y.id===u?m:y)),V.success("Cliente atualizado com sucesso!"),!0}catch(h){return console.error("Erro ao atualizar cliente:",h),V.error("Erro ao atualizar cliente"),!1}finally{s(!1)}},excluirCliente:async u=>{if(console.log(" Iniciando excluso do cliente:",u),!e)return console.error(" Usurio no autenticado"),V.error("Usurio no autenticado"),!1;console.log(" Usurio autenticado:",e.id),s(!0);try{console.log(" Executando delete no Supabase...");const{error:f}=await W.from("clientes").delete().eq("id",u).eq("user_id",e.id);return f?(console.error(" Erro do Supabase ao excluir cliente:",f),V.error("Erro ao excluir cliente: "+f.message),!1):(console.log(" Cliente excludo com sucesso no banco"),r(h=>{const p=h.filter(v=>v.id!==u);return console.log(" Lista atualizada:",p.length,"clientes"),p}),V.success("Cliente excludo com sucesso!"),!0)}catch(f){return console.error("Erro ao excluir cliente:",f),V.error("Erro ao excluir cliente"),!1}finally{s(!1)}},obterClienteComEstatisticas:u=>t.find(f=>f.id===u),recarregar:o}}function ds(){const e=Y2(),{todosServicos:t}=Kd(),{clientes:r}=Yd(),n=x.useMemo(()=>(e.todosAgendamentos||[]).map(u=>{const f=r.find(p=>p.id===u.clienteId),h=t.find(p=>p.id===u.servicoId);return{...u,clienteNome:f?.nome||f?.nomeCompleto||u.clienteNome||"Cliente no encontrado",servicoNome:h?.nome||u.servicoNome||"Servio no encontrado",servicoValor:h?.valor||u.valor||0,servicoDuracao:h?.duracao||u.duracao||30,clienteEmail:f?.email||"",clienteTelefone:f?.telefone||"",servicoDescricao:h?.descricao||""}}),[e.todosAgendamentos,r,t]),s=d=>d.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),o=x.useMemo(()=>{let u=(e.agendamentosFiltrados||[]).map(h=>{const p=r.find(m=>m.id===h.clienteId),v=t.find(m=>m.id===h.servicoId);return{...h,clienteNome:p?.nome||p?.nomeCompleto||h.clienteNome||"Cliente no encontrado",servicoNome:v?.nome||h.servicoNome||"Servio no encontrado",servicoValor:v?.valor||h.valor||0,servicoDuracao:v?.duracao||h.duracao||30,clienteEmail:p?.email||"",clienteTelefone:p?.telefone||"",servicoDescricao:v?.descricao||""}});const f=e.filtros?.busca;if(f&&f.trim()){const h=s(f).split(/\s+/).filter(Boolean);u=u.filter(p=>{const v=s(`${p.clienteNome} ${p.servicoNome} ${p.clienteTelefone}`);return h.every(m=>v.includes(m))})}return u},[e.agendamentosFiltrados,e.filtros?.busca,r,t]);return{...e,todosAgendamentos:n,agendamentosFiltrados:o,clientes:r,servicos:t,verificarConflito:(d,u)=>{if(!d.data||!d.hora||!d.duracao)return!1;const f=new Date(`${d.data}T${d.hora}`),h=new Date(f.getTime()+d.duracao*6e4);return e.todosAgendamentos.some(p=>{if(p.id===u||p.data!==d.data)return!1;const v=new Date(`${p.data}T${p.hora}`),m=new Date(v.getTime()+p.duracao*6e4);return f>=v&&f<m||h>v&&h<=m||f<=v&&h>=m})},criarAgendamento:async d=>{const u=t.find(p=>p.id===d.servicoId);if(!u)return console.error("Servio no encontrado"),!1;if(!await e.verificarHorarioDisponivel?.(d.data,d.hora))return console.error("Horrio no est disponvel nas configuraes de trabalho"),!1;const h={...d,duracao:u.duracao,valor:d.valor||u.valor,valorPago:d.valorPago||0,valorDevido:d.valorDevido||d.valor||u.valor,formaPagamento:d.formaPagamento||"fiado",statusPagamento:d.statusPagamento||"em_aberto",status:d.status||"agendado",origem:d.origem||"manual",confirmado:d.confirmado??!1};return await e.criarAgendamento(h)},adicionarAgendamentosCronograma:()=>{console.log("Agendamentos de cronograma so criados automaticamente")},verificarHorarioDisponivel:e.verificarHorarioDisponivel}}const OB=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,o]=x.useState(null),i=async()=>{try{n(!0);const{data:v,error:m}=await W.from("lancamentos").select("*").order("data",{ascending:!1});if(m)throw m;const g=(v||[]).map(y=>({id:y.id,tipo:y.tipo,valor:Number(y.valor),data:new Date(y.data),descricao:y.descricao,categoria:y.categoria,origemId:y.origem_id,origemTipo:y.origem_tipo,clienteId:y.cliente_id,created_at:new Date(y.created_at),updated_at:new Date(y.updated_at)}));t(g)}catch(v){o(v instanceof Error?v.message:"Erro ao carregar lanamentos")}finally{n(!1)}},c=async v=>{try{const{data:m}=await W.auth.getUser();if(!m.user)throw new Error("Usurio no autenticado");const{data:g,error:y}=await W.from("lancamentos").insert({user_id:m.user.id,tipo:v.tipo,valor:v.valor,data:v.data.toISOString().split("T")[0],descricao:v.descricao,categoria:v.categoria,origem_id:v.origemId,origem_tipo:v.origemTipo,cliente_id:v.clienteId}).select().single();if(y)throw y;return await i(),g}catch(m){throw o(m instanceof Error?m.message:"Erro ao criar lanamento"),m}},l=async(v,m)=>{try{const g={};m.tipo&&(g.tipo=m.tipo),m.valor!==void 0&&(g.valor=m.valor),m.data&&(g.data=m.data.toISOString().split("T")[0]),m.descricao&&(g.descricao=m.descricao),m.categoria!==void 0&&(g.categoria=m.categoria),m.origemId!==void 0&&(g.origem_id=m.origemId),m.origemTipo!==void 0&&(g.origem_tipo=m.origemTipo),m.clienteId!==void 0&&(g.cliente_id=m.clienteId);const{error:y}=await W.from("lancamentos").update(g).eq("id",v);if(y)throw y;await i()}catch(g){throw o(g instanceof Error?g.message:"Erro ao atualizar lanamento"),g}},d=async v=>{try{const{error:m}=await W.from("lancamentos").delete().eq("id",v);if(m)throw m;await i()}catch(m){throw o(m instanceof Error?m.message:"Erro ao deletar lanamento"),m}},u=v=>e.filter(m=>{if(v.tipo&&v.tipo!=="todos"&&m.tipo!==v.tipo||v.categoria&&m.categoria!==v.categoria||v.dataInicio&&m.data<v.dataInicio||v.dataFim&&m.data>v.dataFim)return!1;if(v.mes!==void 0&&v.ano!==void 0){const g=m.data.getMonth(),y=m.data.getFullYear();if(g!==v.mes||y!==v.ano)return!1}return!0}),f=()=>{const v=new Date,m=new Date(v.getFullYear(),v.getMonth(),1),g=new Date(v.getFullYear(),v.getMonth()+1,0),y=e.filter(j=>{const N=new Date(j.data);return N>=m&&N<=g}),b=y.filter(j=>j.tipo==="entrada").reduce((j,N)=>j+N.valor,0),w=y.filter(j=>j.tipo==="saida").reduce((j,N)=>j+N.valor,0);return{totalEntradas:b,totalSaidas:w,lucro:b-w,valorEmAberto:0,contasAPagar:0}},h=async(v,m,g,y)=>c({tipo:"entrada",valor:m,data:new Date,descricao:y,categoria:"Servios",origemId:v,origemTipo:"agendamento",clienteId:g}),p=async(v,m,g,y)=>c({tipo:"saida",valor:m,data:new Date,descricao:g,categoria:y||"Contas Fixas",origemId:v,origemTipo:"conta_fixa"});return x.useEffect(()=>{i();const v=W.channel("lancamentos-realtime").on("postgres_changes",{event:"*",schema:"public",table:"lancamentos"},()=>{i()}).subscribe();return()=>{W.removeChannel(v)}},[]),{lancamentos:e,loading:r,error:s,createLancamento:c,updateLancamento:l,deleteLancamento:d,filterLancamentos:u,calculateResumoFinanceiro:f,createLancamentoFromAgendamento:h,createLancamentoFromContaFixa:p,loadLancamentos:i}},Z2=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,o]=x.useState(!1),[i,c]=x.useState(null),l=async()=>{try{o(!0);const{data:v,error:m}=await W.from("contas_fixas").select("*").order("created_at",{ascending:!1});if(m)throw m;const g=(v||[]).map(y=>({id:y.id,nome:y.nome,valor:Number(y.valor),dataVencimento:y.data_vencimento,categoria:y.categoria,status:y.status,observacoes:y.observacoes,repetir:y.repetir,frequencia:y.frequencia,proximoVencimento:y.proximo_vencimento,ativa:y.ativa,created_at:new Date(y.created_at),updated_at:new Date(y.updated_at)}));t(g)}catch(v){c(v instanceof Error?v.message:"Erro ao carregar contas fixas")}finally{o(!1)}},d=async()=>{try{const{data:v,error:m}=await W.from("categorias_financeiras").select("*").order("nome");if(m)throw m;const g=(v||[]).map(y=>({id:y.id,nome:y.nome,tipo:y.tipo,cor:y.cor,created_at:new Date(y.created_at),updated_at:new Date(y.updated_at)}));n(g)}catch(v){c(v instanceof Error?v.message:"Erro ao carregar categorias")}},u=async v=>{try{const{data:m}=await W.auth.getUser();if(!m.user)throw new Error("Usurio no autenticado");const g=new Date;let y=new Date(g.getFullYear(),g.getMonth(),v.dataVencimento);y<=g&&y.setMonth(y.getMonth()+1);const{data:b,error:w}=await W.from("contas_fixas").insert({user_id:m.user.id,nome:v.nome,valor:v.valor,data_vencimento:v.dataVencimento,categoria:v.categoria,observacoes:v.observacoes,repetir:v.repetir,frequencia:v.frequencia,proximo_vencimento:y.toISOString().split("T")[0],ativa:v.ativa??!0}).select().single();if(w)throw w;return await l(),b}catch(m){throw c(m instanceof Error?m.message:"Erro ao criar conta fixa"),m}},f=async(v,m)=>{try{const g={};m.nome&&(g.nome=m.nome),m.valor!==void 0&&(g.valor=m.valor),m.dataVencimento!==void 0&&(g.data_vencimento=m.dataVencimento),m.categoria&&(g.categoria=m.categoria),m.status&&(g.status=m.status),m.observacoes!==void 0&&(g.observacoes=m.observacoes),m.repetir!==void 0&&(g.repetir=m.repetir),m.frequencia&&(g.frequencia=m.frequencia),m.proximoVencimento&&(g.proximo_vencimento=m.proximoVencimento),m.ativa!==void 0&&(g.ativa=m.ativa);const{error:y}=await W.from("contas_fixas").update(g).eq("id",v);if(y)throw y;await l()}catch(g){throw c(g instanceof Error?g.message:"Erro ao atualizar conta fixa"),g}},h=async v=>{try{const{error:m}=await W.from("contas_fixas").delete().eq("id",v);if(m)throw m;await l()}catch(m){throw c(m instanceof Error?m.message:"Erro ao deletar conta fixa"),m}},p=async v=>{try{const{data:m}=await W.auth.getUser();if(!m.user)throw new Error("Usurio no autenticado");const{data:g,error:y}=await W.from("categorias_financeiras").insert({user_id:m.user.id,nome:v.nome,tipo:v.tipo,cor:v.cor}).select().single();if(y)throw y;return await d(),g}catch(m){throw c(m instanceof Error?m.message:"Erro ao criar categoria"),m}};return x.useEffect(()=>{l(),d();const v=W.channel("contas-fixas-realtime").on("postgres_changes",{event:"*",schema:"public",table:"contas_fixas"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"categorias_financeiras"},()=>{d()}).subscribe();return()=>{W.removeChannel(v)}},[]),{contasFixas:e,categorias:r,loading:s,error:i,createContaFixa:u,updateContaFixa:f,deleteContaFixa:h,createCategoria:p,loadContasFixas:l,loadCategorias:d}};function Om(){const[e,t]=x.useState({}),r=OB(),{categorias:n}=Z2(),s=r.filterLancamentos(e),o=x.useMemo(()=>r.calculateResumoFinanceiro(),[r]);return{...r,lancamentos:s,filtros:e,setFiltros:t,resumoFinanceiro:o,categorias:n,criarLancamento:r.createLancamento,atualizarLancamento:r.updateLancamento,removerLancamento:r.deleteLancamento,adicionarLancamento:r.createLancamento,calcularResumo:r.calculateResumoFinanceiro,criarLancamentoDeAgendamento:r.createLancamentoFromAgendamento,criarLancamentoDeContaFixa:r.createLancamentoFromContaFixa,recarregar:r.loadLancamentos}}var TB=Array.isArray,en=TB,$B=typeof wr=="object"&&wr&&wr.Object===Object&&wr,X2=$B,MB=X2,DB=typeof self=="object"&&self&&self.Object===Object&&self,RB=MB||DB||Function("return this")(),Ma=RB,IB=Ma,LB=IB.Symbol,Zd=LB,$w=Zd,J2=Object.prototype,FB=J2.hasOwnProperty,zB=J2.toString,Qc=$w?$w.toStringTag:void 0;function BB(e){var t=FB.call(e,Qc),r=e[Qc];try{e[Qc]=void 0;var n=!0}catch{}var s=zB.call(e);return n&&(t?e[Qc]=r:delete e[Qc]),s}var VB=BB,UB=Object.prototype,qB=UB.toString;function WB(e){return qB.call(e)}var HB=WB,Mw=Zd,GB=VB,KB=HB,YB="[object Null]",ZB="[object Undefined]",Dw=Mw?Mw.toStringTag:void 0;function XB(e){return e==null?e===void 0?ZB:YB:Dw&&Dw in Object(e)?GB(e):KB(e)}var us=XB;function JB(e){return e!=null&&typeof e=="object"}var fs=JB,QB=us,e8=fs,t8="[object Symbol]";function r8(e){return typeof e=="symbol"||e8(e)&&QB(e)==t8}var Ac=r8,n8=en,a8=Ac,s8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o8=/^\w*$/;function i8(e,t){if(n8(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||a8(e)?!0:o8.test(e)||!s8.test(e)||t!=null&&e in Object(t)}var gb=i8;function c8(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var qs=c8;const kc=yt(qs);var l8=us,d8=qs,u8="[object AsyncFunction]",f8="[object Function]",h8="[object GeneratorFunction]",m8="[object Proxy]";function p8(e){if(!d8(e))return!1;var t=l8(e);return t==f8||t==h8||t==u8||t==m8}var vb=p8;const De=yt(vb);var g8=Ma,v8=g8["__core-js_shared__"],x8=v8,xg=x8,Rw=function(){var e=/[^.]+$/.exec(xg&&xg.keys&&xg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function y8(e){return!!Rw&&Rw in e}var b8=y8,j8=Function.prototype,w8=j8.toString;function N8(e){if(e!=null){try{return w8.call(e)}catch{}try{return e+""}catch{}}return""}var Q2=N8,_8=vb,S8=b8,C8=qs,P8=Q2,A8=/[\\^$.*+?()[\]{}|]/g,k8=/^\[object .+?Constructor\]$/,E8=Function.prototype,O8=Object.prototype,T8=E8.toString,$8=O8.hasOwnProperty,M8=RegExp("^"+T8.call($8).replace(A8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function D8(e){if(!C8(e)||S8(e))return!1;var t=_8(e)?M8:k8;return t.test(P8(e))}var R8=D8;function I8(e,t){return e?.[t]}var L8=I8,F8=R8,z8=L8;function B8(e,t){var r=z8(e,t);return F8(r)?r:void 0}var qo=B8,V8=qo,U8=V8(Object,"create"),Tm=U8,Iw=Tm;function q8(){this.__data__=Iw?Iw(null):{},this.size=0}var W8=q8;function H8(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var G8=H8,K8=Tm,Y8="__lodash_hash_undefined__",Z8=Object.prototype,X8=Z8.hasOwnProperty;function J8(e){var t=this.__data__;if(K8){var r=t[e];return r===Y8?void 0:r}return X8.call(t,e)?t[e]:void 0}var Q8=J8,eV=Tm,tV=Object.prototype,rV=tV.hasOwnProperty;function nV(e){var t=this.__data__;return eV?t[e]!==void 0:rV.call(t,e)}var aV=nV,sV=Tm,oV="__lodash_hash_undefined__";function iV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=sV&&t===void 0?oV:t,this}var cV=iV,lV=W8,dV=G8,uV=Q8,fV=aV,hV=cV;function Ec(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ec.prototype.clear=lV;Ec.prototype.delete=dV;Ec.prototype.get=uV;Ec.prototype.has=fV;Ec.prototype.set=hV;var mV=Ec;function pV(){this.__data__=[],this.size=0}var gV=pV;function vV(e,t){return e===t||e!==e&&t!==t}var xb=vV,xV=xb;function yV(e,t){for(var r=e.length;r--;)if(xV(e[r][0],t))return r;return-1}var $m=yV,bV=$m,jV=Array.prototype,wV=jV.splice;function NV(e){var t=this.__data__,r=bV(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():wV.call(t,r,1),--this.size,!0}var _V=NV,SV=$m;function CV(e){var t=this.__data__,r=SV(t,e);return r<0?void 0:t[r][1]}var PV=CV,AV=$m;function kV(e){return AV(this.__data__,e)>-1}var EV=kV,OV=$m;function TV(e,t){var r=this.__data__,n=OV(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var $V=TV,MV=gV,DV=_V,RV=PV,IV=EV,LV=$V;function Oc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oc.prototype.clear=MV;Oc.prototype.delete=DV;Oc.prototype.get=RV;Oc.prototype.has=IV;Oc.prototype.set=LV;var Mm=Oc,FV=qo,zV=Ma,BV=FV(zV,"Map"),yb=BV,Lw=mV,VV=Mm,UV=yb;function qV(){this.size=0,this.__data__={hash:new Lw,map:new(UV||VV),string:new Lw}}var WV=qV;function HV(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var GV=HV,KV=GV;function YV(e,t){var r=e.__data__;return KV(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Dm=YV,ZV=Dm;function XV(e){var t=ZV(this,e).delete(e);return this.size-=t?1:0,t}var JV=XV,QV=Dm;function eU(e){return QV(this,e).get(e)}var tU=eU,rU=Dm;function nU(e){return rU(this,e).has(e)}var aU=nU,sU=Dm;function oU(e,t){var r=sU(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var iU=oU,cU=WV,lU=JV,dU=tU,uU=aU,fU=iU;function Tc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Tc.prototype.clear=cU;Tc.prototype.delete=lU;Tc.prototype.get=dU;Tc.prototype.has=uU;Tc.prototype.set=fU;var bb=Tc,eA=bb,hU="Expected a function";function jb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(hU);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var i=e.apply(this,n);return r.cache=o.set(s,i)||o,i};return r.cache=new(jb.Cache||eA),r}jb.Cache=eA;var tA=jb;const mU=yt(tA);var pU=tA,gU=500;function vU(e){var t=pU(e,function(n){return r.size===gU&&r.clear(),n}),r=t.cache;return t}var xU=vU,yU=xU,bU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jU=/\\(\\)?/g,wU=yU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(bU,function(r,n,s,o){t.push(s?o.replace(jU,"$1"):n||r)}),t}),NU=wU;function _U(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var wb=_U,Fw=Zd,SU=wb,CU=en,PU=Ac,zw=Fw?Fw.prototype:void 0,Bw=zw?zw.toString:void 0;function rA(e){if(typeof e=="string")return e;if(CU(e))return SU(e,rA)+"";if(PU(e))return Bw?Bw.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var AU=rA,kU=AU;function EU(e){return e==null?"":kU(e)}var nA=EU,OU=en,TU=gb,$U=NU,MU=nA;function DU(e,t){return OU(e)?e:TU(e,t)?[e]:$U(MU(e))}var aA=DU,RU=Ac;function IU(e){if(typeof e=="string"||RU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Rm=IU,LU=aA,FU=Rm;function zU(e,t){t=LU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[FU(t[r++])];return r&&r==n?e:void 0}var Nb=zU,BU=Nb;function VU(e,t,r){var n=e==null?void 0:BU(e,t);return n===void 0?r:n}var sA=VU;const hn=yt(sA);function UU(e){return e==null}var qU=UU;const Be=yt(qU);var WU=us,HU=en,GU=fs,KU="[object String]";function YU(e){return typeof e=="string"||!HU(e)&&GU(e)&&WU(e)==KU}var ZU=YU;const Xd=yt(ZU);var oA={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b=Symbol.for("react.element"),Sb=Symbol.for("react.portal"),Im=Symbol.for("react.fragment"),Lm=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),XU=Symbol.for("react.server_context"),Vm=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),Wm=Symbol.for("react.memo"),Hm=Symbol.for("react.lazy"),JU=Symbol.for("react.offscreen"),iA;iA=Symbol.for("react.module.reference");function Rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _b:switch(e=e.type,e){case Im:case Fm:case Lm:case Um:case qm:return e;default:switch(e=e&&e.$$typeof,e){case XU:case Bm:case Vm:case Hm:case Wm:case zm:return e;default:return t}}case Sb:return t}}}vt.ContextConsumer=Bm;vt.ContextProvider=zm;vt.Element=_b;vt.ForwardRef=Vm;vt.Fragment=Im;vt.Lazy=Hm;vt.Memo=Wm;vt.Portal=Sb;vt.Profiler=Fm;vt.StrictMode=Lm;vt.Suspense=Um;vt.SuspenseList=qm;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(e){return Rn(e)===Bm};vt.isContextProvider=function(e){return Rn(e)===zm};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_b};vt.isForwardRef=function(e){return Rn(e)===Vm};vt.isFragment=function(e){return Rn(e)===Im};vt.isLazy=function(e){return Rn(e)===Hm};vt.isMemo=function(e){return Rn(e)===Wm};vt.isPortal=function(e){return Rn(e)===Sb};vt.isProfiler=function(e){return Rn(e)===Fm};vt.isStrictMode=function(e){return Rn(e)===Lm};vt.isSuspense=function(e){return Rn(e)===Um};vt.isSuspenseList=function(e){return Rn(e)===qm};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Im||e===Fm||e===Lm||e===Um||e===qm||e===JU||typeof e=="object"&&e!==null&&(e.$$typeof===Hm||e.$$typeof===Wm||e.$$typeof===zm||e.$$typeof===Bm||e.$$typeof===Vm||e.$$typeof===iA||e.getModuleId!==void 0)};vt.typeOf=Rn;oA.exports=vt;var cA=oA.exports,QU=us,e9=fs,t9="[object Number]";function r9(e){return typeof e=="number"||e9(e)&&QU(e)==t9}var lA=r9;const n9=yt(lA);var a9=lA;function s9(e){return a9(e)&&e!=+e}var o9=s9;const $c=yt(o9);var Lr=function(t){return t===0?0:t>0?1:-1},mo=function(t){return Xd(t)&&t.indexOf("%")===t.length-1},ue=function(t){return n9(t)&&!$c(t)},ir=function(t){return ue(t)||Xd(t)},i9=0,Wo=function(t){var r=++i9;return"".concat(t||"").concat(r)},Fr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(t)&&!Xd(t))return n;var o;if(mo(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return $c(o)&&(o=n),s&&o>r&&(o=r),o},_s=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},c9=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},sr=function(t,r){return ue(t)&&ue(r)?function(n){return t+n*(r-t)}:function(){return r}};function Tf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):hn(n,t))===r})}function _i(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Rv(e){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(e)}var l9=["viewBox","children"],d9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vw=["points","pathLength"],yg={svg:l9,polygon:Vw,polyline:Vw},Cb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$f=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!kc(n))return null;var s={};return Object.keys(n).forEach(function(o){Cb.includes(o)&&(s[o]=r||function(i){return n[o](n,i)})}),s},u9=function(t,r,n){return function(s){return t(r,n,s),null}},ko=function(t,r,n){if(!kc(t)||Rv(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(o){var i=t[o];Cb.includes(o)&&typeof i=="function"&&(s||(s={}),s[o]=u9(i,r,n))}),s},f9=["children"],h9=["children"];function Uw(e,t){if(e==null)return{};var r=m9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Iv(e){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iv(e)}var qw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ja=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Ww=null,bg=null,Pb=function e(t){if(t===Ww&&Array.isArray(bg))return bg;var r=[];return x.Children.forEach(t,function(n){Be(n)||(cA.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),bg=r,Ww=t,r};function mn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ja(s)}):n=[Ja(t)],Pb(e).forEach(function(s){var o=hn(s,"type.displayName")||hn(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}function on(e,t){var r=mn(e,t);return r&&r[0]}var Hw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!ue(n)||n<=0||!ue(s)||s<=0)},p9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],g9=function(t){return t&&t.type&&Xd(t.type)&&p9.indexOf(t.type)>=0},dA=function(t){return t&&Iv(t)==="object"&&"clipDot"in t},v9=function(t,r,n,s){var o,i=(o=yg?.[s])!==null&&o!==void 0?o:[];return!De(t)&&(s&&i.includes(r)||d9.includes(r))||n&&Cb.includes(r)},Pe=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!kc(s))return null;var o={};return Object.keys(s).forEach(function(i){var c;v9((c=s)===null||c===void 0?void 0:c[i],i,r,n)&&(o[i]=s[i])}),o},Lv=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Gw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=t[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!Gw(o,i))return!1}return!0},Gw=function(t,r){if(Be(t)&&Be(r))return!0;if(!Be(t)&&!Be(r)){var n=t.props||{},s=n.children,o=Uw(n,f9),i=r.props||{},c=i.children,l=Uw(i,h9);return s&&c?_i(o,l)&&Lv(s,c):!s&&!c?_i(o,l):!1}return!1},Kw=function(t,r){var n=[],s={};return Pb(t).forEach(function(o,i){if(g9(o))n.push(o);else if(o){var c=Ja(o.type),l=r[c]||{},d=l.handler,u=l.once;if(d&&(!u||!s[c])){var f=d(o,c,i);n.push(f),s[c]=!0}}}),n},x9=function(t){var r=t&&t.type;return r&&qw[r]?qw[r]:null},y9=function(t,r){return Pb(r).indexOf(t)},b9=["children","width","height","viewBox","className","style","title","desc"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(this,arguments)}function j9(e,t){if(e==null)return{};var r=w9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zv(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,o=e.className,i=e.style,c=e.title,l=e.desc,d=j9(e,b9),u=s||{width:r,height:n,x:0,y:0},f=We("recharts-surface",o);return A.createElement("svg",Fv({},Pe(d,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),A.createElement("title",null,c),A.createElement("desc",null,l),t)}var N9=["children","className"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(this,arguments)}function _9(e,t){if(e==null)return{};var r=S9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ct=A.forwardRef(function(e,t){var r=e.children,n=e.className,s=_9(e,N9),o=We("recharts-layer",n);return A.createElement("g",Bv({className:o},Pe(s,!0),{ref:t}),r)}),Xn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]};function C9(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(s);++n<s;)o[n]=e[n+t];return o}var P9=C9,A9=P9;function k9(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:A9(e,t,r)}var E9=k9,O9="\\ud800-\\udfff",T9="\\u0300-\\u036f",$9="\\ufe20-\\ufe2f",M9="\\u20d0-\\u20ff",D9=T9+$9+M9,R9="\\ufe0e\\ufe0f",I9="\\u200d",L9=RegExp("["+I9+O9+D9+R9+"]");function F9(e){return L9.test(e)}var uA=F9;function z9(e){return e.split("")}var B9=z9,fA="\\ud800-\\udfff",V9="\\u0300-\\u036f",U9="\\ufe20-\\ufe2f",q9="\\u20d0-\\u20ff",W9=V9+U9+q9,H9="\\ufe0e\\ufe0f",G9="["+fA+"]",Vv="["+W9+"]",Uv="\\ud83c[\\udffb-\\udfff]",K9="(?:"+Vv+"|"+Uv+")",hA="[^"+fA+"]",mA="(?:\\ud83c[\\udde6-\\uddff]){2}",pA="[\\ud800-\\udbff][\\udc00-\\udfff]",Y9="\\u200d",gA=K9+"?",vA="["+H9+"]?",Z9="(?:"+Y9+"(?:"+[hA,mA,pA].join("|")+")"+vA+gA+")*",X9=vA+gA+Z9,J9="(?:"+[hA+Vv+"?",Vv,mA,pA,G9].join("|")+")",Q9=RegExp(Uv+"(?="+Uv+")|"+J9+X9,"g");function eq(e){return e.match(Q9)||[]}var tq=eq,rq=B9,nq=uA,aq=tq;function sq(e){return nq(e)?aq(e):rq(e)}var oq=sq,iq=E9,cq=uA,lq=oq,dq=nA;function uq(e){return function(t){t=dq(t);var r=cq(t)?lq(t):void 0,n=r?r[0]:t.charAt(0),s=r?iq(r,1).join(""):t.slice(1);return n[e]()+s}}var fq=uq,hq=fq,mq=hq("toUpperCase"),pq=mq;const Gm=yt(pq);function St(e){return function(){return e}}const xA=Math.cos,Mf=Math.sin,la=Math.sqrt,Df=Math.PI,Km=2*Df,qv=Math.PI,Wv=2*qv,oo=1e-6,gq=Wv-oo;function yA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yA;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class xq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yA:vq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,i){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,c=this._y1,l=n-t,d=s-r,u=i-t,f=c-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>oo)if(!(Math.abs(f*l-d*u)>oo)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,v=s-c,m=l*l+d*d,g=p*p+v*v,y=Math.sqrt(m),b=Math.sqrt(h),w=o*Math.tan((qv-Math.acos((m+h-g)/(2*y*b)))/2),j=w/b,N=w/y;Math.abs(j-1)>oo&&this._append`L${t+j*u},${r+j*f}`,this._append`A${o},${o},0,0,${+(f*p>u*v)},${this._x1=t+N*l},${this._y1=r+N*d}`}}arc(t,r,n,s,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),l=n*Math.sin(s),d=t+c,u=r+l,f=1^i,h=i?s-o:o-s;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>oo||Math.abs(this._y1-u)>oo)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%Wv+Wv),h>gq?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=d},${this._y1=u}`:h>oo&&this._append`A${n},${n},0,${+(h>=qv)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Ab(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xq(t)}function kb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function bA(e){this._context=e}bA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ym(e){return new bA(e)}function jA(e){return e[0]}function wA(e){return e[1]}function NA(e,t){var r=St(!0),n=null,s=Ym,o=null,i=Ab(c);e=typeof e=="function"?e:e===void 0?jA:St(e),t=typeof t=="function"?t:t===void 0?wA:St(t);function c(l){var d,u=(l=kb(l)).length,f,h=!1,p;for(n==null&&(o=s(p=i())),d=0;d<=u;++d)!(d<u&&r(f=l[d],d,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,d,l),+t(f,d,l));if(p)return o=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:St(!!l),c):r},c.curve=function(l){return arguments.length?(s=l,n!=null&&(o=s(n)),c):s},c.context=function(l){return arguments.length?(l==null?n=o=null:o=s(n=l),c):n},c}function Mu(e,t,r){var n=null,s=St(!0),o=null,i=Ym,c=null,l=Ab(d);e=typeof e=="function"?e:e===void 0?jA:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?wA:St(+r);function d(f){var h,p,v,m=(f=kb(f)).length,g,y=!1,b,w=new Array(m),j=new Array(m);for(o==null&&(c=i(b=l())),h=0;h<=m;++h){if(!(h<m&&s(g=f[h],h,f))===y)if(y=!y)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=h-1;v>=p;--v)c.point(w[v],j[v]);c.lineEnd(),c.areaEnd()}y&&(w[h]=+e(g,h,f),j[h]=+t(g,h,f),c.point(n?+n(g,h,f):w[h],r?+r(g,h,f):j[h]))}if(b)return c=null,b+""||null}function u(){return NA().defined(s).curve(i).context(o)}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),n=null,d):e},d.x0=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),d):e},d.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:St(+f),d):n},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),r=null,d):t},d.y0=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),d):t},d.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:St(+f),d):r},d.lineX0=d.lineY0=function(){return u().x(e).y(t)},d.lineY1=function(){return u().x(e).y(r)},d.lineX1=function(){return u().x(n).y(t)},d.defined=function(f){return arguments.length?(s=typeof f=="function"?f:St(!!f),d):s},d.curve=function(f){return arguments.length?(i=f,o!=null&&(c=i(o)),d):i},d.context=function(f){return arguments.length?(f==null?o=c=null:c=i(o=f),d):o},d}class _A{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function yq(e){return new _A(e,!0)}function bq(e){return new _A(e,!1)}const Eb={draw(e,t){const r=la(t/Df);e.moveTo(r,0),e.arc(0,0,r,0,Km)}},jq={draw(e,t){const r=la(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},SA=la(1/3),wq=SA*2,Nq={draw(e,t){const r=la(t/wq),n=r*SA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},_q={draw(e,t){const r=la(t),n=-r/2;e.rect(n,n,r,r)}},Sq=.8908130915292852,CA=Mf(Df/10)/Mf(7*Df/10),Cq=Mf(Km/10)*CA,Pq=-xA(Km/10)*CA,Aq={draw(e,t){const r=la(t*Sq),n=Cq*r,s=Pq*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const i=Km*o/5,c=xA(i),l=Mf(i);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*s,l*n+c*s)}e.closePath()}},jg=la(3),kq={draw(e,t){const r=-la(t/(jg*3));e.moveTo(0,r*2),e.lineTo(-jg*r,-r),e.lineTo(jg*r,-r),e.closePath()}},xn=-.5,yn=la(3)/2,Hv=1/la(12),Eq=(Hv/2+1)*3,Oq={draw(e,t){const r=la(t/Eq),n=r/2,s=r*Hv,o=n,i=r*Hv+r,c=-o,l=i;e.moveTo(n,s),e.lineTo(o,i),e.lineTo(c,l),e.lineTo(xn*n-yn*s,yn*n+xn*s),e.lineTo(xn*o-yn*i,yn*o+xn*i),e.lineTo(xn*c-yn*l,yn*c+xn*l),e.lineTo(xn*n+yn*s,xn*s-yn*n),e.lineTo(xn*o+yn*i,xn*i-yn*o),e.lineTo(xn*c+yn*l,xn*l-yn*c),e.closePath()}};function Tq(e,t){let r=null,n=Ab(s);e=typeof e=="function"?e:St(e||Eb),t=typeof t=="function"?t:St(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:St(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:St(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function Rf(){}function If(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function PA(e){this._context=e}PA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:If(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:If(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $q(e){return new PA(e)}function AA(e){this._context=e}AA.prototype={areaStart:Rf,areaEnd:Rf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:If(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mq(e){return new AA(e)}function kA(e){this._context=e}kA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:If(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dq(e){return new kA(e)}function EA(e){this._context=e}EA.prototype={areaStart:Rf,areaEnd:Rf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rq(e){return new EA(e)}function Yw(e){return e<0?-1:1}function Zw(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),c=(o*s+i*n)/(n+s);return(Yw(o)+Yw(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(c))||0}function Xw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wg(e,t,r){var n=e._x0,s=e._y0,o=e._x1,i=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,s+c*t,o-c,i-c*r,o,i)}function Lf(e){this._context=e}Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wg(this,this._t0,Xw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wg(this,Xw(this,r=Zw(this,e,t)),r);break;default:wg(this,this._t0,r=Zw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function OA(e){this._context=new TA(e)}(OA.prototype=Object.create(Lf.prototype)).point=function(e,t){Lf.prototype.point.call(this,t,e)};function TA(e){this._context=e}TA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function Iq(e){return new Lf(e)}function Lq(e){return new OA(e)}function $A(e){this._context=e}$A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Jw(e),s=Jw(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Jw(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),i=new Array(r);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(s[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function Fq(e){return new $A(e)}function Zm(e,t){this._context=e,this._t=t}Zm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zq(e){return new Zm(e,.5)}function Bq(e){return new Zm(e,0)}function Vq(e){return new Zm(e,1)}function Di(e,t){if((i=e.length)>1)for(var r=1,n,s,o=e[t[0]],i,c=o.length;r<i;++r)for(s=o,o=e[t[r]],n=0;n<c;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Gv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Uq(e,t){return e[t]}function qq(e){const t=[];return t.key=e,t}function Wq(){var e=St([]),t=Gv,r=Di,n=Uq;function s(o){var i=Array.from(e.apply(this,arguments),qq),c,l=i.length,d=-1,u;for(const f of o)for(c=0,++d;c<l;++c)(i[c][d]=[0,+n(f,i[c].key,d,o)]).data=f;for(c=0,u=kb(t(i));c<l;++c)i[u[c]].index=c;return r(i,u),i}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:St(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:St(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Gv:typeof o=="function"?o:St(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??Di,s):r},s}function Hq(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,i;s<o;++s){for(i=r=0;r<n;++r)i+=e[r][s][1]||0;if(i)for(r=0;r<n;++r)e[r][s][1]/=i}Di(e,t)}}function Gq(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var i=0,c=0;i<s;++i)c+=e[i][r][1]||0;n[r][1]+=n[r][0]=-c/2}Di(e,t)}}function Kq(e,t){if(!(!((i=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,i;n<o;++n){for(var c=0,l=0,d=0;c<i;++c){for(var u=e[t[c]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,v=0;v<c;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=f,d+=p*f}s[n-1][1]+=s[n-1][0]=r,l&&(r-=d/l)}s[n-1][1]+=s[n-1][0]=r,Di(e,t)}}function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}var Yq=["type","size","sizeType"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Jq(e,"string");return Ul(t)=="symbol"?t:t+""}function Jq(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qq(e,t){if(e==null)return{};var r=eW(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eW(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MA={symbolCircle:Eb,symbolCross:jq,symbolDiamond:Nq,symbolSquare:_q,symbolStar:Aq,symbolTriangle:kq,symbolWye:Oq},tW=Math.PI/180,rW=function(t){var r="symbol".concat(Gm(t));return MA[r]||Eb},nW=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*tW;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},aW=function(t,r){MA["symbol".concat(Gm(t))]=r},Ob=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,o=s===void 0?64:s,i=t.sizeType,c=i===void 0?"area":i,l=Qq(t,Yq),d=eN(eN({},l),{},{type:n,size:o,sizeType:c}),u=function(){var g=rW(n),y=Tq().type(g).size(nW(o,c,n));return y()},f=d.className,h=d.cx,p=d.cy,v=Pe(d,!0);return h===+h&&p===+p&&o===+o?A.createElement("path",Kv({},v,{className:We("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:u()})):null};Ob.registerSymbol=aW;function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(this,arguments)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){ql(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RA(n.key),n)}}function cW(e,t,r){return t&&iW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lW(e,t,r){return t=Ff(t),dW(e,DA()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function dW(e,t){if(t&&(Ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uW(e)}function uW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DA=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function fW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zv(e,t)}function Zv(e,t){return Zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zv(e,t)}function ql(e,t,r){return t=RA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RA(e){var t=hW(e,"string");return Ri(t)=="symbol"?t:t+""}function hW(e,t){if(Ri(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ri(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bn=32,Tb=function(e){function t(){return oW(this,t),lW(this,t,arguments)}return fW(t,e),cW(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,o=bn/2,i=bn/6,c=bn/3,l=n.inactive?s:n.color;if(n.type==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:bn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(bn,"M").concat(2*c,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return A.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(bn/8,"h").concat(bn,"v").concat(bn*3/4,"h").concat(-bn,"z"),className:"recharts-legend-icon"});if(A.isValidElement(n.legendIcon)){var d=sW({},n);return delete d.legendIcon,A.cloneElement(n.legendIcon,d)}return A.createElement(Ob,{fill:l,cx:o,cy:o,size:bn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,o=s.payload,i=s.iconSize,c=s.layout,l=s.formatter,d=s.inactiveColor,u={x:0,y:0,width:bn,height:bn},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var m=p.formatter||l,g=We(ql(ql({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=De(p.value)?null:p.value;Xn(!De(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?d:p.color;return A.createElement("li",Yv({className:g,style:f,key:"legend-item-".concat(v)},ko(n.props,p,v)),A.createElement(zv,{width:i,height:i,viewBox:u,style:h},n.renderIcon(p)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,o=n.layout,i=n.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(x.PureComponent);ql(Tb,"displayName","Legend");ql(Tb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mW=Mm;function pW(){this.__data__=new mW,this.size=0}var gW=pW;function vW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xW=vW;function yW(e){return this.__data__.get(e)}var bW=yW;function jW(e){return this.__data__.has(e)}var wW=jW,NW=Mm,_W=yb,SW=bb,CW=200;function PW(e,t){var r=this.__data__;if(r instanceof NW){var n=r.__data__;if(!_W||n.length<CW-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new SW(n)}return r.set(e,t),this.size=r.size,this}var AW=PW,kW=Mm,EW=gW,OW=xW,TW=bW,$W=wW,MW=AW;function Mc(e){var t=this.__data__=new kW(e);this.size=t.size}Mc.prototype.clear=EW;Mc.prototype.delete=OW;Mc.prototype.get=TW;Mc.prototype.has=$W;Mc.prototype.set=MW;var IA=Mc,DW="__lodash_hash_undefined__";function RW(e){return this.__data__.set(e,DW),this}var IW=RW;function LW(e){return this.__data__.has(e)}var FW=LW,zW=bb,BW=IW,VW=FW;function zf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zW;++t<r;)this.add(e[t])}zf.prototype.add=zf.prototype.push=BW;zf.prototype.has=VW;var LA=zf;function UW(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var FA=UW;function qW(e,t){return e.has(t)}var zA=qW,WW=LA,HW=FA,GW=zA,KW=1,YW=2;function ZW(e,t,r,n,s,o){var i=r&KW,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;var d=o.get(e),u=o.get(t);if(d&&u)return d==t&&u==e;var f=-1,h=!0,p=r&YW?new WW:void 0;for(o.set(e,t),o.set(t,e);++f<c;){var v=e[f],m=t[f];if(n)var g=i?n(m,v,f,t,e,o):n(v,m,f,e,t,o);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!HW(t,function(y,b){if(!GW(p,b)&&(v===y||s(v,y,r,n,o)))return p.push(b)})){h=!1;break}}else if(!(v===m||s(v,m,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var BA=ZW,XW=Ma,JW=XW.Uint8Array,QW=JW;function e7(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var t7=e7;function r7(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $b=r7,rN=Zd,nN=QW,n7=xb,a7=BA,s7=t7,o7=$b,i7=1,c7=2,l7="[object Boolean]",d7="[object Date]",u7="[object Error]",f7="[object Map]",h7="[object Number]",m7="[object RegExp]",p7="[object Set]",g7="[object String]",v7="[object Symbol]",x7="[object ArrayBuffer]",y7="[object DataView]",aN=rN?rN.prototype:void 0,Ng=aN?aN.valueOf:void 0;function b7(e,t,r,n,s,o,i){switch(r){case y7:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x7:return!(e.byteLength!=t.byteLength||!o(new nN(e),new nN(t)));case l7:case d7:case h7:return n7(+e,+t);case u7:return e.name==t.name&&e.message==t.message;case m7:case g7:return e==t+"";case f7:var c=s7;case p7:var l=n&i7;if(c||(c=o7),e.size!=t.size&&!l)return!1;var d=i.get(e);if(d)return d==t;n|=c7,i.set(e,t);var u=a7(c(e),c(t),n,s,o,i);return i.delete(e),u;case v7:if(Ng)return Ng.call(e)==Ng.call(t)}return!1}var j7=b7;function w7(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var VA=w7,N7=VA,_7=en;function S7(e,t,r){var n=t(e);return _7(e)?n:N7(n,r(e))}var C7=S7;function P7(e,t){for(var r=-1,n=e==null?0:e.length,s=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[s++]=i)}return o}var A7=P7;function k7(){return[]}var E7=k7,O7=A7,T7=E7,$7=Object.prototype,M7=$7.propertyIsEnumerable,sN=Object.getOwnPropertySymbols,D7=sN?function(e){return e==null?[]:(e=Object(e),O7(sN(e),function(t){return M7.call(e,t)}))}:T7,R7=D7;function I7(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var L7=I7,F7=us,z7=fs,B7="[object Arguments]";function V7(e){return z7(e)&&F7(e)==B7}var U7=V7,oN=U7,q7=fs,UA=Object.prototype,W7=UA.hasOwnProperty,H7=UA.propertyIsEnumerable,G7=oN(function(){return arguments}())?oN:function(e){return q7(e)&&W7.call(e,"callee")&&!H7.call(e,"callee")},Mb=G7,Bf={exports:{}};function K7(){return!1}var Y7=K7;Bf.exports;(function(e,t){var r=Ma,n=Y7,s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===s,c=i?r.Buffer:void 0,l=c?c.isBuffer:void 0,d=l||n;e.exports=d})(Bf,Bf.exports);var qA=Bf.exports,Z7=9007199254740991,X7=/^(?:0|[1-9]\d*)$/;function J7(e,t){var r=typeof e;return t=t??Z7,!!t&&(r=="number"||r!="symbol"&&X7.test(e))&&e>-1&&e%1==0&&e<t}var Db=J7,Q7=9007199254740991;function eH(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Q7}var Rb=eH,tH=us,rH=Rb,nH=fs,aH="[object Arguments]",sH="[object Array]",oH="[object Boolean]",iH="[object Date]",cH="[object Error]",lH="[object Function]",dH="[object Map]",uH="[object Number]",fH="[object Object]",hH="[object RegExp]",mH="[object Set]",pH="[object String]",gH="[object WeakMap]",vH="[object ArrayBuffer]",xH="[object DataView]",yH="[object Float32Array]",bH="[object Float64Array]",jH="[object Int8Array]",wH="[object Int16Array]",NH="[object Int32Array]",_H="[object Uint8Array]",SH="[object Uint8ClampedArray]",CH="[object Uint16Array]",PH="[object Uint32Array]",Tt={};Tt[yH]=Tt[bH]=Tt[jH]=Tt[wH]=Tt[NH]=Tt[_H]=Tt[SH]=Tt[CH]=Tt[PH]=!0;Tt[aH]=Tt[sH]=Tt[vH]=Tt[oH]=Tt[xH]=Tt[iH]=Tt[cH]=Tt[lH]=Tt[dH]=Tt[uH]=Tt[fH]=Tt[hH]=Tt[mH]=Tt[pH]=Tt[gH]=!1;function AH(e){return nH(e)&&rH(e.length)&&!!Tt[tH(e)]}var kH=AH;function EH(e){return function(t){return e(t)}}var WA=EH,Vf={exports:{}};Vf.exports;(function(e,t){var r=X2,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===n,i=o&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=c})(Vf,Vf.exports);var OH=Vf.exports,TH=kH,$H=WA,iN=OH,cN=iN&&iN.isTypedArray,MH=cN?$H(cN):TH,HA=MH,DH=L7,RH=Mb,IH=en,LH=qA,FH=Db,zH=HA,BH=Object.prototype,VH=BH.hasOwnProperty;function UH(e,t){var r=IH(e),n=!r&&RH(e),s=!r&&!n&&LH(e),o=!r&&!n&&!s&&zH(e),i=r||n||s||o,c=i?DH(e.length,String):[],l=c.length;for(var d in e)(t||VH.call(e,d))&&!(i&&(d=="length"||s&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||FH(d,l)))&&c.push(d);return c}var qH=UH,WH=Object.prototype;function HH(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||WH;return e===r}var GH=HH;function KH(e,t){return function(r){return e(t(r))}}var GA=KH,YH=GA,ZH=YH(Object.keys,Object),XH=ZH,JH=GH,QH=XH,eG=Object.prototype,tG=eG.hasOwnProperty;function rG(e){if(!JH(e))return QH(e);var t=[];for(var r in Object(e))tG.call(e,r)&&r!="constructor"&&t.push(r);return t}var nG=rG,aG=vb,sG=Rb;function oG(e){return e!=null&&sG(e.length)&&!aG(e)}var Jd=oG,iG=qH,cG=nG,lG=Jd;function dG(e){return lG(e)?iG(e):cG(e)}var Xm=dG,uG=C7,fG=R7,hG=Xm;function mG(e){return uG(e,hG,fG)}var pG=mG,lN=pG,gG=1,vG=Object.prototype,xG=vG.hasOwnProperty;function yG(e,t,r,n,s,o){var i=r&gG,c=lN(e),l=c.length,d=lN(t),u=d.length;if(l!=u&&!i)return!1;for(var f=l;f--;){var h=c[f];if(!(i?h in t:xG.call(t,h)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=i;++f<l;){h=c[f];var y=e[h],b=t[h];if(n)var w=i?n(b,y,h,t,e,o):n(y,b,h,e,t,o);if(!(w===void 0?y===b||s(y,b,r,n,o):w)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(m=!1)}return o.delete(e),o.delete(t),m}var bG=yG,jG=qo,wG=Ma,NG=jG(wG,"DataView"),_G=NG,SG=qo,CG=Ma,PG=SG(CG,"Promise"),AG=PG,kG=qo,EG=Ma,OG=kG(EG,"Set"),KA=OG,TG=qo,$G=Ma,MG=TG($G,"WeakMap"),DG=MG,Xv=_G,Jv=yb,Qv=AG,ex=KA,tx=DG,YA=us,Dc=Q2,dN="[object Map]",RG="[object Object]",uN="[object Promise]",fN="[object Set]",hN="[object WeakMap]",mN="[object DataView]",IG=Dc(Xv),LG=Dc(Jv),FG=Dc(Qv),zG=Dc(ex),BG=Dc(tx),io=YA;(Xv&&io(new Xv(new ArrayBuffer(1)))!=mN||Jv&&io(new Jv)!=dN||Qv&&io(Qv.resolve())!=uN||ex&&io(new ex)!=fN||tx&&io(new tx)!=hN)&&(io=function(e){var t=YA(e),r=t==RG?e.constructor:void 0,n=r?Dc(r):"";if(n)switch(n){case IG:return mN;case LG:return dN;case FG:return uN;case zG:return fN;case BG:return hN}return t});var VG=io,_g=IA,UG=BA,qG=j7,WG=bG,pN=VG,gN=en,vN=qA,HG=HA,GG=1,xN="[object Arguments]",yN="[object Array]",Du="[object Object]",KG=Object.prototype,bN=KG.hasOwnProperty;function YG(e,t,r,n,s,o){var i=gN(e),c=gN(t),l=i?yN:pN(e),d=c?yN:pN(t);l=l==xN?Du:l,d=d==xN?Du:d;var u=l==Du,f=d==Du,h=l==d;if(h&&vN(e)){if(!vN(t))return!1;i=!0,u=!1}if(h&&!u)return o||(o=new _g),i||HG(e)?UG(e,t,r,n,s,o):qG(e,t,l,r,n,s,o);if(!(r&GG)){var p=u&&bN.call(e,"__wrapped__"),v=f&&bN.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new _g),s(m,g,r,n,o)}}return h?(o||(o=new _g),WG(e,t,r,n,s,o)):!1}var ZG=YG,XG=ZG,jN=fs;function ZA(e,t,r,n,s){return e===t?!0:e==null||t==null||!jN(e)&&!jN(t)?e!==e&&t!==t:XG(e,t,r,n,ZA,s)}var Ib=ZA,JG=IA,QG=Ib,eK=1,tK=2;function rK(e,t,r,n){var s=r.length,o=s,i=!n;if(e==null)return!o;for(e=Object(e);s--;){var c=r[s];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){c=r[s];var l=c[0],d=e[l],u=c[1];if(i&&c[2]){if(d===void 0&&!(l in e))return!1}else{var f=new JG;if(n)var h=n(d,u,l,e,t,f);if(!(h===void 0?QG(u,d,eK|tK,n,f):h))return!1}}return!0}var nK=rK,aK=qs;function sK(e){return e===e&&!aK(e)}var XA=sK,oK=XA,iK=Xm;function cK(e){for(var t=iK(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,oK(s)]}return t}var lK=cK;function dK(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var JA=dK,uK=nK,fK=lK,hK=JA;function mK(e){var t=fK(e);return t.length==1&&t[0][2]?hK(t[0][0],t[0][1]):function(r){return r===e||uK(r,e,t)}}var pK=mK;function gK(e,t){return e!=null&&t in Object(e)}var vK=gK,xK=aA,yK=Mb,bK=en,jK=Db,wK=Rb,NK=Rm;function _K(e,t,r){t=xK(t,e);for(var n=-1,s=t.length,o=!1;++n<s;){var i=NK(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=s?o:(s=e==null?0:e.length,!!s&&wK(s)&&jK(i,s)&&(bK(e)||yK(e)))}var SK=_K,CK=vK,PK=SK;function AK(e,t){return e!=null&&PK(e,t,CK)}var kK=AK,EK=Ib,OK=sA,TK=kK,$K=gb,MK=XA,DK=JA,RK=Rm,IK=1,LK=2;function FK(e,t){return $K(e)&&MK(t)?DK(RK(e),t):function(r){var n=OK(r,e);return n===void 0&&n===t?TK(r,e):EK(t,n,IK|LK)}}var zK=FK;function BK(e){return e}var Rc=BK;function VK(e){return function(t){return t?.[e]}}var UK=VK,qK=Nb;function WK(e){return function(t){return qK(t,e)}}var HK=WK,GK=UK,KK=HK,YK=gb,ZK=Rm;function XK(e){return YK(e)?GK(ZK(e)):KK(e)}var JK=XK,QK=pK,eY=zK,tY=Rc,rY=en,nY=JK;function aY(e){return typeof e=="function"?e:e==null?tY:typeof e=="object"?rY(e)?eY(e[0],e[1]):QK(e):nY(e)}var Da=aY;function sY(e,t,r,n){for(var s=e.length,o=r+(n?1:-1);n?o--:++o<s;)if(t(e[o],o,e))return o;return-1}var QA=sY;function oY(e){return e!==e}var iY=oY;function cY(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var lY=cY,dY=QA,uY=iY,fY=lY;function hY(e,t,r){return t===t?fY(e,t,r):dY(e,uY,r)}var mY=hY,pY=mY;function gY(e,t){var r=e==null?0:e.length;return!!r&&pY(e,t,0)>-1}var vY=gY;function xY(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var yY=xY;function bY(){}var jY=bY,Sg=KA,wY=jY,NY=$b,_Y=1/0,SY=Sg&&1/NY(new Sg([,-0]))[1]==_Y?function(e){return new Sg(e)}:wY,CY=SY,PY=LA,AY=vY,kY=yY,EY=zA,OY=CY,TY=$b,$Y=200;function MY(e,t,r){var n=-1,s=AY,o=e.length,i=!0,c=[],l=c;if(r)i=!1,s=kY;else if(o>=$Y){var d=t?null:OY(e);if(d)return TY(d);i=!1,s=EY,l=new PY}else l=t?[]:c;e:for(;++n<o;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(u)}else s(l,f,r)||(l!==c&&l.push(f),c.push(u))}return c}var DY=MY,RY=Da,IY=DY;function LY(e,t){return e&&e.length?IY(e,RY(t)):[]}var FY=LY;const wN=yt(FY);function ek(e,t,r){return t===!0?wN(e,r):De(t)?wN(e,t):e}function Ii(e){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ii(e)}var zY=["ref"];function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Jm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rk(n.key),n)}}function VY(e,t,r){return t&&_N(e.prototype,t),r&&_N(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UY(e,t,r){return t=Uf(t),qY(e,tk()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function qY(e,t){if(t&&(Ii(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(e)}function WY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function HY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rx(e,t)}function Jm(e,t,r){return t=rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e){var t=GY(e,"string");return Ii(t)=="symbol"?t:t+""}function GY(e,t){if(Ii(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ii(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KY(e,t){if(e==null)return{};var r=YY(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZY(e){return e.value}function XY(e,t){if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return A.createElement(e,t);t.ref;var r=KY(t,zY);return A.createElement(Tb,r)}var SN=1,Sa=function(e){function t(){var r;BY(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=UY(this,t,[].concat(s)),Jm(r,"lastBoundingBox",{width:-1,height:-1}),r}return HY(t,e),VY(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>SN||Math.abs(s.height-this.lastBoundingBox.height)>SN)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,o=s.layout,i=s.align,c=s.verticalAlign,l=s.margin,d=s.chartWidth,u=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((d||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();h={top:((u||0)-v.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Fa(Fa({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,o=s.content,i=s.width,c=s.height,l=s.wrapperStyle,d=s.payloadUniqBy,u=s.payload,f=Fa(Fa({position:"absolute",width:i||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return A.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},XY(o,Fa(Fa({},this.props),{},{payload:ek(u,d,ZY)})))}}],[{key:"getWithHeight",value:function(n,s){var o=Fa(Fa({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ue(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);Jm(Sa,"displayName","Legend");Jm(Sa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CN=Zd,JY=Mb,QY=en,PN=CN?CN.isConcatSpreadable:void 0;function eZ(e){return QY(e)||JY(e)||!!(PN&&e&&e[PN])}var tZ=eZ,rZ=VA,nZ=tZ;function nk(e,t,r,n,s){var o=-1,i=e.length;for(r||(r=nZ),s||(s=[]);++o<i;){var c=e[o];t>0&&r(c)?t>1?nk(c,t-1,r,n,s):rZ(s,c):n||(s[s.length]=c)}return s}var ak=nk;function aZ(e){return function(t,r,n){for(var s=-1,o=Object(t),i=n(t),c=i.length;c--;){var l=i[e?c:++s];if(r(o[l],l,o)===!1)break}return t}}var sZ=aZ,oZ=sZ,iZ=oZ(),cZ=iZ,lZ=cZ,dZ=Xm;function uZ(e,t){return e&&lZ(e,t,dZ)}var sk=uZ,fZ=Jd;function hZ(e,t){return function(r,n){if(r==null)return r;if(!fZ(r))return e(r,n);for(var s=r.length,o=t?s:-1,i=Object(r);(t?o--:++o<s)&&n(i[o],o,i)!==!1;);return r}}var mZ=hZ,pZ=sk,gZ=mZ,vZ=gZ(pZ),Lb=vZ,xZ=Lb,yZ=Jd;function bZ(e,t){var r=-1,n=yZ(e)?Array(e.length):[];return xZ(e,function(s,o,i){n[++r]=t(s,o,i)}),n}var ok=bZ;function jZ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wZ=jZ,AN=Ac;function NZ(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,o=AN(e),i=t!==void 0,c=t===null,l=t===t,d=AN(t);if(!c&&!d&&!o&&e>t||o&&i&&l&&!c&&!d||n&&i&&l||!r&&l||!s)return 1;if(!n&&!o&&!d&&e<t||d&&r&&s&&!n&&!o||c&&r&&s||!i&&s||!l)return-1}return 0}var _Z=NZ,SZ=_Z;function CZ(e,t,r){for(var n=-1,s=e.criteria,o=t.criteria,i=s.length,c=r.length;++n<i;){var l=SZ(s[n],o[n]);if(l){if(n>=c)return l;var d=r[n];return l*(d=="desc"?-1:1)}}return e.index-t.index}var PZ=CZ,Cg=wb,AZ=Nb,kZ=Da,EZ=ok,OZ=wZ,TZ=WA,$Z=PZ,MZ=Rc,DZ=en;function RZ(e,t,r){t.length?t=Cg(t,function(o){return DZ(o)?function(i){return AZ(i,o.length===1?o[0]:o)}:o}):t=[MZ];var n=-1;t=Cg(t,TZ(kZ));var s=EZ(e,function(o,i,c){var l=Cg(t,function(d){return d(o)});return{criteria:l,index:++n,value:o}});return OZ(s,function(o,i){return $Z(o,i,r)})}var IZ=RZ;function LZ(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var FZ=LZ,zZ=FZ,kN=Math.max;function BZ(e,t,r){return t=kN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,o=kN(n.length-t,0),i=Array(o);++s<o;)i[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(i),zZ(e,this,c)}}var VZ=BZ;function UZ(e){return function(){return e}}var qZ=UZ,WZ=qo,HZ=function(){try{var e=WZ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ik=HZ,GZ=qZ,EN=ik,KZ=Rc,YZ=EN?function(e,t){return EN(e,"toString",{configurable:!0,enumerable:!1,value:GZ(t),writable:!0})}:KZ,ZZ=YZ,XZ=800,JZ=16,QZ=Date.now;function eX(e){var t=0,r=0;return function(){var n=QZ(),s=JZ-(n-r);if(r=n,s>0){if(++t>=XZ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tX=eX,rX=ZZ,nX=tX,aX=nX(rX),sX=aX,oX=Rc,iX=VZ,cX=sX;function lX(e,t){return cX(iX(e,t,oX),e+"")}var dX=lX,uX=xb,fX=Jd,hX=Db,mX=qs;function pX(e,t,r){if(!mX(r))return!1;var n=typeof t;return(n=="number"?fX(r)&&hX(t,r.length):n=="string"&&t in r)?uX(r[t],e):!1}var Qm=pX,gX=ak,vX=IZ,xX=dX,ON=Qm,yX=xX(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ON(e,t[0],t[1])?t=[]:r>2&&ON(t[0],t[1],t[2])&&(t=[t[0]]),vX(e,gX(t,1),[])}),bX=yX;const Fb=yt(bX);function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}function jX(e,t){return SX(e)||_X(e,t)||NX(e,t)||wX()}function wX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NX(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _X(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function SX(e){if(Array.isArray(e))return e}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return t=PX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=AX(e,"string");return Wl(t)=="symbol"?t:t+""}function AX(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kX(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var EX=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,o=s===void 0?{}:s,i=t.itemStyle,c=i===void 0?{}:i,l=t.labelStyle,d=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var P={padding:0,margin:0},O=(h?Fb(u,h):u).map(function(T,I){if(T.type==="none")return null;var R=Pg({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},c),D=T.formatter||f||kX,M=T.value,U=T.name,ne=M,K=U;if(D&&ne!=null&&K!=null){var ae=D(M,U,T,I,u);if(Array.isArray(ae)){var de=jX(ae,2);ne=de[0],K=de[1]}else ne=ae}return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:R},ir(K)?A.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ir(K)?A.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,A.createElement("span",{className:"recharts-tooltip-item-value"},ne),A.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},j=Pg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=Pg({margin:0},d),S=!Be(m),_=S?m:"",C=We("recharts-default-tooltip",p),E=We("recharts-tooltip-label",v);S&&g&&u!==void 0&&u!==null&&(_=g(m,u));var $=b?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",nx({className:C,style:j},$),A.createElement("p",{className:E,style:N},A.isValidElement(_)?_:"".concat(_)),w())};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function Ru(e,t,r){return t=OX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=TX(e,"string");return Hl(t)=="symbol"?t:t+""}function TX(e,t){if(Hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var el="recharts-tooltip-wrapper",$X={visibility:"hidden"};function MX(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return We(el,Ru(Ru(Ru(Ru({},"".concat(el,"-right"),ue(r)&&t&&ue(t.x)&&r>=t.x),"".concat(el,"-left"),ue(r)&&t&&ue(t.x)&&r<t.x),"".concat(el,"-bottom"),ue(n)&&t&&ue(t.y)&&n>=t.y),"".concat(el,"-top"),ue(n)&&t&&ue(t.y)&&n<t.y))}function MN(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,d=e.viewBoxDimension;if(o&&ue(o[n]))return o[n];var u=r[n]-c-s,f=r[n]+s;if(t[n])return i[n]?u:f;if(i[n]){var h=u,p=l[n];return h<p?Math.max(f,l[n]):Math.max(u,l[n])}var v=f+c,m=l[n]+d;return v>m?Math.max(u,l[n]):Math.max(f,l[n])}function DX(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function RX(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,d,u,f;return i.height>0&&i.width>0&&r?(u=MN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=MN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),d=DX({translateX:u,translateY:f,useTranslate3d:c})):d=$X,{cssProperties:d,cssClasses:MX({translateX:u,translateY:f,coordinate:r})}}function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function RN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){sx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lk(n.key),n)}}function FX(e,t,r){return t&&LX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zX(e,t,r){return t=qf(t),BX(e,ck()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function BX(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VX(e)}function VX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ck=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function UX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ax(e,t)}function ax(e,t){return ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ax(e,t)}function sx(e,t,r){return t=lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lk(e){var t=qX(e,"string");return Li(t)=="symbol"?t:t+""}function qX(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IN=1,WX=function(e){function t(){var r;IX(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=zX(this,t,[].concat(s)),sx(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sx(r,"handleKeyDown",function(i){if(i.key==="Escape"){var c,l,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return UX(t,e),FX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>IN||Math.abs(n.height-this.state.lastBoundingBox.height)>IN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,d=s.children,u=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,v=s.position,m=s.reverseDirection,g=s.useTranslate3d,y=s.viewBox,b=s.wrapperStyle,w=RX({allowEscapeViewBox:i,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),j=w.cssClasses,N=w.cssProperties,S=RN(RN({transition:h&&o?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return A.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(C){n.wrapperNode=C}},d)}}])}(x.PureComponent),HX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ws={isSsr:HX()};function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){zb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uk(n.key),n)}}function YX(e,t,r){return t&&KX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZX(e,t,r){return t=Wf(t),XX(e,dk()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function XX(e,t){if(t&&(Fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JX(e)}function JX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function QX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ox(e,t)}function ox(e,t){return ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ox(e,t)}function zb(e,t,r){return t=uk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uk(e){var t=eJ(e,"string");return Fi(t)=="symbol"?t:t+""}function eJ(e,t){if(Fi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function tJ(e){return e.dataKey}function rJ(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(EX,t)}var br=function(e){function t(){return GX(this,t),ZX(this,t,arguments)}return QX(t,e),YX(t,[{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,d=s.content,u=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,v=s.payload,m=s.payloadUniqBy,g=s.position,y=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,j=s.wrapperStyle,N=v??[];f&&N.length&&(N=ek(v.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),m,tJ));var S=N.length>0;return A.createElement(WX,{allowEscapeViewBox:i,animationDuration:c,animationEasing:l,isAnimationActive:h,active:o,coordinate:u,hasPayload:S,offset:p,position:g,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:j},rJ(d,FN(FN({},this.props),{},{payload:N})))}}])}(x.PureComponent);zb(br,"displayName","Tooltip");zb(br,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ws.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nJ=Ma,aJ=function(){return nJ.Date.now()},sJ=aJ,oJ=/\s/;function iJ(e){for(var t=e.length;t--&&oJ.test(e.charAt(t)););return t}var cJ=iJ,lJ=cJ,dJ=/^\s+/;function uJ(e){return e&&e.slice(0,lJ(e)+1).replace(dJ,"")}var fJ=uJ,hJ=fJ,zN=qs,mJ=Ac,BN=NaN,pJ=/^[-+]0x[0-9a-f]+$/i,gJ=/^0b[01]+$/i,vJ=/^0o[0-7]+$/i,xJ=parseInt;function yJ(e){if(typeof e=="number")return e;if(mJ(e))return BN;if(zN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hJ(e);var r=gJ.test(e);return r||vJ.test(e)?xJ(e.slice(2),r?2:8):pJ.test(e)?BN:+e}var fk=yJ,bJ=qs,Ag=sJ,VN=fk,jJ="Expected a function",wJ=Math.max,NJ=Math.min;function _J(e,t,r){var n,s,o,i,c,l,d=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(jJ);t=VN(t)||0,bJ(r)&&(u=!!r.leading,f="maxWait"in r,o=f?wJ(VN(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(S){var _=n,C=s;return n=s=void 0,d=S,i=e.apply(C,_),i}function v(S){return d=S,c=setTimeout(y,t),u?p(S):i}function m(S){var _=S-l,C=S-d,E=t-_;return f?NJ(E,o-C):E}function g(S){var _=S-l,C=S-d;return l===void 0||_>=t||_<0||f&&C>=o}function y(){var S=Ag();if(g(S))return b(S);c=setTimeout(y,m(S))}function b(S){return c=void 0,h&&n?p(S):(n=s=void 0,i)}function w(){c!==void 0&&clearTimeout(c),d=0,n=l=s=c=void 0}function j(){return c===void 0?i:b(Ag())}function N(){var S=Ag(),_=g(S);if(n=arguments,s=this,l=S,_){if(c===void 0)return v(l);if(f)return clearTimeout(c),c=setTimeout(y,t),p(l)}return c===void 0&&(c=setTimeout(y,t)),i}return N.cancel=w,N.flush=j,N}var SJ=_J,CJ=SJ,PJ=qs,AJ="Expected a function";function kJ(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(AJ);return PJ(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),CJ(e,t,{leading:n,maxWait:t,trailing:s})}var EJ=kJ;const hk=yt(EJ);function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){OJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OJ(e,t,r){return t=TJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=$J(e,"string");return Gl(t)=="symbol"?t:t+""}function $J(e,t){if(Gl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MJ(e,t){return LJ(e)||IJ(e,t)||RJ(e,t)||DJ()}function DJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJ(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function LJ(e){if(Array.isArray(e))return e}var po=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,c=e.height,l=c===void 0?"100%":c,d=e.minWidth,u=d===void 0?0:d,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,N=x.useRef(null),S=x.useRef();S.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=x.useState({containerWidth:s.width,containerHeight:s.height}),C=MJ(_,2),E=C[0],$=C[1],k=x.useCallback(function(O,T){$(function(I){var R=Math.round(O),D=Math.round(T);return I.containerWidth===R&&I.containerHeight===D?I:{containerWidth:R,containerHeight:D}})},[]);x.useEffect(function(){var O=function(U){var ne,K=U[0].contentRect,ae=K.width,de=K.height;k(ae,de),(ne=S.current)===null||ne===void 0||ne.call(S,ae,de)};m>0&&(O=hk(O,m,{trailing:!0,leading:!1}));var T=new ResizeObserver(O),I=N.current.getBoundingClientRect(),R=I.width,D=I.height;return k(R,D),T.observe(N.current),function(){T.disconnect()}},[k,m]);var P=x.useMemo(function(){var O=E.containerWidth,T=E.containerHeight;if(O<0||T<0)return null;Xn(mo(i)||mo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),Xn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=mo(i)?O:i,R=mo(l)?T:l;r&&r>0&&(I?R=I/r:R&&(I=R*r),h&&R>h&&(R=h)),Xn(I>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,i,l,u,f,r);var D=!Array.isArray(p)&&Ja(p.type).endsWith("Chart");return A.Children.map(p,function(M){return cA.isElement(M)?x.cloneElement(M,Iu({width:I,height:R},D?{style:Iu({height:"100%",width:"100%",maxHeight:R,maxWidth:I},M.props.style)}:{})):M})},[r,p,l,h,f,u,E,i]);return A.createElement("div",{id:g?"".concat(g):void 0,className:We("recharts-responsive-container",y),style:Iu(Iu({},j),{},{width:i,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:N},P)}),zi=function(t){return null};zi.displayName="Cell";function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){FJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FJ(e,t,r){return t=zJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e){var t=BJ(e,"string");return Kl(t)=="symbol"?t:t+""}function BJ(e,t){if(Kl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii={widthCache:{},cacheCount:0},VJ=2e3,UJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HN="recharts_measurement_span";function qJ(e){var t=ix({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ws.isSsr)return{width:0,height:0};var n=qJ(r),s=JSON.stringify({text:t,copyStyle:n});if(ii.widthCache[s])return ii.widthCache[s];try{var o=document.getElementById(HN);o||(o=document.createElement("span"),o.setAttribute("id",HN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=ix(ix({},UJ),n);Object.assign(o.style,i),o.textContent="".concat(t);var c=o.getBoundingClientRect(),l={width:c.width,height:c.height};return ii.widthCache[s]=l,++ii.cacheCount>VJ&&(ii.cacheCount=0,ii.widthCache={}),l}catch{return{width:0,height:0}}},WJ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function Hf(e,t){return YJ(e)||KJ(e,t)||GJ(e,t)||HJ()}function HJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GJ(e,t){if(e){if(typeof e=="string")return GN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GN(e,t)}}function GN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function YJ(e){if(Array.isArray(e))return e}function ZJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JJ(n.key),n)}}function XJ(e,t,r){return t&&KN(e.prototype,t),r&&KN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JJ(e){var t=QJ(e,"string");return Yl(t)=="symbol"?t:t+""}function QJ(e,t){if(Yl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rQ=Object.keys(mk),vi="NaN";function nQ(e,t){return e*mk[t]}var Lu=function(){function e(t,r){ZJ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!eQ.test(r)&&(this.num=NaN,this.unit=""),rQ.includes(r)&&(this.num=nQ(t,r),this.unit="px")}return XJ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=tQ.exec(r))!==null&&n!==void 0?n:[],o=Hf(s,3),i=o[1],c=o[2];return new e(parseFloat(i),c??"")}}])}();function pk(e){if(e.includes(vi))return vi;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=YN.exec(t))!==null&&r!==void 0?r:[],s=Hf(n,4),o=s[1],i=s[2],c=s[3],l=Lu.parse(o??""),d=Lu.parse(c??""),u=i==="*"?l.multiply(d):l.divide(d);if(u.isNaN())return vi;t=t.replace(YN,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=ZN.exec(t))!==null&&f!==void 0?f:[],p=Hf(h,4),v=p[1],m=p[2],g=p[3],y=Lu.parse(v??""),b=Lu.parse(g??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return vi;t=t.replace(ZN,w.toString())}return t}var XN=/\(([^()]*)\)/;function aQ(e){for(var t=e;t.includes("(");){var r=XN.exec(t),n=Hf(r,2),s=n[1];t=t.replace(XN,pk(s))}return t}function sQ(e){var t=e.replace(/\s+/g,"");return t=aQ(t),t=pk(t),t}function oQ(e){try{return sQ(e)}catch{return vi}}function kg(e){var t=oQ(e.slice(5,-1));return t===vi?"":t}var iQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],cQ=["dx","dy","angle","className","breakAll"];function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(this,arguments)}function JN(e,t){if(e==null)return{};var r=lQ(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QN(e,t){return hQ(e)||fQ(e,t)||uQ(e,t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(e,t){if(e){if(typeof e=="string")return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function hQ(e){if(Array.isArray(e))return e}var gk=/[ \f\n\r\t\v\u2028\u2029]+/,vk=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var o=[];Be(r)||(n?o=r.toString().split(""):o=r.toString().split(gk));var i=o.map(function(l){return{word:l,width:wl(l,s).width}}),c=n?0:wl("",s).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}},mQ=function(t,r,n,s,o){var i=t.maxLines,c=t.children,l=t.style,d=t.breakAll,u=ue(i),f=c,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(R,D){var M=D.word,U=D.width,ne=R[R.length-1];if(ne&&(s==null||o||ne.width+U+n<Number(s)))ne.words.push(M),ne.width+=U+n;else{var K={words:[M],width:U};R.push(K)}return R},[])},p=h(r),v=function(I){return I.reduce(function(R,D){return R.width>D.width?R:D})};if(!u)return p;for(var m="",g=function(I){var R=f.slice(0,I),D=vk({breakAll:d,style:l,children:R+m}).wordsWithComputedWidth,M=h(D),U=M.length>i||v(M).width>Number(s);return[U,M]},y=0,b=f.length-1,w=0,j;y<=b&&w<=f.length-1;){var N=Math.floor((y+b)/2),S=N-1,_=g(S),C=QN(_,2),E=C[0],$=C[1],k=g(N),P=QN(k,1),O=P[0];if(!E&&!O&&(y=N+1),E&&O&&(b=N-1),!E&&O){j=$;break}w++}return j||p},t_=function(t){var r=Be(t)?[]:t.toString().split(gk);return[{words:r}]},pQ=function(t){var r=t.width,n=t.scaleToFit,s=t.children,o=t.style,i=t.breakAll,c=t.maxLines;if((r||n)&&!Ws.isSsr){var l,d,u=vk({breakAll:i,children:s,style:o});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,d=h}else return t_(s);return mQ({breakAll:i,children:s,maxLines:c,style:o},l,d,r,n)}return t_(s)},r_="#808080",Eo=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,i=t.lineHeight,c=i===void 0?"1em":i,l=t.capHeight,d=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,y=g===void 0?r_:g,b=JN(t,iQ),w=x.useMemo(function(){return pQ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,N=b.dy,S=b.angle,_=b.className,C=b.breakAll,E=JN(b,cQ);if(!ir(n)||!ir(o))return null;var $=n+(ue(j)?j:0),k=o+(ue(N)?N:0),P;switch(m){case"start":P=kg("calc(".concat(d,")"));break;case"middle":P=kg("calc(".concat((w.length-1)/2," * -").concat(c," + (").concat(d," / 2))"));break;default:P=kg("calc(".concat(w.length-1," * -").concat(c,")"));break}var O=[];if(f){var T=w[0].width,I=b.width;O.push("scale(".concat((ue(I)?I/T:1)/T,")"))}return S&&O.push("rotate(".concat(S,", ").concat($,", ").concat(k,")")),O.length&&(E.transform=O.join(" ")),A.createElement("text",cx({},Pe(E,!0),{x:$,y:k,className:We("recharts-text",_),textAnchor:p,fill:y.includes("url")?r_:y}),w.map(function(R,D){var M=R.words.join(C?"":" ");return A.createElement("tspan",{x:$,dy:D===0?P:c,key:"".concat(M,"-").concat(D)},M)}))};function Os(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bb(e){let t,r,n;e.length!==2?(t=Os,r=(c,l)=>Os(e(c),l),n=(c,l)=>e(c)-l):(t=e===Os||e===gQ?e:vQ,r=e,n=e);function s(c,l,d=0,u=c.length){if(d<u){if(t(l,l)!==0)return u;do{const f=d+u>>>1;r(c[f],l)<0?d=f+1:u=f}while(d<u)}return d}function o(c,l,d=0,u=c.length){if(d<u){if(t(l,l)!==0)return u;do{const f=d+u>>>1;r(c[f],l)<=0?d=f+1:u=f}while(d<u)}return d}function i(c,l,d=0,u=c.length){const f=s(c,l,d,u-1);return f>d&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:s,center:i,right:o}}function vQ(){return 0}function xk(e){return e===null?NaN:+e}function*xQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const yQ=Bb(Os),Qd=yQ.right;Bb(xk).center;class n_ extends Map{constructor(t,r=wQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(a_(this,t))}has(t){return super.has(a_(this,t))}set(t,r){return super.set(bQ(this,t),r)}delete(t){return super.delete(jQ(this,t))}}function a_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NQ(e=Os){if(e===Os)return yk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _Q=Math.sqrt(50),SQ=Math.sqrt(10),CQ=Math.sqrt(2);function Gf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),i=o>=_Q?10:o>=SQ?5:o>=CQ?2:1;let c,l,d;return s<0?(d=Math.pow(10,-s)/i,c=Math.round(e*d),l=Math.round(t*d),c/d<e&&++c,l/d>t&&--l,d=-d):(d=Math.pow(10,s)*i,c=Math.round(e/d),l=Math.round(t/d),c*d<e&&++c,l*d>t&&--l),l<c&&.5<=r&&r<2?Gf(e,t,r*2):[c,l,d]}function lx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,i]=n?Gf(t,e,r):Gf(e,t,r);if(!(o>=s))return[];const c=o-s+1,l=new Array(c);if(n)if(i<0)for(let d=0;d<c;++d)l[d]=(o-d)/-i;else for(let d=0;d<c;++d)l[d]=(o-d)*i;else if(i<0)for(let d=0;d<c;++d)l[d]=(s+d)/-i;else for(let d=0;d<c;++d)l[d]=(s+d)*i;return l}function dx(e,t,r){return t=+t,e=+e,r=+r,Gf(e,t,r)[2]}function ux(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?dx(t,e,r):dx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function s_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function o_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bk(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?yk:NQ(s);n>r;){if(n-r>600){const l=n-r+1,d=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(d-l/2<0?-1:1),p=Math.max(r,Math.floor(t-d*f/l+h)),v=Math.min(n,Math.floor(t+(l-d)*f/l+h));bk(e,t,p,v,s)}const o=e[t];let i=r,c=n;for(tl(e,r,t),s(e[n],o)>0&&tl(e,r,n);i<c;){for(tl(e,i,c),++i,--c;s(e[i],o)<0;)++i;for(;s(e[c],o)>0;)--c}s(e[r],o)===0?tl(e,r,c):(++c,tl(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function tl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PQ(e,t,r){if(e=Float64Array.from(xQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return o_(e);if(t>=1)return s_(e);var n,s=(n-1)*t,o=Math.floor(s),i=s_(bk(e,o).subarray(0,o+1)),c=o_(e.subarray(o+1));return i+(c-i)*(s-o)}}function AQ(e,t,r=xk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),i=+r(e[o],o,e),c=+r(e[o+1],o+1,e);return i+(c-i)*(s-o)}}function kQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function In(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function hs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fx=Symbol("implicit");function Vb(){var e=new n_,t=[],r=[],n=fx;function s(o){let i=e.get(o);if(i===void 0){if(n!==fx)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new n_;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Vb(t,r).unknown(n)},In.apply(s,arguments),s}function Zl(){var e=Vb().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,i,c=!1,l=0,d=0,u=.5;delete e.unknown;function f(){var h=t().length,p=s<n,v=p?s:n,m=p?n:s;o=(m-v)/Math.max(1,h-l+d*2),c&&(o=Math.floor(o)),v+=(m-v-o*(h-l))*u,i=o*(1-l),c&&(v=Math.round(v),i=Math.round(i));var g=kQ(h).map(function(y){return v+o*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,c=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,d=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(d=+h,f()):d},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Zl(t(),[n,s]).round(c).paddingInner(l).paddingOuter(d).align(u)},In.apply(f(),arguments)}function jk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jk(t())},e}function Nl(){return jk(Zl.apply(null,arguments).paddingInner(1))}function Ub(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function wk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function eu(){}var Xl=.7,Kf=1/Xl,Si="\\s*([+-]?\\d+)\\s*",Jl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ca="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EQ=/^#([0-9a-f]{3,8})$/,OQ=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),TQ=new RegExp(`^rgb\\(${Ca},${Ca},${Ca}\\)$`),$Q=new RegExp(`^rgba\\(${Si},${Si},${Si},${Jl}\\)$`),MQ=new RegExp(`^rgba\\(${Ca},${Ca},${Ca},${Jl}\\)$`),DQ=new RegExp(`^hsl\\(${Jl},${Ca},${Ca}\\)$`),RQ=new RegExp(`^hsla\\(${Jl},${Ca},${Ca},${Jl}\\)$`),i_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ub(eu,Ql,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c_,formatHex:c_,formatHex8:IQ,formatHsl:LQ,formatRgb:l_,toString:l_});function c_(){return this.rgb().formatHex()}function IQ(){return this.rgb().formatHex8()}function LQ(){return Nk(this).formatHsl()}function l_(){return this.rgb().formatRgb()}function Ql(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=EQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d_(t):r===3?new Xr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OQ.exec(e))?new Xr(t[1],t[2],t[3],1):(t=TQ.exec(e))?new Xr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$Q.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=MQ.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DQ.exec(e))?h_(t[1],t[2]/100,t[3]/100,1):(t=RQ.exec(e))?h_(t[1],t[2]/100,t[3]/100,t[4]):i_.hasOwnProperty(e)?d_(i_[e]):e==="transparent"?new Xr(NaN,NaN,NaN,0):null}function d_(e){return new Xr(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xr(e,t,r,n)}function FQ(e){return e instanceof eu||(e=Ql(e)),e?(e=e.rgb(),new Xr(e.r,e.g,e.b,e.opacity)):new Xr}function hx(e,t,r,n){return arguments.length===1?FQ(e):new Xr(e,t,r,n??1)}function Xr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ub(Xr,hx,wk(eu,{brighter(e){return e=e==null?Kf:Math.pow(Kf,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Xl:Math.pow(Xl,e),new Xr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xr(jo(this.r),jo(this.g),jo(this.b),Yf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u_,formatHex:u_,formatHex8:zQ,formatRgb:f_,toString:f_}));function u_(){return`#${go(this.r)}${go(this.g)}${go(this.b)}`}function zQ(){return`#${go(this.r)}${go(this.g)}${go(this.b)}${go((isNaN(this.opacity)?1:this.opacity)*255)}`}function f_(){const e=Yf(this.opacity);return`${e===1?"rgb(":"rgba("}${jo(this.r)}, ${jo(this.g)}, ${jo(this.b)}${e===1?")":`, ${e})`}`}function Yf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function jo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function go(e){return e=jo(e),(e<16?"0":"")+e.toString(16)}function h_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kn(e,t,r,n)}function Nk(e){if(e instanceof Kn)return new Kn(e.h,e.s,e.l,e.opacity);if(e instanceof eu||(e=Ql(e)),!e)return new Kn;if(e instanceof Kn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,c=o-s,l=(o+s)/2;return c?(t===o?i=(r-n)/c+(r<n)*6:r===o?i=(n-t)/c+2:i=(t-r)/c+4,c/=l<.5?o+s:2-o-s,i*=60):c=l>0&&l<1?0:i,new Kn(i,c,l,e.opacity)}function BQ(e,t,r,n){return arguments.length===1?Nk(e):new Kn(e,t,r,n??1)}function Kn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ub(Kn,BQ,wk(eu,{brighter(e){return e=e==null?Kf:Math.pow(Kf,e),new Kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Xl:Math.pow(Xl,e),new Kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Xr(Eg(e>=240?e-240:e+120,s,n),Eg(e,s,n),Eg(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Kn(m_(this.h),zu(this.s),zu(this.l),Yf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yf(this.opacity);return`${e===1?"hsl(":"hsla("}${m_(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m_(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function Eg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qb=e=>()=>e;function VQ(e,t){return function(r){return e+r*t}}function UQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function qQ(e){return(e=+e)==1?_k:function(t,r){return r-t?UQ(t,r,e):qb(isNaN(t)?r:t)}}function _k(e,t){var r=t-e;return r?VQ(e,r):qb(isNaN(e)?t:e)}const p_=function e(t){var r=qQ(t);function n(s,o){var i=r((s=hx(s)).r,(o=hx(o)).r),c=r(s.g,o.g),l=r(s.b,o.b),d=_k(s.opacity,o.opacity);return function(u){return s.r=i(u),s.g=c(u),s.b=l(u),s.opacity=d(u),s+""}}return n.gamma=e,n}(1);function WQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function HQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)s[i]=Ic(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(c){for(i=0;i<n;++i)o[i]=s[i](c);return o}}function KQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YQ(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Ic(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var mx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Og=new RegExp(mx.source,"g");function ZQ(e){return function(){return e}}function XQ(e){return function(t){return e(t)+""}}function JQ(e,t){var r=mx.lastIndex=Og.lastIndex=0,n,s,o,i=-1,c=[],l=[];for(e=e+"",t=t+"";(n=mx.exec(e))&&(s=Og.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),c[i]?c[i]+=o:c[++i]=o),(n=n[0])===(s=s[0])?c[i]?c[i]+=s:c[++i]=s:(c[++i]=null,l.push({i,x:Zf(n,s)})),r=Og.lastIndex;return r<t.length&&(o=t.slice(r),c[i]?c[i]+=o:c[++i]=o),c.length<2?l[0]?XQ(l[0].x):ZQ(t):(t=l.length,function(d){for(var u=0,f;u<t;++u)c[(f=l[u]).i]=f.x(d);return c.join("")})}function Ic(e,t){var r=typeof t,n;return t==null||r==="boolean"?qb(t):(r==="number"?Zf:r==="string"?(n=Ql(t))?(t=n,p_):JQ:t instanceof Ql?p_:t instanceof Date?KQ:HQ(t)?WQ:Array.isArray(t)?GQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YQ:Zf)(e,t)}function Wb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function QQ(e,t){t===void 0&&(t=e,e=Ic);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(i){var c=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[c](i-c)}}function eee(e){return function(){return e}}function Xf(e){return+e}var g_=[0,1];function zr(e){return e}function px(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:eee(isNaN(t)?NaN:.5)}function tee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ree(e,t,r){var n=e[0],s=e[1],o=t[0],i=t[1];return s<n?(n=px(s,n),o=r(i,o)):(n=px(n,s),o=r(o,i)),function(c){return o(n(c))}}function nee(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=px(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(c){var l=Qd(e,c,1,n)-1;return o[l](s[l](c))}}function tu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ep(){var e=g_,t=g_,r=Ic,n,s,o,i=zr,c,l,d;function u(){var h=Math.min(e.length,t.length);return i!==zr&&(i=tee(e[0],e[h-1])),c=h>2?nee:ree,l=d=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=c(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(s((d||(d=c(t,e.map(n),Zf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Xf),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Wb,u()},f.clamp=function(h){return arguments.length?(i=h?!0:zr,u()):i!==zr},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,s=p,u()}}function Hb(){return ep()(zr,zr)}function aee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Bi(e){return e=Jf(Math.abs(e)),e?e[1]:NaN}function see(e,t){return function(r,n){for(var s=r.length,o=[],i=0,c=e[0],l=0;s>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),o.push(r.substring(s-=c,s+c)),!((l+=c+1)>n));)c=e[i=(i+1)%e.length];return o.reverse().join(t)}}function oee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ed(e){if(!(t=iee.exec(e)))throw new Error("invalid format: "+e);var t;return new Gb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ed.prototype=Gb.prototype;function Gb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Gb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cee(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Sk;function lee(e,t){var r=Jf(e,t);if(!r)return e+"";var n=r[0],s=r[1],o=s-(Sk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Jf(e,Math.max(0,t+o-1))[0]}function v_(e,t){var r=Jf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const x_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v_(e*100,t),r:v_,s:lee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y_(e){return e}var b_=Array.prototype.map,j_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dee(e){var t=e.grouping===void 0||e.thousands===void 0?y_:see(b_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?y_:oee(b_.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function d(f){f=ed(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,y=f.width,b=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(b=!0,N="g"):x_[N]||(w===void 0&&(w=12),j=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=m==="$"?n:/[%p]/.test(N)?i:"",C=x_[N],E=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(k){var P=S,O=_,T,I,R;if(N==="c")O=C(k)+O,k="";else{k=+k;var D=k<0||1/k<0;if(k=isNaN(k)?l:C(Math.abs(k),w),j&&(k=cee(k)),D&&+k==0&&v!=="+"&&(D=!1),P=(D?v==="("?v:c:v==="-"||v==="("?"":v)+P,O=(N==="s"?j_[8+Sk/3]:"")+O+(D&&v==="("?")":""),E){for(T=-1,I=k.length;++T<I;)if(R=k.charCodeAt(T),48>R||R>57){O=(R===46?s+k.slice(T+1):k.slice(T))+O,k=k.slice(0,T);break}}}b&&!g&&(k=t(k,1/0));var M=P.length+k.length+O.length,U=M<y?new Array(y-M+1).join(h):"";switch(b&&g&&(k=t(U+k,U.length?y-O.length:1/0),U=""),p){case"<":k=P+k+O+U;break;case"=":k=P+U+k+O;break;case"^":k=U.slice(0,M=U.length>>1)+P+k+O+U.slice(M);break;default:k=U+P+k+O;break}return o(k)}return $.toString=function(){return f+""},$}function u(f,h){var p=d((f=ed(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Bi(h)/3)))*3,m=Math.pow(10,-v),g=j_[8+v/3];return function(y){return p(m*y)+g}}return{format:d,formatPrefix:u}}var Bu,Kb,Ck;uee({thousands:",",grouping:[3],currency:["$",""]});function uee(e){return Bu=dee(e),Kb=Bu.format,Ck=Bu.formatPrefix,Bu}function fee(e){return Math.max(0,-Bi(Math.abs(e)))}function hee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Bi(t)/3)))*3-Bi(Math.abs(e)))}function mee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Bi(t)-Bi(e))+1}function Pk(e,t,r,n){var s=ux(e,t,r),o;switch(n=ed(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=hee(s,i))&&(n.precision=o),Ck(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=mee(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=fee(s))&&(n.precision=o-(n.type==="%")*2);break}}return Kb(n)}function Hs(e){var t=e.domain;return e.ticks=function(r){var n=t();return lx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return Pk(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,i=n[s],c=n[o],l,d,u=10;for(c<i&&(d=i,i=c,c=d,d=s,s=o,o=d);u-- >0;){if(d=dx(i,c,r),d===l)return n[s]=i,n[o]=c,t(n);if(d>0)i=Math.floor(i/d)*d,c=Math.ceil(c/d)*d;else if(d<0)i=Math.ceil(i*d)/d,c=Math.floor(c*d)/d;else break;l=d}return e},e}function Qf(){var e=Hb();return e.copy=function(){return tu(e,Qf())},In.apply(e,arguments),Hs(e)}function Ak(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Xf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Ak(e).unknown(t)},e=arguments.length?Array.from(e,Xf):[0,1],Hs(r)}function kk(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],i;return o<s&&(i=r,r=n,n=i,i=s,s=o,o=i),e[r]=t.floor(s),e[n]=t.ceil(o),e}function w_(e){return Math.log(e)}function N_(e){return Math.exp(e)}function pee(e){return-Math.log(-e)}function gee(e){return-Math.exp(-e)}function vee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xee(e){return e===10?vee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function __(e){return(t,r)=>-e(-t,r)}function Yb(e){const t=e(w_,N_),r=t.domain;let n=10,s,o;function i(){return s=yee(n),o=xee(n),r()[0]<0?(s=__(s),o=__(o),e(pee,gee)):e(w_,N_),t}return t.base=function(c){return arguments.length?(n=+c,i()):n},t.domain=function(c){return arguments.length?(r(c),i()):r()},t.ticks=c=>{const l=r();let d=l[0],u=l[l.length-1];const f=u<d;f&&([d,u]=[u,d]);let h=s(d),p=s(u),v,m;const g=c==null?10:+c;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),d>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/o(-h):v*o(h),!(m<d)){if(m>u)break;y.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/o(-h):v*o(h),!(m<d)){if(m>u)break;y.push(m)}y.length*2<g&&(y=lx(d,u,g))}else y=lx(h,p,Math.min(p-h,g)).map(o);return f?y.reverse():y},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=ed(l)).precision==null&&(l.trim=!0),l=Kb(l)),c===1/0)return l;const d=Math.max(1,n*c/t.ticks().length);return u=>{let f=u/o(Math.round(s(u)));return f*n<n-.5&&(f*=n),f<=d?l(u):""}},t.nice=()=>r(kk(r(),{floor:c=>o(Math.floor(s(c))),ceil:c=>o(Math.ceil(s(c)))})),t}function Ek(){const e=Yb(ep()).domain([1,10]);return e.copy=()=>tu(e,Ek()).base(e.base()),In.apply(e,arguments),e}function S_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function C_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Zb(e){var t=1,r=e(S_(t),C_(t));return r.constant=function(n){return arguments.length?e(S_(t=+n),C_(t)):t},Hs(r)}function Ok(){var e=Zb(ep());return e.copy=function(){return tu(e,Ok()).constant(e.constant())},In.apply(e,arguments)}function P_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function jee(e){return e<0?-e*e:e*e}function Xb(e){var t=e(zr,zr),r=1;function n(){return r===1?e(zr,zr):r===.5?e(bee,jee):e(P_(r),P_(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Hs(t)}function Jb(){var e=Xb(ep());return e.copy=function(){return tu(e,Jb()).exponent(e.exponent())},In.apply(e,arguments),e}function wee(){return Jb.apply(null,arguments).exponent(.5)}function A_(e){return Math.sign(e)*e*e}function Nee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Tk(){var e=Hb(),t=[0,1],r=!1,n;function s(o){var i=Nee(e(o));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(o){return e.invert(A_(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Xf)).map(A_)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Tk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},In.apply(s,arguments),Hs(s)}function $k(){var e=[],t=[],r=[],n;function s(){var i=0,c=Math.max(1,t.length);for(r=new Array(c-1);++i<c;)r[i-1]=AQ(e,i/c);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Qd(r,i)]}return o.invertExtent=function(i){var c=t.indexOf(i);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let c of i)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Os),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return $k().domain(e).range(t).unknown(n)},In.apply(o,arguments)}function Mk(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[Qd(n,l,0,r)]:o}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},i.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,c()):s.slice()},i.invertExtent=function(l){var d=s.indexOf(l);return d<0?[NaN,NaN]:d<1?[e,n[0]]:d>=r?[n[r-1],t]:[n[d-1],n[d]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Mk().domain([e,t]).range(s).unknown(o)},In.apply(Hs(i),arguments)}function Dk(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[Qd(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return Dk().domain(e).range(t).unknown(r)},In.apply(s,arguments)}const Tg=new Date,$g=new Date;function lr(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),c=s.ceil(o);return o-i<c-o?i:c},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,c)=>{const l=[];if(o=s.ceil(o),c=c==null?1:Math.floor(c),!(o<i)||!(c>0))return l;let d;do l.push(d=new Date(+o)),t(o,c),e(o);while(d<o&&o<i);return l},s.filter=o=>lr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,c)=>{if(i>=i)if(c<0)for(;++c<=0;)for(;t(i,-1),!o(i););else for(;--c>=0;)for(;t(i,1),!o(i););}),r&&(s.count=(o,i)=>(Tg.setTime(+o),$g.setTime(+i),e(Tg),e($g),Math.floor(r(Tg,$g))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?i=>n(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const eh=lr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);eh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?lr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):eh);eh.range;const Ga=1e3,Nn=Ga*60,Ka=Nn*60,os=Ka*24,Qb=os*7,k_=os*30,Mg=os*365,vo=lr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ga)},(e,t)=>(t-e)/Ga,e=>e.getUTCSeconds());vo.range;const e0=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getMinutes());e0.range;const t0=lr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCMinutes());t0.range;const r0=lr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ga-e.getMinutes()*Nn)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getHours());r0.range;const n0=lr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCHours());n0.range;const ru=lr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nn)/os,e=>e.getDate()-1);ru.range;const tp=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/os,e=>e.getUTCDate()-1);tp.range;const Rk=lr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/os,e=>Math.floor(e/os));Rk.range;function Ho(e){return lr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Nn)/Qb)}const rp=Ho(0),th=Ho(1),_ee=Ho(2),See=Ho(3),Vi=Ho(4),Cee=Ho(5),Pee=Ho(6);rp.range;th.range;_ee.range;See.range;Vi.range;Cee.range;Pee.range;function Go(e){return lr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qb)}const np=Go(0),rh=Go(1),Aee=Go(2),kee=Go(3),Ui=Go(4),Eee=Go(5),Oee=Go(6);np.range;rh.range;Aee.range;kee.range;Ui.range;Eee.range;Oee.range;const a0=lr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());a0.range;const s0=lr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s0.range;const is=lr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());is.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});is.range;const cs=lr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:lr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cs.range;function Ik(e,t,r,n,s,o){const i=[[vo,1,Ga],[vo,5,5*Ga],[vo,15,15*Ga],[vo,30,30*Ga],[o,1,Nn],[o,5,5*Nn],[o,15,15*Nn],[o,30,30*Nn],[s,1,Ka],[s,3,3*Ka],[s,6,6*Ka],[s,12,12*Ka],[n,1,os],[n,2,2*os],[r,1,Qb],[t,1,k_],[t,3,3*k_],[e,1,Mg]];function c(d,u,f){const h=u<d;h&&([d,u]=[u,d]);const p=f&&typeof f.range=="function"?f:l(d,u,f),v=p?p.range(d,+u+1):[];return h?v.reverse():v}function l(d,u,f){const h=Math.abs(u-d)/f,p=Bb(([,,g])=>g).right(i,h);if(p===i.length)return e.every(ux(d/Mg,u/Mg,f));if(p===0)return eh.every(Math.max(ux(d,u,f),1));const[v,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return v.every(m)}return[c,l]}const[Tee,$ee]=Ik(cs,s0,np,Rk,n0,t0),[Mee,Dee]=Ik(is,a0,rp,ru,r0,e0);function Dg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ree(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,i=e.shortDays,c=e.months,l=e.shortMonths,d=nl(s),u=al(s),f=nl(o),h=al(o),p=nl(i),v=al(i),m=nl(c),g=al(c),y=nl(l),b=al(l),w={a:D,A:M,b:U,B:ne,c:null,d:D_,e:D_,f:ste,g:pte,G:vte,H:rte,I:nte,j:ate,L:Lk,m:ote,M:ite,p:K,q:ae,Q:L_,s:F_,S:cte,u:lte,U:dte,V:ute,w:fte,W:hte,x:null,X:null,y:mte,Y:gte,Z:xte,"%":I_},j={a:de,A:_e,b:Ke,B:q,c:null,d:R_,e:R_,f:wte,g:Tte,G:Mte,H:yte,I:bte,j:jte,L:zk,m:Nte,M:_te,p:ie,q:we,Q:L_,s:F_,S:Ste,u:Cte,U:Pte,V:Ate,w:kte,W:Ete,x:null,X:null,y:Ote,Y:$te,Z:Dte,"%":I_},N={a:$,A:k,b:P,B:O,c:T,d:$_,e:$_,f:Jee,g:T_,G:O_,H:M_,I:M_,j:Kee,L:Xee,m:Gee,M:Yee,p:E,q:Hee,Q:ete,s:tte,S:Zee,u:Bee,U:Vee,V:Uee,w:zee,W:qee,x:I,X:R,y:T_,Y:O_,Z:Wee,"%":Qee};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(oe,he){return function(je){var X=[],Ye=-1,ve=0,Ue=oe.length,Ee,et,hr;for(je instanceof Date||(je=new Date(+je));++Ye<Ue;)oe.charCodeAt(Ye)===37&&(X.push(oe.slice(ve,Ye)),(et=E_[Ee=oe.charAt(++Ye)])!=null?Ee=oe.charAt(++Ye):et=Ee==="e"?" ":"0",(hr=he[Ee])&&(Ee=hr(je,et)),X.push(Ee),ve=Ye+1);return X.push(oe.slice(ve,Ye)),X.join("")}}function _(oe,he){return function(je){var X=rl(1900,void 0,1),Ye=C(X,oe,je+="",0),ve,Ue;if(Ye!=je.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(he&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(ve=Rg(rl(X.y,0,1)),Ue=ve.getUTCDay(),ve=Ue>4||Ue===0?rh.ceil(ve):rh(ve),ve=tp.offset(ve,(X.V-1)*7),X.y=ve.getUTCFullYear(),X.m=ve.getUTCMonth(),X.d=ve.getUTCDate()+(X.w+6)%7):(ve=Dg(rl(X.y,0,1)),Ue=ve.getDay(),ve=Ue>4||Ue===0?th.ceil(ve):th(ve),ve=ru.offset(ve,(X.V-1)*7),X.y=ve.getFullYear(),X.m=ve.getMonth(),X.d=ve.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Ue="Z"in X?Rg(rl(X.y,0,1)).getUTCDay():Dg(rl(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Ue+5)%7:X.w+X.U*7-(Ue+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Rg(X)):Dg(X)}}function C(oe,he,je,X){for(var Ye=0,ve=he.length,Ue=je.length,Ee,et;Ye<ve;){if(X>=Ue)return-1;if(Ee=he.charCodeAt(Ye++),Ee===37){if(Ee=he.charAt(Ye++),et=N[Ee in E_?he.charAt(Ye++):Ee],!et||(X=et(oe,je,X))<0)return-1}else if(Ee!=je.charCodeAt(X++))return-1}return X}function E(oe,he,je){var X=d.exec(he.slice(je));return X?(oe.p=u.get(X[0].toLowerCase()),je+X[0].length):-1}function $(oe,he,je){var X=p.exec(he.slice(je));return X?(oe.w=v.get(X[0].toLowerCase()),je+X[0].length):-1}function k(oe,he,je){var X=f.exec(he.slice(je));return X?(oe.w=h.get(X[0].toLowerCase()),je+X[0].length):-1}function P(oe,he,je){var X=y.exec(he.slice(je));return X?(oe.m=b.get(X[0].toLowerCase()),je+X[0].length):-1}function O(oe,he,je){var X=m.exec(he.slice(je));return X?(oe.m=g.get(X[0].toLowerCase()),je+X[0].length):-1}function T(oe,he,je){return C(oe,t,he,je)}function I(oe,he,je){return C(oe,r,he,je)}function R(oe,he,je){return C(oe,n,he,je)}function D(oe){return i[oe.getDay()]}function M(oe){return o[oe.getDay()]}function U(oe){return l[oe.getMonth()]}function ne(oe){return c[oe.getMonth()]}function K(oe){return s[+(oe.getHours()>=12)]}function ae(oe){return 1+~~(oe.getMonth()/3)}function de(oe){return i[oe.getUTCDay()]}function _e(oe){return o[oe.getUTCDay()]}function Ke(oe){return l[oe.getUTCMonth()]}function q(oe){return c[oe.getUTCMonth()]}function ie(oe){return s[+(oe.getUTCHours()>=12)]}function we(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var he=S(oe+="",w);return he.toString=function(){return oe},he},parse:function(oe){var he=_(oe+="",!1);return he.toString=function(){return oe},he},utcFormat:function(oe){var he=S(oe+="",j);return he.toString=function(){return oe},he},utcParse:function(oe){var he=_(oe+="",!0);return he.toString=function(){return oe},he}}}var E_={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,Iee=/^%/,Lee=/[\\^$*+?|[\]().{}]/g;function ft(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function Fee(e){return e.replace(Lee,"\\$&")}function nl(e){return new RegExp("^(?:"+e.map(Fee).join("|")+")","i")}function al(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zee(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Bee(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vee(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uee(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function qee(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function O_(e,t,r){var n=fr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function T_(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Wee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hee(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Gee(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function $_(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Kee(e,t,r){var n=fr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function M_(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Yee(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zee(e,t,r){var n=fr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Xee(e,t,r){var n=fr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Jee(e,t,r){var n=fr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Qee(e,t,r){var n=Iee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ete(e,t,r){var n=fr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tte(e,t,r){var n=fr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function D_(e,t){return ft(e.getDate(),t,2)}function rte(e,t){return ft(e.getHours(),t,2)}function nte(e,t){return ft(e.getHours()%12||12,t,2)}function ate(e,t){return ft(1+ru.count(is(e),e),t,3)}function Lk(e,t){return ft(e.getMilliseconds(),t,3)}function ste(e,t){return Lk(e,t)+"000"}function ote(e,t){return ft(e.getMonth()+1,t,2)}function ite(e,t){return ft(e.getMinutes(),t,2)}function cte(e,t){return ft(e.getSeconds(),t,2)}function lte(e){var t=e.getDay();return t===0?7:t}function dte(e,t){return ft(rp.count(is(e)-1,e),t,2)}function Fk(e){var t=e.getDay();return t>=4||t===0?Vi(e):Vi.ceil(e)}function ute(e,t){return e=Fk(e),ft(Vi.count(is(e),e)+(is(e).getDay()===4),t,2)}function fte(e){return e.getDay()}function hte(e,t){return ft(th.count(is(e)-1,e),t,2)}function mte(e,t){return ft(e.getFullYear()%100,t,2)}function pte(e,t){return e=Fk(e),ft(e.getFullYear()%100,t,2)}function gte(e,t){return ft(e.getFullYear()%1e4,t,4)}function vte(e,t){var r=e.getDay();return e=r>=4||r===0?Vi(e):Vi.ceil(e),ft(e.getFullYear()%1e4,t,4)}function xte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function R_(e,t){return ft(e.getUTCDate(),t,2)}function yte(e,t){return ft(e.getUTCHours(),t,2)}function bte(e,t){return ft(e.getUTCHours()%12||12,t,2)}function jte(e,t){return ft(1+tp.count(cs(e),e),t,3)}function zk(e,t){return ft(e.getUTCMilliseconds(),t,3)}function wte(e,t){return zk(e,t)+"000"}function Nte(e,t){return ft(e.getUTCMonth()+1,t,2)}function _te(e,t){return ft(e.getUTCMinutes(),t,2)}function Ste(e,t){return ft(e.getUTCSeconds(),t,2)}function Cte(e){var t=e.getUTCDay();return t===0?7:t}function Pte(e,t){return ft(np.count(cs(e)-1,e),t,2)}function Bk(e){var t=e.getUTCDay();return t>=4||t===0?Ui(e):Ui.ceil(e)}function Ate(e,t){return e=Bk(e),ft(Ui.count(cs(e),e)+(cs(e).getUTCDay()===4),t,2)}function kte(e){return e.getUTCDay()}function Ete(e,t){return ft(rh.count(cs(e)-1,e),t,2)}function Ote(e,t){return ft(e.getUTCFullYear()%100,t,2)}function Tte(e,t){return e=Bk(e),ft(e.getUTCFullYear()%100,t,2)}function $te(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function Mte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ui(e):Ui.ceil(e),ft(e.getUTCFullYear()%1e4,t,4)}function Dte(){return"+0000"}function I_(){return"%"}function L_(e){return+e}function F_(e){return Math.floor(+e/1e3)}var ci,Vk,Uk;Rte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rte(e){return ci=Ree(e),Vk=ci.format,ci.parse,Uk=ci.utcFormat,ci.utcParse,ci}function Ite(e){return new Date(e)}function Lte(e){return e instanceof Date?+e:+new Date(+e)}function o0(e,t,r,n,s,o,i,c,l,d){var u=Hb(),f=u.invert,h=u.domain,p=d(".%L"),v=d(":%S"),m=d("%I:%M"),g=d("%I %p"),y=d("%a %d"),b=d("%b %d"),w=d("%B"),j=d("%Y");function N(S){return(l(S)<S?p:c(S)<S?v:i(S)<S?m:o(S)<S?g:n(S)<S?s(S)<S?y:b:r(S)<S?w:j)(S)}return u.invert=function(S){return new Date(f(S))},u.domain=function(S){return arguments.length?h(Array.from(S,Lte)):h().map(Ite)},u.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},u.tickFormat=function(S,_){return _==null?N:d(_)},u.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(kk(_,S)):u},u.copy=function(){return tu(u,o0(e,t,r,n,s,o,i,c,l,d))},u}function Fte(){return In.apply(o0(Mee,Dee,is,a0,rp,ru,r0,e0,vo,Vk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zte(){return In.apply(o0(Tee,$ee,cs,s0,np,tp,n0,t0,vo,Uk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ap(){var e=0,t=1,r,n,s,o,i=zr,c=!1,l;function d(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-r)*s,c?Math.max(0,Math.min(1,f)):f))}d.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(f){return arguments.length?(c=!!f,d):c},d.interpolator=function(f){return arguments.length?(i=f,d):i};function u(f){return function(h){var p,v;return arguments.length?([p,v]=h,i=f(p,v),d):[i(0),i(1)]}}return d.range=u(Ic),d.rangeRound=u(Wb),d.unknown=function(f){return arguments.length?(l=f,d):l},function(f){return o=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),d}}function Gs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qk(){var e=Hs(ap()(zr));return e.copy=function(){return Gs(e,qk())},hs.apply(e,arguments)}function Wk(){var e=Yb(ap()).domain([1,10]);return e.copy=function(){return Gs(e,Wk()).base(e.base())},hs.apply(e,arguments)}function Hk(){var e=Zb(ap());return e.copy=function(){return Gs(e,Hk()).constant(e.constant())},hs.apply(e,arguments)}function i0(){var e=Xb(ap());return e.copy=function(){return Gs(e,i0()).exponent(e.exponent())},hs.apply(e,arguments)}function Bte(){return i0.apply(null,arguments).exponent(.5)}function Gk(){var e=[],t=zr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Os),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>PQ(e,o/n))},r.copy=function(){return Gk(t).domain(e)},hs.apply(r,arguments)}function sp(){var e=0,t=.5,r=1,n=1,s,o,i,c,l,d=zr,u,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-o)*(n*m<n*o?c:l),d(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=u(e=+e),o=u(t=+t),i=u(r=+r),c=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),n=o<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(d=m,p):d};function v(m){return function(g){var y,b,w;return arguments.length?([y,b,w]=g,d=QQ(m,[y,b,w]),p):[d(0),d(.5),d(1)]}}return p.range=v(Ic),p.rangeRound=v(Wb),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return u=m,s=m(e),o=m(t),i=m(r),c=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),n=o<s?-1:1,p}}function Kk(){var e=Hs(sp()(zr));return e.copy=function(){return Gs(e,Kk())},hs.apply(e,arguments)}function Yk(){var e=Yb(sp()).domain([.1,1,10]);return e.copy=function(){return Gs(e,Yk()).base(e.base())},hs.apply(e,arguments)}function Zk(){var e=Zb(sp());return e.copy=function(){return Gs(e,Zk()).constant(e.constant())},hs.apply(e,arguments)}function c0(){var e=Xb(sp());return e.copy=function(){return Gs(e,c0()).exponent(e.exponent())},hs.apply(e,arguments)}function Vte(){return c0.apply(null,arguments).exponent(.5)}const z_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zl,scaleDiverging:Kk,scaleDivergingLog:Yk,scaleDivergingPow:c0,scaleDivergingSqrt:Vte,scaleDivergingSymlog:Zk,scaleIdentity:Ak,scaleImplicit:fx,scaleLinear:Qf,scaleLog:Ek,scaleOrdinal:Vb,scalePoint:Nl,scalePow:Jb,scaleQuantile:$k,scaleQuantize:Mk,scaleRadial:Tk,scaleSequential:qk,scaleSequentialLog:Wk,scaleSequentialPow:i0,scaleSequentialQuantile:Gk,scaleSequentialSqrt:Bte,scaleSequentialSymlog:Hk,scaleSqrt:wee,scaleSymlog:Ok,scaleThreshold:Dk,scaleTime:Fte,scaleUtc:zte,tickFormat:Pk},Symbol.toStringTag,{value:"Module"}));var Ute=Ac;function qte(e,t,r){for(var n=-1,s=e.length;++n<s;){var o=e[n],i=t(o);if(i!=null&&(c===void 0?i===i&&!Ute(i):r(i,c)))var c=i,l=o}return l}var op=qte;function Wte(e,t){return e>t}var Xk=Wte,Hte=op,Gte=Xk,Kte=Rc;function Yte(e){return e&&e.length?Hte(e,Kte,Gte):void 0}var Zte=Yte;const Ps=yt(Zte);function Xte(e,t){return e<t}var Jk=Xte,Jte=op,Qte=Jk,ere=Rc;function tre(e){return e&&e.length?Jte(e,ere,Qte):void 0}var rre=tre;const ip=yt(rre);var nre=wb,are=Da,sre=ok,ore=en;function ire(e,t){var r=ore(e)?nre:sre;return r(e,are(t))}var cre=ire,lre=ak,dre=cre;function ure(e,t){return lre(dre(e,t),1)}var fre=ure;const hre=yt(fre);var mre=Ib;function pre(e,t){return mre(e,t)}var gre=pre;const Oo=yt(gre);var Lc=1e9,vre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d0,Rt=!0,An="[DecimalError] ",wo=An+"Invalid argument: ",l0=An+"Exponent out of range: ",Fc=Math.floor,co=Math.pow,xre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,dn,dr=1e7,$t=7,Qk=9007199254740991,nh=Fc(Qk/$t),Ne={};Ne.absoluteValue=Ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ne.comparedTo=Ne.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};Ne.decimalPlaces=Ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*$t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ne.dividedBy=Ne.div=function(e){return Qa(this,new this.constructor(e))};Ne.dividedToIntegerBy=Ne.idiv=function(e){var t=this,r=t.constructor;return jt(Qa(t,new r(e),0,1),r.precision)};Ne.equals=Ne.eq=function(e){return!this.cmp(e)};Ne.exponent=function(){return Qt(this)};Ne.greaterThan=Ne.gt=function(e){return this.cmp(e)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(e){return this.cmp(e)>=0};Ne.isInteger=Ne.isint=function(){return this.e>this.d.length-2};Ne.isNegative=Ne.isneg=function(){return this.s<0};Ne.isPositive=Ne.ispos=function(){return this.s>0};Ne.isZero=function(){return this.s===0};Ne.lessThan=Ne.lt=function(e){return this.cmp(e)<0};Ne.lessThanOrEqualTo=Ne.lte=function(e){return this.cmp(e)<1};Ne.logarithm=Ne.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(dn))throw Error(An+"NaN");if(r.s<1)throw Error(An+(r.s?"NaN":"-Infinity"));return r.eq(dn)?new n(0):(Rt=!1,t=Qa(td(r,o),td(e,o),o),Rt=!0,jt(t,s))};Ne.minus=Ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rE(t,e):eE(t,(e.s=-e.s,e))};Ne.modulo=Ne.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(An+"NaN");return r.s?(Rt=!1,t=Qa(r,e,0,1).times(e),Rt=!0,r.minus(t)):jt(new n(r),s)};Ne.naturalExponential=Ne.exp=function(){return tE(this)};Ne.naturalLogarithm=Ne.ln=function(){return td(this)};Ne.negated=Ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ne.plus=Ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eE(t,e):rE(t,(e.s=-e.s,e))};Ne.precision=Ne.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wo+e);if(t=Qt(s)+1,n=s.d.length-1,r=n*$t+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ne.squareRoot=Ne.sqrt=function(){var e,t,r,n,s,o,i,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(An+"NaN")}for(e=Qt(c),Rt=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=ya(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Fc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=i=r+3;;)if(o=n,n=o.plus(Qa(c,o,i+2)).times(.5),ya(o.d).slice(0,i)===(t=ya(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&t=="4999"){if(jt(o,r+1,0),o.times(o).eq(c)){n=o;break}}else if(t!="9999")break;i+=4}return Rt=!0,jt(n,r)};Ne.times=Ne.mul=function(e){var t,r,n,s,o,i,c,l,d,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,d=p.length,l<d&&(o=h,h=p,p=o,i=l,l=d,d=i),o=[],i=l+d,n=i;n--;)o.push(0);for(n=d;--n>=0;){for(t=0,s=l+n;s>n;)c=o[s]+p[n]*h[s-n-1]+t,o[s--]=c%dr|0,t=c/dr|0;o[s]=(o[s]+t)%dr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Rt?jt(e,f.precision):e};Ne.toDecimalPlaces=Ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ta(e,0,Lc),t===void 0?t=n.rounding:Ta(t,0,8),jt(r,e+Qt(r)+1,t))};Ne.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=To(n,!0):(Ta(e,0,Lc),t===void 0?t=s.rounding:Ta(t,0,8),n=jt(new s(n),e+1,t),r=To(n,!0,e+1)),r};Ne.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?To(s):(Ta(e,0,Lc),t===void 0?t=o.rounding:Ta(t,0,8),n=jt(new o(s),e+Qt(s)+1,t),r=To(n.abs(),!1,e+Qt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ne.toInteger=Ne.toint=function(){var e=this,t=e.constructor;return jt(new t(e),Qt(e)+1,t.rounding)};Ne.toNumber=function(){return+this};Ne.toPower=Ne.pow=function(e){var t,r,n,s,o,i,c=this,l=c.constructor,d=12,u=+(e=new l(e));if(!e.s)return new l(dn);if(c=new l(c),!c.s){if(e.s<1)throw Error(An+"Infinity");return c}if(c.eq(dn))return c;if(n=l.precision,e.eq(dn))return jt(c,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=c.s,i){if((r=u<0?-u:u)<=Qk){for(s=new l(dn),t=Math.ceil(n/$t+4),Rt=!1;r%2&&(s=s.times(c),V_(s.d,t)),r=Fc(r/2),r!==0;)c=c.times(c),V_(c.d,t);return Rt=!0,e.s<0?new l(dn).div(s):jt(s,n)}}else if(o<0)throw Error(An+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Rt=!1,s=e.times(td(c,n+d)),Rt=!0,s=tE(s),s.s=o,s};Ne.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=Qt(s),n=To(s,r<=o.toExpNeg||r>=o.toExpPos)):(Ta(e,1,Lc),t===void 0?t=o.rounding:Ta(t,0,8),s=jt(new o(s),e,t),r=Qt(s),n=To(s,e<=r||r<=o.toExpNeg,e)),n};Ne.toSignificantDigits=Ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ta(e,1,Lc),t===void 0?t=n.rounding:Ta(t,0,8)),jt(new n(r),e,t)};Ne.toString=Ne.valueOf=Ne.val=Ne.toJSON=Ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qt(e),r=e.constructor;return To(e,t<=r.toExpNeg||t>=r.toExpPos)};function eE(e,t){var r,n,s,o,i,c,l,d,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Rt?jt(t,f):t;if(l=e.d,d=t.d,i=e.e,s=t.e,l=l.slice(),o=i-s,o){for(o<0?(n=l,o=-o,c=d.length):(n=d,s=i,c=l.length),i=Math.ceil(f/$t),c=i>c?i+1:c+1,o>c&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(c=l.length,o=d.length,c-o<0&&(o=c,n=d,d=l,l=n),r=0;o;)r=(l[--o]=l[o]+d[o]+r)/dr|0,l[o]%=dr;for(r&&(l.unshift(r),++s),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=s,Rt?jt(t,f):t}function Ta(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wo+e)}function ya(e){var t,r,n,s=e.length-1,o="",i=e[0];if(s>0){for(o+=i,t=1;t<s;t++)n=e[t]+"",r=$t-n.length,r&&(o+=ws(r)),o+=n;i=e[t],n=i+"",r=$t-n.length,r&&(o+=ws(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Qa=function(){function e(n,s){var o,i=0,c=n.length;for(n=n.slice();c--;)o=n[c]*s+i,n[c]=o%dr|0,i=o/dr|0;return i&&n.unshift(i),n}function t(n,s,o,i){var c,l;if(o!=i)l=o>i?1:-1;else for(c=l=0;c<o;c++)if(n[c]!=s[c]){l=n[c]>s[c]?1:-1;break}return l}function r(n,s,o){for(var i=0;o--;)n[o]-=i,i=n[o]<s[o]?1:0,n[o]=i*dr+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,i){var c,l,d,u,f,h,p,v,m,g,y,b,w,j,N,S,_,C,E=n.constructor,$=n.s==s.s?1:-1,k=n.d,P=s.d;if(!n.s)return new E(n);if(!s.s)throw Error(An+"Division by zero");for(l=n.e-s.e,_=P.length,N=k.length,p=new E($),v=p.d=[],d=0;P[d]==(k[d]||0);)++d;if(P[d]>(k[d]||0)&&--l,o==null?b=o=E.precision:i?b=o+(Qt(n)-Qt(s))+1:b=o,b<0)return new E(0);if(b=b/$t+2|0,d=0,_==1)for(u=0,P=P[0],b++;(d<N||u)&&b--;d++)w=u*dr+(k[d]||0),v[d]=w/P|0,u=w%P|0;else{for(u=dr/(P[0]+1)|0,u>1&&(P=e(P,u),k=e(k,u),_=P.length,N=k.length),j=_,m=k.slice(0,_),g=m.length;g<_;)m[g++]=0;C=P.slice(),C.unshift(0),S=P[0],P[1]>=dr/2&&++S;do u=0,c=t(P,m,_,g),c<0?(y=m[0],_!=g&&(y=y*dr+(m[1]||0)),u=y/S|0,u>1?(u>=dr&&(u=dr-1),f=e(P,u),h=f.length,g=m.length,c=t(f,m,h,g),c==1&&(u--,r(f,_<h?C:P,h))):(u==0&&(c=u=1),f=P.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),c==-1&&(g=m.length,c=t(P,m,_,g),c<1&&(u++,r(m,_<g?C:P,g))),g=m.length):c===0&&(u++,m=[0]),v[d++]=u,c&&m[0]?m[g++]=k[j]||0:(m=[k[j]],g=1);while((j++<N||m[0]!==void 0)&&b--)}return v[0]||v.shift(),p.e=l,jt(p,i?o+Qt(p)+1:o)}}();function tE(e,t){var r,n,s,o,i,c,l=0,d=0,u=e.constructor,f=u.precision;if(Qt(e)>16)throw Error(l0+Qt(e));if(!e.s)return new u(dn);for(Rt=!1,c=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(n=Math.log(co(2,d))/Math.LN10*2+5|0,c+=n,r=s=o=new u(dn),u.precision=c;;){if(s=jt(s.times(e),c),r=r.times(++l),i=o.plus(Qa(s,r,c)),ya(i.d).slice(0,c)===ya(o.d).slice(0,c)){for(;d--;)o=jt(o.times(o),c);return u.precision=f,t==null?(Rt=!0,jt(o,f)):o}o=i}}function Qt(e){for(var t=e.e*$t,r=e.d[0];r>=10;r/=10)t++;return t}function Ig(e,t,r){if(t>e.LN10.sd())throw Rt=!0,r&&(e.precision=r),Error(An+"LN10 precision limit exceeded");return jt(new e(e.LN10),t)}function ws(e){for(var t="";e--;)t+="0";return t}function td(e,t){var r,n,s,o,i,c,l,d,u,f=1,h=10,p=e,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(An+(p.s?"NaN":"-Infinity"));if(p.eq(dn))return new m(0);if(t==null?(Rt=!1,d=g):d=t,p.eq(10))return t==null&&(Rt=!0),Ig(m,d);if(d+=h,m.precision=d,r=ya(v),n=r.charAt(0),o=Qt(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ya(p.d),n=r.charAt(0),f++;o=Qt(p),n>1?(p=new m("0."+r),o++):p=new m(n+"."+r.slice(1))}else return l=Ig(m,d+2,g).times(o+""),p=td(new m(n+"."+r.slice(1)),d-h).plus(l),m.precision=g,t==null?(Rt=!0,jt(p,g)):p;for(c=i=p=Qa(p.minus(dn),p.plus(dn),d),u=jt(p.times(p),d),s=3;;){if(i=jt(i.times(u),d),l=c.plus(Qa(i,new m(s),d)),ya(l.d).slice(0,d)===ya(c.d).slice(0,d))return c=c.times(2),o!==0&&(c=c.plus(Ig(m,d+2,g).times(o+""))),c=Qa(c,new m(f),d),m.precision=g,t==null?(Rt=!0,jt(c,g)):c;c=l,s+=2}}function B_(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Fc(r/$t),e.d=[],n=(r+1)%$t,r<0&&(n+=$t),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=$t;n<s;)e.d.push(+t.slice(n,n+=$t));t=t.slice(n),n=$t-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Rt&&(e.e>nh||e.e<-nh))throw Error(l0+r)}else e.s=0,e.e=0,e.d=[0];return e}function jt(e,t,r){var n,s,o,i,c,l,d,u,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=$t,s=t,d=f[u=0];else{if(u=Math.ceil((n+1)/$t),o=f.length,u>=o)return e;for(d=o=f[u],i=1;o>=10;o/=10)i++;n%=$t,s=n-$t+i}if(r!==void 0&&(o=co(10,i-s-1),c=d/o%10|0,l=t<0||f[u+1]!==void 0||d%o,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?s>0?d/co(10,i-s):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=Qt(e),f.length=1,t=t-o-1,f[0]=co(10,($t-t%$t)%$t),e.e=Fc(-t/$t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,o=1,u--):(f.length=u+1,o=co(10,$t-n),f[u]=s>0?(d/co(10,i-s)%co(10,s)|0)*o:0),l)for(;;)if(u==0){(f[0]+=o)==dr&&(f[0]=1,++e.e);break}else{if(f[u]+=o,f[u]!=dr)break;f[u--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Rt&&(e.e>nh||e.e<-nh))throw Error(l0+Qt(e));return e}function rE(e,t){var r,n,s,o,i,c,l,d,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Rt?jt(t,p):t;if(l=e.d,f=t.d,n=t.e,d=e.e,l=l.slice(),i=d-n,i){for(u=i<0,u?(r=l,i=-i,c=f.length):(r=f,n=d,c=l.length),s=Math.max(Math.ceil(p/$t),c)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=l.length,c=f.length,u=s<c,u&&(c=s),s=0;s<c;s++)if(l[s]!=f[s]){u=l[s]<f[s];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,s=f.length-c;s>0;--s)l[c++]=0;for(s=f.length;s>i;){if(l[--s]<f[s]){for(o=s;o&&l[--o]===0;)l[o]=dr-1;--l[o],l[s]+=dr}l[s]-=f[s]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Rt?jt(t,p):t):new h(0)}function To(e,t,r){var n,s=Qt(e),o=ya(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+ws(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ws(-s-1)+o,r&&(n=r-i)>0&&(o+=ws(n))):s>=i?(o+=ws(s+1-i),r&&(n=r-s-1)>0&&(o=o+"."+ws(n))):((n=s+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(o+="."),o+=ws(n))),e.s<0?"-"+o:o}function V_(e,t){if(e.length>t)return e.length=t,!0}function nE(e){var t,r,n;function s(o){var i=this;if(!(i instanceof s))return new s(o);if(i.constructor=s,o instanceof s){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wo+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return B_(i,o.toString())}else if(typeof o!="string")throw Error(wo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,xre.test(o))B_(i,o);else throw Error(wo+o)}if(s.prototype=Ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=nE,s.config=s.set=yre,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function yre(e){if(!e||typeof e!="object")throw Error(An+"Object expected");var t,r,n,s=["precision",1,Lc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Fc(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(wo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wo+r+": "+n);return this}var d0=nE(vre);dn=new d0(1);const xt=d0;function bre(e){return _re(e)||Nre(e)||wre(e)||jre()}function jre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(e,t){if(e){if(typeof e=="string")return gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gx(e,t)}}function Nre(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _re(e){if(Array.isArray(e))return gx(e)}function gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Sre=function(t){return t},aE={},sE=function(t){return t===aE},U_=function(t){return function r(){return arguments.length===0||arguments.length===1&&sE(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Cre=function e(t,r){return t===1?r:U_(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var i=s.filter(function(c){return c!==aE}).length;return i>=t?r.apply(void 0,s):e(t-i,U_(function(){for(var c=arguments.length,l=new Array(c),d=0;d<c;d++)l[d]=arguments[d];var u=s.map(function(f){return sE(f)?l.shift():f});return r.apply(void 0,bre(u).concat(l))}))})},cp=function(t){return Cre(t.length,t)},vx=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Pre=cp(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Are=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Sre;var s=r.reverse(),o=s[0],i=s.slice(1);return function(){return i.reduce(function(c,l){return l(c)},o.apply(void 0,arguments))}},xx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oE=function(t){var r=null,n=null;return function(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r&&o.every(function(c,l){return c===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function kre(e){var t;return e===0?t=1:t=Math.floor(new xt(e).abs().log(10).toNumber())+1,t}function Ere(e,t,r){for(var n=new xt(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}var Ore=cp(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),Tre=cp(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),$re=cp(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const lp={rangeStep:Ere,getDigitCount:kre,interpolateNumber:Ore,uninterpolateNumber:Tre,uninterpolateTruncation:$re};function yx(e){return Rre(e)||Dre(e)||iE(e)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dre(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Rre(e){if(Array.isArray(e))return bx(e)}function rd(e,t){return Fre(e)||Lre(e,t)||iE(e,t)||Ire()}function Ire(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iE(e,t){if(e){if(typeof e=="string")return bx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bx(e,t)}}function bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lre(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,o=void 0;try{for(var i=e[Symbol.iterator](),c;!(n=(c=i.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw o}}return r}}function Fre(e){if(Array.isArray(e))return e}function cE(e){var t=rd(e,2),r=t[0],n=t[1],s=r,o=n;return r>n&&(s=n,o=r),[s,o]}function lE(e,t,r){if(e.lte(0))return new xt(0);var n=lp.getDigitCount(e.toNumber()),s=new xt(10).pow(n),o=e.div(s),i=n!==1?.05:.1,c=new xt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=c.mul(s);return t?l:new xt(Math.ceil(l))}function zre(e,t,r){var n=1,s=new xt(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new xt(10).pow(lp.getDigitCount(e)-1),s=new xt(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new xt(Math.floor(e)))}else e===0?s=new xt(Math.floor((t-1)/2)):r||(s=new xt(Math.floor(e)));var i=Math.floor((t-1)/2),c=Are(Pre(function(l){return s.add(new xt(l-i).mul(n)).toNumber()}),vx);return c(0,t)}function dE(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var o=lE(new xt(t).sub(e).div(r-1),n,s),i;e<=0&&t>=0?i=new xt(0):(i=new xt(e).add(t).div(2),i=i.sub(new xt(i).mod(o)));var c=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new xt(t).sub(i).div(o).toNumber()),d=c+l+1;return d>r?dE(e,t,r,n,s+1):(d<r&&(l=t>0?l+(r-d):l,c=t>0?c:c+(r-d)),{step:o,tickMin:i.sub(new xt(c).mul(o)),tickMax:i.add(new xt(l).mul(o))})}function Bre(e){var t=rd(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),c=cE([r,n]),l=rd(c,2),d=l[0],u=l[1];if(d===-1/0||u===1/0){var f=u===1/0?[d].concat(yx(vx(0,s-1).map(function(){return 1/0}))):[].concat(yx(vx(0,s-1).map(function(){return-1/0})),[u]);return r>n?xx(f):f}if(d===u)return zre(d,s,o);var h=dE(d,u,i,o),p=h.step,v=h.tickMin,m=h.tickMax,g=lp.rangeStep(v,m.add(new xt(.1).mul(p)),p);return r>n?xx(g):g}function Vre(e,t){var r=rd(e,2),n=r[0],s=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=cE([n,s]),c=rd(i,2),l=c[0],d=c[1];if(l===-1/0||d===1/0)return[n,s];if(l===d)return[l];var u=Math.max(t,2),f=lE(new xt(d).sub(l).div(u-1),o,0),h=[].concat(yx(lp.rangeStep(new xt(l),new xt(d).sub(new xt(.99).mul(f)),f)),[d]);return n>s?xx(h):h}var Ure=oE(Bre),qre=oE(Vre),Wre="Invariant failed";function $o(e,t){throw new Error(Wre)}var Hre=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(this,arguments)}function Gre(e,t){return Xre(e)||Zre(e,t)||Yre(e,t)||Kre()}function Kre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yre(e,t){if(e){if(typeof e=="string")return q_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q_(e,t)}}function q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Xre(e){if(Array.isArray(e))return e}function Jre(e,t){if(e==null)return{};var r=Qre(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hE(n.key),n)}}function rne(e,t,r){return t&&tne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nne(e,t,r){return t=sh(t),ane(e,uE()?Reflect.construct(t,r||[],sh(e).constructor):t.apply(e,r))}function ane(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sne(e)}function sne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uE=function(){return!!e})()}function sh(e){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sh(e)}function one(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jx(e,t)}function jx(e,t){return jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jx(e,t)}function fE(e,t,r){return t=hE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hE(e){var t=ine(e,"string");return qi(t)=="symbol"?t:t+""}function ine(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nu=function(e){function t(){return ene(this,t),nne(this,t,arguments)}return one(t,e),rne(t,[{key:"render",value:function(){var n=this.props,s=n.offset,o=n.layout,i=n.width,c=n.dataKey,l=n.data,d=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=Jre(n,Hre),p=Pe(h,!1);this.props.direction==="x"&&u.type!=="number"&&$o();var v=l.map(function(m){var g=d(m,c),y=g.x,b=g.y,w=g.value,j=g.errorVal;if(!j)return null;var N=[],S,_;if(Array.isArray(j)){var C=Gre(j,2);S=C[0],_=C[1]}else S=_=j;if(o==="vertical"){var E=u.scale,$=b+s,k=$+i,P=$-i,O=E(w-S),T=E(w+_);N.push({x1:T,y1:k,x2:T,y2:P}),N.push({x1:O,y1:$,x2:T,y2:$}),N.push({x1:O,y1:k,x2:O,y2:P})}else if(o==="horizontal"){var I=f.scale,R=y+s,D=R-i,M=R+i,U=I(w-S),ne=I(w+_);N.push({x1:D,y1:ne,x2:M,y2:ne}),N.push({x1:R,y1:U,x2:R,y2:ne}),N.push({x1:D,y1:U,x2:M,y2:U})}return A.createElement(ct,ah({className:"recharts-errorBar",key:"bar-".concat(N.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),N.map(function(K){return A.createElement("line",ah({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return A.createElement(ct,{className:"recharts-errorBars"},v)}}])}(A.Component);fE(nu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fE(nu,"displayName","ErrorBar");function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return t=lne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lne(e){var t=dne(e,"string");return nd(t)=="symbol"?t:t+""}function dne(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mE=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,o=t.legendContent,i=on(r,Sa);if(!i)return null;var c=Sa.defaultProps,l=c!==void 0?ro(ro({},c),i.props):{},d;return i.props&&i.props.payload?d=i.props&&i.props.payload:o==="children"?d=(n||[]).reduce(function(u,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return u.concat(v.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):d=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,p=h!==void 0?ro(ro({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:u0(f),value:m||v,payload:p}}),ro(ro(ro({},l),Sa.getWithHeight(i,s)),{},{payload:d,item:i})};function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function H_(e){return mne(e)||hne(e)||fne(e)||une()}function une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(e,t){if(e){if(typeof e=="string")return wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wx(e,t)}}function hne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mne(e){if(Array.isArray(e))return wx(e)}function wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return t=pne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pne(e){var t=gne(e,"string");return ad(t)=="symbol"?t:t+""}function gne(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t,r){return Be(e)||Be(t)?r:ir(t)?hn(e,t,r):De(t)?t(e):r}function _l(e,t,r,n){var s=hre(e,function(c){return Wt(c,t)});if(r==="number"){var o=s.filter(function(c){return ue(c)||parseFloat(c)});return o.length?[ip(o),Ps(o)]:[1/0,-1/0]}var i=n?s.filter(function(c){return!Be(c)}):s;return i.map(function(c){return ir(c)||c instanceof Date?c:""})}var vne=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,d=0;d<c;d++){var u=d>0?s[d-1].coordinate:s[c-1].coordinate,f=s[d].coordinate,h=d>=c-1?s[0].coordinate:s[d+1].coordinate,p=void 0;if(Lr(f-u)!==Lr(h-f)){var v=[];if(Lr(h-f)===Lr(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+u)/2),v[1]=Math.max(m,(m+u)/2)}else{p=u;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){i=s[d].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){i=s[d].index;break}}}else for(var j=0;j<c;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<c-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===c-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){i=n[j].index;break}return i},u0=function(t){var r,n=t,s=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,i=o.stroke,c=o.fill,l;switch(s){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:c;break;default:l=c;break}return l},xne=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var i={},c=Object.keys(o),l=0,d=c.length;l<d;l++)for(var u=o[c[l]].stackGroups,f=Object.keys(u),h=0,p=f.length;h<p;h++){var v=u[f[h]],m=v.items,g=v.cateAxisId,y=m.filter(function(_){return Ja(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Bt(Bt({},b),y[0].props):y[0].props,j=w.barSize,N=w[g];i[N]||(i[N]=[]);var S=Be(j)?r:j;i[N].push({item:y[0],stackList:y.slice(1),barSize:Be(S)?void 0:Fr(S,n,0)})}}return i},yne=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,c=t.maxBarSize,l=i.length;if(l<1)return null;var d=Fr(r,s,0,!0),u,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=s/l,v=i.reduce(function(j,N){return j+N.barSize||0},0);v+=(l-1)*d,v>=s&&(v-=(l-1)*d,d=0),v>=s&&p>0&&(h=!0,p*=.9,v=l*p);var m=(s-v)/2>>0,g={offset:m-d,size:0};u=i.reduce(function(j,N){var S={item:N.item,position:{offset:g.offset+g.size+d,size:h?p:N.barSize}},_=[].concat(H_(j),[S]);return g=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){_.push({item:C,position:g})}),_},f)}else{var y=Fr(n,s,0,!0);s-2*y-(l-1)*d<=0&&(d=0);var b=(s-2*y-(l-1)*d)/l;b>1&&(b>>=0);var w=c===+c?Math.min(b,c):b;u=i.reduce(function(j,N,S){var _=[].concat(H_(j),[{item:N.item,position:{offset:y+(b+d)*S+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(C){_.push({item:C,position:_[_.length-1].position})}),_},f)}return u},bne=function(t,r,n,s){var o=n.children,i=n.width,c=n.margin,l=i-(c.left||0)-(c.right||0),d=mE({children:o,legendWidth:l});if(d){var u=s||{},f=u.width,h=u.height,p=d.align,v=d.verticalAlign,m=d.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ue(t[p]))return Bt(Bt({},t),{},Ci({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ue(t[v]))return Bt(Bt({},t),{},Ci({},v,t[v]+(h||0)))}return t},jne=function(t,r,n){return Be(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pE=function(t,r,n,s,o){var i=r.props.children,c=mn(i,nu).filter(function(d){return jne(s,o,d.props.direction)});if(c&&c.length){var l=c.map(function(d){return d.props.dataKey});return t.reduce(function(d,u){var f=Wt(u,n);if(Be(f))return d;var h=Array.isArray(f)?[ip(f),Ps(f)]:[f,f],p=l.reduce(function(v,m){var g=Wt(u,m,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},wne=function(t,r,n,s,o){var i=r.map(function(c){return pE(t,c,n,o,s)}).filter(function(c){return!Be(c)});return i&&i.length?i.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},gE=function(t,r,n,s,o){var i=r.map(function(l){var d=l.props.dataKey;return n==="number"&&d&&pE(t,l,d,s)||_l(t,d,n,o)});if(n==="number")return i.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);var c={};return i.reduce(function(l,d){for(var u=0,f=d.length;u<f;u++)c[d[u]]||(c[d[u]]=!0,l.push(d[u]));return l},[])},vE=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},xE=function(t,r,n,s){if(s)return t.map(function(l){return l.coordinate});var o,i,c=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||c.push(r),i||c.push(n),c},Ya=function(t,r,n){if(!t)return null;var s=t.scale,o=t.duplicateDomain,i=t.type,c=t.range,l=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/l:0;if(d=t.axisType==="angleAxis"&&c?.length>=2?Lr(c[0]-c[1])*2*d:d,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:s(h)+d,value:f,offset:d}});return u.filter(function(f){return!$c(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+d,value:f,index:h,offset:d}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+d,value:f,offset:d}}):s.domain().map(function(f,h){return{coordinate:s(f)+d,value:o?o[f]:f,index:h,offset:d}})},Lg=new WeakMap,Vu=function(t,r){if(typeof r!="function")return t;Lg.has(t)||Lg.set(t,new WeakMap);var n=Lg.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},yE=function(t,r,n){var s=t.scale,o=t.type,i=t.layout,c=t.axisType;if(s==="auto")return i==="radial"&&c==="radiusAxis"?{scale:Zl(),realScaleType:"band"}:i==="radial"&&c==="angleAxis"?{scale:Qf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Nl(),realScaleType:"point"}:o==="category"?{scale:Zl(),realScaleType:"band"}:{scale:Qf(),realScaleType:"linear"};if(Xd(s)){var l="scale".concat(Gm(s));return{scale:(z_[l]||Nl)(),realScaleType:z_[l]?l:"point"}}return De(s)?{scale:s}:{scale:Nl(),realScaleType:"point"}},K_=1e-4,bE=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),o=Math.min(s[0],s[1])-K_,i=Math.max(s[0],s[1])+K_,c=t(r[0]),l=t(r[n-1]);(c<o||c>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},Nne=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},_ne=function(t,r){if(!r||r.length!==2||!ue(r[0])||!ue(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ue(t[0])||t[0]<n)&&(o[0]=n),(!ue(t[1])||t[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<n&&(o[1]=n),o},Sne=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,i=0,c=0;c<r;++c){var l=$c(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1]):(t[c][n][0]=i,t[c][n][1]=i+l,i=t[c][n][1])}},Cne=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,i=0;i<r;++i){var c=$c(t[i][n][1])?t[i][n][0]:t[i][n][1];c>=0?(t[i][n][0]=o,t[i][n][1]=o+c,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},Pne={sign:Sne,expand:Hq,none:Di,silhouette:Gq,wiggle:Kq,positive:Cne},Ane=function(t,r,n){var s=r.map(function(c){return c.props.dataKey}),o=Pne[n],i=Wq().keys(s).value(function(c,l){return+Wt(c,l,0)}).order(Gv).offset(o);return i(t)},kne=function(t,r,n,s,o,i){if(!t)return null;var c=i?r.reverse():r,l={},d=c.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Bt(Bt({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var y=v[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(ir(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Wo("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return Bt(Bt({},f),{},Ci({},y,b))},l),u={};return Object.keys(d).reduce(function(f,h){var p=d[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return Bt(Bt({},m),{},Ci({},g,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:Ane(t,y.items,o)}))},v)}return Bt(Bt({},f),{},Ci({},h,p))},u)},jE=function(t,r){var n=r.realScaleType,s=r.type,o=r.tickCount,i=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var d=t.domain();if(!d.length)return null;var u=Ure(d,o,c);return t.domain([ip(u),Ps(u)]),{niceTicks:u}}if(o&&s==="number"){var f=t.domain(),h=qre(f,o,c);return{niceTicks:h}}return null};function oh(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Be(s[t.dataKey])){var c=Tf(r,"value",s[t.dataKey]);if(c)return c.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Wt(s,Be(i)?t.dataKey:i);return Be(l)?null:t.scale(l)}var Y_=function(t){var r=t.axis,n=t.ticks,s=t.offset,o=t.bandSize,i=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+s:null;var l=Wt(i,r.dataKey,r.domain[c]);return Be(l)?null:r.scale(l)-o/2+s},Ene=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return s<=0&&o>=0?0:o<0?o:s}return n[0]},One=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(ir(o)){var i=r[o];if(i){var c=i.items.indexOf(t);return c>=0?i.stackedData[c]:null}}return null},Tne=function(t){return t.reduce(function(r,n){return[ip(n.concat([r[0]]).filter(ue)),Ps(n.concat([r[1]]).filter(ue))]},[1/0,-1/0])},wE=function(t,r,n){return Object.keys(t).reduce(function(s,o){var i=t[o],c=i.stackedData,l=c.reduce(function(d,u){var f=Tne(u.slice(r,n+1));return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Z_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nx=function(t,r,n){if(De(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(ue(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Z_.test(t[0])){var o=+Z_.exec(t[0])[1];s[0]=r[0]-o}else De(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ue(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(X_.test(t[1])){var i=+X_.exec(t[1])[1];s[1]=r[1]+i}else De(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},ih=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var o=Fb(r,function(f){return f.coordinate}),i=1/0,c=1,l=o.length;c<l;c++){var d=o[c],u=o[c-1];i=Math.min((d.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},J_=function(t,r,n){return!t||!t.length||Oo(t,hn(n,"type.defaultProps.domain"))?r:t},NE=function(t,r){var n=t.type.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,o=n.name,i=n.unit,c=n.formatter,l=n.tooltipType,d=n.chartType,u=n.hide;return Bt(Bt({},Pe(t,!1)),{},{dataKey:s,unit:i,formatter:c,name:o||s,color:u0(t),value:Wt(r,s),type:l,payload:r,chartType:d,hide:u})};function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){_E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _E(e,t,r){return t=$ne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ne(e){var t=Mne(e,"string");return sd(t)=="symbol"?t:t+""}function Mne(e,t){if(sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){return Fne(e)||Lne(e,t)||Ine(e,t)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(e,t){if(e){if(typeof e=="string")return e1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}function e1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Fne(e){if(Array.isArray(e))return e}var ch=Math.PI/180,zne=function(t){return t*180/Math.PI},Ct=function(t,r,n,s){return{x:t+Math.cos(-ch*s)*n,y:r+Math.sin(-ch*s)*n}},SE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Bne=function(t,r,n,s,o){var i=t.width,c=t.height,l=t.startAngle,d=t.endAngle,u=Fr(t.cx,i,i/2),f=Fr(t.cy,c,c/2),h=SE(i,c,n),p=Fr(t.innerRadius,h,0),v=Fr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,y){var b=r[y],w=b.domain,j=b.reversed,N;if(Be(b.range))s==="angleAxis"?N=[l,d]:s==="radiusAxis"&&(N=[p,v]),j&&(N=[N[1],N[0]]);else{N=b.range;var S=N,_=Dne(S,2);l=_[0],d=_[1]}var C=yE(b,o),E=C.realScaleType,$=C.scale;$.domain(w).range(N),bE($);var k=jE($,qa(qa({},b),{},{realScaleType:E})),P=qa(qa(qa({},b),k),{},{range:N,radius:v,realScaleType:E,scale:$,cx:u,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:d});return qa(qa({},g),{},_E({},y,P))},{})},Vne=function(t,r){var n=t.x,s=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(s-i,2))},Une=function(t,r){var n=t.x,s=t.y,o=r.cx,i=r.cy,c=Vne({x:n,y:s},{x:o,y:i});if(c<=0)return{radius:c};var l=(n-o)/c,d=Math.acos(l);return s>i&&(d=2*Math.PI-d),{radius:c,angle:zne(d),angleInRadian:d}},qne=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(s,o);return{startAngle:r-i*360,endAngle:n-i*360}},Wne=function(t,r){var n=r.startAngle,s=r.endAngle,o=Math.floor(n/360),i=Math.floor(s/360),c=Math.min(o,i);return t+c*360},t1=function(t,r){var n=t.x,s=t.y,o=Une({x:n,y:s},r),i=o.radius,c=o.angle,l=r.innerRadius,d=r.outerRadius;if(i<l||i>d)return!1;if(i===0)return!0;var u=qne(r),f=u.startAngle,h=u.endAngle,p=c,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?qa(qa({},r),{},{radius:i,angle:Wne(p,r)}):null},CE=function(t){return!x.isValidElement(t)&&!De(t)&&typeof t!="boolean"?t.className:""};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}var Hne=["offset"];function Gne(e){return Xne(e)||Zne(e)||Yne(e)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yne(e,t){if(e){if(typeof e=="string")return _x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _x(e,t)}}function Zne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xne(e){if(Array.isArray(e))return _x(e)}function _x(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jne(e,t){if(e==null)return{};var r=Qne(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function r1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(r),!0).forEach(function(n){eae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eae(e,t,r){return t=tae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tae(e){var t=rae(e,"string");return od(t)=="symbol"?t:t+""}function rae(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}var nae=function(t){var r=t.value,n=t.formatter,s=Be(t.children)?r:t.children;return De(n)?n(s):s},aae=function(t,r){var n=Lr(r-t),s=Math.min(Math.abs(r-t),360);return n*s},sae=function(t,r,n){var s=t.position,o=t.viewBox,i=t.offset,c=t.className,l=o,d=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,y=aae(p,v),b=y>=0?1:-1,w,j;s==="insideStart"?(w=p+b*i,j=m):s==="insideEnd"?(w=v-b*i,j=!m):s==="end"&&(w=v+b*i,j=m),j=y<=0?j:!j;var N=Ct(d,u,g,w),S=Ct(d,u,g,w+(j?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),C=Be(t.id)?Wo("recharts-radial-line-"):t.id;return A.createElement("text",id({},n,{dominantBaseline:"central",className:We("recharts-radial-bar-label",c)}),A.createElement("defs",null,A.createElement("path",{id:C,d:_})),A.createElement("textPath",{xlinkHref:"#".concat(C)},r))},oae=function(t){var r=t.viewBox,n=t.offset,s=t.position,o=r,i=o.cx,c=o.cy,l=o.innerRadius,d=o.outerRadius,u=o.startAngle,f=o.endAngle,h=(u+f)/2;if(s==="outside"){var p=Ct(i,c,d+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"end"};var g=(l+d)/2,y=Ct(i,c,g,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},iae=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,o=t.position,i=r,c=i.x,l=i.y,d=i.width,u=i.height,f=u>=0?1:-1,h=f*s,p=f>0?"end":"start",v=f>0?"start":"end",m=d>=0?1:-1,g=m*s,y=m>0?"end":"start",b=m>0?"start":"end";if(o==="top"){var w={x:c+d/2,y:l-f*s,textAnchor:"middle",verticalAnchor:p};return tr(tr({},w),n?{height:Math.max(l-n.y,0),width:d}:{})}if(o==="bottom"){var j={x:c+d/2,y:l+u+h,textAnchor:"middle",verticalAnchor:v};return tr(tr({},j),n?{height:Math.max(n.y+n.height-(l+u),0),width:d}:{})}if(o==="left"){var N={x:c-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return tr(tr({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(o==="right"){var S={x:c+d+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return tr(tr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:u}:{})}var _=n?{width:d,height:u}:{};return o==="insideLeft"?tr({x:c+g,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},_):o==="insideRight"?tr({x:c+d-g,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},_):o==="insideTop"?tr({x:c+d/2,y:l+h,textAnchor:"middle",verticalAnchor:v},_):o==="insideBottom"?tr({x:c+d/2,y:l+u-h,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?tr({x:c+g,y:l+h,textAnchor:b,verticalAnchor:v},_):o==="insideTopRight"?tr({x:c+d-g,y:l+h,textAnchor:y,verticalAnchor:v},_):o==="insideBottomLeft"?tr({x:c+g,y:l+u-h,textAnchor:b,verticalAnchor:p},_):o==="insideBottomRight"?tr({x:c+d-g,y:l+u-h,textAnchor:y,verticalAnchor:p},_):kc(o)&&(ue(o.x)||mo(o.x))&&(ue(o.y)||mo(o.y))?tr({x:c+Fr(o.x,d),y:l+Fr(o.y,u),textAnchor:"end",verticalAnchor:"end"},_):tr({x:c+d/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)},cae=function(t){return"cx"in t&&ue(t.cx)};function ur(e){var t=e.offset,r=t===void 0?5:t,n=Jne(e,Hne),s=tr({offset:r},n),o=s.viewBox,i=s.position,c=s.value,l=s.children,d=s.content,u=s.className,f=u===void 0?"":u,h=s.textBreakAll;if(!o||Be(c)&&Be(l)&&!x.isValidElement(d)&&!De(d))return null;if(x.isValidElement(d))return x.cloneElement(d,s);var p;if(De(d)){if(p=x.createElement(d,s),x.isValidElement(p))return p}else p=nae(s);var v=cae(o),m=Pe(s,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return sae(s,p,m);var g=v?oae(s):iae(s);return A.createElement(Eo,id({className:We("recharts-label",f)},m,g,{breakAll:h}),p)}ur.displayName="Label";var PE=function(t){var r=t.cx,n=t.cy,s=t.angle,o=t.startAngle,i=t.endAngle,c=t.r,l=t.radius,d=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(ue(m)&&ue(g)){if(ue(f)&&ue(h))return{x:f,y:h,width:m,height:g};if(ue(p)&&ue(v))return{x:p,y:v,width:m,height:g}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(r)&&ue(n)?{cx:r,cy:n,startAngle:o||s||0,endAngle:i||s||0,innerRadius:d||0,outerRadius:u||l||c||0,clockWise:y}:t.viewBox?t.viewBox:{}},lae=function(t,r){return t?t===!0?A.createElement(ur,{key:"label-implicit",viewBox:r}):ir(t)?A.createElement(ur,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===ur?x.cloneElement(t,{key:"label-implicit",viewBox:r}):A.createElement(ur,{key:"label-implicit",content:t,viewBox:r}):De(t)?A.createElement(ur,{key:"label-implicit",content:t,viewBox:r}):kc(t)?A.createElement(ur,id({viewBox:r},t,{key:"label-implicit"})):null:null},dae=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,o=PE(t),i=mn(s,ur).map(function(l,d){return x.cloneElement(l,{viewBox:r||o,key:"label-".concat(d)})});if(!n)return i;var c=lae(t.label,r||o);return[c].concat(Gne(i))};ur.parseViewBox=PE;ur.renderCallByParent=dae;function uae(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fae=uae;const hae=yt(fae);function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}var mae=["valueAccessor"],pae=["data","dataKey","clockWise","id","textBreakAll"];function gae(e){return bae(e)||yae(e)||xae(e)||vae()}function vae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xae(e,t){if(e){if(typeof e=="string")return Sx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sx(e,t)}}function yae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bae(e){if(Array.isArray(e))return Sx(e)}function Sx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lh.apply(this,arguments)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t,r){return t=wae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wae(e){var t=Nae(e,"string");return cd(t)=="symbol"?t:t+""}function Nae(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s1(e,t){if(e==null)return{};var r=_ae(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _ae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Sae=function(t){return Array.isArray(t.value)?hae(t.value):t.value};function Pa(e){var t=e.valueAccessor,r=t===void 0?Sae:t,n=s1(e,mae),s=n.data,o=n.dataKey,i=n.clockWise,c=n.id,l=n.textBreakAll,d=s1(n,pae);return!s||!s.length?null:A.createElement(ct,{className:"recharts-label-list"},s.map(function(u,f){var h=Be(o)?r(u,f):Wt(u&&u.payload,o),p=Be(c)?{}:{id:"".concat(c,"-").concat(f)};return A.createElement(ur,lh({},Pe(u,!0),d,p,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:ur.parseViewBox(Be(i)?u:a1(a1({},u),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}Pa.displayName="LabelList";function Cae(e,t){return e?e===!0?A.createElement(Pa,{key:"labelList-implicit",data:t}):A.isValidElement(e)||De(e)?A.createElement(Pa,{key:"labelList-implicit",data:t,content:e}):kc(e)?A.createElement(Pa,lh({data:t},e,{key:"labelList-implicit"})):null:null}function Pae(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=mn(n,Pa).map(function(i,c){return x.cloneElement(i,{data:t,key:"labelList-".concat(c)})});if(!r)return s;var o=Cae(e.label,t);return[o].concat(gae(s))}Pa.renderCallByParent=Pae;function ld(e){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(e)}function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cx.apply(this,arguments)}function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){Aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aae(e,t,r){return t=kae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kae(e){var t=Eae(e,"string");return ld(t)=="symbol"?t:t+""}function Eae(e,t){if(ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oae=function(t,r){var n=Lr(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Uu=function(t){var r=t.cx,n=t.cy,s=t.radius,o=t.angle,i=t.sign,c=t.isExternal,l=t.cornerRadius,d=t.cornerIsExternal,u=l*(c?1:-1)+s,f=Math.asin(l/u)/ch,h=d?o:o+i*f,p=Ct(r,n,u,h),v=Ct(r,n,s,h),m=d?o-i*f:o,g=Ct(r,n,u*Math.cos(f*ch),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},AE=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,i=t.startAngle,c=t.endAngle,l=Oae(i,c),d=i+l,u=Ct(r,n,o,i),f=Ct(r,n,o,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Ct(r,n,s,i),v=Ct(r,n,s,d);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Tae=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,d=t.startAngle,u=t.endAngle,f=Lr(u-d),h=Uu({cx:r,cy:n,radius:o,angle:d,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=Uu({cx:r,cy:n,radius:o,angle:u,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,w=g.theta,j=l?Math.abs(d-u):Math.abs(d-u)-m-w;if(j<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):AE({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:d,endAngle:u});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var S=Uu({cx:r,cy:n,radius:s,angle:d,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=S.circleTangency,C=S.lineTangency,E=S.theta,$=Uu({cx:r,cy:n,radius:s,angle:u,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),k=$.circleTangency,P=$.lineTangency,O=$.theta,T=l?Math.abs(d-u):Math.abs(d-u)-E-O;if(T<0&&i===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},$ae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kE=function(t){var r=i1(i1({},$ae),t),n=r.cx,s=r.cy,o=r.innerRadius,i=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(i<o||u===f)return null;var p=We("recharts-sector",h),v=i-o,m=Fr(c,v,0,!0),g;return m>0&&Math.abs(u-f)<360?g=Tae({cx:n,cy:s,innerRadius:o,outerRadius:i,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:d,startAngle:u,endAngle:f}):g=AE({cx:n,cy:s,innerRadius:o,outerRadius:i,startAngle:u,endAngle:f}),A.createElement("path",Cx({},Pe(r,!0),{className:p,d:g,role:"img"}))};function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Px.apply(this,arguments)}function c1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(r),!0).forEach(function(n){Mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mae(e,t,r){return t=Dae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dae(e){var t=Rae(e,"string");return dd(t)=="symbol"?t:t+""}function Rae(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d1={curveBasisClosed:Mq,curveBasisOpen:Dq,curveBasis:$q,curveBumpX:yq,curveBumpY:bq,curveLinearClosed:Rq,curveLinear:Ym,curveMonotoneX:Iq,curveMonotoneY:Lq,curveNatural:Fq,curveStep:zq,curveStepAfter:Vq,curveStepBefore:Bq},qu=function(t){return t.x===+t.x&&t.y===+t.y},sl=function(t){return t.x},ol=function(t){return t.y},Iae=function(t,r){if(De(t))return t;var n="curve".concat(Gm(t));return(n==="curveMonotone"||n==="curveBump")&&r?d1["".concat(n).concat(r==="vertical"?"Y":"X")]:d1[n]||Ym},Lae=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,o=s===void 0?[]:s,i=t.baseLine,c=t.layout,l=t.connectNulls,d=l===void 0?!1:l,u=Iae(n,c),f=d?o.filter(function(m){return qu(m)}):o,h;if(Array.isArray(i)){var p=d?i.filter(function(m){return qu(m)}):i,v=f.map(function(m,g){return l1(l1({},m),{},{base:p[g]})});return c==="vertical"?h=Mu().y(ol).x1(sl).x0(function(m){return m.base.x}):h=Mu().x(sl).y1(ol).y0(function(m){return m.base.y}),h.defined(qu).curve(u),h(v)}return c==="vertical"&&ue(i)?h=Mu().y(ol).x1(sl).x0(i):ue(i)?h=Mu().x(sl).y1(ol).y0(i):h=NA().x(sl).y(ol),h.defined(qu).curve(u),h(f)},No=function(t){var r=t.className,n=t.points,s=t.path,o=t.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?Lae(t):s;return A.createElement("path",Px({},Pe(t,!1),$f(t),{className:We("recharts-curve",r),d:i,ref:o}))},EE={exports:{}},Fae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zae=Fae,Bae=zae;function OE(){}function TE(){}TE.resetWarningCache=OE;var Vae=function(){function e(n,s,o,i,c,l){if(l!==Bae){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TE,resetWarningCache:OE};return r.PropTypes=r,r};EE.exports=Vae();var Uae=EE.exports;const Qe=yt(Uae);var qae=Object.getOwnPropertyNames,Wae=Object.getOwnPropertySymbols,Hae=Object.prototype.hasOwnProperty;function u1(e,t){return function(n,s,o){return e(n,s,o)&&t(n,s,o)}}function Wu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var o=s.cache,i=o.get(r),c=o.get(n);if(i&&c)return i===n&&c===r;o.set(r,n),o.set(n,r);var l=e(r,n,s);return o.delete(r),o.delete(n),l}}function f1(e){return qae(e).concat(Wae(e))}var $E=Object.hasOwn||function(e,t){return Hae.call(e,t)};function zc(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var ME="_owner",h1=Object.getOwnPropertyDescriptor,m1=Object.keys;function Gae(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Kae(e,t){return zc(e.getTime(),t.getTime())}function p1(e,t,r){if(e.size!==t.size)return!1;for(var n={},s=e.entries(),o=0,i,c;(i=s.next())&&!i.done;){for(var l=t.entries(),d=!1,u=0;(c=l.next())&&!c.done;){var f=i.value,h=f[0],p=f[1],v=c.value,m=v[0],g=v[1];!d&&!n[u]&&(d=r.equals(h,m,o,u,e,t,r)&&r.equals(p,g,h,m,e,t,r))&&(n[u]=!0),u++}if(!d)return!1;o++}return!0}function Yae(e,t,r){var n=m1(e),s=n.length;if(m1(t).length!==s)return!1;for(var o;s-- >0;)if(o=n[s],o===ME&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!$E(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function il(e,t,r){var n=f1(e),s=n.length;if(f1(t).length!==s)return!1;for(var o,i,c;s-- >0;)if(o=n[s],o===ME&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!$E(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=h1(e,o),c=h1(t,o),(i||c)&&(!i||!c||i.configurable!==c.configurable||i.enumerable!==c.enumerable||i.writable!==c.writable)))return!1;return!0}function Zae(e,t){return zc(e.valueOf(),t.valueOf())}function Xae(e,t){return e.source===t.source&&e.flags===t.flags}function g1(e,t,r){if(e.size!==t.size)return!1;for(var n={},s=e.values(),o,i;(o=s.next())&&!o.done;){for(var c=t.values(),l=!1,d=0;(i=c.next())&&!i.done;)!l&&!n[d]&&(l=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[d]=!0),d++;if(!l)return!1}return!0}function Jae(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var Qae="[object Arguments]",ese="[object Boolean]",tse="[object Date]",rse="[object Map]",nse="[object Number]",ase="[object Object]",sse="[object RegExp]",ose="[object Set]",ise="[object String]",cse=Array.isArray,v1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,x1=Object.assign,lse=Object.prototype.toString.call.bind(Object.prototype.toString);function dse(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,s=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,c=e.areSetsEqual,l=e.areTypedArraysEqual;return function(u,f,h){if(u===f)return!0;if(u==null||f==null||typeof u!="object"||typeof f!="object")return u!==u&&f!==f;var p=u.constructor;if(p!==f.constructor)return!1;if(p===Object)return s(u,f,h);if(cse(u))return t(u,f,h);if(v1!=null&&v1(u))return l(u,f,h);if(p===Date)return r(u,f,h);if(p===RegExp)return i(u,f,h);if(p===Map)return n(u,f,h);if(p===Set)return c(u,f,h);var v=lse(u);return v===tse?r(u,f,h):v===sse?i(u,f,h):v===rse?n(u,f,h):v===ose?c(u,f,h):v===ase?typeof u.then!="function"&&typeof f.then!="function"&&s(u,f,h):v===Qae?s(u,f,h):v===ese||v===nse||v===ise?o(u,f,h):!1}}function use(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?il:Gae,areDatesEqual:Kae,areMapsEqual:n?u1(p1,il):p1,areObjectsEqual:n?il:Yae,arePrimitiveWrappersEqual:Zae,areRegExpsEqual:Xae,areSetsEqual:n?u1(g1,il):g1,areTypedArraysEqual:n?il:Jae};if(r&&(s=x1({},s,r(s))),t){var o=Wu(s.areArraysEqual),i=Wu(s.areMapsEqual),c=Wu(s.areObjectsEqual),l=Wu(s.areSetsEqual);s=x1({},s,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:c,areSetsEqual:l})}return s}function fse(e){return function(t,r,n,s,o,i,c){return e(t,r,c)}}function hse(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,o=e.strict;if(n)return function(l,d){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return r(l,d,{cache:h,equals:s,meta:p,strict:o})};if(t)return function(l,d){return r(l,d,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var i={cache:void 0,equals:s,meta:void 0,strict:o};return function(l,d){return r(l,d,i)}}var mse=Ks();Ks({strict:!0});Ks({circular:!0});Ks({circular:!0,strict:!0});Ks({createInternalComparator:function(){return zc}});Ks({strict:!0,createInternalComparator:function(){return zc}});Ks({circular:!0,createInternalComparator:function(){return zc}});Ks({circular:!0,createInternalComparator:function(){return zc},strict:!0});function Ks(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,o=e.strict,i=o===void 0?!1:o,c=use(e),l=dse(c),d=n?n(l):fse(l);return hse({circular:r,comparator:l,createState:s,equals:d,strict:i})}function pse(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function y1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(o){r<0&&(r=o),o-r>t?(e(o),r=-1):pse(s)};requestAnimationFrame(n)}function Ax(e){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(e)}function gse(e){return bse(e)||yse(e)||xse(e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xse(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bse(e){if(Array.isArray(e))return e}function jse(){var e={},t=function(){return null},r=!1,n=function s(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,c=gse(i),l=c[0],d=c.slice(1);if(typeof l=="number"){y1(s.bind(null,d),l);return}s(l),y1(s.bind(null,d));return}Ax(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function j1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function w1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(r),!0).forEach(function(n){DE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DE(e,t,r){return t=wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wse(e){var t=Nse(e,"string");return ud(t)==="symbol"?t:String(t)}function Nse(e,t){if(ud(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _se=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(o){return s.includes(o)})})},Sse=function(t){return t},Cse=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Sl=function(t,r){return Object.keys(r).reduce(function(n,s){return w1(w1({},n),{},DE({},s,t(s,r[s])))},{})},N1=function(t,r,n){return t.map(function(s){return"".concat(Cse(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Pse(e,t){return Ese(e)||kse(e,t)||RE(e,t)||Ase()}function Ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Ese(e){if(Array.isArray(e))return e}function Ose(e){return Mse(e)||$se(e)||RE(e)||Tse()}function Tse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RE(e,t){if(e){if(typeof e=="string")return kx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kx(e,t)}}function $se(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mse(e){if(Array.isArray(e))return kx(e)}function kx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var dh=1e-4,IE=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},LE=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},_1=function(t,r){return function(n){var s=IE(t,r);return LE(s,n)}},Dse=function(t,r){return function(n){var s=IE(t,r),o=[].concat(Ose(s.map(function(i,c){return i*c}).slice(1)),[0]);return LE(o,n)}},S1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],o=r[1],i=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,o=0,i=1,c=1;break;case"ease":s=.25,o=.1,i=.25,c=1;break;case"ease-in":s=.42,o=0,i=1,c=1;break;case"ease-out":s=.42,o=0,i=.58,c=1;break;case"ease-in-out":s=0,o=0,i=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var d=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=Pse(d,4);s=u[0],o=u[1],i=u[2],c=u[3]}}}var f=_1(s,i),h=_1(o,c),p=Dse(s,i),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,j=0;j<8;++j){var N=f(w)-b,S=p(w);if(Math.abs(N-b)<dh||S<dh)return h(w);w=v(w-N/S)}return h(w)};return m.isStepper=!1,m},Rse=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,o=s===void 0?8:s,i=t.dt,c=i===void 0?17:i,l=function(u,f,h){var p=-(u-f)*n,v=h*o,m=h+(p-v)*c/1e3,g=h*c/1e3+u;return Math.abs(g-f)<dh&&Math.abs(m)<dh?[f,0]:[g,m]};return l.isStepper=!0,l.dt=c,l},Ise=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S1(s);case"spring":return Rse();default:if(s.split("(")[0]==="cubic-bezier")return S1(s)}return typeof s=="function"?s:null};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function C1(e){return zse(e)||Fse(e)||FE(e)||Lse()}function Lse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zse(e){if(Array.isArray(e))return Ox(e)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){Ex(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ex(e,t,r){return t=Bse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bse(e){var t=Vse(e,"string");return fd(t)==="symbol"?t:String(t)}function Vse(e,t){if(fd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Use(e,t){return Hse(e)||Wse(e,t)||FE(e,t)||qse()}function qse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FE(e,t){if(e){if(typeof e=="string")return Ox(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ox(e,t)}}function Ox(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Hse(e){if(Array.isArray(e))return e}var uh=function(t,r,n){return t+(r-t)*n},Tx=function(t){var r=t.from,n=t.to;return r!==n},Gse=function e(t,r,n){var s=Sl(function(o,i){if(Tx(i)){var c=t(i.from,i.to,i.velocity),l=Use(c,2),d=l[0],u=l[1];return mr(mr({},i),{},{from:d,velocity:u})}return i},r);return n<1?Sl(function(o,i){return Tx(i)?mr(mr({},i),{},{velocity:uh(i.velocity,s[o].velocity,n),from:uh(i.from,s[o].from,n)}):i},r):e(t,s,n-1)};const Kse=function(e,t,r,n,s){var o=_se(e,t),i=o.reduce(function(g,y){return mr(mr({},g),{},Ex({},y,[e[y],t[y]]))},{}),c=o.reduce(function(g,y){return mr(mr({},g),{},Ex({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,d,u,f=function(){return null},h=function(){return Sl(function(y,b){return b.from},c)},p=function(){return!Object.values(c).filter(Tx).length},v=function(y){d||(d=y);var b=y-d,w=b/r.dt;c=Gse(r,c,w),s(mr(mr(mr({},e),t),h())),d=y,p()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,w=Sl(function(N,S){return uh.apply(void 0,C1(S).concat([r(b)]))},i);if(s(mr(mr(mr({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var j=Sl(function(N,S){return uh.apply(void 0,C1(S).concat([r(1)]))},i);s(mr(mr(mr({},e),t),j))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}var Yse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zse(e,t){if(e==null)return{};var r=Xse(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xse(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Fg(e){return toe(e)||eoe(e)||Qse(e)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qse(e,t){if(e){if(typeof e=="string")return $x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $x(e,t)}}function eoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function toe(e){if(Array.isArray(e))return $x(e)}function $x(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pl(e,t,r){return t=zE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function noe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zE(n.key),n)}}function aoe(e,t,r){return t&&noe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zE(e){var t=soe(e,"string");return Wi(t)==="symbol"?t:String(t)}function soe(e,t){if(Wi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ooe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mx(e,t)}function Mx(e,t){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mx(e,t)}function ioe(e){var t=coe();return function(){var n=fh(e),s;if(t){var o=fh(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return Dx(this,s)}}function Dx(e,t){if(t&&(Wi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rx(e)}function Rx(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function coe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fh(e){return fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fh(e)}var ra=function(e){ooe(r,e);var t=ioe(r);function r(n,s){var o;roe(this,r),o=t.call(this,n,s);var i=o.props,c=i.isActive,l=i.attributeName,d=i.from,u=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Rx(o)),o.changeStyle=o.changeStyle.bind(Rx(o)),!c||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:u}),Dx(o);if(f&&f.length)o.state={style:f[0].style};else if(d){if(typeof h=="function")return o.state={style:d},Dx(o);o.state={style:l?pl({},l,d):d}}else o.state={style:{}};return o}return aoe(r,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,i=s.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,i=o.isActive,c=o.canBegin,l=o.attributeName,d=o.shouldReAnimate,u=o.to,f=o.from,h=this.state.style;if(c){if(!i){var p={style:l?pl({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(p);return}if(!(mse(s.to,u)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||d?f:s.to;if(this.state&&h){var g={style:l?pl({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Bn(Bn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,i=s.from,c=s.to,l=s.duration,d=s.easing,u=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=Kse(i,c,Ise(d),l,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([h,u,v,l,f])}},{key:"runStepAnimation",value:function(s){var o=this,i=s.steps,c=s.begin,l=s.onAnimationStart,d=i[0],u=d.style,f=d.duration,h=f===void 0?0:f,p=function(m,g,y){if(y===0)return m;var b=g.duration,w=g.easing,j=w===void 0?"ease":w,N=g.style,S=g.properties,_=g.onAnimationEnd,C=y>0?i[y-1]:g,E=S||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(Fg(m),[o.runJSAnimation.bind(o,{from:C.style,to:N,duration:b,easing:j}),b]);var $=N1(E,b,j),k=Bn(Bn(Bn({},C.style),N),{},{transition:$});return[].concat(Fg(m),[k,b,_]).filter(Sse)};return this.manager.start([l].concat(Fg(i.reduce(p,[u,Math.max(h,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=jse());var o=s.begin,i=s.duration,c=s.attributeName,l=s.to,d=s.easing,u=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=c?pl({},c,l):l,g=N1(Object.keys(m),i,d);v.start([u,o,Bn(Bn({},m),{},{transition:g}),i,f])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var l=Zse(s,Yse),d=x.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!c||d===0||i<=0)return o;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,y=v.className,b=x.cloneElement(p,Bn(Bn({},l),{},{style:Bn(Bn({},g),u),className:y}));return b};return d===1?f(x.Children.only(o)):A.createElement("div",null,x.Children.map(o,function(h){return f(h)}))}}]),r}(x.PureComponent);ra.displayName="Animate";ra.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ra.propTypes={from:Qe.oneOfType([Qe.object,Qe.string]),to:Qe.oneOfType([Qe.object,Qe.string]),attributeName:Qe.string,duration:Qe.number,begin:Qe.number,easing:Qe.oneOfType([Qe.string,Qe.func]),steps:Qe.arrayOf(Qe.shape({duration:Qe.number.isRequired,style:Qe.object.isRequired,easing:Qe.oneOfType([Qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qe.func]),properties:Qe.arrayOf("string"),onAnimationEnd:Qe.func})),children:Qe.oneOfType([Qe.node,Qe.func]),isActive:Qe.bool,canBegin:Qe.bool,onAnimationEnd:Qe.func,shouldReAnimate:Qe.bool,onAnimationStart:Qe.func,onAnimationReStart:Qe.func};Qe.object,Qe.object,Qe.object,Qe.element;Qe.object,Qe.object,Qe.object,Qe.oneOfType([Qe.array,Qe.element]),Qe.any;function hd(e){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hd(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hh.apply(this,arguments)}function loe(e,t){return hoe(e)||foe(e,t)||uoe(e,t)||doe()}function doe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(e,t){if(e){if(typeof e=="string")return k1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k1(e,t)}}function k1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function foe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function hoe(e){if(Array.isArray(e))return e}function E1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function O1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(r),!0).forEach(function(n){moe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function moe(e,t,r){return t=poe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function poe(e){var t=goe(e,"string");return hd(t)=="symbol"?t:t+""}function goe(e,t){if(hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T1=function(t,r,n,s,o){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,l=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,u;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];u="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(r+c*f[1])),u+="L ".concat(t+n,",").concat(r+s-c*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+n-l*f[2],",").concat(r+s)),u+="L ".concat(t+l*f[3],",").concat(r+s),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(r+s-c*f[3])),u+="Z"}else if(i>0&&o===+o&&o>0){var v=Math.min(i,o);u="M ".concat(t,",").concat(r+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+n,",").concat(r+c*v,`
            L `).concat(t+n,",").concat(r+s-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t+n-l*v,",").concat(r+s,`
            L `).concat(t+l*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(t,",").concat(r+s-c*v," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return u},voe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,o=r.x,i=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var d=Math.min(o,o+c),u=Math.max(o,o+c),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=d&&n<=u&&s>=f&&s<=h}return!1},xoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},f0=function(t){var r=O1(O1({},xoe),t),n=x.useRef(),s=x.useState(-1),o=loe(s,2),i=o[0],c=o[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&c(j)}catch{}},[]);var l=r.x,d=r.y,u=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||d!==+d||u!==+u||f!==+f||u===0||f===0)return null;var w=We("recharts-rectangle",p);return b?A.createElement(ra,{canBegin:i>0,from:{width:u,height:f,x:l,y:d},to:{width:u,height:f,x:l,y:d},duration:m,animationEasing:v,isActive:b},function(j){var N=j.width,S=j.height,_=j.x,C=j.y;return A.createElement(ra,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},A.createElement("path",hh({},Pe(r,!0),{className:w,d:T1(_,C,N,S,h),ref:n})))}):A.createElement("path",hh({},Pe(r,!0),{className:w,d:T1(l,d,u,f,h)}))},yoe=["points","className","baseLinePoints","connectNulls"];function xi(){return xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xi.apply(this,arguments)}function boe(e,t){if(e==null)return{};var r=joe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function joe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $1(e){return Soe(e)||_oe(e)||Noe(e)||woe()}function woe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(e,t){if(e){if(typeof e=="string")return Ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ix(e,t)}}function _oe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Soe(e){if(Array.isArray(e))return Ix(e)}function Ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M1=function(t){return t&&t.x===+t.x&&t.y===+t.y},Coe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){M1(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),M1(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Cl=function(t,r){var n=Coe(t);r&&(n=[n.reduce(function(o,i){return[].concat($1(o),$1(i))},[])]);var s=n.map(function(o){return o.reduce(function(i,c,l){return"".concat(i).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Poe=function(t,r,n){var s=Cl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Cl(r.reverse(),n).slice(1))},Aoe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,o=t.connectNulls,i=boe(t,yoe);if(!r||!r.length)return null;var c=We("recharts-polygon",n);if(s&&s.length){var l=i.stroke&&i.stroke!=="none",d=Poe(r,s,o);return A.createElement("g",{className:c},A.createElement("path",xi({},Pe(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",stroke:"none",d})),l?A.createElement("path",xi({},Pe(i,!0),{fill:"none",d:Cl(r,o)})):null,l?A.createElement("path",xi({},Pe(i,!0),{fill:"none",d:Cl(s,o)})):null)}var u=Cl(r,o);return A.createElement("path",xi({},Pe(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",className:c,d:u}))};function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(this,arguments)}var au=function(t){var r=t.cx,n=t.cy,s=t.r,o=t.className,i=We("recharts-dot",o);return r===+r&&n===+n&&s===+s?A.createElement("circle",Lx({},Pe(t,!1),$f(t),{className:i,cx:r,cy:n,r:s})):null};function md(e){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},md(e)}var koe=["x","y","top","left","width","height","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(this,arguments)}function D1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eoe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(r),!0).forEach(function(n){Ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ooe(e,t,r){return t=Toe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Toe(e){var t=$oe(e,"string");return md(t)=="symbol"?t:t+""}function $oe(e,t){if(md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Moe(e,t){if(e==null)return{};var r=Doe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Doe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Roe=function(t,r,n,s,o,i){return"M".concat(t,",").concat(o,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},Ioe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,i=t.top,c=i===void 0?0:i,l=t.left,d=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,p=h===void 0?0:h,v=t.className,m=Moe(t,koe),g=Eoe({x:n,y:o,top:c,left:d,width:f,height:p},m);return!ue(n)||!ue(o)||!ue(f)||!ue(p)||!ue(c)||!ue(d)?null:A.createElement("path",Fx({},Pe(g,!0),{className:We("recharts-cross",v),d:Roe(n,o,f,p,c,d)}))},Loe=op,Foe=Xk,zoe=Da;function Boe(e,t){return e&&e.length?Loe(e,zoe(t),Foe):void 0}var Voe=Boe;const Uoe=yt(Voe);var qoe=op,Woe=Da,Hoe=Jk;function Goe(e,t){return e&&e.length?qoe(e,Woe(t),Hoe):void 0}var Koe=Goe;const Yoe=yt(Koe);var Zoe=["cx","cy","angle","ticks","axisLine"],Xoe=["ticks","tick","angle","tickFormatter","stroke"];function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function Pl(){return Pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pl.apply(this,arguments)}function R1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(r),!0).forEach(function(n){dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I1(e,t){if(e==null)return{};var r=Joe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Joe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VE(n.key),n)}}function eie(e,t,r){return t&&L1(e.prototype,t),r&&L1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function tie(e,t,r){return t=mh(t),rie(e,BE()?Reflect.construct(t,r||[],mh(e).constructor):t.apply(e,r))}function rie(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nie(e)}function nie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BE=function(){return!!e})()}function mh(e){return mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mh(e)}function aie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zx(e,t)}function zx(e,t){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zx(e,t)}function dp(e,t,r){return t=VE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VE(e){var t=sie(e,"string");return Hi(t)=="symbol"?t:t+""}function sie(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var up=function(e){function t(){return Qoe(this,t),tie(this,t,arguments)}return aie(t,e),eie(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,o=this.props,i=o.angle,c=o.cx,l=o.cy;return Ct(c,l,s,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.angle,c=n.ticks,l=Uoe(c,function(u){return u.coordinate||0}),d=Yoe(c,function(u){return u.coordinate||0});return{cx:s,cy:o,startAngle:i,endAngle:i,innerRadius:d.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.angle,c=n.ticks,l=n.axisLine,d=I1(n,Zoe),u=c.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=Ct(s,o,u[0],i),h=Ct(s,o,u[1],i),p=no(no(no({},Pe(d,!1)),{},{fill:"none"},Pe(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return A.createElement("line",Pl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,i=s.tick,c=s.angle,l=s.tickFormatter,d=s.stroke,u=I1(s,Xoe),f=this.getTickTextAnchor(),h=Pe(u,!1),p=Pe(i,!1),v=o.map(function(m,g){var y=n.getTickValueCoord(m),b=no(no(no(no({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:d},p),{},{index:g},y),{},{payload:m});return A.createElement(ct,Pl({className:We("recharts-polar-radius-axis-tick",CE(i)),key:"tick-".concat(m.coordinate)},ko(n.props,m,g)),t.renderTickItem(i,b,l?l(m.value,g):m.value))});return A.createElement(ct,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.axisLine,i=n.tick;return!s||!s.length?null:A.createElement(ct,{className:We("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),ur.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,o){var i;return A.isValidElement(n)?i=A.cloneElement(n,s):De(n)?i=n(s):i=A.createElement(Eo,Pl({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(x.PureComponent);dp(up,"displayName","PolarRadiusAxis");dp(up,"axisType","radiusAxis");dp(up,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(this,arguments)}function F1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F1(Object(r),!0).forEach(function(n){fp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qE(n.key),n)}}function iie(e,t,r){return t&&z1(e.prototype,t),r&&z1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cie(e,t,r){return t=ph(t),lie(e,UE()?Reflect.construct(t,r||[],ph(e).constructor):t.apply(e,r))}function lie(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(e)}function die(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UE=function(){return!!e})()}function ph(e){return ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ph(e)}function uie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bx(e,t)}function Bx(e,t){return Bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bx(e,t)}function fp(e,t,r){return t=qE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qE(e){var t=fie(e,"string");return Gi(t)=="symbol"?t:t+""}function fie(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hie=Math.PI/180,B1=1e-5,hp=function(e){function t(){return oie(this,t),cie(this,t,arguments)}return uie(t,e),iie(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.cx,i=s.cy,c=s.radius,l=s.orientation,d=s.tickSize,u=d||8,f=Ct(o,i,c,n.coordinate),h=Ct(o,i,c+(l==="inner"?-1:1)*u,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,o=Math.cos(-n.coordinate*hie),i;return o>B1?i=s==="outer"?"start":"end":o<-B1?i=s==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.radius,c=n.axisLine,l=n.axisLineType,d=ao(ao({},Pe(this.props,!1)),{},{fill:"none"},Pe(c,!1));if(l==="circle")return A.createElement(au,ho({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:o,r:i}));var u=this.props.ticks,f=u.map(function(h){return Ct(s,o,i,h.coordinate)});return A.createElement(Aoe,ho({className:"recharts-polar-angle-axis-line"},d,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,i=s.tick,c=s.tickLine,l=s.tickFormatter,d=s.stroke,u=Pe(this.props,!1),f=Pe(i,!1),h=ao(ao({},u),{},{fill:"none"},Pe(c,!1)),p=o.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),b=ao(ao(ao({textAnchor:y},u),{},{stroke:"none",fill:d},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return A.createElement(ct,ho({className:We("recharts-polar-angle-axis-tick",CE(i)),key:"tick-".concat(v.coordinate)},ko(n.props,v,m)),c&&A.createElement("line",ho({className:"recharts-polar-angle-axis-tick-line"},h,g)),i&&t.renderTickItem(i,b,l?l(v.value,m):v.value))});return A.createElement(ct,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.radius,i=n.axisLine;return o<=0||!s||!s.length?null:A.createElement(ct,{className:We("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,o){var i;return A.isValidElement(n)?i=A.cloneElement(n,s):De(n)?i=n(s):i=A.createElement(Eo,ho({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(x.PureComponent);fp(hp,"displayName","PolarAngleAxis");fp(hp,"axisType","angleAxis");fp(hp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var mie=GA,pie=mie(Object.getPrototypeOf,Object),gie=pie,vie=us,xie=gie,yie=fs,bie="[object Object]",jie=Function.prototype,wie=Object.prototype,WE=jie.toString,Nie=wie.hasOwnProperty,_ie=WE.call(Object);function Sie(e){if(!yie(e)||vie(e)!=bie)return!1;var t=xie(e);if(t===null)return!0;var r=Nie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&WE.call(r)==_ie}var Cie=Sie;const Pie=yt(Cie);var Aie=us,kie=fs,Eie="[object Boolean]";function Oie(e){return e===!0||e===!1||kie(e)&&Aie(e)==Eie}var Tie=Oie;const $ie=yt(Tie);function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(this,arguments)}function Mie(e,t){return Lie(e)||Iie(e,t)||Rie(e,t)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(e,t){if(e){if(typeof e=="string")return V1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V1(e,t)}}function V1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Lie(e){if(Array.isArray(e))return e}function U1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(r),!0).forEach(function(n){Fie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fie(e,t,r){return t=zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Bie(e,"string");return pd(t)=="symbol"?t:t+""}function Bie(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W1=function(t,r,n,s,o){var i=n-s,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-i/2,",").concat(r+o),c+="L ".concat(t+n-i/2-s,",").concat(r+o),c+="L ".concat(t,",").concat(r," Z"),c},Vie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uie=function(t){var r=q1(q1({},Vie),t),n=x.useRef(),s=x.useState(-1),o=Mie(s,2),i=o[0],c=o[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&c(w)}catch{}},[]);var l=r.x,d=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||d!==+d||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=We("recharts-trapezoid",p);return y?A.createElement(ra,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:d},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:d},duration:m,animationEasing:v,isActive:y},function(w){var j=w.upperWidth,N=w.lowerWidth,S=w.height,_=w.x,C=w.y;return A.createElement(ra,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},A.createElement("path",gh({},Pe(r,!0),{className:b,d:W1(_,C,j,N,S),ref:n})))}):A.createElement("g",null,A.createElement("path",gh({},Pe(r,!0),{className:b,d:W1(l,d,u,f,h)})))},qie=["option","shapeType","propTransformer","activeClassName","isActive"];function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function Wie(e,t){if(e==null)return{};var r=Hie(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return t=Kie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kie(e){var t=Yie(e,"string");return gd(t)=="symbol"?t:t+""}function Yie(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zie(e,t){return vh(vh({},t),e)}function Xie(e,t){return e==="symbols"}function G1(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return A.createElement(f0,r);case"trapezoid":return A.createElement(Uie,r);case"sector":return A.createElement(kE,r);case"symbols":if(Xie(t))return A.createElement(Ob,r);break;default:return null}}function Jie(e){return x.isValidElement(e)?e.props:e}function HE(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Zie:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,c=e.isActive,l=Wie(e,qie),d;if(x.isValidElement(t))d=x.cloneElement(t,vh(vh({},l),Jie(t)));else if(De(t))d=t(l);else if(Pie(t)&&!$ie(t)){var u=s(t,l);d=A.createElement(G1,{shapeType:r,elementProps:u})}else{var f=l;d=A.createElement(G1,{shapeType:r,elementProps:f})}return c?A.createElement(ct,{className:i},d):d}function mp(e,t){return t!=null&&"trapezoids"in e.props}function pp(e,t){return t!=null&&"sectors"in e.props}function vd(e,t){return t!=null&&"points"in e.props}function Qie(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&o}function ece(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function tce(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function rce(e,t){var r;return mp(e,t)?r=Qie:pp(e,t)?r=ece:vd(e,t)&&(r=tce),r}function nce(e,t){var r;return mp(e,t)?r="trapezoids":pp(e,t)?r="sectors":vd(e,t)&&(r="points"),r}function ace(e,t){if(mp(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(pp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return vd(e,t)?t.payload:{}}function sce(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=nce(r,t),o=ace(r,t),i=n.filter(function(l,d){var u=Oo(o,l),f=r.props[s].filter(function(v){var m=rce(r,t);return m(v,t)}),h=r.props[s].indexOf(f[f.length-1]),p=d===h;return u&&p}),c=n.indexOf(i[i.length-1]);return c}var df;function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yi.apply(this,arguments)}function K1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K1(Object(r),!0).forEach(function(n){wn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KE(n.key),n)}}function ice(e,t,r){return t&&Y1(e.prototype,t),r&&Y1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cce(e,t,r){return t=xh(t),lce(e,GE()?Reflect.construct(t,r||[],xh(e).constructor):t.apply(e,r))}function lce(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dce(e)}function dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GE=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(e)}function uce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vx(e,t)}function wn(e,t,r){return t=KE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KE(e){var t=fce(e,"string");return Ki(t)=="symbol"?t:t+""}function fce(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ra=function(e){function t(r){var n;return oce(this,t),n=cce(this,t,[r]),wn(n,"pieRef",null),wn(n,"sectorRefs",[]),wn(n,"id",Wo("recharts-pie-")),wn(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),De(s)&&s()}),wn(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),De(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return uce(t,e),ice(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,c=o.labelLine,l=o.dataKey,d=o.valueKey,u=Pe(this.props,!1),f=Pe(i,!1),h=Pe(c,!1),p=i&&i.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,b=Ct(m.cx,m.cy,m.outerRadius+p,y),w=_t(_t(_t(_t({},u),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),j=_t(_t(_t(_t({},u),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[Ct(m.cx,m.cy,m.outerRadius,y),b]}),N=l;return Be(l)&&Be(d)?N="value":Be(l)&&(N=d),A.createElement(ct,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},c&&t.renderLabelLineItem(c,j,"line"),t.renderLabelItem(i,w,Wt(m,N)))});return A.createElement(ct,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,o=this.props,i=o.activeShape,c=o.blendStroke,l=o.inactiveShape;return n.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&n.length!==1)return null;var f=s.isActiveIndex(u),h=l&&s.hasActiveIndex()?l:null,p=f?i:h,v=_t(_t({},d),{},{stroke:c?d.fill:d.stroke,tabIndex:-1});return A.createElement(ct,yi({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},ko(s.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),A.createElement(HE,yi({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,o=s.sectors,i=s.isAnimationActive,c=s.animationBegin,l=s.animationDuration,d=s.animationEasing,u=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return A.createElement(ra,{begin:c,duration:l,isActive:i,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=o&&o[0],b=y.startAngle;return o.forEach(function(w,j){var N=h&&h[j],S=j>0?hn(w,"paddingAngle",0):0;if(N){var _=sr(N.endAngle-N.startAngle,w.endAngle-w.startAngle),C=_t(_t({},w),{},{startAngle:b+S,endAngle:b+_(m)+S});g.push(C),b=C.endAngle}else{var E=w.endAngle,$=w.startAngle,k=sr(0,E-$),P=k(m),O=_t(_t({},w),{},{startAngle:b+S,endAngle:b+P+S});g.push(O),b=O.endAngle}}),A.createElement(ct,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[i].focus(),s.setState({sectorToFocus:i});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,o=n.isAnimationActive,i=this.state.prevSectors;return o&&s&&s.length&&(!i||!Oo(i,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,o=s.hide,i=s.sectors,c=s.className,l=s.label,d=s.cx,u=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(o||!i||!i.length||!ue(d)||!ue(u)||!ue(f)||!ue(h))return null;var m=We("recharts-pie",c);return A.createElement(ct,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(i),ur.renderCallByParent(this.props,null,!1),(!p||v)&&Pa.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,o){if(A.isValidElement(n))return A.cloneElement(n,s);if(De(n))return n(s);var i=We("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return A.createElement(No,yi({},s,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,s,o){if(A.isValidElement(n))return A.cloneElement(n,s);var i=o;if(De(n)&&(i=n(s),A.isValidElement(i)))return i;var c=We("recharts-pie-label-text",typeof n!="boolean"&&!De(n)?n.className:"");return A.createElement(Eo,yi({},s,{alignmentBaseline:"middle",className:c}),i)}}])}(x.PureComponent);df=Ra;wn(Ra,"displayName","Pie");wn(Ra,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ws.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wn(Ra,"parseDeltaAngle",function(e,t){var r=Lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});wn(Ra,"getRealPieData",function(e){var t=e.data,r=e.children,n=Pe(e,!1),s=mn(r,zi);return t&&t.length?t.map(function(o,i){return _t(_t(_t({payload:o},n),o),s&&s[i]&&s[i].props)}):s&&s.length?s.map(function(o){return _t(_t({},n),o.props)}):[]});wn(Ra,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,o=t.height,i=SE(s,o),c=n+Fr(e.cx,s,s/2),l=r+Fr(e.cy,o,o/2),d=Fr(e.innerRadius,i,0),u=Fr(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:c,cy:l,innerRadius:d,outerRadius:u,maxRadius:f}});wn(Ra,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?_t(_t({},t.type.defaultProps),t.props):t.props,s=df.getRealPieData(n);if(!s||!s.length)return null;var o=n.cornerRadius,i=n.startAngle,c=n.endAngle,l=n.paddingAngle,d=n.dataKey,u=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=df.parseCoordinateOfPie(n,r),m=df.parseDeltaAngle(i,c),g=Math.abs(m),y=d;Be(d)&&Be(f)?(Xn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Be(d)&&(Xn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=s.filter(function(C){return Wt(C,y,0)!==0}).length,w=(g>=360?b:b-1)*l,j=g-b*p-w,N=s.reduce(function(C,E){var $=Wt(E,y,0);return C+(ue($)?$:0)},0),S;if(N>0){var _;S=s.map(function(C,E){var $=Wt(C,y,0),k=Wt(C,u,E),P=(ue($)?$:0)/N,O;E?O=_.endAngle+Lr(m)*l*($!==0?1:0):O=i;var T=O+Lr(m)*(($!==0?p:0)+P*j),I=(O+T)/2,R=(v.innerRadius+v.outerRadius)/2,D=[{name:k,value:$,payload:C,dataKey:y,type:h}],M=Ct(v.cx,v.cy,R,I);return _=_t(_t(_t({percent:P,cornerRadius:o,name:k,tooltipPayload:D,midAngle:I,middleRadius:R,tooltipPosition:M},C),v),{},{value:Wt(C,y),startAngle:O,endAngle:T,payload:C,paddingAngle:Lr(m)*l}),_})}return _t(_t({},v),{},{sectors:S,data:s})});var hce=Math.ceil,mce=Math.max;function pce(e,t,r,n){for(var s=-1,o=mce(hce((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++s]=e,e+=r;return i}var gce=pce,vce=fk,Z1=1/0,xce=17976931348623157e292;function yce(e){if(!e)return e===0?e:0;if(e=vce(e),e===Z1||e===-Z1){var t=e<0?-1:1;return t*xce}return e===e?e:0}var YE=yce,bce=gce,jce=Qm,zg=YE;function wce(e){return function(t,r,n){return n&&typeof n!="number"&&jce(t,r,n)&&(r=n=void 0),t=zg(t),r===void 0?(r=t,t=0):r=zg(r),n=n===void 0?t<r?1:-1:zg(n),bce(t,r,n,e)}}var Nce=wce,_ce=Nce,Sce=_ce(),Cce=Sce;const yh=yt(Cce);function xd(e){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(e)}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){ZE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZE(e,t,r){return t=Pce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pce(e){var t=Ace(e,"string");return xd(t)=="symbol"?t:t+""}function Ace(e,t){if(xd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kce=["Webkit","Moz","O","ms"],Ece=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),s=kce.reduce(function(o,i){return J1(J1({},o),{},ZE({},i+n,r))},{});return s[t]=r,s};function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function bh(){return bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bh.apply(this,arguments)}function Q1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q1(Object(r),!0).forEach(function(n){an(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JE(n.key),n)}}function Tce(e,t,r){return t&&eS(e.prototype,t),r&&eS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ce(e,t,r){return t=jh(t),Mce(e,XE()?Reflect.construct(t,r||[],jh(e).constructor):t.apply(e,r))}function Mce(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dce(e)}function Dce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XE=function(){return!!e})()}function jh(e){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jh(e)}function Rce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ux(e,t)}function an(e,t,r){return t=JE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JE(e){var t=Ice(e,"string");return Yi(t)=="symbol"?t:t+""}function Ice(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lce=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,o=t.x,i=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,d=Nl().domain(yh(0,l)).range([o,o+i-c]),u=d.domain().map(function(f){return d(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:u}},tS=function(t){return t.changedTouches&&!!t.changedTouches.length},Zi=function(e){function t(r){var n;return Oce(this,t),n=$ce(this,t,[r]),an(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),an(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),an(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,o=s.endIndex,i=s.onDragEnd,c=s.startIndex;i?.({endIndex:o,startIndex:c})}),n.detachDragEndListener()}),an(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),an(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),an(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),an(n,"handleSlideDragStart",function(s){var o=tS(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Rce(t,e),Tce(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,o=n.endX,i=this.state.scaleValues,c=this.props,l=c.gap,d=c.data,u=d.length-1,f=Math.min(s,o),h=Math.max(s,o),p=t.getIndexInRange(i,f),v=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(n){var s=this.props,o=s.data,i=s.tickFormatter,c=s.dataKey,l=Wt(o[n],c,n);return De(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,o=s.slideMoveStartX,i=s.startX,c=s.endX,l=this.props,d=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-o;m>0?m=Math.min(m,d+u-f-c,d+u-f-i):m<0&&(m=Math.max(m,d-i,d-c));var g=this.getIndex({startX:i+m,endX:c+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:i+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var o=tS(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,o=s.brushMoveStartX,i=s.movingTravellerId,c=s.endX,l=s.startX,d=this.state[i],u=this.props,f=u.x,h=u.width,p=u.travellerWidth,v=u.onChange,m=u.gap,g=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-o;b>0?b=Math.min(b,f+h-p-d):b<0&&(b=Math.max(b,f-d)),y[i]=d+b;var w=this.getIndex(y),j=w.startIndex,N=w.endIndex,S=function(){var C=g.length-1;return i==="startX"&&(c>l?j%m===0:N%m===0)||c<l&&N===C||i==="endX"&&(c>l?N%m===0:j%m===0)||c>l&&N===C};this.setState(an(an({},i,d+b),"brushMoveStartX",n.pageX),function(){v&&S()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var o=this,i=this.state,c=i.scaleValues,l=i.startX,d=i.endX,u=this.state[s],f=c.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var p=c[h];s==="startX"&&p>=d||s==="endX"&&p<=l||this.setState(an({},s,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,c=n.height,l=n.fill,d=n.stroke;return A.createElement("rect",{stroke:d,fill:l,x:s,y:o,width:i,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,c=n.height,l=n.data,d=n.children,u=n.padding,f=x.Children.only(d);return f?A.cloneElement(f,{x:s,y:o,width:i,height:c,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,s){var o,i,c=this,l=this.props,d=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=Bg(Bg({},Pe(this.props,!1)),{},{x:y,y:d,width:u,height:f}),w=p||"Min value: ".concat((o=v[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=v[g])===null||i===void 0?void 0:i.name);return A.createElement(ct,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var o=this.props,i=o.y,c=o.height,l=o.stroke,d=o.travellerWidth,u=Math.min(n,s)+d,f=Math.max(Math.abs(s-n)-d,0);return A.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:i,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,o=n.endIndex,i=n.y,c=n.height,l=n.travellerWidth,d=n.stroke,u=this.state,f=u.startX,h=u.endX,p=5,v={pointerEvents:"none",fill:d};return A.createElement(ct,{className:"recharts-brush-texts"},A.createElement(Eo,bh({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+c/2},v),this.getTextOfTick(s)),A.createElement(Eo,bh({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+c/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,s=n.data,o=n.className,i=n.children,c=n.x,l=n.y,d=n.width,u=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!ue(c)||!ue(l)||!ue(d)||!ue(u)||d<=0||u<=0)return null;var w=We("recharts-brush",o),j=A.Children.count(i)===1,N=Ece("userSelect","none");return A.createElement(ct,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,o=n.y,i=n.width,c=n.height,l=n.stroke,d=Math.floor(o+c/2)-1;return A.createElement(A.Fragment,null,A.createElement("rect",{x:s,y:o,width:i,height:c,fill:l,stroke:"none"}),A.createElement("line",{x1:s+1,y1:d,x2:s+i-1,y2:d,fill:"none",stroke:"#fff"}),A.createElement("line",{x1:s+1,y1:d+2,x2:s+i-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var o;return A.isValidElement(n)?o=A.cloneElement(n,s):De(n)?o=n(s):o=t.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(n,s){var o=n.data,i=n.width,c=n.x,l=n.travellerWidth,d=n.updateId,u=n.startIndex,f=n.endIndex;if(o!==s.prevData||d!==s.prevUpdateId)return Bg({prevData:o,prevTravellerWidth:l,prevUpdateId:d,prevX:c,prevWidth:i},o&&o.length?Lce({data:o,width:i,x:c,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||c!==s.prevX||l!==s.prevTravellerWidth)){s.scale.range([c,c+i-l]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:d,prevX:c,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var o=n.length,i=0,c=o-1;c-i>1;){var l=Math.floor((i+c)/2);n[l]>s?c=l:i=l}return s>=n[c]?c:i}}])}(x.PureComponent);an(Zi,"displayName","Brush");an(Zi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fce=Lb;function zce(e,t){var r;return Fce(e,function(n,s,o){return r=t(n,s,o),!r}),!!r}var Bce=zce,Vce=FA,Uce=Da,qce=Bce,Wce=en,Hce=Qm;function Gce(e,t,r){var n=Wce(e)?Vce:qce;return r&&Hce(e,t,r)&&(t=void 0),n(e,Uce(t))}var Kce=Gce;const Yce=yt(Kce);var Aa=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},rS=ik;function Zce(e,t,r){t=="__proto__"&&rS?rS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Xce=Zce,Jce=Xce,Qce=sk,ele=Da;function tle(e,t){var r={};return t=ele(t),Qce(e,function(n,s,o){Jce(r,s,t(n,s,o))}),r}var rle=tle;const nle=yt(rle);function ale(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var sle=ale,ole=Lb;function ile(e,t){var r=!0;return ole(e,function(n,s,o){return r=!!t(n,s,o),r}),r}var cle=ile,lle=sle,dle=cle,ule=Da,fle=en,hle=Qm;function mle(e,t,r){var n=fle(e)?lle:dle;return r&&hle(e,t,r)&&(t=void 0),n(e,ule(t))}var ple=mle;const QE=yt(ple);var gle=["x","y"];function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(this,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t,r){return t=xle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xle(e){var t=yle(e,"string");return yd(t)=="symbol"?t:t+""}function yle(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ble(e,t){if(e==null)return{};var r=jle(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wle(e,t){var r=e.x,n=e.y,s=ble(e,gle),o="".concat(r),i=parseInt(o,10),c="".concat(n),l=parseInt(c,10),d="".concat(t.height||s.height),u=parseInt(d,10),f="".concat(t.width||s.width),h=parseInt(f,10);return cl(cl(cl(cl(cl({},t),s),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function aS(e){return A.createElement(HE,qx({shapeType:"rectangle",propTransformer:wle,activeClassName:"recharts-active-bar"},e))}var Nle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var o=typeof n=="number";return o?t(n,s):(o||$o(),r)}},_le=["value","background"],eO;function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function Sle(e,t){if(e==null)return{};var r=Cle(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wh.apply(this,arguments)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){As(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rO(n.key),n)}}function Ale(e,t,r){return t&&oS(e.prototype,t),r&&oS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kle(e,t,r){return t=Nh(t),Ele(e,tO()?Reflect.construct(t,r||[],Nh(e).constructor):t.apply(e,r))}function Ele(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ole(e)}function Ole(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nh(e)}function Tle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wx(e,t)}function Wx(e,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Wx(e,t)}function As(e,t,r){return t=rO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rO(e){var t=$le(e,"string");return Xi(t)=="symbol"?t:t+""}function $le(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var na=function(e){function t(){var r;Ple(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=kle(this,t,[].concat(s)),As(r,"state",{isAnimationFinished:!1}),As(r,"id",Wo("recharts-bar-")),As(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),As(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return Tle(t,e),Ale(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,o=this.props,i=o.shape,c=o.dataKey,l=o.activeIndex,d=o.activeBar,u=Pe(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?d:i,m=Zt(Zt(Zt({},u),f),{},{isActive:p,option:v,index:h,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return A.createElement(ct,wh({className:"recharts-bar-rectangle"},ko(s.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value)}),A.createElement(aS,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,o=s.data,i=s.layout,c=s.isAnimationActive,l=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,h=this.state.prevData;return A.createElement(ra,{begin:l,duration:d,isActive:c,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=o.map(function(g,y){var b=h&&h[y];if(b){var w=sr(b.x,g.x),j=sr(b.y,g.y),N=sr(b.width,g.width),S=sr(b.height,g.height);return Zt(Zt({},g),{},{x:w(v),y:j(v),width:N(v),height:S(v)})}if(i==="horizontal"){var _=sr(0,g.height),C=_(v);return Zt(Zt({},g),{},{y:g.y+g.height-C,height:C})}var E=sr(0,g.width),$=E(v);return Zt(Zt({},g),{},{width:$})});return A.createElement(ct,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&s&&s.length&&(!i||!Oo(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,o=s.data,i=s.dataKey,c=s.activeIndex,l=Pe(this.props.background,!1);return o.map(function(d,u){d.value;var f=d.background,h=Sle(d,_le);if(!f)return null;var p=Zt(Zt(Zt(Zt(Zt({},h),{},{fill:"#eee"},f),l),ko(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:u,className:"recharts-bar-background-rectangle"});return A.createElement(aS,wh({key:"background-bar-".concat(u),option:n.props.background,isActive:u===c},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,c=o.xAxis,l=o.yAxis,d=o.layout,u=o.children,f=mn(u,nu);if(!f)return null;var h=d==="vertical"?i[0].height/2:i[0].width/2,p=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:Wt(g,y)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return A.createElement(ct,v,f.map(function(m){return A.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:i,xAxis:c,yAxis:l,layout:d,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,o=n.data,i=n.className,c=n.xAxis,l=n.yAxis,d=n.left,u=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(s||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=We("recharts-bar",i),b=c&&c.allowDataOverflow,w=l&&l.allowDataOverflow,j=b||w,N=Be(m)?this.id:m;return A.createElement(ct,{className:y},b||w?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(N)},A.createElement("rect",{x:b?d:d-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,A.createElement(ct,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!p||g)&&Pa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);eO=na;As(na,"displayName","Bar");As(na,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ws.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});As(na,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,o=e.xAxis,i=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Nne(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?Zt(Zt({},m),r.props):r.props,y=g.dataKey,b=g.children,w=g.minPointSize,j=v==="horizontal"?i:o,N=d?j.scale.domain():null,S=Ene({numericAxis:j}),_=mn(b,zi),C=f.map(function(E,$){var k,P,O,T,I,R;d?k=_ne(d[u+$],N):(k=Wt(E,y),Array.isArray(k)||(k=[S,k]));var D=Nle(w,eO.defaultProps.minPointSize)(k[1],$);if(v==="horizontal"){var M,U=[i.scale(k[0]),i.scale(k[1])],ne=U[0],K=U[1];P=Y_({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:E,index:$}),O=(M=K??ne)!==null&&M!==void 0?M:void 0,T=p.size;var ae=ne-K;if(I=Number.isNaN(ae)?0:ae,R={x:P,y:i.y,width:T,height:i.height},Math.abs(D)>0&&Math.abs(I)<Math.abs(D)){var de=Lr(I||D)*(Math.abs(D)-Math.abs(I));O-=de,I+=de}}else{var _e=[o.scale(k[0]),o.scale(k[1])],Ke=_e[0],q=_e[1];if(P=Ke,O=Y_({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:E,index:$}),T=q-Ke,I=p.size,R={x:o.x,y:O,width:o.width,height:I},Math.abs(D)>0&&Math.abs(T)<Math.abs(D)){var ie=Lr(T||D)*(Math.abs(D)-Math.abs(T));T+=ie}}return Zt(Zt(Zt({},E),{},{x:P,y:O,width:T,height:I,value:d?k:k[1],payload:E,background:R},_&&_[$]&&_[$].props),{},{tooltipPayload:[NE(r,E)],tooltipPosition:{x:P+T/2,y:O+I/2}})});return Zt({data:C,layout:v},h)});function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function Mle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nO(n.key),n)}}function Dle(e,t,r){return t&&iS(e.prototype,t),r&&iS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){gp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gp(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nO(e){var t=Rle(e,"string");return bd(t)=="symbol"?t:t+""}function Rle(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aO=function(t,r,n,s,o){var i=t.width,c=t.height,l=t.layout,d=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!on(d,na);return u.reduce(function(p,v){var m=r[v],g=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,j=m.mirror,N=m.reversed,S="".concat(g).concat(j?"Mirror":""),_,C,E,$,k;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var P=y[1]-y[0],O=1/0,T=m.categoricalDomain.sort();if(T.forEach(function(_e,Ke){Ke>0&&(O=Math.min((_e||0)-(T[Ke-1]||0),O))}),Number.isFinite(O)){var I=O/P,R=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(_=I*R/2),m.padding==="no-gap"){var D=Fr(t.barCategoryGap,I*R),M=I*R/2;_=M-D-(M-D)/R*D}}}s==="xAxis"?C=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:s==="yAxis"?C=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:C=m.range,N&&(C=[C[1],C[0]]);var U=yE(m,o,h),ne=U.scale,K=U.realScaleType;ne.domain(y).range(C),bE(ne);var ae=jE(ne,Hn(Hn({},m),{},{realScaleType:K}));s==="xAxis"?(k=g==="top"&&!j||g==="bottom"&&j,E=n.left,$=f[S]-k*m.height):s==="yAxis"&&(k=g==="left"&&!j||g==="right"&&j,E=f[S]-k*m.width,$=n.top);var de=Hn(Hn(Hn({},m),ae),{},{realScaleType:K,x:E,y:$,scale:ne,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return de.bandSize=ih(de,ae),!m.hide&&s==="xAxis"?f[S]+=(k?-1:1)*de.height:m.hide||(f[S]+=(k?-1:1)*de.width),Hn(Hn({},p),{},gp({},v,de))},{})},sO=function(t,r){var n=t.x,s=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(s,i),width:Math.abs(o-n),height:Math.abs(i-s)}},Ile=function(t){var r=t.x1,n=t.y1,s=t.x2,o=t.y2;return sO({x:r,y:n},{x:s,y:o})},oO=function(){function e(t){Mle(this,e),this.scale=t}return Dle(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],o=n[n.length-1];return s<=o?r>=s&&r<=o:r>=o&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();gp(oO,"EPS",1e-4);var h0=function(t){var r=Object.keys(t).reduce(function(n,s){return Hn(Hn({},n),{},gp({},s,oO.create(t[s])))},{});return Hn(Hn({},r),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,c=o.position;return nle(s,function(l,d){return r[d].apply(l,{bandAware:i,position:c})})},isInRange:function(s){return QE(s,function(o,i){return r[i].isInRange(o)})}})};function Lle(e){return(e%180+180)%180}var Fle=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Lle(s),i=o*Math.PI/180,c=Math.atan(n/r),l=i>c&&i<Math.PI-c?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},zle=Da,Ble=Jd,Vle=Xm;function Ule(e){return function(t,r,n){var s=Object(t);if(!Ble(t)){var o=zle(r);t=Vle(t),r=function(c){return o(s[c],c,s)}}var i=e(t,r,n);return i>-1?s[o?t[i]:i]:void 0}}var qle=Ule,Wle=YE;function Hle(e){var t=Wle(e),r=t%1;return t===t?r?t-r:t:0}var Gle=Hle,Kle=QA,Yle=Da,Zle=Gle,Xle=Math.max;function Jle(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Zle(r);return s<0&&(s=Xle(n+s,0)),Kle(e,Yle(t),s)}var Qle=Jle,ede=qle,tde=Qle,rde=ede(tde),nde=rde;const ade=yt(nde);var sde=mU(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),m0=x.createContext(void 0),p0=x.createContext(void 0),iO=x.createContext(void 0),cO=x.createContext({}),lO=x.createContext(void 0),dO=x.createContext(0),uO=x.createContext(0),lS=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,o=r.offset,i=t.clipPathId,c=t.children,l=t.width,d=t.height,u=sde(o);return A.createElement(m0.Provider,{value:n},A.createElement(p0.Provider,{value:s},A.createElement(cO.Provider,{value:o},A.createElement(iO.Provider,{value:u},A.createElement(lO.Provider,{value:i},A.createElement(dO.Provider,{value:d},A.createElement(uO.Provider,{value:l},c)))))))},ode=function(){return x.useContext(lO)},fO=function(t){var r=x.useContext(m0);r==null&&$o();var n=r[t];return n==null&&$o(),n},ide=function(){var t=x.useContext(m0);return _s(t)},cde=function(){var t=x.useContext(p0),r=ade(t,function(n){return QE(n.domain,Number.isFinite)});return r||_s(t)},hO=function(t){var r=x.useContext(p0);r==null&&$o();var n=r[t];return n==null&&$o(),n},lde=function(){var t=x.useContext(iO);return t},dde=function(){return x.useContext(cO)},g0=function(){return x.useContext(uO)},v0=function(){return x.useContext(dO)};function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function ude(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function hde(e,t,r){return t&&fde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mde(e,t,r){return t=_h(t),pde(e,mO()?Reflect.construct(t,r||[],_h(e).constructor):t.apply(e,r))}function pde(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(e)}function gde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!e})()}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(e)}function vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hx(e,t)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){x0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x0(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=xde(e,"string");return Ji(t)=="symbol"?t:t+""}function xde(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yde(e,t){return Nde(e)||wde(e,t)||jde(e,t)||bde()}function bde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jde(e,t){if(e){if(typeof e=="string")return fS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(e,t)}}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Nde(e){if(Array.isArray(e))return e}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(this,arguments)}var _de=function(t,r){var n;return A.isValidElement(t)?n=A.cloneElement(t,r):De(t)?n=t(r):n=A.createElement("line",Gx({},r,{className:"recharts-reference-line-line"})),n},Sde=function(t,r,n,s,o,i,c,l,d){var u=o.x,f=o.y,h=o.width,p=o.height;if(n){var v=d.y,m=t.y.apply(v,{position:i});if(Aa(d,"discard")&&!t.y.isInRange(m))return null;var g=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?g.reverse():g}if(r){var y=d.x,b=t.x.apply(y,{position:i});if(Aa(d,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return c==="top"?w.reverse():w}if(s){var j=d.segment,N=j.map(function(S){return t.apply(S,{position:i})});return Aa(d,"discard")&&Yce(N,function(S){return!t.isInRange(S)})?null:N}return null};function Cde(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,c=e.className,l=e.alwaysShow,d=ode(),u=fO(s),f=hO(o),h=lde();if(!d||!h)return null;Xn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=h0({x:u.scale,y:f.scale}),v=ir(t),m=ir(r),g=n&&n.length===2,y=Sde(p,v,m,g,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=yde(y,2),w=b[0],j=w.x,N=w.y,S=b[1],_=S.x,C=S.y,E=Aa(e,"hidden")?"url(#".concat(d,")"):void 0,$=uS(uS({clipPath:E},Pe(e,!0)),{},{x1:j,y1:N,x2:_,y2:C});return A.createElement(ct,{className:We("recharts-reference-line",c)},_de(i,$),ur.renderCallByParent(e,Ile({x1:j,y1:N,x2:_,y2:C})))}var y0=function(e){function t(){return ude(this,t),mde(this,t,arguments)}return vde(t,e),hde(t,[{key:"render",value:function(){return A.createElement(Cde,this.props)}}])}(A.Component);x0(y0,"displayName","ReferenceLine");x0(y0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){vp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ade(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function kde(e,t,r){return t&&Ade(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ede(e,t,r){return t=Sh(t),Ode(e,gO()?Reflect.construct(t,r||[],Sh(e).constructor):t.apply(e,r))}function Ode(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tde(e)}function Tde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(e)}function $de(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yx(e,t)}function vp(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=Mde(e,"string");return Qi(t)=="symbol"?t:t+""}function Mde(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dde=function(t){var r=t.x,n=t.y,s=t.xAxis,o=t.yAxis,i=h0({x:s.scale,y:o.scale}),c=i.apply({x:r,y:n},{bandAware:!0});return Aa(t,"discard")&&!i.isInRange(c)?null:c},xp=function(e){function t(){return Pde(this,t),Ede(this,t,arguments)}return $de(t,e),kde(t,[{key:"render",value:function(){var n=this.props,s=n.x,o=n.y,i=n.r,c=n.alwaysShow,l=n.clipPathId,d=ir(s),u=ir(o);if(Xn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var f=Dde(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,y=Aa(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=mS(mS({clipPath:y},Pe(this.props,!0)),{},{cx:h,cy:p});return A.createElement(ct,{className:We("recharts-reference-dot",g)},t.renderDot(m,b),ur.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(A.Component);vp(xp,"displayName","ReferenceDot");vp(xp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});vp(xp,"renderDot",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):De(e)?r=e(t):r=A.createElement(au,Kx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){yp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ide(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function Lde(e,t,r){return t&&Ide(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fde(e,t,r){return t=Ch(t),zde(e,xO()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function zde(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(e)}function Bde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(e)}function Vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xx(e,t)}function Xx(e,t){return Xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xx(e,t)}function yp(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=Ude(e,"string");return ec(t)=="symbol"?t:t+""}function Ude(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qde=function(t,r,n,s,o){var i=o.x1,c=o.x2,l=o.y1,d=o.y2,u=o.xAxis,f=o.yAxis;if(!u||!f)return null;var h=h0({x:u.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Aa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:sO(p,v)},bp=function(e){function t(){return Rde(this,t),Fde(this,t,arguments)}return Vde(t,e),Lde(t,[{key:"render",value:function(){var n=this.props,s=n.x1,o=n.x2,i=n.y1,c=n.y2,l=n.className,d=n.alwaysShow,u=n.clipPathId;Xn(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ir(s),h=ir(o),p=ir(i),v=ir(c),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=qde(f,h,p,v,this.props);if(!g&&!m)return null;var y=Aa(this.props,"hidden")?"url(#".concat(u,")"):void 0;return A.createElement(ct,{className:We("recharts-reference-area",l)},t.renderRect(m,gS(gS({clipPath:y},Pe(this.props,!0)),g)),ur.renderCallByParent(this.props,g))}}])}(A.Component);yp(bp,"displayName","ReferenceArea");yp(bp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});yp(bp,"renderRect",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):De(e)?r=e(t):r=A.createElement(f0,Zx({},t,{className:"recharts-reference-area-rect"})),r});function bO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Wde(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Fle(n,r)}function Hde(e,t,r){var n=r==="width",s=e.x,o=e.y,i=e.width,c=e.height;return t===1?{start:n?s:o,end:n?s+i:o+c}:{start:n?s+i:o+c,end:n?s:o}}function Ph(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function Gde(e,t){return bO(e,t+1)}function Kde(e,t,r,n,s){for(var o=(n||[]).slice(),i=t.start,c=t.end,l=0,d=1,u=i,f=function(){var v=n?.[l];if(v===void 0)return{v:bO(n,d)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},b=v.coordinate,w=l===0||Ph(e,b,y,u,c);w||(l=0,u=i,d+=1),w&&(u=b+e*(y()/2+s),l+=d)},h;d<=o.length;)if(h=f(),h)return h.v;return[]}function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){Yde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yde(e,t,r){return t=Zde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zde(e){var t=Xde(e,"string");return jd(t)=="symbol"?t:t+""}function Xde(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jde(e,t,r,n,s){for(var o=(n||[]).slice(),i=o.length,c=t.start,l=t.end,d=function(h){var p=o[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===i-1){var g=e*(p.coordinate+e*m()/2-l);o[h]=p=xr(xr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else o[h]=p=xr(xr({},p),{},{tickCoord:p.coordinate});var y=Ph(e,p.tickCoord,m,c,l);y&&(l=p.tickCoord-e*(m()/2+s),o[h]=xr(xr({},p),{},{isShow:!0}))},u=i-1;u>=0;u--)d(u);return o}function Qde(e,t,r,n,s,o){var i=(n||[]).slice(),c=i.length,l=t.start,d=t.end;if(o){var u=n[c-1],f=r(u,c-1),h=e*(u.coordinate+e*f/2-d);i[c-1]=u=xr(xr({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=Ph(e,u.tickCoord,function(){return f},l,d);p&&(d=u.tickCoord-e*(f/2+s),i[c-1]=xr(xr({},u),{},{isShow:!0}))}for(var v=o?c-1:c,m=function(b){var w=i[b],j,N=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var S=e*(w.coordinate-e*N()/2-l);i[b]=w=xr(xr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else i[b]=w=xr(xr({},w),{},{tickCoord:w.coordinate});var _=Ph(e,w.tickCoord,N,l,d);_&&(l=w.tickCoord+e*(N()/2+s),i[b]=xr(xr({},w),{},{isShow:!0}))},g=0;g<v;g++)m(g);return i}function b0(e,t,r){var n=e.tick,s=e.ticks,o=e.viewBox,i=e.minTickGap,c=e.orientation,l=e.interval,d=e.tickFormatter,u=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(ue(l)||Ws.isSsr)return Gde(s,typeof l=="number"&&ue(l)?l:0);var h=[],p=c==="top"||c==="bottom"?"width":"height",v=u&&p==="width"?wl(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,j){var N=De(d)?d(w.value,j):w.value;return p==="width"?Wde(wl(N,{fontSize:t,letterSpacing:r}),v,f):wl(N,{fontSize:t,letterSpacing:r})[p]},g=s.length>=2?Lr(s[1].coordinate-s[0].coordinate):1,y=Hde(o,g,p);return l==="equidistantPreserveStart"?Kde(g,y,m,s,i):(l==="preserveStart"||l==="preserveStartEnd"?h=Qde(g,y,m,s,i,l==="preserveStartEnd"):h=Jde(g,y,m,s,i),h.filter(function(b){return b.isShow}))}var eue=["viewBox"],tue=["viewBox"],rue=["ticks"];function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(this,arguments)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){j0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vg(e,t){if(e==null)return{};var r=nue(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wO(n.key),n)}}function sue(e,t,r){return t&&yS(e.prototype,t),r&&yS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oue(e,t,r){return t=Ah(t),iue(e,jO()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function iue(e,t){if(t&&(tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cue(e)}function cue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jO=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(e)}function lue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jx(e,t)}function Jx(e,t){return Jx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Jx(e,t)}function j0(e,t,r){return t=wO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wO(e){var t=due(e,"string");return tc(t)=="symbol"?t:t+""}function due(e,t){if(tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bc=function(e){function t(r){var n;return aue(this,t),n=oue(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return lue(t,e),sue(t,[{key:"shouldComponentUpdate",value:function(n,s){var o=n.viewBox,i=Vg(n,eue),c=this.props,l=c.viewBox,d=Vg(c,tue);return!_i(o,l)||!_i(i,d)||!_i(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.x,i=s.y,c=s.width,l=s.height,d=s.orientation,u=s.tickSize,f=s.mirror,h=s.tickMargin,p,v,m,g,y,b,w=f?-1:1,j=n.tickSize||u,N=ue(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":p=v=n.coordinate,g=i+ +!f*l,m=g-w*j,b=m-w*h,y=N;break;case"left":m=g=n.coordinate,v=o+ +!f*c,p=v-w*j,y=p-w*h,b=N;break;case"right":m=g=n.coordinate,v=o+ +f*c,p=v+w*j,y=p+w*h,b=N;break;default:p=v=n.coordinate,g=i+ +f*l,m=g+w*j,b=m+w*h,y=N;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i;switch(s){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,c=n.height,l=n.orientation,d=n.mirror,u=n.axisLine,f=Or(Or(Or({},Pe(this.props,!1)),Pe(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!d||l==="bottom"&&d);f=Or(Or({},f),{},{x1:s,y1:o+h*c,x2:s+i,y2:o+h*c})}else{var p=+(l==="left"&&!d||l==="right"&&d);f=Or(Or({},f),{},{x1:s+p*i,y1:o,x2:s+p*i,y2:o+c})}return A.createElement("line",bi({},f,{className:We("recharts-cartesian-axis-line",hn(u,"className"))}))}},{key:"renderTicks",value:function(n,s,o){var i=this,c=this.props,l=c.tickLine,d=c.stroke,u=c.tick,f=c.tickFormatter,h=c.unit,p=b0(Or(Or({},this.props),{},{ticks:n}),s,o),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Pe(this.props,!1),y=Pe(u,!1),b=Or(Or({},g),{},{fill:"none"},Pe(l,!1)),w=p.map(function(j,N){var S=i.getTickLineCoord(j),_=S.line,C=S.tick,E=Or(Or(Or(Or({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:d},y),C),{},{index:N,payload:j,visibleTicksCount:p.length,tickFormatter:f});return A.createElement(ct,bi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},ko(i.props,j,N)),l&&A.createElement("line",bi({},b,_,{className:We("recharts-cartesian-axis-tick-line",hn(l,"className"))})),u&&t.renderTickItem(u,E,"".concat(De(f)?f(j.value,N):j.value).concat(h||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,o=s.axisLine,i=s.width,c=s.height,l=s.ticksGenerator,d=s.className,u=s.hide;if(u)return null;var f=this.props,h=f.ticks,p=Vg(f,rue),v=h;return De(l)&&(v=h&&h.length>0?l(this.props):l(p)),i<=0||c<=0||!v||!v.length?null:A.createElement(ct,{className:We("recharts-cartesian-axis",d),ref:function(g){n.layerReference=g}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,o){var i;return A.isValidElement(n)?i=A.cloneElement(n,s):De(n)?i=n(s):i=A.createElement(Eo,bi({},s,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(x.Component);j0(Bc,"displayName","CartesianAxis");j0(Bc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uue=["x1","y1","x2","y2","key"],fue=["offset"];function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return t=mue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=pue(e,"string");return Mo(t)=="symbol"?t:t+""}function pue(e,t){if(Mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xo.apply(this,arguments)}function jS(e,t){if(e==null)return{};var r=gue(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vue=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,o=t.y,i=t.width,c=t.height,l=t.ry;return A.createElement("rect",{x:s,y:o,ry:l,width:i,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function NO(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(De(e))r=e(t);else{var n=t.x1,s=t.y1,o=t.x2,i=t.y2,c=t.key,l=jS(t,uue),d=Pe(l,!1);d.offset;var u=jS(d,fue);r=A.createElement("line",xo({},u,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:c}))}return r}function xue(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(c,l){var d=jr(jr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return NO(s,d)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function yue(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(c,l){var d=jr(jr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return NO(s,d)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function bue(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,c=e.horizontalPoints,l=e.horizontal,d=l===void 0?!0:l;if(!d||!t||!t.length)return null;var u=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],m=v?s+i-h:u[p+1]-h;if(m<=0)return null;var g=p%t.length;return A.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jue(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,c=e.width,l=e.height,d=e.verticalPoints;if(!r||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==u[0]&&u.unshift(0);var f=u.map(function(h,p){var v=!u[p+1],m=v?o+c-h:u[p+1]-h;if(m<=0)return null;var g=p%n.length;return A.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wue=function(t,r){var n=t.xAxis,s=t.width,o=t.height,i=t.offset;return xE(b0(jr(jr(jr({},Bc.defaultProps),n),{},{ticks:Ya(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.left,i.left+i.width,r)},Nue=function(t,r){var n=t.yAxis,s=t.width,o=t.height,i=t.offset;return xE(b0(jr(jr(jr({},Bc.defaultProps),n),{},{ticks:Ya(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.top,i.top+i.height,r)},li={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Al(e){var t,r,n,s,o,i,c=g0(),l=v0(),d=dde(),u=jr(jr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:li.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:li.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:li.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:li.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:li.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:li.verticalFill,x:ue(e.x)?e.x:d.left,y:ue(e.y)?e.y:d.top,width:ue(e.width)?e.width:d.width,height:ue(e.height)?e.height:d.height}),f=u.x,h=u.y,p=u.width,v=u.height,m=u.syncWithTicks,g=u.horizontalValues,y=u.verticalValues,b=ide(),w=cde();if(!ue(p)||p<=0||!ue(v)||v<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var j=u.verticalCoordinatesGenerator||wue,N=u.horizontalCoordinatesGenerator||Nue,S=u.horizontalPoints,_=u.verticalPoints;if((!S||!S.length)&&De(N)){var C=g&&g.length,E=N({yAxis:w?jr(jr({},w),{},{ticks:C?g:w.ticks}):void 0,width:c,height:l,offset:d},C?!0:m);Xn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mo(E),"]")),Array.isArray(E)&&(S=E)}if((!_||!_.length)&&De(j)){var $=y&&y.length,k=j({xAxis:b?jr(jr({},b),{},{ticks:$?y:b.ticks}):void 0,width:c,height:l,offset:d},$?!0:m);Xn(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mo(k),"]")),Array.isArray(k)&&(_=k)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(vue,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),A.createElement(xue,xo({},u,{offset:d,horizontalPoints:S,xAxis:b,yAxis:w})),A.createElement(yue,xo({},u,{offset:d,verticalPoints:_,xAxis:b,yAxis:w})),A.createElement(bue,xo({},u,{horizontalPoints:S})),A.createElement(jue,xo({},u,{verticalPoints:_})))}Al.displayName="CartesianGrid";var _ue=["type","layout","connectNulls","ref"],Sue=["key"];function rc(e){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(e)}function wS(e,t){if(e==null)return{};var r=Cue(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kl.apply(this,arguments)}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){Gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function di(e){return Eue(e)||kue(e)||Aue(e)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(e,t){if(e){if(typeof e=="string")return Qx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qx(e,t)}}function kue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eue(e){if(Array.isArray(e))return Qx(e)}function Qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SO(n.key),n)}}function Tue(e,t,r){return t&&_S(e.prototype,t),r&&_S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ue(e,t,r){return t=kh(t),Mue(e,_O()?Reflect.construct(t,r||[],kh(e).constructor):t.apply(e,r))}function Mue(e,t){if(t&&(rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Due(e)}function Due(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!e})()}function kh(e){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kh(e)}function Rue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ey(e,t)}function ey(e,t){return ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ey(e,t)}function Gn(e,t,r){return t=SO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SO(e){var t=Iue(e,"string");return rc(t)=="symbol"?t:t+""}function Iue(e,t){if(rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jp=function(e){function t(){var r;Oue(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=$ue(this,t,[].concat(s)),Gn(r,"state",{isAnimationFinished:!0,totalLength:0}),Gn(r,"generateSimpleStrokeDasharray",function(i,c){return"".concat(c,"px ").concat(i-c,"px")}),Gn(r,"getStrokeDasharray",function(i,c,l){var d=l.reduce(function(y,b){return y+b});if(!d)return r.generateSimpleStrokeDasharray(c,i);for(var u=Math.floor(i/d),f=i%d,h=c-i,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(di(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(di(t.repeat(l,u)),di(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Gn(r,"id",Wo("recharts-line-")),Gn(r,"pathRef",function(i){r.mainCurve=i}),Gn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Gn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Rue(t,e),Tue(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,c=o.xAxis,l=o.yAxis,d=o.layout,u=o.children,f=mn(u,nu);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Wt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return A.createElement(ct,p,f.map(function(v){return A.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:i,xAxis:c,yAxis:l,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,d=c.points,u=c.dataKey,f=Pe(this.props,!1),h=Pe(l,!0),p=d.map(function(m,g){var y=nn(nn(nn({key:"dot-".concat(g),r:3},f),h),{},{value:m.value,dataKey:u,cx:m.x,cy:m.y,index:g,payload:m.payload});return t.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return A.createElement(ct,kl({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,s,o,i){var c=this.props,l=c.type,d=c.layout,u=c.connectNulls;c.ref;var f=wS(c,_ue),h=nn(nn(nn({},Pe(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:d,connectNulls:u});return A.createElement(No,kl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var o=this,i=this.props,c=i.points,l=i.strokeDasharray,d=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=i.animateNewValues,m=i.width,g=i.height,y=this.state,b=y.prevPoints,w=y.totalLength;return A.createElement(ra,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(b){var S=b.length/c.length,_=c.map(function(P,O){var T=Math.floor(O*S);if(b[T]){var I=b[T],R=sr(I.x,P.x),D=sr(I.y,P.y);return nn(nn({},P),{},{x:R(N),y:D(N)})}if(v){var M=sr(m*2,P.x),U=sr(g/2,P.y);return nn(nn({},P),{},{x:M(N),y:U(N)})}return nn(nn({},P),{},{x:P.x,y:P.y})});return o.renderCurveStatically(_,n,s)}var C=sr(0,w),E=C(N),$;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});$=o.getStrokeDasharray(E,w,k)}else $=o.generateSimpleStrokeDasharray(w,E);return o.renderCurveStatically(c,n,s,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,s){var o=this.props,i=o.points,c=o.isAnimationActive,l=this.state,d=l.prevPoints,u=l.totalLength;return c&&i&&i.length&&(!d&&u>0||!Oo(d,i))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(i,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,i=s.dot,c=s.points,l=s.className,d=s.xAxis,u=s.yAxis,f=s.top,h=s.left,p=s.width,v=s.height,m=s.isAnimationActive,g=s.id;if(o||!c||!c.length)return null;var y=this.state.isAnimationFinished,b=c.length===1,w=We("recharts-line",l),j=d&&d.allowDataOverflow,N=u&&u.allowDataOverflow,S=j||N,_=Be(g)?this.id:g,C=(n=Pe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=C.r,$=E===void 0?3:E,k=C.strokeWidth,P=k===void 0?2:k,O=dA(i)?i:{},T=O.clipDot,I=T===void 0?!0:T,R=$*2+P;return A.createElement(ct,{className:w},j||N?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(_)},A.createElement("rect",{x:j?h:h-p/2,y:N?f:f-v/2,width:j?p:p*2,height:N?v:v*2})),!I&&A.createElement("clipPath",{id:"clipPath-dots-".concat(_)},A.createElement("rect",{x:h-R/2,y:f-R/2,width:p+R,height:v+R}))):null,!b&&this.renderCurve(S,_),this.renderErrorBar(S,_),(b||i)&&this.renderDots(S,I,_),(!m||y)&&Pa.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var o=n.length%2!==0?[].concat(di(n),[0]):n,i=[],c=0;c<s;++c)i=[].concat(di(i),di(o));return i}},{key:"renderDotItem",value:function(n,s){var o;if(A.isValidElement(n))o=A.cloneElement(n,s);else if(De(n))o=n(s);else{var i=s.key,c=wS(s,Sue),l=We("recharts-line-dot",typeof n!="boolean"?n.className:"");o=A.createElement(au,kl({key:i},c,{className:l}))}return o}}])}(x.PureComponent);Gn(jp,"displayName","Line");Gn(jp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ws.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Gn(jp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,c=e.bandSize,l=e.displayedData,d=e.offset,u=t.layout,f=l.map(function(h,p){var v=Wt(h,i);return u==="horizontal"?{x:oh({axis:r,ticks:s,bandSize:c,entry:h,index:p}),y:Be(v)?null:n.scale(v),value:v,payload:h}:{x:Be(v)?null:r.scale(v),y:oh({axis:n,ticks:o,bandSize:c,entry:h,index:p}),value:v,payload:h}});return nn({points:f,layout:u},d)});var Lue=["layout","type","stroke","connectNulls","isRange","ref"],Fue=["key"],CO;function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function PO(e,t){if(e==null)return{};var r=zue(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(this,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function js(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function Vue(e,t,r){return t&&CS(e.prototype,t),r&&CS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uue(e,t,r){return t=Eh(t),que(e,AO()?Reflect.construct(t,r||[],Eh(e).constructor):t.apply(e,r))}function que(e,t){if(t&&(nc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wue(e)}function Wue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AO=function(){return!!e})()}function Eh(e){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(e)}function Hue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ty(e,t)}function ty(e,t){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ty(e,t)}function ba(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=Gue(e,"string");return nc(t)=="symbol"?t:t+""}function Gue(e,t){if(nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ls=function(e){function t(){var r;Bue(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=Uue(this,t,[].concat(s)),ba(r,"state",{isAnimationFinished:!0}),ba(r,"id",Wo("recharts-area-")),ba(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),De(i)&&i()}),ba(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),De(i)&&i()}),r}return Hue(t,e),Vue(t,[{key:"renderDots",value:function(n,s,o){var i=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(i&&!c)return null;var l=this.props,d=l.dot,u=l.points,f=l.dataKey,h=Pe(this.props,!1),p=Pe(d,!0),v=u.map(function(g,y){var b=js(js(js({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:u});return t.renderDotItem(d,b)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return A.createElement(ct,yo({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,o=s.baseLine,i=s.points,c=s.strokeWidth,l=i[0].x,d=i[i.length-1].x,u=n*Math.abs(l-d),f=Ps(i.map(function(h){return h.y||0}));return ue(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Ps(o.map(function(h){return h.y||0})),f)),ue(f)?A.createElement("rect",{x:l<d?l:l-u,y:0,width:u,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,o=s.baseLine,i=s.points,c=s.strokeWidth,l=i[0].y,d=i[i.length-1].y,u=n*Math.abs(l-d),f=Ps(i.map(function(h){return h.x||0}));return ue(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Ps(o.map(function(h){return h.x||0})),f)),ue(f)?A.createElement("rect",{x:0,y:l<d?l:l-u,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,o,i){var c=this.props,l=c.layout,d=c.type,u=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var p=PO(c,Lue);return A.createElement(ct,{clipPath:o?"url(#clipPath-".concat(i,")"):null},A.createElement(No,yo({},Pe(p,!0),{points:n,connectNulls:f,type:d,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&A.createElement(No,yo({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:d,connectNulls:f,fill:"none",points:n})),u!=="none"&&h&&A.createElement(No,yo({},Pe(this.props,!1),{className:"recharts-area-curve",layout:l,type:d,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var o=this,i=this.props,c=i.points,l=i.baseLine,d=i.isAnimationActive,u=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return A.createElement(ra,{begin:u,duration:f,isActive:d,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var w=m.length/c.length,j=c.map(function(C,E){var $=Math.floor(E*w);if(m[$]){var k=m[$],P=sr(k.x,C.x),O=sr(k.y,C.y);return js(js({},C),{},{x:P(b),y:O(b)})}return C}),N;if(ue(l)&&typeof l=="number"){var S=sr(g,l);N=S(b)}else if(Be(l)||$c(l)){var _=sr(g,0);N=_(b)}else N=l.map(function(C,E){var $=Math.floor(E*w);if(g[$]){var k=g[$],P=sr(k.x,C.x),O=sr(k.y,C.y);return js(js({},C),{},{x:P(b),y:O(b)})}return C});return o.renderAreaStatically(j,N,n,s)}return A.createElement(ct,null,A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(s)},o.renderClipRect(b))),A.createElement(ct,{clipPath:"url(#animationClipPath-".concat(s,")")},o.renderAreaStatically(c,l,n,s)))})}},{key:"renderArea",value:function(n,s){var o=this.props,i=o.points,c=o.baseLine,l=o.isAnimationActive,d=this.state,u=d.prevPoints,f=d.prevBaseLine,h=d.totalLength;return l&&i&&i.length&&(!u&&h>0||!Oo(u,i)||!Oo(f,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(i,c,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,i=s.dot,c=s.points,l=s.className,d=s.top,u=s.left,f=s.xAxis,h=s.yAxis,p=s.width,v=s.height,m=s.isAnimationActive,g=s.id;if(o||!c||!c.length)return null;var y=this.state.isAnimationFinished,b=c.length===1,w=We("recharts-area",l),j=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,S=j||N,_=Be(g)?this.id:g,C=(n=Pe(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=C.r,$=E===void 0?3:E,k=C.strokeWidth,P=k===void 0?2:k,O=dA(i)?i:{},T=O.clipDot,I=T===void 0?!0:T,R=$*2+P;return A.createElement(ct,{className:w},j||N?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(_)},A.createElement("rect",{x:j?u:u-p/2,y:N?d:d-v/2,width:j?p:p*2,height:N?v:v*2})),!I&&A.createElement("clipPath",{id:"clipPath-dots-".concat(_)},A.createElement("rect",{x:u-R/2,y:d-R/2,width:p+R,height:v+R}))):null,b?null:this.renderArea(S,_),(i||b)&&this.renderDots(S,I,_),(!m||y)&&Pa.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);CO=ls;ba(ls,"displayName","Area");ba(ls,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ws.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ba(ls,"getBaseValue",function(e,t,r,n){var s=e.layout,o=e.baseValue,i=t.props.baseValue,c=i??o;if(ue(c)&&typeof c=="number")return c;var l=s==="horizontal"?n:r,d=l.scale.domain();if(l.type==="number"){var u=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return c==="dataMin"?f:c==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return c==="dataMin"?d[0]:c==="dataMax"?d[1]:d[0]});ba(ls,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,c=e.bandSize,l=e.dataKey,d=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=d&&d.length,m=CO.getBaseValue(t,r,n,s),g=p==="horizontal",y=!1,b=f.map(function(j,N){var S;v?S=d[u+N]:(S=Wt(j,l),Array.isArray(S)?y=!0:S=[m,S]);var _=S[1]==null||v&&Wt(j,l)==null;return g?{x:oh({axis:n,ticks:o,bandSize:c,entry:j,index:N}),y:_?null:s.scale(S[1]),value:S,payload:j}:{x:_?null:n.scale(S[1]),y:oh({axis:s,ticks:i,bandSize:c,entry:j,index:N}),value:S,payload:j}}),w;return v||y?w=b.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:N!=null&&j.y!=null?s.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=g?s.scale(m):n.scale(m),js({points:b,baseLine:w,layout:p,isRange:y},h)});ba(ls,"renderDotItem",function(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(De(e))r=e(t);else{var n=We("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,o=PO(t,Fue);r=A.createElement(au,yo({},o,{key:s,className:n}))}return r});function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Kue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function Zue(e,t,r){return t&&Yue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xue(e,t,r){return t=Oh(t),Jue(e,EO()?Reflect.construct(t,r||[],Oh(e).constructor):t.apply(e,r))}function Jue(e,t){if(t&&(ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Que(e)}function Que(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function Oh(e){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oh(e)}function efe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ry(e,t)}function ry(e,t){return ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ry(e,t)}function OO(e,t,r){return t=TO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=tfe(e,"string");return ac(t)=="symbol"?t:t+""}function tfe(e,t){if(ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(this,arguments)}function rfe(e){var t=e.xAxisId,r=g0(),n=v0(),s=fO(t);return s==null?null:A.createElement(Bc,ny({},s,{className:We("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Ya(i,!0)}}))}var es=function(e){function t(){return Kue(this,t),Xue(this,t,arguments)}return efe(t,e),Zue(t,[{key:"render",value:function(){return A.createElement(rfe,this.props)}}])}(A.Component);OO(es,"displayName","XAxis");OO(es,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sc(e){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sc(e)}function nfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function afe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function sfe(e,t,r){return t&&afe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ofe(e,t,r){return t=Th(t),ife(e,$O()?Reflect.construct(t,r||[],Th(e).constructor):t.apply(e,r))}function ife(e,t){if(t&&(sc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cfe(e)}function cfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function Th(e){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Th(e)}function lfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ay(e,t)}function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ay(e,t)}function MO(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=dfe(e,"string");return sc(t)=="symbol"?t:t+""}function dfe(e,t){if(sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(this,arguments)}var ufe=function(t){var r=t.yAxisId,n=g0(),s=v0(),o=hO(r);return o==null?null:A.createElement(Bc,sy({},o,{className:We("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(c){return Ya(c,!0)}}))},ts=function(e){function t(){return nfe(this,t),ofe(this,t,arguments)}return lfe(t,e),sfe(t,[{key:"render",value:function(){return A.createElement(ufe,this.props)}}])}(A.Component);MO(ts,"displayName","YAxis");MO(ts,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PS(e){return pfe(e)||mfe(e)||hfe(e)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(e,t){if(e){if(typeof e=="string")return oy(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oy(e,t)}}function mfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pfe(e){if(Array.isArray(e))return oy(e)}function oy(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iy=function(t,r,n,s,o){var i=mn(t,y0),c=mn(t,xp),l=[].concat(PS(i),PS(c)),d=mn(t,bp),u="".concat(s,"Id"),f=s[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[u]===n&&Aa(g.props,"extendDomain")&&ue(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),d.length){var p="".concat(f,"1"),v="".concat(f,"2");h=d.reduce(function(m,g){if(g.props[u]===n&&Aa(g.props,"extendDomain")&&ue(g.props[p])&&ue(g.props[v])){var y=g.props[p],b=g.props[v];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return o&&o.length&&(h=o.reduce(function(m,g){return ue(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},RO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,d,u){this.fn=l,this.context=d,this.once=u||!1}function o(l,d,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new s(u,f||l,h),v=r?r+d:d;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function i(l,d){--l._eventsCount===0?l._events=new n:delete l._events[d]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],u,f;if(this._eventsCount===0)return d;for(f in u=this._events)t.call(u,f)&&d.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},c.prototype.listeners=function(d){var u=r?r+d:d,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},c.prototype.listenerCount=function(d){var u=r?r+d:d,f=this._events[u];return f?f.fn?1:f.length:0},c.prototype.emit=function(d,u,f,h,p,v){var m=r?r+d:d;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,v),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var j=g.length,N;for(w=0;w<j;w++)switch(g[w].once&&this.removeListener(d,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,u);break;case 3:g[w].fn.call(g[w].context,u,f);break;case 4:g[w].fn.call(g[w].context,u,f,h);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];g[w].fn.apply(g[w].context,b)}}return!0},c.prototype.on=function(d,u,f){return o(this,d,u,f,!1)},c.prototype.once=function(d,u,f){return o(this,d,u,f,!0)},c.prototype.removeListener=function(d,u,f,h){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return i(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!h||v.once)&&(!f||v.context===f)&&i(this,p);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==u||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},c.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(RO);var gfe=RO.exports;const vfe=yt(gfe);var Ug=new vfe,qg="recharts.syncMouseEvents";function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function xfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IO(n.key),n)}}function bfe(e,t,r){return t&&yfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wg(e,t,r){return t=IO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IO(e){var t=jfe(e,"string");return wd(t)=="symbol"?t:t+""}function jfe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wfe=function(){function e(){xfe(this,e),Wg(this,"activeIndex",0),Wg(this,"coordinateList",[]),Wg(this,"layout","horizontal")}return bfe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,o=s===void 0?null:s,i=r.container,c=i===void 0?null:i,l=r.layout,d=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=d??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,i=s.y,c=s.height,l=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+d,h=i+this.offset.top+c/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Nfe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&ue(n)&&ue(s))return!0}return!1}function _fe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function LO(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,o=e.endAngle,i=Ct(t,r,n,s),c=Ct(t,r,n,o);return{points:[i,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function Sfe(e,t,r){var n,s,o,i;if(e==="horizontal")n=t.x,o=n,s=r.top,i=r.top+r.height;else if(e==="vertical")s=t.y,i=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,d=t.innerRadius,u=t.outerRadius,f=t.angle,h=Ct(c,l,d,f),p=Ct(c,l,u,f);n=h.x,s=h.y,o=p.x,i=p.y}else return LO(t);return[{x:n,y:s},{x:o,y:i}]}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){Cfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cfe(e,t,r){return t=Pfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pfe(e){var t=Afe(e,"string");return Nd(t)=="symbol"?t:t+""}function Afe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kfe(e){var t,r,n=e.element,s=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,c=e.activePayload,l=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&s!=="axis")return null;var v,m=No;if(h==="ScatterChart")v=i,m=Ioe;else if(h==="BarChart")v=_fe(f,i,l,u),m=f0;else if(f==="radial"){var g=LO(i),y=g.cx,b=g.cy,w=g.radius,j=g.startAngle,N=g.endAngle;v={cx:y,cy:b,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},m=kE}else v={points:Sfe(f,i,l)},m=No;var S=Hu(Hu(Hu(Hu({stroke:"#ccc",pointerEvents:"none"},l),v),Pe(p,!1)),{},{payload:c,payloadIndex:d,className:We("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,S):x.createElement(m,S)}var Efe=["item"],Ofe=["children","className","width","height","style","compact","title","desc"];function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function El(){return El=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},El.apply(this,arguments)}function kS(e,t){return Mfe(e)||$fe(e,t)||zO(e,t)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $fe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,d=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(u){d=!0,s=u}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(d)throw s}}return c}}function Mfe(e){if(Array.isArray(e))return e}function ES(e,t){if(e==null)return{};var r=Dfe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ife(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BO(n.key),n)}}function Lfe(e,t,r){return t&&Ife(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ffe(e,t,r){return t=$h(t),zfe(e,FO()?Reflect.construct(t,r||[],$h(e).constructor):t.apply(e,r))}function zfe(e,t){if(t&&(oc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bfe(e)}function Bfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function $h(e){return $h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$h(e)}function Vfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cy(e,t)}function cy(e,t){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cy(e,t)}function ic(e){return Wfe(e)||qfe(e)||zO(e)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zO(e,t){if(e){if(typeof e=="string")return ly(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ly(e,t)}}function qfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wfe(e){if(Array.isArray(e))return ly(e)}function ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $e(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=Hfe(e,"string");return oc(t)=="symbol"?t:t+""}function Hfe(e,t){if(oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gfe={xAxis:["bottom","top"],yAxis:["left","right"]},Kfe={width:"100%",height:"100%"},VO={x:0,y:0};function Gu(e){return e}var Yfe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Zfe=function(t,r,n,s){var o=r.find(function(u){return u&&u.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,c=s.radius;return ee(ee(ee({},s),Ct(s.cx,s.cy,c,i)),{},{angle:i,radius:c})}var l=o.coordinate,d=s.angle;return ee(ee(ee({},s),Ct(s.cx,s.cy,l,d)),{},{angle:d,radius:l})}return VO},wp=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(c,l){var d=l.props.data;return d&&d.length?[].concat(ic(c),ic(d)):c},[]);return i.length>0?i:t&&t.length&&ue(s)&&ue(o)?t.slice(s,o+1):[]};function UO(e){return e==="number"?[0,"auto"]:void 0}var dy=function(t,r,n,s){var o=t.graphicalItems,i=t.tooltipAxis,c=wp(r,t);return n<0||!o||!o.length||n>=c.length?null:o.reduce(function(l,d){var u,f=(u=d.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?c:f;h=Tf(p,i.dataKey,s)}else h=f&&f[n]||c[n];return h?[].concat(ic(l),[NE(d,h)]):l},[])},TS=function(t,r,n,s){var o=s||{x:t.chartX,y:t.chartY},i=Yfe(o,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,d=t.tooltipTicks,u=vne(i,c,d,l);if(u>=0&&d){var f=d[u]&&d[u].value,h=dy(t,r,u,f),p=Zfe(n,c,u,o);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},Xfe=function(t,r){var n=r.axes,s=r.graphicalItems,o=r.axisType,i=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,p=vE(u,o);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?ee(ee({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,j=y.allowDataOverflow,N=y.allowDuplicatedCategory,S=y.scale,_=y.ticks,C=y.includeHidden,E=y[i];if(v[E])return v;var $=wp(t.data,{graphicalItems:s.filter(function(ae){var de,_e=i in ae.props?ae.props[i]:(de=ae.type.defaultProps)===null||de===void 0?void 0:de[i];return _e===E}),dataStartIndex:l,dataEndIndex:d}),k=$.length,P,O,T;Nfe(y.domain,j,b)&&(P=Nx(y.domain,null,j),p&&(b==="number"||S!=="auto")&&(T=_l($,w,"category")));var I=UO(b);if(!P||P.length===0){var R,D=(R=y.domain)!==null&&R!==void 0?R:I;if(w){if(P=_l($,w,b),b==="category"&&p){var M=c9(P);N&&M?(O=P,P=yh(0,k)):N||(P=J_(D,P,m).reduce(function(ae,de){return ae.indexOf(de)>=0?ae:[].concat(ic(ae),[de])},[]))}else if(b==="category")N?P=P.filter(function(ae){return ae!==""&&!Be(ae)}):P=J_(D,P,m).reduce(function(ae,de){return ae.indexOf(de)>=0||de===""||Be(de)?ae:[].concat(ic(ae),[de])},[]);else if(b==="number"){var U=wne($,s.filter(function(ae){var de,_e,Ke=i in ae.props?ae.props[i]:(de=ae.type.defaultProps)===null||de===void 0?void 0:de[i],q="hide"in ae.props?ae.props.hide:(_e=ae.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ke===E&&(C||!q)}),w,o,u);U&&(P=U)}p&&(b==="number"||S!=="auto")&&(T=_l($,w,"category"))}else p?P=yh(0,k):c&&c[E]&&c[E].hasStack&&b==="number"?P=h==="expand"?[0,1]:wE(c[E].stackGroups,l,d):P=gE($,s.filter(function(ae){var de=i in ae.props?ae.props[i]:ae.type.defaultProps[i],_e="hide"in ae.props?ae.props.hide:ae.type.defaultProps.hide;return de===E&&(C||!_e)}),b,u,!0);if(b==="number")P=iy(f,P,E,o,_),D&&(P=Nx(D,P,j));else if(b==="category"&&D){var ne=D,K=P.every(function(ae){return ne.indexOf(ae)>=0});K&&(P=ne)}}return ee(ee({},v),{},$e({},E,ee(ee({},y),{},{axisType:o,domain:P,categoricalDomain:T,duplicateDomain:O,originalDomain:(g=y.domain)!==null&&g!==void 0?g:I,isCategorical:p,layout:u})))},{})},Jfe=function(t,r){var n=r.graphicalItems,s=r.Axis,o=r.axisType,i=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,d=r.dataEndIndex,u=t.layout,f=t.children,h=wp(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:d}),p=h.length,v=vE(u,o),m=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?ee(ee({},y.type.defaultProps),y.props):y.props,w=b[i],j=UO("number");if(!g[w]){m++;var N;return v?N=yh(0,p):c&&c[w]&&c[w].hasStack?(N=wE(c[w].stackGroups,l,d),N=iy(f,N,w,o)):(N=Nx(j,gE(h,n.filter(function(S){var _,C,E=i in S.props?S.props[i]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[i],$="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===w&&!$}),"number",u),s.defaultProps.allowDataOverflow),N=iy(f,N,w,o)),ee(ee({},g),{},$e({},w,ee(ee({axisType:o},s.defaultProps),{},{hide:!0,orientation:hn(Gfe,"".concat(o,".").concat(m%2),null),domain:N,originalDomain:j,isCategorical:v,layout:u})))}return g},{})},Qfe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,d=r.dataEndIndex,u=t.children,f="".concat(s,"Id"),h=mn(u,o),p={};return h&&h.length?p=Xfe(t,{axes:h,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:d}):i&&i.length&&(p=Jfe(t,{Axis:o,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:d})),p},ehe=function(t){var r=_s(t),n=Ya(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Fb(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ih(r,n)}},$S=function(t){var r=t.children,n=t.defaultShowTooltip,s=on(r,Zi),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},the=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ja(r&&r.type);return n&&n.indexOf("Bar")>=0})},MS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rhe=function(t,r){var n=t.props,s=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,c=t.yAxisMap,l=c===void 0?{}:c,d=n.width,u=n.height,f=n.children,h=n.margin||{},p=on(f,Zi),v=on(f,Sa),m=Object.keys(l).reduce(function(N,S){var _=l[S],C=_.orientation;return!_.mirror&&!_.hide?ee(ee({},N),{},$e({},C,N[C]+_.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(i).reduce(function(N,S){var _=i[S],C=_.orientation;return!_.mirror&&!_.hide?ee(ee({},N),{},$e({},C,hn(N,"".concat(C))+_.height)):N},{top:h.top||0,bottom:h.bottom||0}),y=ee(ee({},g),m),b=y.bottom;p&&(y.bottom+=p.props.height||Zi.defaultProps.height),v&&r&&(y=bne(y,s,n,r));var w=d-y.left-y.right,j=u-y.top-y.bottom;return ee(ee({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},nhe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},w0=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,o=s===void 0?"axis":s,i=t.validateTooltipEventTypes,c=i===void 0?["axis"]:i,l=t.axisComponents,d=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(g,y){var b=y.graphicalItems,w=y.stackGroups,j=y.offset,N=y.updateId,S=y.dataStartIndex,_=y.dataEndIndex,C=g.barSize,E=g.layout,$=g.barGap,k=g.barCategoryGap,P=g.maxBarSize,O=MS(E),T=O.numericAxisName,I=O.cateAxisName,R=the(b),D=[];return b.forEach(function(M,U){var ne=wp(g.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:_}),K=M.type.defaultProps!==void 0?ee(ee({},M.type.defaultProps),M.props):M.props,ae=K.dataKey,de=K.maxBarSize,_e=K["".concat(T,"Id")],Ke=K["".concat(I,"Id")],q={},ie=l.reduce(function(F,H){var J=y["".concat(H.axisType,"Map")],ye=K["".concat(H.axisType,"Id")];J&&J[ye]||H.axisType==="zAxis"||$o();var xe=J[ye];return ee(ee({},F),{},$e($e({},H.axisType,xe),"".concat(H.axisType,"Ticks"),Ya(xe)))},q),we=ie[I],oe=ie["".concat(I,"Ticks")],he=w&&w[_e]&&w[_e].hasStack&&One(M,w[_e].stackGroups),je=Ja(M.type).indexOf("Bar")>=0,X=ih(we,oe),Ye=[],ve=R&&xne({barSize:C,stackGroups:w,totalSize:nhe(ie,I)});if(je){var Ue,Ee,et=Be(de)?P:de,hr=(Ue=(Ee=ih(we,oe,!0))!==null&&Ee!==void 0?Ee:et)!==null&&Ue!==void 0?Ue:0;Ye=yne({barGap:$,barCategoryGap:k,bandSize:hr!==X?hr:X,sizeList:ve[Ke],maxBarSize:et}),hr!==X&&(Ye=Ye.map(function(F){return ee(ee({},F),{},{position:ee(ee({},F.position),{},{offset:F.position.offset-hr/2})})}))}var Dt=M&&M.type&&M.type.getComposedData;Dt&&D.push({props:ee(ee({},Dt(ee(ee({},ie),{},{displayedData:ne,props:g,dataKey:ae,item:M,bandSize:X,barPosition:Ye,offset:j,stackedData:he,layout:E,dataStartIndex:S,dataEndIndex:_}))),{},$e($e($e({key:M.key||"item-".concat(U)},T,ie[T]),I,ie[I]),"animationId",N)),childIndex:y9(M,g.children),item:M})}),D},p=function(g,y){var b=g.props,w=g.dataStartIndex,j=g.dataEndIndex,N=g.updateId;if(!Hw({props:b}))return null;var S=b.children,_=b.layout,C=b.stackOffset,E=b.data,$=b.reverseStackOrder,k=MS(_),P=k.numericAxisName,O=k.cateAxisName,T=mn(S,n),I=kne(E,T,"".concat(P,"Id"),"".concat(O,"Id"),C,$),R=l.reduce(function(K,ae){var de="".concat(ae.axisType,"Map");return ee(ee({},K),{},$e({},de,Qfe(b,ee(ee({},ae),{},{graphicalItems:T,stackGroups:ae.axisType===P&&I,dataStartIndex:w,dataEndIndex:j}))))},{}),D=rhe(ee(ee({},R),{},{props:b,graphicalItems:T}),y?.legendBBox);Object.keys(R).forEach(function(K){R[K]=u(b,R[K],D,K.replace("Map",""),r)});var M=R["".concat(O,"Map")],U=ehe(M),ne=h(b,ee(ee({},R),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:T,stackGroups:I,offset:D}));return ee(ee({formattedGraphicalItems:ne,graphicalItems:T,offset:D,stackGroups:I},U),R)},v=function(m){function g(y){var b,w,j;return Rfe(this,g),j=Ffe(this,g,[y]),$e(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(j,"accessibilityManager",new wfe),$e(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,_=S.dataStartIndex,C=S.dataEndIndex,E=S.updateId;j.setState(ee({legendBBox:N},p({props:j.props,dataStartIndex:_,dataEndIndex:C,updateId:E},ee(ee({},j.state),{},{legendBBox:N}))))}}),$e(j,"handleReceiveSyncEvent",function(N,S,_){if(j.props.syncId===N){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),$e(j,"handleBrushChange",function(N){var S=N.startIndex,_=N.endIndex;if(S!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ee({dataStartIndex:S,dataEndIndex:_},p({props:j.props,dataStartIndex:S,dataEndIndex:_,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),$e(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var _=ee(ee({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var C=j.props.onMouseEnter;De(C)&&C(_,N)}}),$e(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),_=S?ee(ee({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var C=j.props.onMouseMove;De(C)&&C(_,N)}),$e(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),$e(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),$e(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),$e(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var _=j.props.onMouseLeave;De(_)&&_(S,N)}),$e(j,"handleOuterEvent",function(N){var S=x9(N),_=hn(j.props,"".concat(S));if(S&&De(_)){var C,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(N.changedTouches[0]):E=j.getMouseInfo(N),_((C=E)!==null&&C!==void 0?C:{},N)}}),$e(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var _=ee(ee({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var C=j.props.onClick;De(C)&&C(_,N)}}),$e(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if(De(S)){var _=j.getMouseInfo(N);S(_,N)}}),$e(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if(De(S)){var _=j.getMouseInfo(N);S(_,N)}}),$e(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),$e(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),$e(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),$e(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&Ug.emit(qg,j.props.syncId,N,j.eventEmitterSymbol)}),$e(j,"applySyncEvent",function(N){var S=j.props,_=S.layout,C=S.syncMethod,E=j.state.updateId,$=N.dataStartIndex,k=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(ee({dataStartIndex:$,dataEndIndex:k},p({props:j.props,dataStartIndex:$,dataEndIndex:k,updateId:E},j.state)));else if(N.activeTooltipIndex!==void 0){var P=N.chartX,O=N.chartY,T=N.activeTooltipIndex,I=j.state,R=I.offset,D=I.tooltipTicks;if(!R)return;if(typeof C=="function")T=C(D,N);else if(C==="value"){T=-1;for(var M=0;M<D.length;M++)if(D[M].value===N.activeLabel){T=M;break}}var U=ee(ee({},R),{},{x:R.left,y:R.top}),ne=Math.min(P,U.x+U.width),K=Math.min(O,U.y+U.height),ae=D[T]&&D[T].value,de=dy(j.state,j.props.data,T),_e=D[T]?{x:_==="horizontal"?D[T].coordinate:ne,y:_==="horizontal"?K:D[T].coordinate}:VO;j.setState(ee(ee({},N),{},{activeLabel:ae,activeCoordinate:_e,activePayload:de,activeTooltipIndex:T}))}else j.setState(N)}),$e(j,"renderCursor",function(N){var S,_=j.state,C=_.isTooltipActive,E=_.activeCoordinate,$=_.activePayload,k=_.offset,P=_.activeTooltipIndex,O=_.tooltipAxisBandSize,T=j.getTooltipEventType(),I=(S=N.props.active)!==null&&S!==void 0?S:C,R=j.props.layout,D=N.key||"_recharts-cursor";return A.createElement(kfe,{key:D,activeCoordinate:E,activePayload:$,activeTooltipIndex:P,chartName:r,element:N,isActive:I,layout:R,offset:k,tooltipAxisBandSize:O,tooltipEventType:T})}),$e(j,"renderPolarAxis",function(N,S,_){var C=hn(N,"type.axisType"),E=hn(j.state,"".concat(C,"Map")),$=N.type.defaultProps,k=$!==void 0?ee(ee({},$),N.props):N.props,P=E&&E[k["".concat(C,"Id")]];return x.cloneElement(N,ee(ee({},P),{},{className:We(C,P.className),key:N.key||"".concat(S,"-").concat(_),ticks:Ya(P,!0)}))}),$e(j,"renderPolarGrid",function(N){var S=N.props,_=S.radialLines,C=S.polarAngles,E=S.polarRadius,$=j.state,k=$.radiusAxisMap,P=$.angleAxisMap,O=_s(k),T=_s(P),I=T.cx,R=T.cy,D=T.innerRadius,M=T.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(C)?C:Ya(T,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(E)?E:Ya(O,!0).map(function(U){return U.coordinate}),cx:I,cy:R,innerRadius:D,outerRadius:M,key:N.key||"polar-grid",radialLines:_})}),$e(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,_=S.children,C=S.width,E=S.height,$=j.props.margin||{},k=C-($.left||0)-($.right||0),P=mE({children:_,formattedGraphicalItems:N,legendWidth:k,legendContent:d});if(!P)return null;var O=P.item,T=ES(P,Efe);return x.cloneElement(O,ee(ee({},T),{},{chartWidth:C,chartHeight:E,margin:$,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),$e(j,"renderTooltip",function(){var N,S=j.props,_=S.children,C=S.accessibilityLayer,E=on(_,br);if(!E)return null;var $=j.state,k=$.isTooltipActive,P=$.activeCoordinate,O=$.activePayload,T=$.activeLabel,I=$.offset,R=(N=E.props.active)!==null&&N!==void 0?N:k;return x.cloneElement(E,{viewBox:ee(ee({},I),{},{x:I.left,y:I.top}),active:R,label:T,payload:R?O:[],coordinate:P,accessibilityLayer:C})}),$e(j,"renderBrush",function(N){var S=j.props,_=S.margin,C=S.data,E=j.state,$=E.offset,k=E.dataStartIndex,P=E.dataEndIndex,O=E.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Vu(j.handleBrushChange,N.props.onChange),data:C,x:ue(N.props.x)?N.props.x:$.left,y:ue(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(_.bottom||0),width:ue(N.props.width)?N.props.width:$.width,startIndex:k,endIndex:P,updateId:"brush-".concat(O)})}),$e(j,"renderReferenceElement",function(N,S,_){if(!N)return null;var C=j,E=C.clipPathId,$=j.state,k=$.xAxisMap,P=$.yAxisMap,O=$.offset,T=N.type.defaultProps||{},I=N.props,R=I.xAxisId,D=R===void 0?T.xAxisId:R,M=I.yAxisId,U=M===void 0?T.yAxisId:M;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(_),xAxis:k[D],yAxis:P[U],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:E})}),$e(j,"renderActivePoints",function(N){var S=N.item,_=N.activePoint,C=N.basePoint,E=N.childIndex,$=N.isRange,k=[],P=S.props.key,O=S.item.type.defaultProps!==void 0?ee(ee({},S.item.type.defaultProps),S.item.props):S.item.props,T=O.activeDot,I=O.dataKey,R=ee(ee({index:E,dataKey:I,cx:_.x,cy:_.y,r:4,fill:u0(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Pe(T,!1)),$f(T));return k.push(g.renderActiveDot(T,R,"".concat(P,"-activePoint-").concat(E))),C?k.push(g.renderActiveDot(T,ee(ee({},R),{},{cx:C.x,cy:C.y}),"".concat(P,"-basePoint-").concat(E))):$&&k.push(null),k}),$e(j,"renderGraphicChild",function(N,S,_){var C=j.filterFormatItem(N,S,_);if(!C)return null;var E=j.getTooltipEventType(),$=j.state,k=$.isTooltipActive,P=$.tooltipAxis,O=$.activeTooltipIndex,T=$.activeLabel,I=j.props.children,R=on(I,br),D=C.props,M=D.points,U=D.isRange,ne=D.baseLine,K=C.item.type.defaultProps!==void 0?ee(ee({},C.item.type.defaultProps),C.item.props):C.item.props,ae=K.activeDot,de=K.hide,_e=K.activeBar,Ke=K.activeShape,q=!!(!de&&k&&R&&(ae||_e||Ke)),ie={};E!=="axis"&&R&&R.props.trigger==="click"?ie={onClick:Vu(j.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(ie={onMouseLeave:Vu(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Vu(j.handleItemMouseEnter,N.props.onMouseEnter)});var we=x.cloneElement(N,ee(ee({},C.props),ie));function oe(H){return typeof P.dataKey=="function"?P.dataKey(H.payload):null}if(q)if(O>=0){var he,je;if(P.dataKey&&!P.allowDuplicatedCategory){var X=typeof P.dataKey=="function"?oe:"payload.".concat(P.dataKey.toString());he=Tf(M,X,T),je=U&&ne&&Tf(ne,X,T)}else he=M?.[O],je=U&&ne&&ne[O];if(Ke||_e){var Ye=N.props.activeIndex!==void 0?N.props.activeIndex:O;return[x.cloneElement(N,ee(ee(ee({},C.props),ie),{},{activeIndex:Ye})),null,null]}if(!Be(he))return[we].concat(ic(j.renderActivePoints({item:C,activePoint:he,basePoint:je,childIndex:O,isRange:U})))}else{var ve,Ue=(ve=j.getItemByXY(j.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:we},Ee=Ue.graphicalItem,et=Ee.item,hr=et===void 0?N:et,Dt=Ee.childIndex,F=ee(ee(ee({},C.props),ie),{},{activeIndex:Dt});return[x.cloneElement(hr,F),null,null]}return U?[we,null,null]:[we,null]}),$e(j,"renderCustomized",function(N,S,_){return x.cloneElement(N,ee(ee({key:"recharts-customized-".concat(_)},j.props),j.state))}),$e(j,"renderMap",{CartesianGrid:{handler:Gu,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Gu},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Gu},YAxis:{handler:Gu},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Wo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=hk(j.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return Vfe(g,m),Lfe(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,N=b.height,S=b.layout,_=on(w,br);if(_){var C=_.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,$=dy(this.state,j,C,E),k=this.state.tooltipTicks[C].coordinate,P=(this.state.offset.top+N)/2,O=S==="horizontal",T=O?{x:k,y:P}:{y:k,x:P},I=this.state.formattedGraphicalItems.find(function(D){var M=D.item;return M.type.name==="Scatter"});I&&(T=ee(ee({},T),I.props.points[C].tooltipPosition),$=I.props.points[C].tooltipPayload);var R={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:$,activeCoordinate:T};this.setState(R),this.renderCursor(_),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){Lv([on(b.children,br)],[on(this.props.children,br)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=on(this.props.children,br);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return c.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=WJ(j),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},_=j.width/w.offsetWidth||1,C=this.inRange(S.chartX,S.chartY,_);if(!C)return null;var E=this.state,$=E.xAxisMap,k=E.yAxisMap,P=this.getTooltipEventType();if(P!=="axis"&&$&&k){var O=_s($).scale,T=_s(k).scale,I=O&&O.invert?O.invert(S.chartX):null,R=T&&T.invert?T.invert(S.chartY):null;return ee(ee({},S),{},{xValue:I,yValue:R})}var D=TS(this.state,this.props.data,this.props.layout,C);return D?ee(ee({},S),D):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/j,_=w/j;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,E=S>=C.left&&S<=C.left+C.width&&_>=C.top&&_<=C.top+C.height;return E?{x:S,y:_}:null}var $=this.state,k=$.angleAxisMap,P=$.radiusAxisMap;if(k&&P){var O=_s(k);return t1({x:S,y:_},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=on(b,br),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=$f(this.props,this.handleOuterEvent);return ee(ee({},S),N)}},{key:"addListener",value:function(){Ug.on(qg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ug.removeListener(qg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var N=this.state.formattedGraphicalItems,S=0,_=N.length;S<_;S++){var C=N[S];if(C.item===b||C.props.key===b.key||w===Ja(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,S=w.height,_=w.width;return A.createElement("defs",null,A.createElement("clipPath",{id:b},A.createElement("rect",{x:j,y:N,height:S,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=kS(j,2),S=N[0],_=N[1];return ee(ee({},w),{},$e({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=kS(j,2),S=N[0],_=N[1];return ee(ee({},w),{},$e({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var S=0,_=j.length;S<_;S++){var C=j[S],E=C.props,$=C.item,k=$.type.defaultProps!==void 0?ee(ee({},$.type.defaultProps),$.props):$.props,P=Ja($.type);if(P==="Bar"){var O=(E.data||[]).find(function(D){return voe(b,D)});if(O)return{graphicalItem:C,payload:O}}else if(P==="RadialBar"){var T=(E.data||[]).find(function(D){return t1(b,D)});if(T)return{graphicalItem:C,payload:T}}else if(mp(C,N)||pp(C,N)||vd(C,N)){var I=sce({graphicalItem:C,activeTooltipItem:N,itemData:k.data}),R=k.activeIndex===void 0?I:k.activeIndex;return{graphicalItem:ee(ee({},C),{},{childIndex:R}),payload:vd(C,N)?k.data[I]:C.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!Hw(this))return null;var w=this.props,j=w.children,N=w.className,S=w.width,_=w.height,C=w.style,E=w.compact,$=w.title,k=w.desc,P=ES(w,Ofe),O=Pe(P,!1);if(E)return A.createElement(lS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement(zv,El({},O,{width:S,height:_,title:$,desc:k}),this.renderClipPath(),Kw(j,this.renderMap)));if(this.props.accessibilityLayer){var T,I;O.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,O.role=(I=this.props.role)!==null&&I!==void 0?I:"application",O.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},O.onFocus=function(){b.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return A.createElement(lS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement("div",El({className:We("recharts-wrapper",N),style:ee({position:"relative",cursor:"default",width:S,height:_},C)},R,{ref:function(M){b.container=M}}),A.createElement(zv,El({},O,{width:S,height:_,title:$,desc:k,style:Kfe}),this.renderClipPath(),Kw(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);return $e(v,"displayName",r),$e(v,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),$e(v,"getDerivedStateFromProps",function(m,g){var y=m.dataKey,b=m.data,w=m.children,j=m.width,N=m.height,S=m.layout,_=m.stackOffset,C=m.margin,E=g.dataStartIndex,$=g.dataEndIndex;if(g.updateId===void 0){var k=$S(m);return ee(ee(ee({},k),{},{updateId:0},p(ee(ee({props:m},k),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:C,prevChildren:w})}if(y!==g.prevDataKey||b!==g.prevData||j!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||_!==g.prevStackOffset||!_i(C,g.prevMargin)){var P=$S(m),O={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},T=ee(ee({},TS(g,b,S)),{},{updateId:g.updateId+1}),I=ee(ee(ee({},P),O),T);return ee(ee(ee({},I),p(ee({props:m},I),g)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:C,prevChildren:w})}if(!Lv(w,g.prevChildren)){var R,D,M,U,ne=on(w,Zi),K=ne&&(R=(D=ne.props)===null||D===void 0?void 0:D.startIndex)!==null&&R!==void 0?R:E,ae=ne&&(M=(U=ne.props)===null||U===void 0?void 0:U.endIndex)!==null&&M!==void 0?M:$,de=K!==E||ae!==$,_e=!Be(b),Ke=_e&&!de?g.updateId:g.updateId+1;return ee(ee({updateId:Ke},p(ee(ee({props:m},g),{},{updateId:Ke,dataStartIndex:K,dataEndIndex:ae}),g)),{},{prevChildren:w,dataStartIndex:K,dataEndIndex:ae})}return null}),$e(v,"renderActiveDot",function(m,g,y){var b;return x.isValidElement(m)?b=x.cloneElement(m,g):De(m)?b=m(g):b=A.createElement(au,g),A.createElement(ct,{className:"recharts-active-dot",key:y},b)}),function(g){return A.createElement(v,g)}},Mh=w0({chartName:"BarChart",GraphicalChild:na,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:es},{axisType:"yAxis",AxisComp:ts}],formatAxisMap:aO}),qO=w0({chartName:"PieChart",GraphicalChild:Ra,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:hp},{axisType:"radiusAxis",AxisComp:up}],formatAxisMap:Bne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ahe=w0({chartName:"AreaChart",GraphicalChild:ls,axisComponents:[{axisType:"xAxis",AxisComp:es},{axisType:"yAxis",AxisComp:ts}],formatAxisMap:aO});function she(){const[e,t]=Dy();console.log("Dashboard: Iniciando renderizao");try{const r=g=>{window.location.href=g},{agendamentosFiltrados:n}=ds(),{lancamentos:s}=Om(),{usuario:o,checkSubscription:i}=It();x.useEffect(()=>{e.get("payment")==="success"&&(t({}),V.success(" Pagamento confirmado! Verificando assinatura..."),setTimeout(()=>i(),1e3),setTimeout(()=>i(),3e3),setTimeout(()=>i(),6e3))},[e,t,i]);const c=new Date,l=c.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=c.toISOString().split("T")[0],u=x.useMemo(()=>n.filter(g=>g.data===d&&g.status!=="cancelado"),[n,d]),f=x.useMemo(()=>n.filter(y=>y.data===d&&y.status==="concluido").reduce((y,b)=>y+b.valor,0),[n,d]),h=x.useMemo(()=>{const y=new Date().toTimeString().slice(0,5);return u.filter(w=>w.hora>y&&w.status==="agendado").sort((w,j)=>w.hora.localeCompare(j.hora))[0]||null},[u]),p=x.useMemo(()=>{const g=new Date;g.setDate(g.getDate()+1);const y=g.toISOString().split("T")[0];return n.filter(b=>b.data===y&&b.status==="agendado").sort((b,w)=>b.hora.localeCompare(w.hora))},[n]),v=x.useMemo(()=>{const g=[];for(let y=6;y>=0;y--){const b=new Date;b.setDate(b.getDate()-y);const w=b.toISOString().split("T")[0],j=s.filter(N=>N.data.toISOString().split("T")[0]===w&&N.tipo==="entrada").reduce((N,S)=>N+S.valor,0);g.push({dia:b.toLocaleDateString("pt-BR",{weekday:"short"}),valor:j})}return g},[s]),m=g=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(g);return a.jsxs("div",{className:"space-responsive-lg",children:[a.jsx(BP,{variant:"card"}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl sm:rounded-3xl bg-gradient-to-r from-primary to-lilac-light p-responsive text-primary-foreground",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-3",children:[a.jsx(_a,{className:"h-6 w-6 sm:h-8 sm:w-8 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("h1",{className:"text-responsive-2xl sm:text-responsive-3xl font-bold",children:["Ol, ",o?.nome_completo?.split(" ")[0]||"Profissional","!"]}),a.jsx("p",{className:"text-responsive-sm sm:text-responsive-lg opacity-90 capitalize",children:l})]})]}),a.jsx("p",{className:"text-responsive-sm opacity-80",children:"Tenha um dia produtivo e cheio de sucesso!"})]}),a.jsx("div",{className:"absolute -right-4 sm:-right-8 -top-4 sm:-top-8 h-16 w-16 sm:h-32 sm:w-32 rounded-full bg-white/10"}),a.jsx("div",{className:"absolute -bottom-6 sm:-bottom-12 -left-6 sm:-left-12 h-20 w-20 sm:h-40 sm:w-40 rounded-full bg-white/5"})]}),a.jsxs("div",{className:"grid-responsive-3",children:[a.jsxs(L,{className:"relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 p-responsive-sm",children:[a.jsx(Z,{className:"text-responsive-xs font-medium text-muted-foreground",children:"Agendamentos Hoje"}),a.jsx(Se,{className:"h-4 w-4 text-primary flex-shrink-0"})]}),a.jsxs(B,{className:"p-responsive-sm pt-0",children:[a.jsx("div",{className:"text-responsive-xl font-bold text-foreground",children:u.length}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:u.length===0?"Nenhum agendamento hoje":"clientes agendados"})]}),a.jsx("div",{className:"absolute -right-2 -top-2 h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-gradient-to-br from-primary/10 to-transparent"})]}),a.jsxs(L,{className:"relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 p-responsive-sm",children:[a.jsx(Z,{className:"text-responsive-xs font-medium text-muted-foreground",children:"Total Recebido Hoje"}),a.jsx(dt,{className:"h-4 w-4 text-green-600 flex-shrink-0"})]}),a.jsxs(B,{className:"p-responsive-sm pt-0",children:[a.jsx("div",{className:"text-responsive-xl font-bold text-green-600",children:m(f)}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Servios concludos"})]}),a.jsx("div",{className:"absolute -right-2 -top-2 h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-gradient-to-br from-green-500/10 to-transparent"})]}),a.jsxs(L,{className:"relative overflow-hidden border-border/50 bg-card/50 backdrop-blur-sm sm:col-span-1 col-span-full",children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 p-responsive-sm",children:[a.jsx(Z,{className:"text-responsive-xs font-medium text-muted-foreground",children:"Agendamentos de Amanh"}),a.jsx(at,{className:"h-4 w-4 text-lilac-primary flex-shrink-0"})]}),a.jsx(B,{className:"p-responsive-sm pt-0",children:p.length>0?a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-responsive-lg font-bold text-foreground",children:[p.length," agendamento",p.length>1?"s":""]}),a.jsxs("div",{className:"space-y-1 max-h-16 overflow-y-auto",children:[p.slice(0,3).map((g,y)=>a.jsxs("p",{className:"text-responsive-xs text-muted-foreground truncate",children:[g.hora," - ",g.clienteNome]},g.id)),p.length>3&&a.jsxs("p",{className:"text-responsive-xs text-muted-foreground",children:["+",p.length-3," mais"]})]})]}):a.jsxs("div",{children:[a.jsx("div",{className:"text-responsive-lg font-bold text-foreground",children:"Sem agendamentos"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"para amanh"})]})}),a.jsx("div",{className:"absolute -right-2 -top-2 h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-gradient-to-br from-lilac-primary/10 to-transparent"})]})]}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(Y,{className:"p-responsive",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary to-lilac-primary flex-shrink-0",children:a.jsx(_a,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-responsive-lg",children:"Consultor Inteligente"}),a.jsx(Oe,{className:"text-responsive-sm",children:"Analise o desempenho do seu salo com IA"})]})]}),a.jsx(z,{onClick:()=>r("/consultor"),variant:"default",size:"sm",children:"Acessar Consultor"})]})})}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{className:"p-responsive",children:[a.jsxs(Z,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(Nr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),"Aes Rpidas"]}),a.jsx(Oe,{className:"text-responsive-sm",children:"Acesse rapidamente as funcionalidades mais usadas"})]}),a.jsx(B,{className:"p-responsive pt-0",children:a.jsxs("div",{className:"grid-responsive-3",children:[a.jsxs(z,{onClick:()=>r("/agendamentos"),className:"btn-touch h-16 sm:h-20 flex-col gap-2 bg-gradient-to-br from-primary to-lilac-primary text-white text-responsive-xs sm:text-responsive-sm",size:"lg",children:[a.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6"}),a.jsx("span",{children:"Novo Agendamento"})]}),a.jsxs(z,{onClick:()=>r("/clientes"),className:"btn-touch h-16 sm:h-20 flex-col gap-2 bg-gradient-to-br from-lilac-primary to-pink-accent text-white text-responsive-xs sm:text-responsive-sm",size:"lg",children:[a.jsx(qy,{className:"h-5 w-5 sm:h-6 sm:w-6"}),a.jsx("span",{children:"Novo Cliente"})]}),a.jsxs(z,{onClick:()=>r("/financeiro"),className:"btn-touch h-16 sm:h-20 flex-col gap-2 bg-gradient-to-br from-pink-accent to-lavender text-white text-responsive-xs sm:text-responsive-sm",size:"lg",children:[a.jsx(FP,{className:"h-5 w-5 sm:h-6 sm:w-6"}),a.jsx("span",{children:"Nova Entrada/Sada"})]})]})})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{className:"p-responsive",children:[a.jsxs(Z,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(Mt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),"Faturamento dos ltimos 7 Dias"]}),a.jsx(Oe,{className:"text-responsive-sm",children:"Acompanhe seu desempenho semanal"})]}),a.jsx(B,{className:"p-responsive pt-0",children:a.jsx("div",{className:"h-48 sm:h-64 overflow-responsive",children:a.jsx(po,{width:"100%",height:"100%",minWidth:300,children:a.jsxs(Mh,{data:v,children:[a.jsx(es,{dataKey:"dia",axisLine:!1,tickLine:!1,className:"text-muted-foreground text-xs",tick:{fontSize:12}}),a.jsx(ts,{axisLine:!1,tickLine:!1,className:"text-muted-foreground text-xs",tickFormatter:g=>`R$ ${g}`,tick:{fontSize:12},width:60}),a.jsx(br,{formatter:g=>[m(g),"Faturamento"],labelStyle:{color:"hsl(var(--foreground))"},contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"}}),a.jsx(na,{dataKey:"valor",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{className:"p-responsive",children:[a.jsxs(Z,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary flex-shrink-0"}),"Prximo Cliente"]}),a.jsx(Oe,{className:"text-responsive-sm",children:"Seu prximo atendimento de hoje"})]}),a.jsx(B,{className:"p-responsive pt-0",children:h?a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-gradient-to-r from-primary/5 to-lilac-light/5 border border-primary/10",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-primary to-lilac-primary flex-shrink-0",children:a.jsx(at,{className:"h-6 w-6 text-white"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"text-responsive-lg font-bold text-foreground truncate",children:h.clienteNome}),a.jsxs("p",{className:"text-responsive-sm text-muted-foreground",children:[h.hora," - ",h.servicoNome]}),a.jsxs("p",{className:"text-responsive-xs text-muted-foreground",children:["Valor: ",m(h.valor)]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(at,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),a.jsx("p",{className:"text-responsive-lg font-medium text-muted-foreground",children:"Sem prximos atendimentos hoje"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Voc pode descansar ou aproveitar para outras atividades"})]})})]}),u.length>0&&a.jsx(L,{className:"border-border/50 bg-gradient-to-r from-primary/5 to-lilac-light/5",children:a.jsx(B,{className:"p-responsive",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-gradient-to-br from-primary to-lilac-primary flex-shrink-0",children:a.jsx(_a,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"font-semibold text-foreground text-responsive-sm",children:["Voc j atendeu ",n.filter(g=>g.data===d&&g.status==="concluido").length," de ",u.length," clientes hoje!"]}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Continue assim, voc est indo muito bem! "})]})]})})})]})}catch(r){return console.error("Dashboard: Erro durante renderizao:",r),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Erro no Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Verifique o console para mais detalhes"})]})})}}function ohe(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function d(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function u(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,ihe(s,...t)]}function ihe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Np(e){const t=e+"CollectionProvider",[r,n]=ohe(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:m}=p,g=A.useRef(null),y=A.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:y,collectionRef:g,children:m})};i.displayName=t;const c=e+"CollectionSlot",l=A.forwardRef((p,v)=>{const{scope:m,children:g}=p,y=o(c,m),b=Ve(v,y.collectionRef);return a.jsx(Ur,{ref:b,children:g})});l.displayName=c;const d=e+"CollectionItemSlot",u="data-radix-collection-item",f=A.forwardRef((p,v)=>{const{scope:m,children:g,...y}=p,b=A.useRef(null),w=Ve(v,b),j=o(d,m);return A.useEffect(()=>(j.itemMap.set(b,{ref:b,...y}),()=>void j.itemMap.delete(b))),a.jsx(Ur,{[u]:"",ref:w,children:g})});f.displayName=d;function h(p){const v=o(e+"CollectionConsumer",p);return A.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${u}]`));return Array.from(v.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,n]}function che(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function d(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function u(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,lhe(s,...t)]}function lhe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var dhe=x.createContext(void 0);function Vc(e){const t=x.useContext(dhe);return e||t||"ltr"}var Hg="rovingFocusGroup.onEntryFocus",uhe={bubbles:!1,cancelable:!0},_p="RovingFocusGroup",[uy,WO,fhe]=Np(_p),[hhe,Sp]=che(_p,[fhe]),[mhe,phe]=hhe(_p),HO=x.forwardRef((e,t)=>a.jsx(uy.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(uy.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ghe,{...e,ref:t})})}));HO.displayName=_p;var ghe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,h=x.useRef(null),p=Ve(t,h),v=Vc(o),[m=null,g]=Ea({prop:i,defaultProp:c,onChange:l}),[y,b]=x.useState(!1),w=or(d),j=WO(r),N=x.useRef(!1),[S,_]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Hg,w),()=>C.removeEventListener(Hg,w)},[w]),a.jsx(mhe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:x.useCallback(C=>g(C),[g]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>_(C=>C-1),[]),children:a.jsx(ke.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ge(e.onMouseDown,()=>{N.current=!0}),onFocus:ge(e.onFocus,C=>{const E=!N.current;if(C.target===C.currentTarget&&E&&!y){const $=new CustomEvent(Hg,uhe);if(C.currentTarget.dispatchEvent($),!$.defaultPrevented){const k=j().filter(R=>R.focusable),P=k.find(R=>R.active),O=k.find(R=>R.id===m),I=[P,O,...k].filter(Boolean).map(R=>R.ref.current);YO(I,u)}}N.current=!1}),onBlur:ge(e.onBlur,()=>b(!1))})})}),GO="RovingFocusGroupItem",KO=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,c=Sn(),l=o||c,d=phe(GO,r),u=d.currentTabStopId===l,f=WO(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=d;return x.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),a.jsx(uy.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:a.jsx(ke.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:ge(e.onMouseDown,v=>{n?d.onItemFocus(l):v.preventDefault()}),onFocus:ge(e.onFocus,()=>d.onItemFocus(l)),onKeyDown:ge(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=yhe(v,d.orientation,d.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=d.loop?bhe(y,b+1):y.slice(b+1)}setTimeout(()=>YO(y))}})})})});KO.displayName=GO;var vhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function xhe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function yhe(e,t,r){const n=xhe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return vhe[n]}function YO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function bhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ZO=HO,XO=KO,N0="Tabs",[jhe]=ia(N0,[Sp]),JO=Sp(),[whe,_0]=jhe(N0),QO=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:c,activationMode:l="automatic",...d}=e,u=Vc(c),[f,h]=Ea({prop:n,onChange:s,defaultProp:o});return a.jsx(whe,{scope:r,baseId:Sn(),value:f,onValueChange:h,orientation:i,dir:u,activationMode:l,children:a.jsx(ke.div,{dir:u,"data-orientation":i,...d,ref:t})})});QO.displayName=N0;var eT="TabsList",tT=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=_0(eT,r),i=JO(r);return a.jsx(ZO,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(ke.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});tT.displayName=eT;var rT="TabsTrigger",nT=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=_0(rT,r),c=JO(r),l=oT(i.baseId,n),d=iT(i.baseId,n),u=n===i.value;return a.jsx(XO,{asChild:!0,...c,focusable:!s,active:u,children:a.jsx(ke.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:ge(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:ge(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:ge(e.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!s&&f&&i.onValueChange(n)})})})});nT.displayName=rT;var aT="TabsContent",sT=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,c=_0(aT,r),l=oT(c.baseId,n),d=iT(c.baseId,n),u=n===c.value,f=x.useRef(u);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(kr,{present:s||u,children:({present:h})=>a.jsx(ke.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});sT.displayName=aT;function oT(e,t){return`${e}-trigger-${t}`}function iT(e,t){return`${e}-content-${t}`}var Nhe=QO,cT=tT,lT=nT,dT=sT;const da=Nhe,Ln=x.forwardRef(({className:e,...t},r)=>a.jsx(cT,{ref:r,className:Q("inline-flex h-12 sm:h-10 items-center justify-start sm:justify-center rounded-md bg-muted p-1 text-muted-foreground overflow-x-auto scrollbar-hide w-full",e),...t}));Ln.displayName=cT.displayName;const He=x.forwardRef(({className:e,...t},r)=>a.jsx(lT,{ref:r,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-4 sm:px-3 py-2 sm:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm min-h-[44px] sm:min-h-0 flex-shrink-0",e),...t}));He.displayName=lT.displayName;const Ge=x.forwardRef(({className:e,...t},r)=>a.jsx(dT,{ref:r,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ge.displayName=dT.displayName;function _he(){const{usuario:e,session:t}=It(),[r,n]=x.useState(!1),[s,o]=x.useState(null),i=Ar(),c=async()=>{if(!t?.access_token||!e?.id){V.error("Faa login para analisar seu negcio");return}n(!0);const d=performance.now();try{const u=`ai-consultant-${e.id}-${new Date().toISOString().slice(0,10)}`,{data:f,error:h}=await W.functions.invoke("assistant-insights",{body:{user_id:e.id}});if(h)throw new Error(h.message||"Falha ao analisar");const p={alerts:Array.isArray(f?.alerts)?f.alerts:[],tips:Array.isArray(f?.tips)?f.tips:[],insights:Array.isArray(f?.insights)?f.insights:[],opportunities:Array.isArray(f?.opportunities)?f.opportunities:[],prediction:typeof f?.prediction=="string"?f.prediction:"",metrics:f?.metrics};o(p),localStorage.setItem(u,JSON.stringify(p))}catch(u){console.error(u),V.error(u?.message||"Erro ao processar anlise")}finally{n(!1),Math.round(performance.now()-d)>3e3&&V.message("Anlise concluda")}};x.useEffect(()=>{e?.id},[e?.id]);const l=(d,u,f,h,p)=>a.jsx(L,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:a.jsxs(B,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:d}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-2xl font-bold",children:u}),h!==void 0&&a.jsxs("span",{className:`text-xs font-medium ${h>=0?"text-green-500":"text-red-500"}`,children:[h>0?"+":"",h,"%"]})]}),p&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p})]}),a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:f})]})});return!s&&!r?a.jsx(L,{className:"border-border/60 bg-card/60 backdrop-blur-sm text-center py-12",children:a.jsxs(B,{children:[a.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Mt,{className:"h-8 w-8 text-primary"})}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Consultor Inteligente de Negcios"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Obtenha insights estratgicos, alertas de estoque, anlise de clientes e previses financeiras com inteligncia artificial."}),a.jsxs(z,{onClick:c,size:"lg",className:"gap-2",children:[a.jsx(og,{className:"h-4 w-4"}),"Gerar Anlise Completa"]})]})}):a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Painel Estratgico"}),a.jsx("p",{className:"text-muted-foreground",children:"Anlise 360 do seu negcio com IA"})]}),a.jsxs(z,{onClick:c,disabled:r,variant:"outline",className:"gap-2",children:[r?a.jsx(pa,{className:"h-4 w-4 animate-spin"}):a.jsx(Mt,{className:"h-4 w-4"}),"Atualizar Anlise"]})]}),s?.metrics&&a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l("Faturamento Mensal",`R$ ${s.metrics.faturamentoMensal.toFixed(2)}`,a.jsx(Mt,{className:"h-5 w-5 text-primary"}),s.metrics.crescimentoMensal),l("Clientes Ativos",s.metrics.totalClientes,a.jsx(qr,{className:"h-5 w-5 text-blue-500"}),void 0,`${s.metrics.clientesRecorrentes} recorrentes`),l("Taxa de Retorno",`${s.metrics.taxaRetorno}%`,a.jsx(og,{className:"h-5 w-5 text-green-500"}),void 0,"Mdia do mercado: 45%"),l("Risco de Churn",s.metrics.clientesInativos,a.jsx(cr,{className:"h-5 w-5 text-orange-500"}),void 0,"Clientes inativos > 30 dias")]}),a.jsxs(da,{defaultValue:"visao-geral",className:"w-full",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-4 lg:w-[600px]",children:[a.jsx(He,{value:"visao-geral",children:"Viso Geral"}),a.jsx(He,{value:"clientes",children:"Clientes"}),a.jsx(He,{value:"estoque",children:"Estoque"}),a.jsx(He,{value:"marketing",children:"Marketing"})]}),a.jsx(Ge,{value:"visao-geral",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(fm,{className:"h-5 w-5 text-yellow-500"})," Dicas Estratgicas"]})}),a.jsx(B,{children:a.jsx("ul",{className:"space-y-2",children:s?.tips.map((d,u)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-yellow-500 mt-1.5 flex-shrink-0"}),d]},u))})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(og,{className:"h-5 w-5 text-blue-500"})," Oportunidades"]})}),a.jsx(B,{children:a.jsx("ul",{className:"space-y-2",children:s?.opportunities.map((d,u)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),d]},u))})})]}),s?.prediction&&a.jsxs(L,{className:"md:col-span-2 bg-gradient-to-r from-primary/5 to-transparent border-primary/20",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(T3,{className:"h-5 w-5 text-primary"})," Previso de Tendncia"]})}),a.jsx(B,{children:a.jsx("p",{className:"text-sm font-medium",children:s.prediction})})]})]})}),a.jsx(Ge,{value:"clientes",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-sm font-medium",children:"Aniversariantes do Ms"})}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:s?.metrics?.aniversariantesMes||0}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Clientes fazendo aniversrio este ms."}),a.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i("/marketing"),children:"Criar Campanha"})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-sm font-medium",children:"Clientes VIP"})}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:s?.metrics?.clientesVIP||0}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Clientes com alta frequncia/gasto."}),a.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i("/clientes"),children:"Ver Lista VIP"})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-sm font-medium",children:"Recuperao"})}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2 text-orange-500",children:s?.metrics?.clientesInativos||0}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Clientes inativos h 30+ dias."}),a.jsx(z,{variant:"default",size:"sm",className:"w-full bg-orange-500 hover:bg-orange-600",onClick:()=>i("/marketing"),children:"Reativar Agora"})]})]})]})}),a.jsx(Ge,{value:"estoque",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[a.jsx(cr,{className:"h-4 w-4 text-red-500"})," Baixo Estoque"]})}),a.jsxs(B,{children:[s?.metrics?.produtosBaixoEstoque&&s.metrics.produtosBaixoEstoque.length>0?a.jsx("ul",{className:"space-y-2",children:s.metrics.produtosBaixoEstoque.map((d,u)=>a.jsxs("li",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[a.jsx("span",{children:d.nome}),a.jsxs(ce,{variant:"destructive",children:[d.estoque," un"]})]},u))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto com estoque crtico."}),a.jsx(z,{variant:"ghost",size:"sm",className:"w-full mt-4",onClick:()=>i("/produtos"),children:"Gerenciar Estoque"})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2 text-sm",children:[a.jsx(Se,{className:"h-4 w-4 text-orange-500"})," Vencimentos Prximos"]})}),a.jsx(B,{children:s?.metrics?.produtosVencendo&&s.metrics.produtosVencendo.length>0?a.jsx("ul",{className:"space-y-2",children:s.metrics.produtosVencendo.map((d,u)=>a.jsxs("li",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[a.jsx("span",{children:d.nome}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(d.validade).toLocaleDateString()})]},u))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto vencendo nos prximos 30 dias."})})]})]})}),a.jsx(Ge,{value:"marketing",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-sm font-medium",children:"Dias de Baixo Movimento"})}),a.jsxs(B,{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s?.metrics?.diasBaixoMovimento&&s.metrics.diasBaixoMovimento.length>0?s.metrics.diasBaixoMovimento.map((d,u)=>a.jsx(ce,{variant:"secondary",children:d},u)):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Movimento equilibrado na semana."})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:'Sugesto: Crie promoes "Happy Hour" nestes dias.'}),a.jsx(z,{size:"sm",className:"w-full",onClick:()=>i("/marketing"),children:"Criar Promoo Sazonal"})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-sm font-medium",children:"Lembretes Administrativos"})}),a.jsx(B,{children:s?.metrics?.lembretesPendentes&&s.metrics.lembretesPendentes.length>0?a.jsx("ul",{className:"space-y-2",children:s.metrics.lembretesPendentes.map((d,u)=>a.jsxs("li",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[a.jsx("span",{children:d.titulo}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(d.data).toLocaleDateString()})]},u))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma pendncia administrativa urgente."})})]})]})})]})]})}function DS(){return a.jsxs("div",{className:"space-responsive-lg animate-fade-in",children:[a.jsx(L,{className:"mb-4 border-border/60 bg-card/60",children:a.jsxs(B,{className:"py-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold",children:"Consultor Inteligente do Negcio"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analise seu salo com recomendaes objetivas e estratgicas."})]})}),a.jsx(_he,{})]})}var su=e=>e.type==="checkbox",bo=e=>e instanceof Date,$r=e=>e==null;const uT=e=>typeof e=="object";var Gt=e=>!$r(e)&&!Array.isArray(e)&&uT(e)&&!bo(e),fT=e=>Gt(e)&&e.target?su(e.target)?e.target.checked:e.target.value:e,She=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hT=(e,t)=>e.has(She(t)),Che=e=>{const t=e.constructor&&e.constructor.prototype;return Gt(t)&&t.hasOwnProperty("isPrototypeOf")},S0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(S0&&(e instanceof Blob||n))&&(r||Gt(e)))if(t=r?[]:{},!r&&!Che(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=nr(e[s]));else return e;return t}var Cp=e=>/^\w*$/.test(e),Ut=e=>e===void 0,C0=e=>Array.isArray(e)?e.filter(Boolean):[],P0=e=>C0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(e,t,r)=>{if(!t||!Gt(e))return r;const n=(Cp(t)?[t]:P0(t)).reduce((s,o)=>$r(s)?s:s[o],e);return Ut(n)||n===e?Ut(e[t])?r:e[t]:n},cn=e=>typeof e=="boolean",pt=(e,t,r)=>{let n=-1;const s=Cp(t)?[t]:P0(t),o=s.length,i=o-1;for(;++n<o;){const c=s[n];let l=r;if(n!==i){const d=e[c];l=Gt(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}};const Dh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},za={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},A0=A.createContext(null);A0.displayName="HookFormContext";const Pp=()=>A.useContext(A0),Phe=e=>{const{children:t,...r}=e;return A.createElement(A0.Provider,{value:r},t)};var mT=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Yn.all&&(t._proxyFormState[i]=!n||Yn.all),r&&(r[i]=!0),e[i]}});return s};const k0=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Ahe(e){const t=Pp(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,c]=A.useState(r._formState),l=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return k0(()=>r._subscribe({name:s,formState:l.current,exact:o,callback:d=>{!n&&c({...r._formState,...d})}}),[s,n,o]),A.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),A.useMemo(()=>mT(i,r,l.current,!1),[i,r])}var ja=e=>typeof e=="string",pT=(e,t,r,n,s)=>ja(e)?(n&&t.watch.add(e),be(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),be(r,o))):(n&&(t.watchAll=!0),r),fy=e=>$r(e)||!uT(e);function Wa(e,t,r=new WeakSet){if(fy(e)||fy(t))return e===t;if(bo(e)&&bo(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const i=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=t[o];if(bo(i)&&bo(c)||Gt(i)&&Gt(c)||Array.isArray(i)&&Array.isArray(c)?!Wa(i,c,r):i!==c)return!1}}return!0}function khe(e){const t=Pp(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i,compute:c}=e||{},l=A.useRef(s),d=A.useRef(c),u=A.useRef(void 0);d.current=c;const f=A.useMemo(()=>r._getWatch(n,l.current),[r,n]),[h,p]=A.useState(d.current?d.current(f):f);return k0(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:v=>{if(!o){const m=pT(n,r._names,v.values||r._formValues,!1,l.current);if(d.current){const g=d.current(m);Wa(g,u.current)||(p(g),u.current=g)}else p(m)}}}),[r,o,n,i]),A.useEffect(()=>r._removeUnmounted()),h}function Ehe(e){const t=Pp(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o,defaultValue:i}=e,c=hT(s._names.array,r),l=A.useMemo(()=>be(s._formValues,r,be(s._defaultValues,r,i)),[s,r,i]),d=khe({control:s,name:r,defaultValue:l,exact:!0}),u=Ahe({control:s,name:r,exact:!0}),f=A.useRef(e),h=A.useRef(s.register(r,{...e.rules,value:d,...cn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(u.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(u.validatingFields,r)},error:{enumerable:!0,get:()=>be(u.errors,r)}}),[u,r]),v=A.useCallback(b=>h.current.onChange({target:{value:fT(b),name:r},type:Dh.CHANGE}),[r]),m=A.useCallback(()=>h.current.onBlur({target:{value:be(s._formValues,r),name:r},type:Dh.BLUR}),[r,s._formValues]),g=A.useCallback(b=>{const w=be(s._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[s._fields,r]),y=A.useMemo(()=>({name:r,value:d,...cn(n)||u.disabled?{disabled:u.disabled||n}:{},onChange:v,onBlur:m,ref:g}),[r,n,u.disabled,v,m,g,d]);return A.useEffect(()=>{const b=s._options.shouldUnregister||o;s.register(r,{...f.current.rules,...cn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(j,N)=>{const S=be(s._fields,j);S&&S._f&&(S._f.mount=N)};if(w(r,!0),b){const j=nr(be(s._options.defaultValues,r));pt(s._defaultValues,r,j),Ut(be(s._formValues,r))&&pt(s._formValues,r,j)}return!c&&s.register(r),()=>{(c?b&&!s._state.action:b)?s.unregister(r):w(r,!1)}},[r,s,c,o]),A.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),A.useMemo(()=>({field:y,formState:u,fieldState:p}),[y,u,p])}const Ohe=e=>e.render(Ehe(e));var E0=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ol=e=>Array.isArray(e)?e:[e],RS=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},Kr=e=>Gt(e)&&!Object.keys(e).length,O0=e=>e.type==="file",Zn=e=>typeof e=="function",Rh=e=>{if(!S0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},gT=e=>e.type==="select-multiple",T0=e=>e.type==="radio",The=e=>T0(e)||su(e),Gg=e=>Rh(e)&&e.isConnected;function $he(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ut(e)?n++:e[t[n++]];return e}function Mhe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function Yt(e,t){const r=Array.isArray(t)?t:Cp(t)?[t]:P0(t),n=r.length===1?e:$he(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Gt(n)&&Kr(n)||Array.isArray(n)&&Mhe(n))&&Yt(e,r.slice(0,-1)),e}var vT=e=>{for(const t in e)if(Zn(e[t]))return!0;return!1};function Ih(e,t={}){const r=Array.isArray(e);if(Gt(e)||r)for(const n in e)Array.isArray(e[n])||Gt(e[n])&&!vT(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ih(e[n],t[n])):$r(e[n])||(t[n]=!0);return t}function xT(e,t,r){const n=Array.isArray(e);if(Gt(e)||n)for(const s in e)Array.isArray(e[s])||Gt(e[s])&&!vT(e[s])?Ut(t)||fy(r[s])?r[s]=Array.isArray(e[s])?Ih(e[s],[]):{...Ih(e[s])}:xT(e[s],$r(t)?{}:t[s],r[s]):r[s]=!Wa(e[s],t[s]);return r}var ll=(e,t)=>xT(e,t,Ih(t));const IS={value:!1,isValid:!1},LS={value:!0,isValid:!0};var yT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?LS:{value:e[0].value,isValid:!0}:LS:IS}return IS},bT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ut(e)?e:t?e===""?NaN:e&&+e:r&&ja(e)?new Date(e):n?n(e):e;const FS={isValid:!1,value:null};var jT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,FS):FS;function zS(e){const t=e.ref;return O0(t)?t.files:T0(t)?jT(e.refs).value:gT(t)?[...t.selectedOptions].map(({value:r})=>r):su(t)?yT(e.refs).value:bT(Ut(t.value)?e.ref.value:t.value,e)}var Dhe=(e,t,r,n)=>{const s={};for(const o of e){const i=be(t,o);i&&pt(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Lh=e=>e instanceof RegExp,dl=e=>Ut(e)?e:Lh(e)?e.source:Gt(e)?Lh(e.value)?e.value.source:e.value:e,BS=e=>({isOnSubmit:!e||e===Yn.onSubmit,isOnBlur:e===Yn.onBlur,isOnChange:e===Yn.onChange,isOnAll:e===Yn.all,isOnTouch:e===Yn.onTouched});const VS="AsyncFunction";var Rhe=e=>!!e&&!!e.validate&&!!(Zn(e.validate)&&e.validate.constructor.name===VS||Gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===VS)),Ihe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),US=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Tl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=be(e,s);if(o){const{_f:i,...c}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Tl(c,t))break}else if(Gt(c)&&Tl(c,t))break}}};function qS(e,t,r){const n=be(e,r);if(n||Cp(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=be(t,o),c=be(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};s.pop()}return{name:r}}var Lhe=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Kr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Yn.all))},Fhe=(e,t,r)=>!e||!t||e===t||Ol(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),zhe=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Bhe=(e,t)=>!C0(be(e,t)).length&&Yt(e,t),Vhe=(e,t,r)=>{const n=Ol(be(e,r));return pt(n,"root",t[r]),pt(e,r,n),e},uf=e=>ja(e);function WS(e,t,r="validate"){if(uf(e)||Array.isArray(e)&&e.every(uf)||cn(e)&&!e)return{type:r,message:uf(e)?e:"",ref:t}}var ui=e=>Gt(e)&&!Lh(e)?e:{value:e,message:""},HS=async(e,t,r,n,s,o)=>{const{ref:i,refs:c,required:l,maxLength:d,minLength:u,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:g,mount:y}=e._f,b=be(r,m);if(!y||t.has(m))return{};const w=c?c[0]:i,j=P=>{s&&w.reportValidity&&(w.setCustomValidity(cn(P)?"":P||""),w.reportValidity())},N={},S=T0(i),_=su(i),C=S||_,E=(g||O0(i))&&Ut(i.value)&&Ut(b)||Rh(i)&&i.value===""||b===""||Array.isArray(b)&&!b.length,$=E0.bind(null,m,n,N),k=(P,O,T,I=za.maxLength,R=za.minLength)=>{const D=P?O:T;N[m]={type:P?I:R,message:D,ref:i,...$(P?I:R,D)}};if(o?!Array.isArray(b)||!b.length:l&&(!C&&(E||$r(b))||cn(b)&&!b||_&&!yT(c).isValid||S&&!jT(c).isValid)){const{value:P,message:O}=uf(l)?{value:!!l,message:l}:ui(l);if(P&&(N[m]={type:za.required,message:O,ref:w,...$(za.required,O)},!n))return j(O),N}if(!E&&(!$r(f)||!$r(h))){let P,O;const T=ui(h),I=ui(f);if(!$r(b)&&!isNaN(b)){const R=i.valueAsNumber||b&&+b;$r(T.value)||(P=R>T.value),$r(I.value)||(O=R<I.value)}else{const R=i.valueAsDate||new Date(b),D=ne=>new Date(new Date().toDateString()+" "+ne),M=i.type=="time",U=i.type=="week";ja(T.value)&&b&&(P=M?D(b)>D(T.value):U?b>T.value:R>new Date(T.value)),ja(I.value)&&b&&(O=M?D(b)<D(I.value):U?b<I.value:R<new Date(I.value))}if((P||O)&&(k(!!P,T.message,I.message,za.max,za.min),!n))return j(N[m].message),N}if((d||u)&&!E&&(ja(b)||o&&Array.isArray(b))){const P=ui(d),O=ui(u),T=!$r(P.value)&&b.length>+P.value,I=!$r(O.value)&&b.length<+O.value;if((T||I)&&(k(T,P.message,O.message),!n))return j(N[m].message),N}if(p&&!E&&ja(b)){const{value:P,message:O}=ui(p);if(Lh(P)&&!b.match(P)&&(N[m]={type:za.pattern,message:O,ref:i,...$(za.pattern,O)},!n))return j(O),N}if(v){if(Zn(v)){const P=await v(b,r),O=WS(P,w);if(O&&(N[m]={...O,...$(za.validate,O.message)},!n))return j(O.message),N}else if(Gt(v)){let P={};for(const O in v){if(!Kr(P)&&!n)break;const T=WS(await v[O](b,r),w,O);T&&(P={...T,...$(O,T.message)},j(T.message),n&&(N[m]=P))}if(!Kr(P)&&(N[m]={ref:w,...P},!n))return N}}return j(!0),N};const Uhe={mode:Yn.onSubmit,reValidateMode:Yn.onChange,shouldFocusError:!0};function qhe(e={}){let t={...Uhe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Gt(t.defaultValues)||Gt(t.values)?nr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:nr(s),i={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const h={array:RS(),state:RS()},p=t.criteriaMode===Yn.all,v=F=>H=>{clearTimeout(d),d=setTimeout(F,H)},m=async F=>{if(!t.disabled&&(u.isValid||f.isValid||F)){const H=t.resolver?Kr((await _()).errors):await E(n,!0);H!==r.isValid&&h.state.next({isValid:H})}},g=(F,H)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((F||Array.from(c.mount)).forEach(J=>{J&&(H?pt(r.validatingFields,J,H):Yt(r.validatingFields,J))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Kr(r.validatingFields)}))},y=(F,H=[],J,ye,xe=!0,me=!0)=>{if(ye&&J&&!t.disabled){if(i.action=!0,me&&Array.isArray(be(n,F))){const Ce=J(be(n,F),ye.argA,ye.argB);xe&&pt(n,F,Ce)}if(me&&Array.isArray(be(r.errors,F))){const Ce=J(be(r.errors,F),ye.argA,ye.argB);xe&&pt(r.errors,F,Ce),Bhe(r.errors,F)}if((u.touchedFields||f.touchedFields)&&me&&Array.isArray(be(r.touchedFields,F))){const Ce=J(be(r.touchedFields,F),ye.argA,ye.argB);xe&&pt(r.touchedFields,F,Ce)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ll(s,o)),h.state.next({name:F,isDirty:k(F,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(o,F,H)},b=(F,H)=>{pt(r.errors,F,H),h.state.next({errors:r.errors})},w=F=>{r.errors=F,h.state.next({errors:r.errors,isValid:!1})},j=(F,H,J,ye)=>{const xe=be(n,F);if(xe){const me=be(o,F,Ut(J)?be(s,F):J);Ut(me)||ye&&ye.defaultChecked||H?pt(o,F,H?me:zS(xe._f)):T(F,me),i.mount&&m()}},N=(F,H,J,ye,xe)=>{let me=!1,Ce=!1;const lt={name:F};if(!t.disabled){if(!J||ye){(u.isDirty||f.isDirty)&&(Ce=r.isDirty,r.isDirty=lt.isDirty=k(),me=Ce!==lt.isDirty);const mt=Wa(be(s,F),H);Ce=!!be(r.dirtyFields,F),mt?Yt(r.dirtyFields,F):pt(r.dirtyFields,F,!0),lt.dirtyFields=r.dirtyFields,me=me||(u.dirtyFields||f.dirtyFields)&&Ce!==!mt}if(J){const mt=be(r.touchedFields,F);mt||(pt(r.touchedFields,F,J),lt.touchedFields=r.touchedFields,me=me||(u.touchedFields||f.touchedFields)&&mt!==J)}me&&xe&&h.state.next(lt)}return me?lt:{}},S=(F,H,J,ye)=>{const xe=be(r.errors,F),me=(u.isValid||f.isValid)&&cn(H)&&r.isValid!==H;if(t.delayError&&J?(l=v(()=>b(F,J)),l(t.delayError)):(clearTimeout(d),l=null,J?pt(r.errors,F,J):Yt(r.errors,F)),(J?!Wa(xe,J):xe)||!Kr(ye)||me){const Ce={...ye,...me&&cn(H)?{isValid:H}:{},errors:r.errors,name:F};r={...r,...Ce},h.state.next(Ce)}},_=async F=>{g(F,!0);const H=await t.resolver(o,t.context,Dhe(F||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(F),H},C=async F=>{const{errors:H}=await _(F);if(F)for(const J of F){const ye=be(H,J);ye?pt(r.errors,J,ye):Yt(r.errors,J)}else r.errors=H;return H},E=async(F,H,J={valid:!0})=>{for(const ye in F){const xe=F[ye];if(xe){const{_f:me,...Ce}=xe;if(me){const lt=c.array.has(me.name),mt=xe._f&&Rhe(xe._f);mt&&u.validatingFields&&g([ye],!0);const er=await HS(xe,c.disabled,o,p,t.shouldUseNativeValidation&&!H,lt);if(mt&&u.validatingFields&&g([ye]),er[me.name]&&(J.valid=!1,H))break;!H&&(be(er,me.name)?lt?Vhe(r.errors,er,me.name):pt(r.errors,me.name,er[me.name]):Yt(r.errors,me.name))}!Kr(Ce)&&await E(Ce,H,J)}}return J.valid},$=()=>{for(const F of c.unMount){const H=be(n,F);H&&(H._f.refs?H._f.refs.every(J=>!Gg(J)):!Gg(H._f.ref))&&ie(F)}c.unMount=new Set},k=(F,H)=>!t.disabled&&(F&&H&&pt(o,F,H),!Wa(ne(),s)),P=(F,H,J)=>pT(F,c,{...i.mount?o:Ut(H)?s:ja(F)?{[F]:H}:H},J,H),O=F=>C0(be(i.mount?o:s,F,t.shouldUnregister?be(s,F,[]):[])),T=(F,H,J={})=>{const ye=be(n,F);let xe=H;if(ye){const me=ye._f;me&&(!me.disabled&&pt(o,F,bT(H,me)),xe=Rh(me.ref)&&$r(H)?"":H,gT(me.ref)?[...me.ref.options].forEach(Ce=>Ce.selected=xe.includes(Ce.value)):me.refs?su(me.ref)?me.refs.forEach(Ce=>{(!Ce.defaultChecked||!Ce.disabled)&&(Array.isArray(xe)?Ce.checked=!!xe.find(lt=>lt===Ce.value):Ce.checked=xe===Ce.value||!!xe)}):me.refs.forEach(Ce=>Ce.checked=Ce.value===xe):O0(me.ref)?me.ref.value="":(me.ref.value=xe,me.ref.type||h.state.next({name:F,values:nr(o)})))}(J.shouldDirty||J.shouldTouch)&&N(F,xe,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&U(F)},I=(F,H,J)=>{for(const ye in H){if(!H.hasOwnProperty(ye))return;const xe=H[ye],me=F+"."+ye,Ce=be(n,me);(c.array.has(F)||Gt(xe)||Ce&&!Ce._f)&&!bo(xe)?I(me,xe,J):T(me,xe,J)}},R=(F,H,J={})=>{const ye=be(n,F),xe=c.array.has(F),me=nr(H);pt(o,F,me),xe?(h.array.next({name:F,values:nr(o)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&J.shouldDirty&&h.state.next({name:F,dirtyFields:ll(s,o),isDirty:k(F,me)})):ye&&!ye._f&&!$r(me)?I(F,me,J):T(F,me,J),US(F,c)&&h.state.next({...r,name:F}),h.state.next({name:i.mount?F:void 0,values:nr(o)})},D=async F=>{i.mount=!0;const H=F.target;let J=H.name,ye=!0;const xe=be(n,J),me=mt=>{ye=Number.isNaN(mt)||bo(mt)&&isNaN(mt.getTime())||Wa(mt,be(o,J,mt))},Ce=BS(t.mode),lt=BS(t.reValidateMode);if(xe){let mt,er;const Qs=H.type?zS(xe._f):fT(F),ua=F.type===Dh.BLUR||F.type===Dh.FOCUS_OUT,yu=!Ihe(xe._f)&&!t.resolver&&!be(r.errors,J)&&!xe._f.deps||zhe(ua,be(r.touchedFields,J),r.isSubmitted,lt,Ce),Jo=US(J,c,ua);pt(o,J,Qs),ua?(xe._f.onBlur&&xe._f.onBlur(F),l&&l(0)):xe._f.onChange&&xe._f.onChange(F);const Kc=N(J,Qs,ua),Yc=!Kr(Kc)||Jo;if(!ua&&h.state.next({name:J,type:F.type,values:nr(o)}),yu)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?ua&&m():ua||m()),Yc&&h.state.next({name:J,...Jo?{}:Kc});if(!ua&&Jo&&h.state.next({...r}),t.resolver){const{errors:zn}=await _([J]);if(me(Qs),ye){const Yp=qS(r.errors,n,J),qe=qS(zn,n,Yp.name||J);mt=qe.error,J=qe.name,er=Kr(zn)}}else g([J],!0),mt=(await HS(xe,c.disabled,o,p,t.shouldUseNativeValidation))[J],g([J]),me(Qs),ye&&(mt?er=!1:(u.isValid||f.isValid)&&(er=await E(n,!0)));ye&&(xe._f.deps&&U(xe._f.deps),S(J,er,mt,Kc))}},M=(F,H)=>{if(be(r.errors,H)&&F.focus)return F.focus(),1},U=async(F,H={})=>{let J,ye;const xe=Ol(F);if(t.resolver){const me=await C(Ut(F)?F:xe);J=Kr(me),ye=F?!xe.some(Ce=>be(me,Ce)):J}else F?(ye=(await Promise.all(xe.map(async me=>{const Ce=be(n,me);return await E(Ce&&Ce._f?{[me]:Ce}:Ce)}))).every(Boolean),!(!ye&&!r.isValid)&&m()):ye=J=await E(n);return h.state.next({...!ja(F)||(u.isValid||f.isValid)&&J!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:J}:{},errors:r.errors}),H.shouldFocus&&!ye&&Tl(n,M,F?xe:c.mount),ye},ne=F=>{const H={...i.mount?o:s};return Ut(F)?H:ja(F)?be(H,F):F.map(J=>be(H,J))},K=(F,H)=>({invalid:!!be((H||r).errors,F),isDirty:!!be((H||r).dirtyFields,F),error:be((H||r).errors,F),isValidating:!!be(r.validatingFields,F),isTouched:!!be((H||r).touchedFields,F)}),ae=F=>{F&&Ol(F).forEach(H=>Yt(r.errors,H)),h.state.next({errors:F?r.errors:{}})},de=(F,H,J)=>{const ye=(be(n,F,{_f:{}})._f||{}).ref,xe=be(r.errors,F)||{},{ref:me,message:Ce,type:lt,...mt}=xe;pt(r.errors,F,{...mt,...H,ref:ye}),h.state.next({name:F,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&ye&&ye.focus&&ye.focus()},_e=(F,H)=>Zn(F)?h.state.subscribe({next:J=>"values"in J&&F(P(void 0,H),J)}):P(F,H,!0),Ke=F=>h.state.subscribe({next:H=>{Fhe(F.name,H.name,F.exact)&&Lhe(H,F.formState||u,et,F.reRenderRoot)&&F.callback({values:{...o},...r,...H,defaultValues:s})}}).unsubscribe,q=F=>(i.mount=!0,f={...f,...F.formState},Ke({...F,formState:f})),ie=(F,H={})=>{for(const J of F?Ol(F):c.mount)c.mount.delete(J),c.array.delete(J),H.keepValue||(Yt(n,J),Yt(o,J)),!H.keepError&&Yt(r.errors,J),!H.keepDirty&&Yt(r.dirtyFields,J),!H.keepTouched&&Yt(r.touchedFields,J),!H.keepIsValidating&&Yt(r.validatingFields,J),!t.shouldUnregister&&!H.keepDefaultValue&&Yt(s,J);h.state.next({values:nr(o)}),h.state.next({...r,...H.keepDirty?{isDirty:k()}:{}}),!H.keepIsValid&&m()},we=({disabled:F,name:H})=>{(cn(F)&&i.mount||F||c.disabled.has(H))&&(F?c.disabled.add(H):c.disabled.delete(H))},oe=(F,H={})=>{let J=be(n,F);const ye=cn(H.disabled)||cn(t.disabled);return pt(n,F,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:F}},name:F,mount:!0,...H}}),c.mount.add(F),J?we({disabled:cn(H.disabled)?H.disabled:t.disabled,name:F}):j(F,!0,H.value),{...ye?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:dl(H.min),max:dl(H.max),minLength:dl(H.minLength),maxLength:dl(H.maxLength),pattern:dl(H.pattern)}:{},name:F,onChange:D,onBlur:D,ref:xe=>{if(xe){oe(F,H),J=be(n,F);const me=Ut(xe.value)&&xe.querySelectorAll&&xe.querySelectorAll("input,select,textarea")[0]||xe,Ce=The(me),lt=J._f.refs||[];if(Ce?lt.find(mt=>mt===me):me===J._f.ref)return;pt(n,F,{_f:{...J._f,...Ce?{refs:[...lt.filter(Gg),me,...Array.isArray(be(s,F))?[{}]:[]],ref:{type:me.type,name:F}}:{ref:me}}}),j(F,!1,void 0,me)}else J=be(n,F,{}),J._f&&(J._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(hT(c.array,F)&&i.action)&&c.unMount.add(F)}}},he=()=>t.shouldFocusError&&Tl(n,M,c.mount),je=F=>{cn(F)&&(h.state.next({disabled:F}),Tl(n,(H,J)=>{const ye=be(n,J);ye&&(H.disabled=ye._f.disabled||F,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(xe=>{xe.disabled=ye._f.disabled||F}))},0,!1))},X=(F,H)=>async J=>{let ye;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let xe=nr(o);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:Ce}=await _();r.errors=me,xe=nr(Ce)}else await E(n);if(c.disabled.size)for(const me of c.disabled)Yt(xe,me);if(Yt(r.errors,"root"),Kr(r.errors)){h.state.next({errors:{}});try{await F(xe,J)}catch(me){ye=me}}else H&&await H({...r.errors},J),he(),setTimeout(he);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kr(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},Ye=(F,H={})=>{be(n,F)&&(Ut(H.defaultValue)?R(F,nr(be(s,F))):(R(F,H.defaultValue),pt(s,F,nr(H.defaultValue))),H.keepTouched||Yt(r.touchedFields,F),H.keepDirty||(Yt(r.dirtyFields,F),r.isDirty=H.defaultValue?k(F,nr(be(s,F))):k()),H.keepError||(Yt(r.errors,F),u.isValid&&m()),h.state.next({...r}))},ve=(F,H={})=>{const J=F?nr(F):s,ye=nr(J),xe=Kr(F),me=xe?s:ye;if(H.keepDefaultValues||(s=J),!H.keepValues){if(H.keepDirtyValues){const Ce=new Set([...c.mount,...Object.keys(ll(s,o))]);for(const lt of Array.from(Ce))be(r.dirtyFields,lt)?pt(me,lt,be(o,lt)):R(lt,be(me,lt))}else{if(S0&&Ut(F))for(const Ce of c.mount){const lt=be(n,Ce);if(lt&&lt._f){const mt=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Rh(mt)){const er=mt.closest("form");if(er){er.reset();break}}}}if(H.keepFieldsRef)for(const Ce of c.mount)R(Ce,be(me,Ce));else n={}}o=t.shouldUnregister?H.keepDefaultValues?nr(s):{}:nr(me),h.array.next({values:{...me}}),h.state.next({values:{...me}})}c={mount:H.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!u.isValid||!!H.keepIsValid||!!H.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:xe?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!Wa(F,s)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:xe?{}:H.keepDirtyValues?H.keepDefaultValues&&o?ll(s,o):r.dirtyFields:H.keepDefaultValues&&F?ll(s,F):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(F,H)=>ve(Zn(F)?F(o):F,H),Ee=(F,H={})=>{const J=be(n,F),ye=J&&J._f;if(ye){const xe=ye.refs?ye.refs[0]:ye.ref;xe.focus&&(xe.focus(),H.shouldSelect&&Zn(xe.select)&&xe.select())}},et=F=>{r={...r,...F}},Dt={control:{register:oe,unregister:ie,getFieldState:K,handleSubmit:X,setError:de,_subscribe:Ke,_runSchema:_,_focusError:he,_getWatch:P,_getDirty:k,_setValid:m,_setFieldArray:y,_setDisabledField:we,_setErrors:w,_getFieldArray:O,_reset:ve,_resetDefaultValues:()=>Zn(t.defaultValues)&&t.defaultValues().then(F=>{Ue(F,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:je,_subjects:h,_proxyFormState:u,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(F){i=F},get _defaultValues(){return s},get _names(){return c},set _names(F){c=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:q,trigger:U,register:oe,handleSubmit:X,watch:_e,setValue:R,getValues:ne,reset:Ue,resetField:Ye,clearErrors:ae,unregister:ie,setError:de,setFocus:Ee,getFieldState:K};return{...Dt,formControl:Dt}}function Rs(e={}){const t=A.useRef(void 0),r=A.useRef(void 0),[n,s]=A.useState({isDirty:!1,isValidating:!1,isLoading:Zn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Zn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Zn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...c}=qhe(e);t.current={...c,formState:n}}const o=t.current.control;return o._options=e,k0(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),o._formState.isReady=!0,i},[o]),A.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),A.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),A.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),A.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),A.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),A.useEffect(()=>{e.values&&!Wa(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),A.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=mT(n,o),t.current}const GS=(e,t,r)=>{if(e&&"reportValidity"in e){const n=be(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},hy=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?GS(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>GS(s,r,e))}},KS=(e,t)=>{t.shouldUseNativeValidation&&hy(e,t);const r={};for(const n in e){const s=be(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(Whe(t.names||Object.keys(e),n)){const i=Object.assign({},be(r,n));pt(i,"root",o),pt(r,n,i)}else pt(r,n,o)}return r},Whe=(e,t)=>{const r=YS(t);return e.some(n=>YS(n).match(`^${r}\\.\\d+`))};function YS(e){return e.replace(/\]|\[/g,"")}function re(e,t,r){function n(c,l){var d;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(d=c._zod).traits??(d.traits=new Set),c._zod.traits.add(e),t(c,l);for(const u in i.prototype)u in c||Object.defineProperty(c,u,{value:i.prototype[u].bind(c)});c._zod.constr=i,c._zod.def=l}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function i(c){var l;const d=r?.Parent?new o:this;n(d,c),(l=d._zod).deferred??(l.deferred=[]);for(const u of d._zod.deferred)u();return d}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class _d extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const wT={};function Do(e){return wT}function Hhe(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function my(e,t){return typeof t=="bigint"?t.toString():t}function NT(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function $0(e){return e==null}function M0(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Ghe(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const o=r>s?r:s,i=Number.parseInt(e.toFixed(o).replace(".","")),c=Number.parseInt(t.toFixed(o).replace(".",""));return i%c/10**o}function Pt(e,t,r){Object.defineProperty(e,t,{get(){{const n=r();return e[t]=n,n}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Ko(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Uc(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function ZS(e){return JSON.stringify(e)}const _T="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function py(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Khe=NT(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function gy(e){if(py(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(py(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const Yhe=new Set(["string","number","symbol"]);function Ap(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yo(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Ae(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Zhe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Xhe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Jhe(e,t){const r=e._zod.def,n=Uc(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=r.shape[o])}return Ko(this,"shape",s),s},checks:[]});return Yo(e,n)}function Qhe(e,t){const r=e._zod.def,n=Uc(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Ko(this,"shape",s),s},checks:[]});return Yo(e,n)}function eme(e,t){if(!gy(t))throw new Error("Invalid input to extend: expected a plain object");const r=Uc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Ko(this,"shape",n),n},checks:[]});return Yo(e,r)}function tme(e,t){const r=Uc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Ko(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Yo(e,r)}function rme(e,t,r){const n=Uc(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)o[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return Ko(this,"shape",o),o},checks:[]});return Yo(t,n)}function nme(e,t,r){const n=Uc(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const i in r){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)o[i]=new e({type:"nonoptional",innerType:s[i]});return Ko(this,"shape",o),o},checks:[]});return Yo(t,n)}function $l(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function ST(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Ku(e){return typeof e=="string"?e:e?.message}function Ro(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=Ku(e.inst?._zod.def?.error?.(e))??Ku(t?.error?.(e))??Ku(r.customError?.(e))??Ku(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function D0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Sd(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const CT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,my,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},R0=re("$ZodError",CT),kp=re("$ZodError",CT,{Parent:Error});function ame(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function sme(e,t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(c=>s({issues:c}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(r(i));else{let c=n,l=0;for(;l<i.path.length;){const d=i.path[l];l===i.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(r(i))):c[d]=c[d]||{_errors:[]},c=c[d],l++}}};return s(e),n}const PT=e=>(t,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new _d;if(i.issues.length){const c=new(s?.Err??e)(i.issues.map(l=>Ro(l,o,Do())));throw _T(c,s?.callee),c}return i.value},ome=PT(kp),AT=e=>async(t,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const c=new(s?.Err??e)(i.issues.map(l=>Ro(l,o,Do())));throw _T(c,s?.callee),c}return i.value},ime=AT(kp),kT=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new _d;return o.issues.length?{success:!1,error:new(e??R0)(o.issues.map(i=>Ro(i,s,Do())))}:{success:!0,data:o.value}},cme=kT(kp),ET=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>Ro(i,s,Do())))}:{success:!0,data:o.value}},lme=ET(kp),dme=/^[cC][^\s-]{8,}$/,ume=/^[0-9a-z]+$/,fme=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,hme=/^[0-9a-vA-V]{20}$/,mme=/^[A-Za-z0-9]{27}$/,pme=/^[a-zA-Z0-9_-]{21}$/,gme=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,vme=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,XS=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,xme=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function bme(){return new RegExp(yme,"u")}const jme=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wme=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Nme=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_me=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sme=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,OT=/^[A-Za-z0-9_-]*$/,Cme=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Pme=/^\+(?:[0-9]){6,14}[0-9]$/,TT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Ame=new RegExp(`^${TT}$`);function $T(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function kme(e){return new RegExp(`^${$T(e)}$`)}function Eme(e){const t=$T({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${TT}T(?:${n})$`)}const Ome=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Tme=/^\d+$/,$me=/^-?\d+(?:\.\d+)?/i,Mme=/true|false/i,Dme=/^[^A-Z]*$/,Rme=/^[^a-z]*$/,tn=re("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),MT={number:"number",bigint:"bigint",object:"date"},DT=re("$ZodCheckLessThan",(e,t)=>{tn.init(e,t);const r=MT[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),RT=re("$ZodCheckGreaterThan",(e,t)=>{tn.init(e,t);const r=MT[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Ime=re("$ZodCheckMultipleOf",(e,t)=>{tn.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Ghe(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Lme=re("$ZodCheckNumberFormat",(e,t)=>{tn.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[s,o]=Xhe[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=s,c.maximum=o,r&&(c.pattern=Tme)}),e._zod.check=i=>{const c=i.value;if(r){if(!Number.isInteger(c)){i.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<s&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>o&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),Fme=re("$ZodCheckMaxLength",(e,t)=>{var r;tn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$0(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const i=D0(s);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),zme=re("$ZodCheckMinLength",(e,t)=>{var r;tn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$0(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const i=D0(s);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Bme=re("$ZodCheckLengthEquals",(e,t)=>{var r;tn.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!$0(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,o=s.length;if(o===t.length)return;const i=D0(s),c=o>t.length;n.issues.push({origin:i,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Ep=re("$ZodCheckStringFormat",(e,t)=>{var r,n;tn.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Vme=re("$ZodCheckRegex",(e,t)=>{Ep.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Ume=re("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Dme),Ep.init(e,t)}),qme=re("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Rme),Ep.init(e,t)}),Wme=re("$ZodCheckIncludes",(e,t)=>{tn.init(e,t);const r=Ap(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Hme=re("$ZodCheckStartsWith",(e,t)=>{tn.init(e,t);const r=new RegExp(`^${Ap(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Gme=re("$ZodCheckEndsWith",(e,t)=>{tn.init(e,t);const r=new RegExp(`.*${Ap(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Kme=re("$ZodCheckOverwrite",(e,t)=>{tn.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Yme{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),s=Math.min(...n.map(i=>i.length-i.trimStart().length)),o=n.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const Zme={major:4,minor:0,patch:13},Ft=re("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Zme;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const o of s._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,i,c)=>{let l=$l(o),d;for(const u of i){if(u._zod.def.when){if(!u._zod.def.when(o))continue}else if(l)continue;const f=o.issues.length,h=u._zod.check(o);if(h instanceof Promise&&c?.async===!1)throw new _d;if(d||h instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await h,o.issues.length!==f&&(l||(l=$l(o,f)))});else{if(o.issues.length===f)continue;l||(l=$l(o,f))}}return d?d.then(()=>o):o};e._zod.run=(o,i)=>{const c=e._zod.parse(o,i);if(c instanceof Promise){if(i.async===!1)throw new _d;return c.then(l=>s(l,n,i))}return s(c,n,i)}}e["~standard"]={validate:s=>{try{const o=cme(e,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return lme(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),I0=re("$ZodString",(e,t)=>{Ft.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Ome(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Lt=re("$ZodStringFormat",(e,t)=>{Ep.init(e,t),I0.init(e,t)}),Xme=re("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=vme),Lt.init(e,t)}),Jme=re("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=XS(n))}else t.pattern??(t.pattern=XS());Lt.init(e,t)}),Qme=re("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=xme),Lt.init(e,t)}),epe=re("$ZodURL",(e,t)=>{Lt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Cme.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),tpe=re("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=bme()),Lt.init(e,t)}),rpe=re("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=pme),Lt.init(e,t)}),npe=re("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=dme),Lt.init(e,t)}),ape=re("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=ume),Lt.init(e,t)}),spe=re("$ZodULID",(e,t)=>{t.pattern??(t.pattern=fme),Lt.init(e,t)}),ope=re("$ZodXID",(e,t)=>{t.pattern??(t.pattern=hme),Lt.init(e,t)}),ipe=re("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=mme),Lt.init(e,t)}),cpe=re("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Eme(t)),Lt.init(e,t)}),lpe=re("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Ame),Lt.init(e,t)}),dpe=re("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=kme(t)),Lt.init(e,t)}),upe=re("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=gme),Lt.init(e,t)}),fpe=re("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=jme),Lt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),hpe=re("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=wme),Lt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),mpe=re("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Nme),Lt.init(e,t)}),ppe=re("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=_me),Lt.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function IT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const gpe=re("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Sme),Lt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{IT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function vpe(e){if(!OT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return IT(r)}const xpe=re("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=OT),Lt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{vpe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),ype=re("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Pme),Lt.init(e,t)});function bpe(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const jpe=re("$ZodJWT",(e,t)=>{Lt.init(e,t),e._zod.check=r=>{bpe(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),LT=re("$ZodNumber",(e,t)=>{Ft.init(e,t),e._zod.pattern=e._zod.bag.pattern??$me,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...o?{received:o}:{}}),r}}),wpe=re("$ZodNumber",(e,t)=>{Lme.init(e,t),LT.init(e,t)}),Npe=re("$ZodBoolean",(e,t)=>{Ft.init(e,t),e._zod.pattern=Mme,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),_pe=re("$ZodUnknown",(e,t)=>{Ft.init(e,t),e._zod.parse=r=>r}),Spe=re("$ZodNever",(e,t)=>{Ft.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),Cpe=re("$ZodDate",(e,t)=>{Ft.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}const s=r.value,o=s instanceof Date;return o&&!Number.isNaN(s.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:s,...o?{received:"Invalid Date"}:{},inst:e}),r}});function JS(e,t,r){e.issues.length&&t.issues.push(...ST(r,e.issues)),t.value[r]=e.value}const Ppe=re("$ZodArray",(e,t)=>{Ft.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const o=[];for(let i=0;i<s.length;i++){const c=s[i],l=t.element._zod.run({value:c,issues:[]},n);l instanceof Promise?o.push(l.then(d=>JS(d,r,i))):JS(l,r,i)}return o.length?Promise.all(o).then(()=>r):r}});function Yu(e,t,r,n){e.issues.length&&t.issues.push(...ST(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const Ape=re("$ZodObject",(e,t)=>{Ft.init(e,t);const r=NT(()=>{const f=Object.keys(t.shape);for(const p of f)if(!(t.shape[p]instanceof Ft))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const h=Zhe(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Pt(e._zod,"propValues",()=>{const f=t.shape,h={};for(const p in f){const v=f[p]._zod;if(v.values){h[p]??(h[p]=new Set);for(const m of v.values)h[p].add(m)}}return h});const n=f=>{const h=new Yme(["shape","payload","ctx"]),p=r.value,v=b=>{const w=ZS(b);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};h.write("const input = payload.value;");const m=Object.create(null);let g=0;for(const b of p.keys)m[b]=`key_${g++}`;h.write("const newResult = {}");for(const b of p.keys){const w=m[b],j=ZS(b);h.write(`const ${w} = ${v(b)};`),h.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        if (${w}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${w}.value;
        }
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const y=h.compile();return(b,w)=>y(f,b,w)};let s;const o=py,i=!wT.jitless,l=i&&Khe.value,d=t.catchall;let u;e._zod.parse=(f,h)=>{u??(u=r.value);const p=f.value;if(!o(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),f;const v=[];if(i&&l&&h?.async===!1&&h.jitless!==!0)s||(s=n(t.shape)),f=s(f,h);else{f.value={};const w=u.shape;for(const j of u.keys){const S=w[j]._zod.run({value:p[j],issues:[]},h);S instanceof Promise?v.push(S.then(_=>Yu(_,f,j,p))):Yu(S,f,j,p)}}if(!d)return v.length?Promise.all(v).then(()=>f):f;const m=[],g=u.keySet,y=d._zod,b=y.def.type;for(const w of Object.keys(p)){if(g.has(w))continue;if(b==="never"){m.push(w);continue}const j=y.run({value:p[w],issues:[]},h);j instanceof Promise?v.push(j.then(N=>Yu(N,f,w,p))):Yu(j,f,w,p)}return m.length&&f.issues.push({code:"unrecognized_keys",keys:m,input:p,inst:e}),v.length?Promise.all(v).then(()=>f):f}});function QS(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!$l(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(i=>Ro(i,n,Do())))}),t)}const kpe=re("$ZodUnion",(e,t)=>{Ft.init(e,t),Pt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Pt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Pt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Pt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>M0(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(r)return n(s,o);let i=!1;const c=[];for(const l of t.options){const d=l._zod.run({value:s.value,issues:[]},o);if(d instanceof Promise)c.push(d),i=!0;else{if(d.issues.length===0)return d;c.push(d)}}return i?Promise.all(c).then(l=>QS(l,s,e,o)):QS(c,s,e,o)}}),Epe=re("$ZodIntersection",(e,t)=>{Ft.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},n),i=t.right._zod.run({value:s,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([l,d])=>eC(r,l,d)):eC(r,o,i)}});function vy(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(gy(e)&&gy(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),s={...e,...t};for(const o of n){const i=vy(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};s[o]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=t[n],i=vy(s,o);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function eC(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),$l(e))return e;const n=vy(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Ope=re("$ZodEnum",(e,t)=>{Ft.init(e,t);const r=Hhe(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>Yhe.has(typeof s)).map(s=>typeof s=="string"?Ap(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const i=s.value;return n.has(i)||s.issues.push({code:"invalid_value",values:r,input:i,inst:e}),s}}),Tpe=re("$ZodTransform",(e,t)=>{Ft.init(e,t),e._zod.parse=(r,n)=>{const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(r.value=i,r));if(s instanceof Promise)throw new _d;return r.value=s,r}});function tC(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const $pe=re("$ZodOptional",(e,t)=>{Ft.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Pt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Pt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${M0(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>tC(o,r.value)):tC(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Mpe=re("$ZodNullable",(e,t)=>{Ft.init(e,t),Pt(e._zod,"optin",()=>t.innerType._zod.optin),Pt(e._zod,"optout",()=>t.innerType._zod.optout),Pt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${M0(r.source)}|null)$`):void 0}),Pt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Dpe=re("$ZodDefault",(e,t)=>{Ft.init(e,t),e._zod.optin="optional",Pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>rC(o,t)):rC(s,t)}});function rC(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Rpe=re("$ZodPrefault",(e,t)=>{Ft.init(e,t),e._zod.optin="optional",Pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Ipe=re("$ZodNonOptional",(e,t)=>{Ft.init(e,t),Pt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>nC(o,e)):nC(s,e)}});function nC(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Lpe=re("$ZodCatch",(e,t)=>{Ft.init(e,t),Pt(e._zod,"optin",()=>t.innerType._zod.optin),Pt(e._zod,"optout",()=>t.innerType._zod.optout),Pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>Ro(i,n,Do()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>Ro(o,n,Do()))},input:r.value}),r.issues=[]),r)}}),Fpe=re("$ZodPipe",(e,t)=>{Ft.init(e,t),Pt(e._zod,"values",()=>t.in._zod.values),Pt(e._zod,"optin",()=>t.in._zod.optin),Pt(e._zod,"optout",()=>t.out._zod.optout),Pt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(o=>aC(o,t,n)):aC(s,t,n)}});function aC(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const zpe=re("$ZodReadonly",(e,t)=>{Ft.init(e,t),Pt(e._zod,"propValues",()=>t.innerType._zod.propValues),Pt(e._zod,"values",()=>t.innerType._zod.values),Pt(e._zod,"optin",()=>t.innerType._zod.optin),Pt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(sC):sC(s)}});function sC(e){return e.value=Object.freeze(e.value),e}const Bpe=re("$ZodCustom",(e,t)=>{tn.init(e,t),Ft.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(o=>oC(o,r,n,e));oC(s,r,n,e)}});function oC(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(Sd(s))}}class Vpe{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Upe(){return new Vpe}const Zu=Upe();function qpe(e,t){return new e({type:"string",...Ae(t)})}function Wpe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ae(t)})}function iC(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ae(t)})}function Hpe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ae(t)})}function Gpe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ae(t)})}function Kpe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ae(t)})}function Ype(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ae(t)})}function Zpe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ae(t)})}function Xpe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ae(t)})}function Jpe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ae(t)})}function Qpe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ae(t)})}function ege(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ae(t)})}function tge(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ae(t)})}function rge(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ae(t)})}function nge(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ae(t)})}function age(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ae(t)})}function sge(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ae(t)})}function oge(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ae(t)})}function ige(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ae(t)})}function cge(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ae(t)})}function lge(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ae(t)})}function dge(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ae(t)})}function uge(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ae(t)})}function fge(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ae(t)})}function hge(e,t){return new e({type:"string",format:"date",check:"string_format",...Ae(t)})}function mge(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ae(t)})}function pge(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ae(t)})}function gge(e,t){return new e({type:"number",checks:[],...Ae(t)})}function vge(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ae(t)})}function xge(e,t){return new e({type:"boolean",...Ae(t)})}function yge(e){return new e({type:"unknown"})}function bge(e,t){return new e({type:"never",...Ae(t)})}function jge(e,t){return new e({type:"date",...Ae(t)})}function cC(e,t){return new DT({check:"less_than",...Ae(t),value:e,inclusive:!1})}function ff(e,t){return new DT({check:"less_than",...Ae(t),value:e,inclusive:!0})}function lC(e,t){return new RT({check:"greater_than",...Ae(t),value:e,inclusive:!1})}function hf(e,t){return new RT({check:"greater_than",...Ae(t),value:e,inclusive:!0})}function dC(e,t){return new Ime({check:"multiple_of",...Ae(t),value:e})}function FT(e,t){return new Fme({check:"max_length",...Ae(t),maximum:e})}function Fh(e,t){return new zme({check:"min_length",...Ae(t),minimum:e})}function zT(e,t){return new Bme({check:"length_equals",...Ae(t),length:e})}function wge(e,t){return new Vme({check:"string_format",format:"regex",...Ae(t),pattern:e})}function Nge(e){return new Ume({check:"string_format",format:"lowercase",...Ae(e)})}function _ge(e){return new qme({check:"string_format",format:"uppercase",...Ae(e)})}function Sge(e,t){return new Wme({check:"string_format",format:"includes",...Ae(t),includes:e})}function Cge(e,t){return new Hme({check:"string_format",format:"starts_with",...Ae(t),prefix:e})}function Pge(e,t){return new Gme({check:"string_format",format:"ends_with",...Ae(t),suffix:e})}function ou(e){return new Kme({check:"overwrite",tx:e})}function Age(e){return ou(t=>t.normalize(e))}function kge(){return ou(e=>e.trim())}function Ege(){return ou(e=>e.toLowerCase())}function Oge(){return ou(e=>e.toUpperCase())}function Tge(e,t,r){return new e({type:"array",element:t,...Ae(r)})}function $ge(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ae(r)})}function Mge(e){const t=Dge(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Sd(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Sd(s))}},e(r.value,r)));return t}function Dge(e,t){const r=new tn({check:"custom",...Ae(t)});return r._zod.check=e,r}function uC(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function Rge(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[i]={message:c.message,type:c.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var l=r[i].types,d=l&&l[n.code];r[i]=E0(i,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r}function Ige(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[i]={message:c.message,type:c.code}}else r[i]={message:o,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(u){return u.forEach(function(f){return e.push(f)})}),t){var l=r[i].types,d=l&&l[n.code];r[i]=E0(i,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r}function Is(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,o){try{return Promise.resolve(uC(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(i){return o.shouldUseNativeValidation&&hy({},o),{errors:{},values:r.raw?Object.assign({},n):i}})},function(i){if(function(c){return Array.isArray(c?.issues)}(i))return{values:{},errors:KS(Rge(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,o){try{return Promise.resolve(uC(function(){return Promise.resolve((r.mode==="sync"?ome:ime)(e,n,t)).then(function(i){return o.shouldUseNativeValidation&&hy({},o),{errors:{},values:r.raw?Object.assign({},n):i}})},function(i){if(function(c){return c instanceof R0}(i))return{values:{},errors:KS(Ige(i.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}};throw new Error("Invalid input: not a Zod schema")}const Lge=re("ZodISODateTime",(e,t)=>{cpe.init(e,t),zt.init(e,t)});function Fge(e){return fge(Lge,e)}const zge=re("ZodISODate",(e,t)=>{lpe.init(e,t),zt.init(e,t)});function Bge(e){return hge(zge,e)}const Vge=re("ZodISOTime",(e,t)=>{dpe.init(e,t),zt.init(e,t)});function Uge(e){return mge(Vge,e)}const qge=re("ZodISODuration",(e,t)=>{upe.init(e,t),zt.init(e,t)});function Wge(e){return pge(qge,e)}const BT=(e,t)=>{R0.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>sme(e,r)},flatten:{value:r=>ame(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,my,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,my,2)}},isEmpty:{get(){return e.issues.length===0}}})},R1e=re("ZodError",BT),Op=re("ZodError",BT,{Parent:Error}),Hge=PT(Op),Gge=AT(Op),Kge=kT(Op),Yge=ET(Op),Kt=re("ZodType",(e,t)=>(Ft.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Yo(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>Hge(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Kge(e,r,n),e.parseAsync=async(r,n)=>Gge(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Yge(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(Bve(r,n)),e.superRefine=r=>e.check(Vve(r)),e.overwrite=r=>e.check(ou(r)),e.optional=()=>gC(e),e.nullable=()=>vC(e),e.nullish=()=>gC(vC(e)),e.nonoptional=r=>Mve(e,r),e.array=()=>jve(e),e.or=r=>_ve([e,r]),e.and=r=>Cve(e,r),e.transform=r=>xC(e,Ave(r)),e.default=r=>Ove(e,r),e.prefault=r=>$ve(e,r),e.catch=r=>Rve(e,r),e.pipe=r=>xC(e,r),e.readonly=()=>Fve(e),e.describe=r=>{const n=e.clone();return Zu.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Zu.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Zu.get(e);const n=e.clone();return Zu.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),VT=re("_ZodString",(e,t)=>{I0.init(e,t),Kt.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(wge(...n)),e.includes=(...n)=>e.check(Sge(...n)),e.startsWith=(...n)=>e.check(Cge(...n)),e.endsWith=(...n)=>e.check(Pge(...n)),e.min=(...n)=>e.check(Fh(...n)),e.max=(...n)=>e.check(FT(...n)),e.length=(...n)=>e.check(zT(...n)),e.nonempty=(...n)=>e.check(Fh(1,...n)),e.lowercase=n=>e.check(Nge(n)),e.uppercase=n=>e.check(_ge(n)),e.trim=()=>e.check(kge()),e.normalize=(...n)=>e.check(Age(...n)),e.toLowerCase=()=>e.check(Ege()),e.toUpperCase=()=>e.check(Oge())}),Zge=re("ZodString",(e,t)=>{I0.init(e,t),VT.init(e,t),e.email=r=>e.check(Wpe(Xge,r)),e.url=r=>e.check(Zpe(Jge,r)),e.jwt=r=>e.check(uge(hve,r)),e.emoji=r=>e.check(Xpe(Qge,r)),e.guid=r=>e.check(iC(fC,r)),e.uuid=r=>e.check(Hpe(Xu,r)),e.uuidv4=r=>e.check(Gpe(Xu,r)),e.uuidv6=r=>e.check(Kpe(Xu,r)),e.uuidv7=r=>e.check(Ype(Xu,r)),e.nanoid=r=>e.check(Jpe(eve,r)),e.guid=r=>e.check(iC(fC,r)),e.cuid=r=>e.check(Qpe(tve,r)),e.cuid2=r=>e.check(ege(rve,r)),e.ulid=r=>e.check(tge(nve,r)),e.base64=r=>e.check(cge(dve,r)),e.base64url=r=>e.check(lge(uve,r)),e.xid=r=>e.check(rge(ave,r)),e.ksuid=r=>e.check(nge(sve,r)),e.ipv4=r=>e.check(age(ove,r)),e.ipv6=r=>e.check(sge(ive,r)),e.cidrv4=r=>e.check(oge(cve,r)),e.cidrv6=r=>e.check(ige(lve,r)),e.e164=r=>e.check(dge(fve,r)),e.datetime=r=>e.check(Fge(r)),e.date=r=>e.check(Bge(r)),e.time=r=>e.check(Uge(r)),e.duration=r=>e.check(Wge(r))});function ut(e){return qpe(Zge,e)}const zt=re("ZodStringFormat",(e,t)=>{Lt.init(e,t),VT.init(e,t)}),Xge=re("ZodEmail",(e,t)=>{Qme.init(e,t),zt.init(e,t)}),fC=re("ZodGUID",(e,t)=>{Xme.init(e,t),zt.init(e,t)}),Xu=re("ZodUUID",(e,t)=>{Jme.init(e,t),zt.init(e,t)}),Jge=re("ZodURL",(e,t)=>{epe.init(e,t),zt.init(e,t)}),Qge=re("ZodEmoji",(e,t)=>{tpe.init(e,t),zt.init(e,t)}),eve=re("ZodNanoID",(e,t)=>{rpe.init(e,t),zt.init(e,t)}),tve=re("ZodCUID",(e,t)=>{npe.init(e,t),zt.init(e,t)}),rve=re("ZodCUID2",(e,t)=>{ape.init(e,t),zt.init(e,t)}),nve=re("ZodULID",(e,t)=>{spe.init(e,t),zt.init(e,t)}),ave=re("ZodXID",(e,t)=>{ope.init(e,t),zt.init(e,t)}),sve=re("ZodKSUID",(e,t)=>{ipe.init(e,t),zt.init(e,t)}),ove=re("ZodIPv4",(e,t)=>{fpe.init(e,t),zt.init(e,t)}),ive=re("ZodIPv6",(e,t)=>{hpe.init(e,t),zt.init(e,t)}),cve=re("ZodCIDRv4",(e,t)=>{mpe.init(e,t),zt.init(e,t)}),lve=re("ZodCIDRv6",(e,t)=>{ppe.init(e,t),zt.init(e,t)}),dve=re("ZodBase64",(e,t)=>{gpe.init(e,t),zt.init(e,t)}),uve=re("ZodBase64URL",(e,t)=>{xpe.init(e,t),zt.init(e,t)}),fve=re("ZodE164",(e,t)=>{ype.init(e,t),zt.init(e,t)}),hve=re("ZodJWT",(e,t)=>{jpe.init(e,t),zt.init(e,t)}),UT=re("ZodNumber",(e,t)=>{LT.init(e,t),Kt.init(e,t),e.gt=(n,s)=>e.check(lC(n,s)),e.gte=(n,s)=>e.check(hf(n,s)),e.min=(n,s)=>e.check(hf(n,s)),e.lt=(n,s)=>e.check(cC(n,s)),e.lte=(n,s)=>e.check(ff(n,s)),e.max=(n,s)=>e.check(ff(n,s)),e.int=n=>e.check(hC(n)),e.safe=n=>e.check(hC(n)),e.positive=n=>e.check(lC(0,n)),e.nonnegative=n=>e.check(hf(0,n)),e.negative=n=>e.check(cC(0,n)),e.nonpositive=n=>e.check(ff(0,n)),e.multipleOf=(n,s)=>e.check(dC(n,s)),e.step=(n,s)=>e.check(dC(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function ks(e){return gge(UT,e)}const mve=re("ZodNumberFormat",(e,t)=>{wpe.init(e,t),UT.init(e,t)});function hC(e){return vge(mve,e)}const pve=re("ZodBoolean",(e,t)=>{Npe.init(e,t),Kt.init(e,t)});function mC(e){return xge(pve,e)}const gve=re("ZodUnknown",(e,t)=>{_pe.init(e,t),Kt.init(e,t)});function pC(){return yge(gve)}const vve=re("ZodNever",(e,t)=>{Spe.init(e,t),Kt.init(e,t)});function xve(e){return bge(vve,e)}const yve=re("ZodDate",(e,t)=>{Cpe.init(e,t),Kt.init(e,t),e.min=(n,s)=>e.check(hf(n,s)),e.max=(n,s)=>e.check(ff(n,s));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function qT(e){return jge(yve,e)}const bve=re("ZodArray",(e,t)=>{Ppe.init(e,t),Kt.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Fh(r,n)),e.nonempty=r=>e.check(Fh(1,r)),e.max=(r,n)=>e.check(FT(r,n)),e.length=(r,n)=>e.check(zT(r,n)),e.unwrap=()=>e.element});function jve(e,t){return Tge(bve,e,t)}const wve=re("ZodObject",(e,t)=>{Ape.init(e,t),Kt.init(e,t),Pt(e,"shape",()=>t.shape),e.keyof=()=>_o(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:pC()}),e.loose=()=>e.clone({...e._zod.def,catchall:pC()}),e.strict=()=>e.clone({...e._zod.def,catchall:xve()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>eme(e,r),e.merge=r=>tme(e,r),e.pick=r=>Jhe(e,r),e.omit=r=>Qhe(e,r),e.partial=(...r)=>rme(WT,e,r[0]),e.required=(...r)=>nme(HT,e,r[0])});function Ys(e,t){const r={type:"object",get shape(){return Ko(this,"shape",{...e}),this.shape},...Ae(t)};return new wve(r)}const Nve=re("ZodUnion",(e,t)=>{kpe.init(e,t),Kt.init(e,t),e.options=t.options});function _ve(e,t){return new Nve({type:"union",options:e,...Ae(t)})}const Sve=re("ZodIntersection",(e,t)=>{Epe.init(e,t),Kt.init(e,t)});function Cve(e,t){return new Sve({type:"intersection",left:e,right:t})}const xy=re("ZodEnum",(e,t)=>{Ope.init(e,t),Kt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const o={};for(const i of n)if(r.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new xy({...t,checks:[],...Ae(s),entries:o})},e.exclude=(n,s)=>{const o={...t.entries};for(const i of n)if(r.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new xy({...t,checks:[],...Ae(s),entries:o})}});function _o(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new xy({type:"enum",entries:r,...Ae(t)})}const Pve=re("ZodTransform",(e,t)=>{Tpe.init(e,t),Kt.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(Sd(o,r.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(Sd(i))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function Ave(e){return new Pve({type:"transform",transform:e})}const WT=re("ZodOptional",(e,t)=>{$pe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function gC(e){return new WT({type:"optional",innerType:e})}const kve=re("ZodNullable",(e,t)=>{Mpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function vC(e){return new kve({type:"nullable",innerType:e})}const Eve=re("ZodDefault",(e,t)=>{Dpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Ove(e,t){return new Eve({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Tve=re("ZodPrefault",(e,t)=>{Rpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $ve(e,t){return new Tve({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const HT=re("ZodNonOptional",(e,t)=>{Ipe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Mve(e,t){return new HT({type:"nonoptional",innerType:e,...Ae(t)})}const Dve=re("ZodCatch",(e,t)=>{Lpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Rve(e,t){return new Dve({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Ive=re("ZodPipe",(e,t)=>{Fpe.init(e,t),Kt.init(e,t),e.in=t.in,e.out=t.out});function xC(e,t){return new Ive({type:"pipe",in:e,out:t})}const Lve=re("ZodReadonly",(e,t)=>{zpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Fve(e){return new Lve({type:"readonly",innerType:e})}const zve=re("ZodCustom",(e,t)=>{Bpe.init(e,t),Kt.init(e,t)});function Bve(e,t={}){return $ge(zve,e,t)}function Vve(e){return Mge(e)}const pr=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Q("flex min-h-[100px] sm:min-h-[80px] w-full rounded-md border border-input bg-background px-3 sm:px-4 py-3 sm:py-2 text-base sm:text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",e),ref:r,...t}));pr.displayName="Textarea";function Xe(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function yr(e,t){const r=Xe(e);return isNaN(t)?pn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function gn(e,t){const r=Xe(e);if(isNaN(t))return pn(e,NaN);if(!t)return r;const n=r.getDate(),s=pn(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const L0=6048e5,Uve=864e5;let qve={};function iu(){return qve}function vn(e,t){const r=iu(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Xe(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Io(e){return vn(e,{weekStartsOn:1})}function GT(e){const t=Xe(e),r=t.getFullYear(),n=pn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Io(n),o=pn(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Io(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function cc(e){const t=Xe(e);return t.setHours(0,0,0,0),t}function zh(e){const t=Xe(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function wa(e,t){const r=cc(e),n=cc(t),s=+r-zh(r),o=+n-zh(n);return Math.round((s-o)/Uve)}function Wve(e){const t=GT(e),r=pn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Io(r)}function Cd(e,t){const r=t*7;return yr(e,r)}function Hve(e,t){return gn(e,t*12)}function Gve(e){let t;return e.forEach(function(r){const n=Xe(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Kve(e){let t;return e.forEach(r=>{const n=Xe(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Br(e,t){const r=cc(e),n=cc(t);return+r==+n}function F0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Yve(e){if(!F0(e)&&typeof e!="number")return!1;const t=Xe(e);return!isNaN(Number(t))}function Pd(e,t){const r=Xe(e),n=Xe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function Zve(e,t,r){const n=vn(e,r),s=vn(t,r),o=+n-zh(n),i=+s-zh(s);return Math.round((o-i)/L0)}function Za(e){const t=Xe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function KT(e,t){const r=Xe(e.start),n=Xe(e.end);let s=+r>+n;const o=s?+r:+n,i=s?n:r;i.setHours(0,0,0,0);let c=1;const l=[];for(;+i<=o;)l.push(Xe(i)),i.setDate(i.getDate()+c),i.setHours(0,0,0,0);return s?l.reverse():l}function Xve(e){const t=Xe(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function Jt(e){const t=Xe(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Jve(e){const t=Xe(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function z0(e){const t=Xe(e),r=pn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qc(e,t){const r=iu(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Xe(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function YT(e){return qc(e,{weekStartsOn:1})}function Qve(e){const t=Xe(e),r=t.getMonth(),n=r-r%3+3;return t.setMonth(n,0),t.setHours(23,59,59,999),t}const exe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},txe=(e,t,r)=>{let n;const s=exe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pi(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},axe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sxe={date:Pi({formats:rxe,defaultWidth:"full"}),time:Pi({formats:nxe,defaultWidth:"full"}),dateTime:Pi({formats:axe,defaultWidth:"full"})},oxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ixe=(e,t,r,n)=>oxe[e];function va(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):i;s=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const cxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mxe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pxe={ordinalNumber:mxe,era:va({values:cxe,defaultWidth:"wide"}),quarter:va({values:lxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:va({values:dxe,defaultWidth:"wide"}),day:va({values:uxe,defaultWidth:"wide"}),dayPeriod:va({values:fxe,defaultWidth:"wide",formattingValues:hxe,defaultFormattingWidth:"wide"})};function xa(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?vxe(c,f=>f.test(i)):gxe(c,f=>f.test(i));let d;d=e.valueCallback?e.valueCallback(l):l,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(i.length);return{value:d,rest:u}}}function gxe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vxe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ZT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=t.slice(s.length);return{value:i,rest:c}}}const xxe=/^(\d+)(th|st|nd|rd)?/i,yxe=/\d+/i,bxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jxe={any:[/^b/i,/^(a|c)/i]},wxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nxe={any:[/1/i,/2/i,/3/i,/4/i]},_xe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sxe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cxe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Axe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Exe={ordinalNumber:ZT({matchPattern:xxe,parsePattern:yxe,valueCallback:e=>parseInt(e,10)}),era:xa({matchPatterns:bxe,defaultMatchWidth:"wide",parsePatterns:jxe,defaultParseWidth:"any"}),quarter:xa({matchPatterns:wxe,defaultMatchWidth:"wide",parsePatterns:Nxe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xa({matchPatterns:_xe,defaultMatchWidth:"wide",parsePatterns:Sxe,defaultParseWidth:"any"}),day:xa({matchPatterns:Cxe,defaultMatchWidth:"wide",parsePatterns:Pxe,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:Axe,defaultMatchWidth:"any",parsePatterns:kxe,defaultParseWidth:"any"})},XT={code:"en-US",formatDistance:txe,formatLong:sxe,formatRelative:ixe,localize:pxe,match:Exe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Oxe(e){const t=Xe(e);return wa(t,z0(t))+1}function JT(e){const t=Xe(e),r=+Io(t)-+Wve(t);return Math.round(r/L0)+1}function QT(e,t){const r=Xe(e),n=r.getFullYear(),s=iu(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=pn(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=vn(i,t),l=pn(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const d=vn(l,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function Txe(e,t){const r=iu(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=QT(e,t),o=pn(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),vn(o,t)}function e$(e,t){const r=Xe(e),n=+vn(r,t)-+Txe(r,t);return Math.round(n/L0)+1}function gt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const xs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return gt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):gt(r+1,2)},d(e,t){return gt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return gt(e.getHours()%12||12,t.length)},H(e,t){return gt(e.getHours(),t.length)},m(e,t){return gt(e.getMinutes(),t.length)},s(e,t){return gt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return gt(s,t.length)}},fi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return xs.y(e,t)},Y:function(e,t,r,n){const s=QT(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return gt(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):gt(o,t.length)},R:function(e,t){const r=GT(e);return gt(r,t.length)},u:function(e,t){const r=e.getFullYear();return gt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return gt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return gt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return xs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return gt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=e$(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):gt(s,t.length)},I:function(e,t,r){const n=JT(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):gt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):xs.d(e,t)},D:function(e,t,r){const n=Oxe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):gt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return gt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return gt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return gt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=fi.noon:n===0?s=fi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=fi.evening:n>=12?s=fi.afternoon:n>=4?s=fi.morning:s=fi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return xs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):xs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):gt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):gt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):xs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):xs.s(e,t)},S:function(e,t){return xs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return jC(n);case"XXXX":case"XX":return lo(n);case"XXXXX":case"XXX":default:return lo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return jC(n);case"xxxx":case"xx":return lo(n);case"xxxxx":case"xxx":default:return lo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+bC(n,":");case"OOOO":default:return"GMT"+lo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+bC(n,":");case"zzzz":default:return"GMT"+lo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return gt(n,t.length)},T:function(e,t,r){const n=e.getTime();return gt(n,t.length)}};function bC(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+gt(o,2)}function jC(e,t){return e%60===0?(e>0?"-":"+")+gt(Math.abs(e)/60,2):lo(e,t)}function lo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=gt(Math.trunc(n/60),2),o=gt(n%60,2);return r+s+t+o}const wC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},t$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$xe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return wC(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",wC(n,t)).replace("{{time}}",t$(s,t))},Mxe={p:t$,P:$xe},Dxe=/^D+$/,Rxe=/^Y+$/,Ixe=["D","DD","YY","YYYY"];function Lxe(e){return Dxe.test(e)}function Fxe(e){return Rxe.test(e)}function zxe(e,t,r){const n=Bxe(e,t,r);if(console.warn(n),Ixe.includes(e))throw new RangeError(n)}function Bxe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qxe=/^'([^]*?)'?$/,Wxe=/''/g,Hxe=/[a-zA-Z]/;function Te(e,t,r){const n=iu(),s=r?.locale??n.locale??XT,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Xe(e);if(!Yve(c))throw new RangeError("Invalid time value");let l=t.match(Uxe).map(u=>{const f=u[0];if(f==="p"||f==="P"){const h=Mxe[f];return h(u,s.formatLong)}return u}).join("").match(Vxe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:Gxe(u)};if(yC[f])return{isToken:!0,value:u};if(f.match(Hxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});s.localize.preprocessor&&(l=s.localize.preprocessor(c,l));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(u=>{if(!u.isToken)return u.value;const f=u.value;(!r?.useAdditionalWeekYearTokens&&Fxe(f)||!r?.useAdditionalDayOfYearTokens&&Lxe(f))&&zxe(f,t,String(e));const h=yC[f[0]];return h(c,f,s.localize,d)}).join("")}function Gxe(e){const t=e.match(qxe);return t?t[1].replace(Wxe,"'"):e}function Kxe(e){const t=Xe(e),r=t.getFullYear(),n=t.getMonth(),s=pn(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function Yxe(e){return Math.trunc(+Xe(e)/1e3)}function Zxe(e){const t=Xe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Xxe(e,t){return Zve(Zxe(e),Jt(e),t)+1}function yy(e,t){const r=Xe(e),n=Xe(t);return r.getTime()>n.getTime()}function r$(e,t){const r=Xe(e),n=Xe(t);return+r<+n}function Tp(e,t){const r=Xe(e),n=Xe(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Jxe(e,t){const r=Xe(e),n=Xe(t);return r.getFullYear()===n.getFullYear()}function Ju(e,t){const r=+Xe(e),[n,s]=[+Xe(t.start),+Xe(t.end)].sort((o,i)=>o-i);return r>=n&&r<=s}function mf(e,t){return yr(e,-t)}function Kg(e,t){const r=Xe(e),n=r.getFullYear(),s=r.getDate(),o=pn(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=Kxe(o);return r.setMonth(t,Math.min(s,i)),r}function NC(e,t){const r=Xe(e);return isNaN(+r)?pn(e,NaN):(r.setFullYear(t),r)}function n$(e,t){return gn(e,-t)}function Qxe(e,t){return Cd(e,-1)}const eye={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},tye=(e,t,r)=>{let n;const s=eye[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},rye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},nye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},aye={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sye={date:Pi({formats:rye,defaultWidth:"full"}),time:Pi({formats:nye,defaultWidth:"full"}),dateTime:Pi({formats:aye,defaultWidth:"full"})},oye={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},iye=(e,t,r,n)=>{const s=oye[e];return typeof s=="function"?s(t):s},cye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},lye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},dye={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},uye={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},fye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},hye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},mye=(e,t)=>{const r=Number(e);return t?.unit==="week"?r+"":r+""},pye={ordinalNumber:mye,era:va({values:cye,defaultWidth:"wide"}),quarter:va({values:lye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:va({values:dye,defaultWidth:"wide"}),day:va({values:uye,defaultWidth:"wide"}),dayPeriod:va({values:fye,defaultWidth:"wide",formattingValues:hye,defaultFormattingWidth:"wide"})},gye=/^(\d+)[o]?/i,vye=/\d+/i,xye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},yye={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},bye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},jye={any:[/1/i,/2/i,/3/i,/4/i]},wye={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Nye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},_ye={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Sye={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Cye={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Pye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Aye={ordinalNumber:ZT({matchPattern:gye,parsePattern:vye,valueCallback:e=>parseInt(e,10)}),era:xa({matchPatterns:xye,defaultMatchWidth:"wide",parsePatterns:yye,defaultParseWidth:"any"}),quarter:xa({matchPatterns:bye,defaultMatchWidth:"wide",parsePatterns:jye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:xa({matchPatterns:wye,defaultMatchWidth:"wide",parsePatterns:Nye,defaultParseWidth:"any"}),day:xa({matchPatterns:_ye,defaultMatchWidth:"wide",parsePatterns:Sye,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:Cye,defaultMatchWidth:"any",parsePatterns:Pye,defaultParseWidth:"any"})},Le={code:"pt-BR",formatDistance:tye,formatLong:sye,formatRelative:iye,localize:pye,match:Aye,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Me=function(){return Me=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Me.apply(this,arguments)};function kye(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function a$(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function cu(e){return e.mode==="multiple"}function lu(e){return e.mode==="range"}function $p(e){return e.mode==="single"}var Eye={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Oye(e,t){return Te(e,"LLLL y",t)}function Tye(e,t){return Te(e,"d",t)}function $ye(e,t){return Te(e,"LLLL",t)}function Mye(e){return"".concat(e)}function Dye(e,t){return Te(e,"cccccc",t)}function Rye(e,t){return Te(e,"yyyy",t)}var Iye=Object.freeze({__proto__:null,formatCaption:Oye,formatDay:Tye,formatMonthCaption:$ye,formatWeekNumber:Mye,formatWeekdayName:Dye,formatYearCaption:Rye}),Lye=function(e,t,r){return Te(e,"do MMMM (EEEE)",r)},Fye=function(){return"Month: "},zye=function(){return"Go to next month"},Bye=function(){return"Go to previous month"},Vye=function(e,t){return Te(e,"cccc",t)},Uye=function(e){return"Week n. ".concat(e)},qye=function(){return"Year: "},Wye=Object.freeze({__proto__:null,labelDay:Lye,labelMonthDropdown:Fye,labelNext:zye,labelPrevious:Bye,labelWeekNumber:Uye,labelWeekday:Vye,labelYearDropdown:qye});function Hye(){var e="buttons",t=Eye,r=XT,n={},s={},o=1,i={},c=new Date;return{captionLayout:e,classNames:t,formatters:Iye,labels:Wye,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:c,mode:"default"}}function Gye(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Jt(n):t&&(o=new Date(t,0,1)),s?i=Za(s):r&&(i=new Date(r,11,31)),{fromDate:o?cc(o):void 0,toDate:i?cc(i):void 0}}var s$=x.createContext(void 0);function Kye(e){var t,r=e.initialProps,n=Hye(),s=Gye(r),o=s.fromDate,i=s.toDate,c=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;c!=="buttons"&&(!o||!i)&&(c="buttons");var l;($p(r)||cu(r)||lu(r))&&(l=r.onSelect);var d=Me(Me(Me({},n),r),{captionLayout:c,classNames:Me(Me({},n.classNames),r.classNames),components:Me({},r.components),formatters:Me(Me({},n.formatters),r.formatters),fromDate:o,labels:Me(Me({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Me(Me({},n.modifiers),r.modifiers),modifiersClassNames:Me(Me({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Me(Me({},n.styles),r.styles),toDate:i});return a.jsx(s$.Provider,{value:d,children:e.children})}function At(){var e=x.useContext(s$);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function o$(e){var t=At(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function Yye(e){return a.jsx("svg",Me({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function i$(e){var t,r,n=e.onChange,s=e.value,o=e.children,i=e.caption,c=e.className,l=e.style,d=At(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Yye;return a.jsxs("div",{className:c,style:l,children:[a.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:n,children:o}),a.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function Zye(e){var t,r=At(),n=r.fromDate,s=r.toDate,o=r.styles,i=r.locale,c=r.formatters.formatMonthCaption,l=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(Jxe(n,s))for(var h=Jt(n),p=n.getMonth();p<=s.getMonth();p++)f.push(Kg(h,p));else for(var h=Jt(new Date),p=0;p<=11;p++)f.push(Kg(h,p));var v=function(g){var y=Number(g.target.value),b=Kg(Jt(e.displayMonth),y);e.onChange(b)},m=(t=d?.Dropdown)!==null&&t!==void 0?t:i$;return a.jsx(m,{name:"months","aria-label":u(),className:l.dropdown_month,style:o.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:i}),children:f.map(function(g){return a.jsx("option",{value:g.getMonth(),children:c(g,{locale:i})},g.getMonth())})})}function Xye(e){var t,r=e.displayMonth,n=At(),s=n.fromDate,o=n.toDate,i=n.locale,c=n.styles,l=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),v=o.getFullYear(),m=p;m<=v;m++)h.push(NC(z0(new Date),m));var g=function(b){var w=NC(Jt(r),Number(b.target.value));e.onChange(w)},y=(t=d?.Dropdown)!==null&&t!==void 0?t:i$;return a.jsx(y,{name:"years","aria-label":f(),className:l.dropdown_year,style:c.dropdown_year,onChange:g,value:r.getFullYear(),caption:u(r,{locale:i}),children:h.map(function(b){return a.jsx("option",{value:b.getFullYear(),children:u(b,{locale:i})},b.getFullYear())})})}function Jye(e,t){var r=x.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function Qye(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,i=e.fromDate,c=e.numberOfMonths,l=c===void 0?1:c;if(o&&Pd(o,s)<0){var d=-1*(l-1);s=gn(o,d)}return i&&Pd(s,i)<0&&(s=i),Jt(s)}function ebe(){var e=At(),t=Qye(e),r=Jye(t,e.month),n=r[0],s=r[1],o=function(i){var c;if(!e.disableNavigation){var l=Jt(i);s(l),(c=e.onMonthChange)===null||c===void 0||c.call(e,l)}};return[n,o]}function tbe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Jt(e),o=Jt(gn(s,n)),i=Pd(o,s),c=[],l=0;l<i;l++){var d=gn(s,l);c.push(d)}return r&&(c=c.reverse()),c}function rbe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,c=Jt(e);if(!r)return gn(c,i);var l=Pd(r,e);if(!(l<o))return gn(c,i)}}function nbe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,c=Jt(e);if(!r)return gn(c,-i);var l=Pd(c,r);if(!(l<=0))return gn(c,-i)}}var c$=x.createContext(void 0);function abe(e){var t=At(),r=ebe(),n=r[0],s=r[1],o=tbe(n,t),i=rbe(n,t),c=nbe(n,t),l=function(f){return o.some(function(h){return Tp(f,h)})},d=function(f,h){l(f)||(h&&r$(f,h)?s(gn(f,1+t.numberOfMonths*-1)):s(f))},u={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:d,previousMonth:c,nextMonth:i,isDateDisplayed:l};return a.jsx(c$.Provider,{value:u,children:e.children})}function du(){var e=x.useContext(c$);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function _C(e){var t,r=At(),n=r.classNames,s=r.styles,o=r.components,i=du().goToMonth,c=function(u){i(gn(u,e.displayIndex?-e.displayIndex:0))},l=(t=o?.CaptionLabel)!==null&&t!==void 0?t:o$,d=a.jsx(l,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:d}),a.jsx(Zye,{onChange:c,displayMonth:e.displayMonth}),a.jsx(Xye,{onChange:c,displayMonth:e.displayMonth})]})}function sbe(e){return a.jsx("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function obe(e){return a.jsx("svg",Me({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Bh=x.forwardRef(function(e,t){var r=At(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),c=Me(Me({},s.button_reset),s.button);return e.style&&Object.assign(c,e.style),a.jsx("button",Me({},e,{ref:t,type:"button",className:i,style:c}))});function ibe(e){var t,r,n=At(),s=n.dir,o=n.locale,i=n.classNames,c=n.styles,l=n.labels,d=l.labelPrevious,u=l.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var h=d(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),v=u(e.nextMonth,{locale:o}),m=[i.nav_button,i.nav_button_next].join(" "),g=(t=f?.IconRight)!==null&&t!==void 0?t:obe,y=(r=f?.IconLeft)!==null&&r!==void 0?r:sbe;return a.jsxs("div",{className:i.nav,style:c.nav,children:[!e.hidePrevious&&a.jsx(Bh,{name:"previous-month","aria-label":h,className:p,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(g,{className:i.nav_icon,style:c.nav_icon}):a.jsx(y,{className:i.nav_icon,style:c.nav_icon})}),!e.hideNext&&a.jsx(Bh,{name:"next-month","aria-label":v,className:m,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(y,{className:i.nav_icon,style:c.nav_icon}):a.jsx(g,{className:i.nav_icon,style:c.nav_icon})})]})}function SC(e){var t=At().numberOfMonths,r=du(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,i=r.displayMonths,c=i.findIndex(function(v){return Tp(e.displayMonth,v)}),l=c===0,d=c===i.length-1,u=t>1&&(l||!d),f=t>1&&(d||!l),h=function(){n&&o(n)},p=function(){s&&o(s)};return a.jsx(ibe,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function cbe(e){var t,r=At(),n=r.classNames,s=r.disableNavigation,o=r.styles,i=r.captionLayout,c=r.components,l=(t=c?.CaptionLabel)!==null&&t!==void 0?t:o$,d;return s?d=a.jsx(l,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?d=a.jsx(_C,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?d=a.jsxs(a.Fragment,{children:[a.jsx(_C,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(SC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=a.jsxs(a.Fragment,{children:[a.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(SC,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:o.caption,children:d})}function lbe(e){var t=At(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function dbe(e,t,r){for(var n=r?Io(new Date):vn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=yr(n,o);s.push(i)}return s}function ube(){var e=At(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,c=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,d=dbe(s,o,i);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(u,{locale:s}),children:c(u,{locale:s})},f)})]})}function fbe(){var e,t=At(),r=t.classNames,n=t.styles,s=t.components,o=(e=s?.HeadRow)!==null&&e!==void 0?e:ube;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(o,{})})}function hbe(e){var t=At(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var B0=x.createContext(void 0);function mbe(e){if(!cu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(B0.Provider,{value:t,children:e.children})}return a.jsx(pbe,{initialProps:e.initialProps,children:e.children})}function pbe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,i=function(d,u,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,d,u,f);var v=!!(u.selected&&s&&n?.length===s);if(!v){var m=!!(!u.selected&&o&&n?.length===o);if(!m){var g=n?a$([],n):[];if(u.selected){var y=g.findIndex(function(b){return Br(d,b)});g.splice(y,1)}else g.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,g,d,u,f)}}},c={disabled:[]};n&&c.disabled.push(function(d){var u=o&&n.length>o-1,f=n.some(function(h){return Br(h,d)});return!!(u&&!f)});var l={selected:n,onDayClick:i,modifiers:c};return a.jsx(B0.Provider,{value:l,children:r})}function V0(){var e=x.useContext(B0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function gbe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Br(s,e)&&Br(n,e)?void 0:Br(s,e)?{from:s,to:void 0}:Br(n,e)?void 0:yy(n,e)?{from:e,to:s}:{from:n,to:e}:s?yy(e,s)?{from:s,to:e}:{from:e,to:s}:n?r$(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var U0=x.createContext(void 0);function vbe(e){if(!lu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(U0.Provider,{value:t,children:e.children})}return a.jsx(xbe,{initialProps:e.initialProps,children:e.children})}function xbe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,i=s.to,c=t.min,l=t.max,d=function(p,v,m){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,p,v,m);var b=gbe(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,p,v,m)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(u.range_start=[o],i?(u.range_end=[i],Br(o,i)||(u.range_middle=[{after:o,before:i}])):u.range_end=[o]):i&&(u.range_start=[i],u.range_end=[i]),c&&(o&&!i&&u.disabled.push({after:mf(o,c-1),before:yr(o,c-1)}),o&&i&&u.disabled.push({after:o,before:yr(o,c-1)}),!o&&i&&u.disabled.push({after:mf(i,c-1),before:yr(i,c-1)})),l){if(o&&!i&&(u.disabled.push({before:yr(o,-l+1)}),u.disabled.push({after:yr(o,l-1)})),o&&i){var f=wa(i,o)+1,h=l-f;u.disabled.push({before:mf(o,h)}),u.disabled.push({after:yr(i,h)})}!o&&i&&(u.disabled.push({before:yr(i,-l+1)}),u.disabled.push({after:yr(i,l-1)}))}return a.jsx(U0.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function q0(){var e=x.useContext(U0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function pf(e){return Array.isArray(e)?a$([],e):e!==void 0?[e]:[]}function ybe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=pf(s)}),t}var aa;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(aa||(aa={}));var bbe=aa.Selected,Ba=aa.Disabled,jbe=aa.Hidden,wbe=aa.Today,Yg=aa.RangeEnd,Zg=aa.RangeMiddle,Xg=aa.RangeStart,Nbe=aa.Outside;function _be(e,t,r){var n,s=(n={},n[bbe]=pf(e.selected),n[Ba]=pf(e.disabled),n[jbe]=pf(e.hidden),n[wbe]=[e.today],n[Yg]=[],n[Zg]=[],n[Xg]=[],n[Nbe]=[],n);return e.fromDate&&s[Ba].push({before:e.fromDate}),e.toDate&&s[Ba].push({after:e.toDate}),cu(e)?s[Ba]=s[Ba].concat(t.modifiers[Ba]):lu(e)&&(s[Ba]=s[Ba].concat(r.modifiers[Ba]),s[Xg]=r.modifiers[Xg],s[Zg]=r.modifiers[Zg],s[Yg]=r.modifiers[Yg]),s}var l$=x.createContext(void 0);function Sbe(e){var t=At(),r=V0(),n=q0(),s=_be(t,r,n),o=ybe(t.modifiers),i=Me(Me({},s),o);return a.jsx(l$.Provider,{value:i,children:e.children})}function d$(){var e=x.useContext(l$);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Cbe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Pbe(e){return!!(e&&typeof e=="object"&&"from"in e)}function Abe(e){return!!(e&&typeof e=="object"&&"after"in e)}function kbe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ebe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Obe(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=wa(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var i=wa(e,n)>=0&&wa(s,e)>=0;return i}return s?Br(s,e):n?Br(n,e):!1}function Tbe(e){return F0(e)}function $be(e){return Array.isArray(e)&&e.every(F0)}function Mbe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Tbe(r))return Br(e,r);if($be(r))return r.includes(e);if(Pbe(r))return Obe(e,r);if(Ebe(r))return r.dayOfWeek.includes(e.getDay());if(Cbe(r)){var n=wa(r.before,e),s=wa(r.after,e),o=n>0,i=s<0,c=yy(r.before,r.after);return c?i&&o:o||i}return Abe(r)?wa(e,r.after)>0:kbe(r)?wa(r.before,e)>0:typeof r=="function"?r(e):!1})}function W0(e,t,r){var n=Object.keys(t).reduce(function(o,i){var c=t[i];return Mbe(e,c)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!Tp(e,r)&&(s.outside=!0),s}function Dbe(e,t){for(var r=Jt(e[0]),n=Za(e[e.length-1]),s,o,i=r;i<=n;){var c=W0(i,t),l=!c.disabled&&!c.hidden;if(!l){i=yr(i,1);continue}if(c.selected)return i;c.today&&!o&&(o=i),s||(s=i),i=yr(i,1)}return o||s}var Rbe=365;function u$(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,i=t.retry,c=i===void 0?{count:0,lastFocused:e}:i,l=s.weekStartsOn,d=s.fromDate,u=s.toDate,f=s.locale,h={day:yr,week:Cd,month:gn,year:Hve,startOfWeek:function(g){return s.ISOWeek?Io(g):vn(g,{locale:f,weekStartsOn:l})},endOfWeek:function(g){return s.ISOWeek?YT(g):qc(g,{locale:f,weekStartsOn:l})}},p=h[r](e,n==="after"?1:-1);n==="before"&&d?p=Gve([d,p]):n==="after"&&u&&(p=Kve([u,p]));var v=!0;if(o){var m=W0(p,o);v=!m.disabled&&!m.hidden}return v?p:c.count>Rbe?c.lastFocused:u$(p,{moveBy:r,direction:n,context:s,modifiers:o,retry:Me(Me({},c),{count:c.count+1})})}var f$=x.createContext(void 0);function Ibe(e){var t=du(),r=d$(),n=x.useState(),s=n[0],o=n[1],i=x.useState(),c=i[0],l=i[1],d=Dbe(t.displayMonths,r),u=s??(c&&t.isDateDisplayed(c))?c:d,f=function(){l(s),o(void 0)},h=function(g){o(g)},p=At(),v=function(g,y){if(s){var b=u$(s,{moveBy:g,direction:y,context:p,modifiers:r});Br(s,b)||(t.goToDate(b,s),h(b))}},m={focusedDay:s,focusTarget:u,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return a.jsx(f$.Provider,{value:m,children:e.children})}function H0(){var e=x.useContext(f$);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Lbe(e,t){var r=d$(),n=W0(e,r,t);return n}var G0=x.createContext(void 0);function Fbe(e){if(!$p(e.initialProps)){var t={selected:void 0};return a.jsx(G0.Provider,{value:t,children:e.children})}return a.jsx(zbe,{initialProps:e.initialProps,children:e.children})}function zbe(e){var t=e.initialProps,r=e.children,n=function(o,i,c){var l,d,u;if((l=t.onDayClick)===null||l===void 0||l.call(t,o,i,c),i.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,o,i,c);return}(u=t.onSelect)===null||u===void 0||u.call(t,o,o,i,c)},s={selected:t.selected,onDayClick:n};return a.jsx(G0.Provider,{value:s,children:r})}function h$(){var e=x.useContext(G0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Bbe(e,t){var r=At(),n=h$(),s=V0(),o=q0(),i=H0(),c=i.focusDayAfter,l=i.focusDayBefore,d=i.focusWeekAfter,u=i.focusWeekBefore,f=i.blur,h=i.focus,p=i.focusMonthBefore,v=i.focusMonthAfter,m=i.focusYearBefore,g=i.focusYearAfter,y=i.focusStartOfWeek,b=i.focusEndOfWeek,w=function(D){var M,U,ne,K;$p(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,D):cu(r)?(U=s.onDayClick)===null||U===void 0||U.call(s,e,t,D):lu(r)?(ne=o.onDayClick)===null||ne===void 0||ne.call(o,e,t,D):(K=r.onDayClick)===null||K===void 0||K.call(r,e,t,D)},j=function(D){var M;h(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,D)},N=function(D){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,D)},S=function(D){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,D)},_=function(D){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,D)},C=function(D){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,D)},E=function(D){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,D)},$=function(D){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,D)},k=function(D){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,D)},P=function(D){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,D)},O=function(D){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,D)},T=function(D){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,D)},I=function(D){var M;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),d();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),u();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?m():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():v();break;case"Home":D.preventDefault(),D.stopPropagation(),y();break;case"End":D.preventDefault(),D.stopPropagation(),b();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,D)},R={onClick:w,onFocus:j,onBlur:N,onKeyDown:I,onKeyUp:T,onMouseEnter:S,onMouseLeave:_,onPointerEnter:C,onPointerLeave:E,onTouchCancel:$,onTouchEnd:k,onTouchMove:P,onTouchStart:O};return R}function Vbe(){var e=At(),t=h$(),r=V0(),n=q0(),s=$p(e)?t.selected:cu(e)?r.selected:lu(e)?n.selected:void 0;return s}function Ube(e){return Object.values(aa).includes(e)}function qbe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Ube(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function Wbe(e,t){var r=Me({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Me(Me({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Hbe(e,t,r){var n,s,o,i=At(),c=H0(),l=Lbe(e,t),d=Bbe(e,l),u=Vbe(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var S;l.outside||c.focusedDay&&f&&Br(c.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[c.focusedDay,e,r,f,l.outside]);var h=qbe(i,l).join(" "),p=Wbe(i,l),v=!!(l.outside&&!i.showOutsideDays||l.hidden),m=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:hbe,g=a.jsx(m,{date:e,displayMonth:t,activeModifiers:l}),y={style:p,className:h,children:g,role:"gridcell"},b=c.focusTarget&&Br(c.focusTarget,e)&&!l.outside,w=c.focusedDay&&Br(c.focusedDay,e),j=Me(Me(Me({},y),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=w||b?0:-1,n)),d),N={isButton:f,isHidden:v,activeModifiers:l,selectedDays:u,buttonProps:j,divProps:y};return N}function Gbe(e){var t=x.useRef(null),r=Hbe(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(Bh,Me({name:"day",ref:t},r.buttonProps)):a.jsx("div",Me({},r.divProps))}function Kbe(e){var t=e.number,r=e.dates,n=At(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,c=n.locale,l=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:c});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:u});var f=l(Number(t),{locale:c}),h=function(p){s(t,r,p)};return a.jsx(Bh,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:h,children:u})}function Ybe(e){var t,r,n=At(),s=n.styles,o=n.classNames,i=n.showWeekNumber,c=n.components,l=(t=c?.Day)!==null&&t!==void 0?t:Gbe,d=(r=c?.WeekNumber)!==null&&r!==void 0?r:Kbe,u;return i&&(u=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(d,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[u,e.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(l,{displayMonth:e.displayMonth,date:f})},Yxe(f))})]})}function CC(e,t,r){for(var n=r?.ISOWeek?YT(t):qc(t,r),s=r?.ISOWeek?Io(e):vn(e,r),o=wa(n,s),i=[],c=0;c<=o;c++)i.push(yr(s,c));var l=i.reduce(function(d,u){var f=r?.ISOWeek?JT(u):e$(u,r),h=d.find(function(p){return p.weekNumber===f});return h?(h.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return l}function Zbe(e,t){var r=CC(Jt(e),Za(e),t);if(t?.useFixedWeeks){var n=Xxe(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],i=Cd(o,6-n),c=CC(Cd(o,1),i,t);r.push.apply(r,c)}}return r}function Xbe(e){var t,r,n,s=At(),o=s.locale,i=s.classNames,c=s.styles,l=s.hideHead,d=s.fixedWeeks,u=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,v=Zbe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=u?.Head)!==null&&t!==void 0?t:fbe,g=(r=u?.Row)!==null&&r!==void 0?r:Ybe,y=(n=u?.Footer)!==null&&n!==void 0?n:lbe;return a.jsxs("table",{id:e.id,className:i.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&a.jsx(m,{}),a.jsx("tbody",{className:i.tbody,style:c.tbody,children:v.map(function(b){return a.jsx(g,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),a.jsx(y,{displayMonth:e.displayMonth})]})}function Jbe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Qbe=Jbe()?x.useLayoutEffect:x.useEffect,Jg=!1,e0e=0;function PC(){return"react-day-picker-".concat(++e0e)}function t0e(e){var t,r=e??(Jg?PC():null),n=x.useState(r),s=n[0],o=n[1];return Qbe(function(){s===null&&o(PC())},[]),x.useEffect(function(){Jg===!1&&(Jg=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function r0e(e){var t,r,n=At(),s=n.dir,o=n.classNames,i=n.styles,c=n.components,l=du().displayMonths,d=t0e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],h=i.month,p=e.displayIndex===0,v=e.displayIndex===l.length-1,m=!p&&!v;s==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(f.push(o.caption_start),h=Me(Me({},h),i.caption_start)),v&&(f.push(o.caption_end),h=Me(Me({},h),i.caption_end)),m&&(f.push(o.caption_between),h=Me(Me({},h),i.caption_between));var g=(r=c?.Caption)!==null&&r!==void 0?r:cbe;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(Xbe,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function n0e(e){var t=At(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function a0e(e){var t,r,n=e.initialProps,s=At(),o=H0(),i=du(),c=x.useState(!1),l=c[0],d=c[1];x.useEffect(function(){s.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),d(!0)))},[s.initialFocus,l,o.focus,o.focusTarget,o]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var f=Me(Me({},s.styles.root),s.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return Me(Me({},v),(g={},g[m]=n[m],g))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:n0e;return a.jsx("div",Me({className:u.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(p,{children:i.displayMonths.map(function(v,m){return a.jsx(r0e,{displayIndex:m,displayMonth:v},m)})})}))}function s0e(e){var t=e.children,r=kye(e,["children"]);return a.jsx(Kye,{initialProps:r,children:a.jsx(abe,{children:a.jsx(Fbe,{initialProps:r,children:a.jsx(mbe,{initialProps:r,children:a.jsx(vbe,{initialProps:r,children:a.jsx(Sbe,{children:a.jsx(Ibe,{children:t})})})})})})})}function o0e(e){return a.jsx(s0e,Me({},e,{children:a.jsx(a0e,{initialProps:e})}))}function Ad({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(o0e,{showOutsideDays:r,className:Q("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Q(Oi({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Q(Oi({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(yc,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Bo,{className:"h-4 w-4"})},...n})}Ad.displayName="Calendar";var K0="Popover",[m$]=ia(K0,[Us]),uu=Us(),[i0e,Zs]=m$(K0),p$=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,c=uu(t),l=x.useRef(null),[d,u]=x.useState(!1),[f=!1,h]=Ea({prop:n,defaultProp:s,onChange:o});return a.jsx(_m,{...c,children:a.jsx(i0e,{scope:t,contentId:Sn(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:d,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:i,children:r})})};p$.displayName=K0;var g$="PopoverAnchor",c0e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Zs(g$,r),o=uu(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return x.useEffect(()=>(i(),()=>c()),[i,c]),a.jsx(Wd,{...o,...n,ref:t})});c0e.displayName=g$;var v$="PopoverTrigger",x$=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Zs(v$,r),o=uu(r),i=Ve(t,s.triggerRef),c=a.jsx(ke.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":N$(s.open),...n,ref:i,onClick:ge(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:a.jsx(Wd,{asChild:!0,...o,children:c})});x$.displayName=v$;var Y0="PopoverPortal",[l0e,d0e]=m$(Y0,{forceMount:void 0}),y$=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Zs(Y0,t);return a.jsx(l0e,{scope:t,forceMount:r,children:a.jsx(kr,{present:r||o.open,children:a.jsx(Bd,{asChild:!0,container:s,children:n})})})};y$.displayName=Y0;var lc="PopoverContent",b$=x.forwardRef((e,t)=>{const r=d0e(lc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Zs(lc,e.__scopePopover);return a.jsx(kr,{present:n||o.open,children:o.modal?a.jsx(u0e,{...s,ref:t}):a.jsx(f0e,{...s,ref:t})})});b$.displayName=lc;var u0e=x.forwardRef((e,t)=>{const r=Zs(lc,e.__scopePopover),n=x.useRef(null),s=Ve(t,n),o=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return vm(i)},[]),a.jsx(Vd,{as:Ur,allowPinchZoom:!0,children:a.jsx(j$,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(e.onCloseAutoFocus,i=>{i.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ge(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,d=c.button===2||l;o.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ge(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),f0e=x.forwardRef((e,t)=>{const r=Zs(lc,e.__scopePopover),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(j$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),j$=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:u,...f}=e,h=Zs(lc,r),p=uu(r);return pm(),a.jsx(zd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(jc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:u,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Sm,{"data-state":N$(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),w$="PopoverClose",h0e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Zs(w$,r);return a.jsx(ke.button,{type:"button",...n,ref:t,onClick:ge(e.onClick,()=>s.onOpenChange(!1))})});h0e.displayName=w$;var m0e="PopoverArrow",p0e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=uu(r);return a.jsx(Cm,{...s,...n,ref:t})});p0e.displayName=m0e;function N$(e){return e?"open":"closed"}var g0e=p$,v0e=x$,x0e=y$,_$=b$;const Vh=g0e,Uh=v0e,kd=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(x0e,{children:a.jsx(_$,{ref:s,align:t,sideOffset:r,className:Q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));kd.displayName=_$.displayName;var y0e="Label",S$=x.forwardRef((e,t)=>a.jsx(ke.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S$.displayName=y0e;var C$=S$;const b0e=vc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=x.forwardRef(({className:e,...t},r)=>a.jsx(C$,{ref:r,className:Q(b0e(),e),...t}));G.displayName=C$.displayName;const dc=Phe,P$=x.createContext({}),st=({...e})=>a.jsx(P$.Provider,{value:{name:e.name},children:a.jsx(Ohe,{...e})}),Mp=()=>{const e=x.useContext(P$),t=x.useContext(A$),{getFieldState:r,formState:n}=Pp(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},A$=x.createContext({}),tt=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return a.jsx(A$.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:Q("space-y-2",e),...t})})});tt.displayName="FormItem";const rt=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Mp();return a.jsx(G,{ref:r,className:Q(n&&"text-destructive",e),htmlFor:s,...t})});rt.displayName="FormLabel";const nt=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=Mp();return a.jsx(Ur,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});nt.displayName="FormControl";const j0e=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Mp();return a.jsx("p",{ref:r,id:n,className:Q("text-sm text-muted-foreground",e),...t})});j0e.displayName="FormDescription";const it=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=Mp(),i=s?String(s?.message):t;return i?a.jsx("p",{ref:n,id:o,className:Q("text-sm font-medium text-destructive",e),...r,children:i}):null});it.displayName="FormMessage";console.log("Dialog component - forwardRef:",x.forwardRef);console.log("Dialog component - DialogPrimitive:",A6);const Wr=xm,fu=ym,w0e=bm,k$=x.forwardRef(({className:e,...t},r)=>a.jsx(wc,{ref:r,className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));k$.displayName=wc.displayName;const Sr=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(w0e,{children:[a.jsx(k$,{}),a.jsxs(Nc,{ref:n,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Ud,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Vt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sr.displayName=Nc.displayName;const Cr=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Cr.displayName="DialogHeader";const Dp=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dp.displayName="DialogFooter";const Pr=x.forwardRef(({className:e,...t},r)=>a.jsx(_c,{ref:r,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));Pr.displayName=_c.displayName;const kn=x.forwardRef(({className:e,...t},r)=>a.jsx(Sc,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));kn.displayName=Sc.displayName;const N0e=Ys({nomeCompleto:ut().min(2,"Nome deve ter pelo menos 2 caracteres"),email:ut().email("E-mail invlido").optional(),telefone:ut().min(10,"Telefone deve ter pelo menos 10 dgitos").regex(/^[\d\s\-\+\(\)]+$/,"Telefone deve conter apenas nmeros e smbolos padres"),endereco:ut().optional(),dataNascimento:ut().optional(),servicoFrequente:ut().optional(),ultimaVisita:qT().optional(),observacoes:ut().optional()});function qh({cliente:e,onSubmit:t,trigger:r}){const[n,s]=x.useState(!1),o=Rs({resolver:Is(N0e),defaultValues:{nomeCompleto:e?.nomeCompleto||e?.nome||"",email:e?.email||"",telefone:e?.telefone||"",endereco:e?.endereco||"",dataNascimento:e?.dataNascimento||"",servicoFrequente:e?.servicoFrequente||"",ultimaVisita:e?.ultimaVisita?new Date(e.ultimaVisita):void 0,observacoes:e?.observacoes||""}}),i=l=>{t(l),o.reset(),s(!1),V.success(e?"Cliente atualizada - Os dados da cliente foram atualizados com sucesso.":"Cliente cadastrada - Nova cliente foi cadastrada com sucesso.")},c=a.jsxs(z,{className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(qy,{className:"mr-2 h-4 w-4"}),"Nova Cliente"]});return a.jsxs(Wr,{open:n,onOpenChange:s,children:[a.jsx(fu,{asChild:!0,children:r||c}),a.jsxs(Sr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(Cr,{children:a.jsx(Pr,{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent",children:e?"Editar Cliente":"Nova Cliente"})}),a.jsx(dc,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-5 sm:space-y-6",children:[a.jsx(st,{control:o.control,name:"nomeCompleto",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-foreground font-medium text-sm sm:text-base",children:"Nome Completo"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Digite o nome completo",className:"h-12 sm:h-11 text-base sm:text-sm border-border/50 focus:ring-primary",...l})}),a.jsx(it,{})]})}),a.jsx(st,{control:o.control,name:"email",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-foreground font-medium",children:"E-mail (opcional)"}),a.jsx(nt,{children:a.jsx(se,{type:"email",placeholder:"cliente@exemplo.com",className:"border-border/50 focus:ring-primary",...l})}),a.jsx(it,{})]})}),a.jsx(st,{control:o.control,name:"telefone",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-foreground font-medium",children:"Telefone"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"(11) 99999-9999",className:"border-border/50 focus:ring-primary",...l})}),a.jsx(it,{})]})}),a.jsx(st,{control:o.control,name:"servicoFrequente",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-foreground font-medium",children:"Servio Frequente (opcional)"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Ex: Corte e Escova",className:"border-border/50 focus:ring-primary",...l})}),a.jsx(it,{})]})}),a.jsx(st,{control:o.control,name:"ultimaVisita",render:({field:l})=>a.jsxs(tt,{className:"flex flex-col",children:[a.jsx(rt,{className:"text-foreground font-medium",children:"ltima Visita (opcional)"}),a.jsxs(Vh,{children:[a.jsx(Uh,{asChild:!0,children:a.jsx(nt,{children:a.jsxs(z,{variant:"outline",className:Q("w-full pl-3 text-left font-normal border-border/50",!l.value&&"text-muted-foreground"),children:[l.value?Te(l.value,"PPP",{locale:Le}):a.jsx("span",{children:"Selecione uma data"}),a.jsx(Se,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(kd,{className:"w-auto p-0",align:"start",children:a.jsx(Ad,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:d=>d>new Date,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),a.jsx(it,{})]})}),a.jsx(st,{control:o.control,name:"observacoes",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-foreground font-medium",children:"Observaes"}),a.jsx(nt,{children:a.jsx(pr,{placeholder:"Observaes adicionais sobre a cliente...",className:"min-h-[100px] border-border/50 focus:ring-primary resize-none",...l})}),a.jsx(it,{})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(z,{type:"button",variant:"outline",className:"flex-1 h-11 btn-touch",onClick:()=>s(!1),children:"Cancelar"}),a.jsx(z,{type:"submit",className:"flex-1 h-11 btn-touch bg-gradient-to-r from-primary to-lilac-primary",children:e?"Atualizar":"Cadastrar"})]})]})})]})]})}const Dr=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"table-responsive",children:a.jsx("table",{ref:r,className:Q("w-full caption-bottom text-responsive-sm",e),...t})}));Dr.displayName="Table";const Rr=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:Q("[&_tr]:border-b",e),...t}));Rr.displayName="TableHeader";const Ir=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:Q("[&_tr:last-child]:border-0",e),...t}));Ir.displayName="TableBody";const _0e=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:Q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_0e.displayName="TableFooter";const ht=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:Q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ht.displayName="TableRow";const pe=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));pe.displayName="TableHead";const fe=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));fe.displayName="TableCell";const S0e=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:Q("mt-4 text-sm text-muted-foreground",e),...t}));S0e.displayName="TableCaption";var E$="AlertDialog",[C0e]=ia(E$,[Hy]),ms=Hy(),O$=e=>{const{__scopeAlertDialog:t,...r}=e,n=ms(t);return a.jsx(xm,{...n,...r,modal:!0})};O$.displayName=E$;var P0e="AlertDialogTrigger",T$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ms(r);return a.jsx(ym,{...s,...n,ref:t})});T$.displayName=P0e;var A0e="AlertDialogPortal",$$=e=>{const{__scopeAlertDialog:t,...r}=e,n=ms(t);return a.jsx(bm,{...n,...r})};$$.displayName=A0e;var k0e="AlertDialogOverlay",M$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ms(r);return a.jsx(wc,{...s,...n,ref:t})});M$.displayName=k0e;var Ai="AlertDialogContent",[E0e,O0e]=C0e(Ai),D$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=ms(r),i=x.useRef(null),c=Ve(t,i),l=x.useRef(null);return a.jsx(d2,{contentName:Ai,titleName:R$,docsSlug:"alert-dialog",children:a.jsx(E0e,{scope:r,cancelRef:l,children:a.jsxs(Nc,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:ge(s.onOpenAutoFocus,d=>{d.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[a.jsx(By,{children:n}),a.jsx($0e,{contentRef:i})]})})})});D$.displayName=Ai;var R$="AlertDialogTitle",I$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ms(r);return a.jsx(_c,{...s,...n,ref:t})});I$.displayName=R$;var L$="AlertDialogDescription",F$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ms(r);return a.jsx(Sc,{...s,...n,ref:t})});F$.displayName=L$;var T0e="AlertDialogAction",z$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ms(r);return a.jsx(Ud,{...s,...n,ref:t})});z$.displayName=T0e;var B$="AlertDialogCancel",V$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=O0e(B$,r),o=ms(r),i=Ve(t,s);return a.jsx(Ud,{...o,...n,ref:i})});V$.displayName=B$;var $0e=({contentRef:e})=>{const t=`\`${Ai}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ai}\` by passing a \`${L$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ai}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},M0e=O$,D0e=T$,R0e=$$,U$=M$,q$=D$,W$=z$,H$=V$,G$=I$,K$=F$;const sa=M0e,Lo=D0e,I0e=R0e,Y$=x.forwardRef(({className:e,...t},r)=>a.jsx(U$,{className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Y$.displayName=U$.displayName;const En=x.forwardRef(({className:e,...t},r)=>a.jsxs(I0e,{children:[a.jsx(Y$,{}),a.jsx(q$,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));En.displayName=q$.displayName;const On=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});On.displayName="AlertDialogHeader";const Tn=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tn.displayName="AlertDialogFooter";const $n=x.forwardRef(({className:e,...t},r)=>a.jsx(G$,{ref:r,className:Q("text-lg font-semibold",e),...t}));$n.displayName=G$.displayName;const Mn=x.forwardRef(({className:e,...t},r)=>a.jsx(K$,{ref:r,className:Q("text-sm text-muted-foreground",e),...t}));Mn.displayName=K$.displayName;const Dn=x.forwardRef(({className:e,...t},r)=>a.jsx(W$,{ref:r,className:Q(Oi(),e),...t}));Dn.displayName=W$.displayName;const oa=x.forwardRef(({className:e,...t},r)=>a.jsx(H$,{ref:r,className:Q(Oi({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));oa.displayName=H$.displayName;const L0e=1,F0e=1e6;let Qg=0;function z0e(){return Qg=(Qg+1)%Number.MAX_SAFE_INTEGER,Qg.toString()}const ev=new Map,AC=e=>{if(ev.has(e))return;const t=setTimeout(()=>{ev.delete(e),Ml({type:"REMOVE_TOAST",toastId:e})},F0e);ev.set(e,t)},B0e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,L0e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?AC(r):e.toasts.forEach(n=>{AC(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},gf=[];let vf={toasts:[]};function Ml(e){vf=B0e(vf,e),gf.forEach(t=>{t(vf)})}function Xt({...e}){const t=z0e(),r=s=>Ml({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ml({type:"DISMISS_TOAST",toastId:t});return Ml({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Rp(){const[e,t]=x.useState(vf);return x.useEffect(()=>(gf.push(t),()=>{const r=gf.indexOf(t);r>-1&&gf.splice(r,1)}),[e]),{...e,toast:Xt,dismiss:r=>Ml({type:"DISMISS_TOAST",toastId:r})}}const Wh=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),V0e=(e,t)=>{const r=Wh(e);return t.every(n=>r.includes(n))},kC=(e,t)=>{if(!t.trim())return e;const r=Wh(t).split(/\s+/).filter(Boolean);if(r.length===0)return e;const n=Wh(e);let s=[],o=0;const i=[];r.forEach(l=>{let d=n.indexOf(l);for(;d!==-1;)i.push({start:d,end:d+l.length}),d=n.indexOf(l,d+1)}),i.sort((l,d)=>l.start-d.start);const c=[];for(const l of i)c.length===0||l.start>c[c.length-1].end?c.push({...l}):c[c.length-1].end=Math.max(c[c.length-1].end,l.end);for(const l of c)l.start>o&&s.push(e.slice(o,l.start)),s.push(a.jsx("mark",{className:"bg-primary/20 text-primary rounded px-0.5",children:e.slice(l.start,l.end)},l.start)),o=l.end;return o<e.length&&s.push(e.slice(o)),s.length>0?s:e};function U0e({clientes:e,onEdit:t,onDelete:r,onViewDetails:n}){const[s,o]=x.useState(""),[i,c]=x.useState(1),l=10,d=x.useMemo(()=>{if(!s.trim())return e;const j=Wh(s).split(/\s+/).filter(Boolean);return j.length===0?e:e.filter(N=>{const S=N.nomeCompleto||N.nome||"",_=N.telefone?.replace(/\D/g,"")||"",C=N.telefone||"",E=N.email||"",$=N.servicoFrequente||"",k=`${S} ${_} ${C} ${E} ${$}`;return V0e(k,j)})},[e,s]),u=x.useCallback(()=>{o(""),c(1)},[]),f=d.sort((j,N)=>(j.nomeCompleto||j.nome||"").localeCompare(N.nomeCompleto||N.nome||"")),h=Math.ceil(f.length/l),p=(i-1)*l,v=p+l,m=f.slice(p,v),g=j=>{const N=j.replace(/\D/g,"");return N.length===11?`(${N.slice(0,2)}) ${N.slice(2,7)}-${N.slice(7)}`:j},y=(j,N)=>{const S=j.replace(/\D/g,""),_=`Ol ${N}! Tudo bem?`,C=`https://wa.me/55${S}?text=${encodeURIComponent(_)}`;window.open(C,"_blank")},b=j=>{window.open(`tel:${j}`,"_self")},w=(j,N)=>{r(j),Xt({title:"Cliente removida",description:`${N} foi removida com sucesso.`})};return a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[a.jsxs(Z,{className:"text-xl font-semibold",children:["Lista de Clientes (",d.length,")"]}),a.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar por nome, telefone, email...",value:s,onChange:j=>{o(j.target.value),c(1)},className:"pl-10 pr-10 border-border/50"}),s&&a.jsx(z,{variant:"ghost",size:"sm",onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Vt,{className:"h-4 w-4"})})]})]}),s&&a.jsx("div",{className:"px-6 pb-2 text-sm text-muted-foreground",children:d.length===0?a.jsxs("span",{children:['Nenhum cliente encontrado para "',a.jsx("strong",{children:s}),'"']}):a.jsxs("span",{children:[d.length," cliente",d.length!==1?"s":""," encontrado",d.length!==1?"s":"",' para "',a.jsx("strong",{children:s}),'"']})})]}),a.jsx(B,{className:"p-0",children:m.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-responsive",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{className:"border-border/50",children:[a.jsx(pe,{className:"font-semibold text-responsive-xs",children:"Nome Completo"}),a.jsx(pe,{className:"font-semibold text-responsive-xs",children:"Telefone"}),a.jsx(pe,{className:"font-semibold text-responsive-xs",children:"Servio Frequente"}),a.jsx(pe,{className:"font-semibold text-responsive-xs",children:"ltima Visita"}),a.jsx(pe,{className:"font-semibold text-right text-responsive-xs",children:"Aes"})]})}),a.jsx(Ir,{children:m.map(j=>a.jsxs(ht,{className:"border-border/50 hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>n(j),children:[a.jsx(fe,{className:"font-medium text-responsive-sm",children:kC(j.nomeCompleto||j.nome||"",s)}),a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-responsive-xs",children:g(j.telefone)}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),b(j.telefone)},className:"btn-touch",children:a.jsx(ns,{className:"h-3 w-3"})}),a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(j.telefone,j.nomeCompleto||j.nome||"")},className:"btn-touch hover:bg-green-100",children:a.jsx(Co,{className:"h-3 w-3 text-green-600"})})]})]})}),a.jsx(fe,{children:a.jsx(ce,{variant:"outline",className:"bg-accent/50 text-responsive-xs",children:j.servicoFrequente||"No definido"})}),a.jsx(fe,{className:"text-responsive-xs",children:j.ultimaVisita?(()=>{try{const N=new Date(j.ultimaVisita);return isNaN(N.getTime())?"Data invlida":Te(N,"dd/MM/yyyy",{locale:Le})}catch{return"Data invlida"}})():"No definido"}),a.jsx(fe,{className:"text-right",children:a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),n(j)},className:"btn-touch",children:a.jsx(R3,{className:"h-3 w-3"})}),a.jsx(qh,{cliente:j,onSubmit:N=>t({...j,...N}),trigger:a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>N.stopPropagation(),className:"btn-touch",children:a.jsx(Qn,{className:"h-3 w-3"})})}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>N.stopPropagation(),className:"btn-touch hover:bg-destructive/10 hover:text-destructive",children:a.jsx(gr,{className:"h-3 w-3"})})}),a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{className:"text-responsive-lg",children:"Confirmar excluso"}),a.jsxs(Mn,{className:"text-responsive-sm",children:["Tem certeza que deseja excluir ",a.jsx("strong",{children:j.nomeCompleto||j.nome}),"? Esta ao no pode ser desfeita."]})]}),a.jsxs(Tn,{children:[a.jsx(oa,{className:"btn-touch text-responsive-sm",children:"Cancelar"}),a.jsx(Dn,{onClick:()=>w(j.id,j.nomeCompleto||j.nome||""),className:"bg-destructive hover:bg-destructive/90 btn-touch text-responsive-sm",children:"Excluir"})]})]})]})]})})]},j.id))})]})}),a.jsx("div",{className:"lg:hidden space-y-3 p-4",children:m.map(j=>a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm cursor-pointer hover:shadow-md transition-all active:scale-[0.98]",onClick:()=>n(j),children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Vr,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-base truncate",children:kC(j.nomeCompleto||j.nome||"",s)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:g(j.telefone)})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(ce,{variant:"outline",className:"bg-accent/50 text-xs h-6",children:j.servicoFrequente||"No definido"}),a.jsxs(ce,{variant:"outline",className:"text-xs h-6",children:[a.jsx(Se,{className:"h-3 w-3 mr-1"}),j.ultimaVisita?(()=>{try{const N=new Date(j.ultimaVisita);return isNaN(N.getTime())?"Sem visita":Te(N,"dd/MM/yy",{locale:Le})}catch{return"Sem visita"}})():"Sem visita"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>{N.stopPropagation(),b(j.telefone)},className:"flex-1 h-11 btn-touch",children:[a.jsx(ns,{className:"h-4 w-4 mr-2"}),"Ligar"]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>{N.stopPropagation(),y(j.telefone,j.nomeCompleto||j.nome||"")},className:"flex-1 h-11 btn-touch bg-green-50 hover:bg-green-100",children:[a.jsx(Co,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border/50",children:[a.jsx(qh,{cliente:j,onSubmit:N=>t({...j,...N}),trigger:a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>N.stopPropagation(),className:"h-10 text-xs btn-touch",children:[a.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Editar"]})}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>N.stopPropagation(),className:"h-10 text-xs btn-touch hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50",children:[a.jsx(gr,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsxs(Mn,{children:["Tem certeza que deseja excluir ",a.jsx("strong",{children:j.nomeCompleto||j.nome}),"? Esta ao no pode ser desfeita."]})]}),a.jsxs(Tn,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(oa,{className:"btn-touch m-0",children:"Cancelar"}),a.jsx(Dn,{onClick:()=>w(j.id,j.nomeCompleto||j.nome||""),className:"bg-destructive hover:bg-destructive/90 btn-touch m-0",children:"Excluir"})]})]})]})]})]})})},j.id))}),h>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-t border-border/50",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",p+1," a ",Math.min(v,f.length)," de ",f.length," clientes"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>c(j=>Math.max(j-1,1)),disabled:i===1,children:a.jsx(yc,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm font-medium",children:[i," de ",h]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>c(j=>Math.min(j+1,h)),disabled:i===h,children:a.jsx(Bo,{className:"h-4 w-4"})})]})]})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10 mx-auto",children:a.jsx(Jn,{className:"h-8 w-8 text-muted-foreground"})}),a.jsx("h3",{className:"mb-2 text-lg font-semibold",children:s?"Nenhuma cliente encontrada":"Nenhuma cliente cadastrada"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:s?"Tente buscar com outros termos ou limpe o filtro.":"Comece cadastrando sua primeira cliente para comear a usar o sistema."}),s&&a.jsx(z,{variant:"outline",onClick:()=>o(""),children:"Limpar busca"})]})})]})}function q0e({cliente:e,open:t,onOpenChange:r,onEdit:n}){const[s,o]=x.useState([]),[i,c]=x.useState(!0);x.useEffect(()=>{e&&t&&l()},[e?.id,t]);const l=async()=>{if(e)try{c(!0);const{data:m,error:g}=await W.from("vendas_produtos").select("*, itens_venda(*)").eq("cliente_id",e.id).order("data_venda",{ascending:!1});if(g)throw g;o(m||[])}catch(m){console.error("Erro ao carregar vendas:",m)}finally{c(!1)}};if(!e)return null;const d=m=>{const g=m.replace(/\D/g,"");return g.length===11?`(${g.slice(0,2)}) ${g.slice(2,7)}-${g.slice(7)}`:m},u=m=>{const y=`https://wa.me/55${m.replace(/\D/g,"")}`;window.open(y,"_blank")},f=m=>{window.open(`tel:${m}`,"_self")},h=e.historicoServicos.reduce((m,g)=>m+g.valor,0),p=s.reduce((m,g)=>m+Number(g.valor_total),0),v=h+p;return a.jsx(Wr,{open:t,onOpenChange:r,children:a.jsxs(Sr,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[a.jsx(Cr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pr,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent",children:e.nomeCompleto}),a.jsx(qh,{cliente:e,onSubmit:m=>n({...e,...m}),trigger:a.jsxs(z,{variant:"outline",size:"sm",children:[a.jsx(Qn,{className:"h-4 w-4 mr-1"}),"Editar"]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-lg",children:"Informaes de Contato"})}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:d(e.telefone)}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>f(e.telefone),className:"h-8",children:[a.jsx(ns,{className:"h-3 w-3 mr-1"}),"Ligar"]}),a.jsxs(z,{size:"sm",onClick:()=>u(e.telefone),className:"h-8 bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(Co,{className:"h-3 w-3 mr-1"}),"WhatsApp"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4 text-lilac-primary"}),a.jsx("span",{children:"ltima visita: "}),a.jsx(ce,{variant:"secondary",children:e.ultimaVisita?(()=>{try{const m=typeof e.ultimaVisita=="string"?new Date(e.ultimaVisita):e.ultimaVisita;return isNaN(m.getTime())?"Data invlida":Te(m,"dd 'de' MMMM, yyyy",{locale:Le})}catch{return"Data invlida"}})():"No informado"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"h-4 w-4 text-pink-accent"}),a.jsx("span",{children:"Servio frequente: "}),a.jsx(ce,{variant:"outline",className:"bg-accent/50",children:e.servicoFrequente})]})]})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{children:[a.jsx(Z,{className:"text-lg",children:"Histrico de Servios"}),a.jsxs(Oe,{children:["Total de ",e.historicoServicos.length," servios realizados  Valor total: R$ ",h.toFixed(2)]})]}),a.jsx(B,{children:e.historicoServicos.length>0?a.jsx("div",{className:"space-y-3",children:e.historicoServicos.sort((m,g)=>new Date(g.data).getTime()-new Date(m.data).getTime()).map(m=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border/50 bg-background/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:m.servico}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Te(m.data,"dd/MM/yyyy",{locale:Le})})]}),a.jsxs(ce,{variant:"secondary",className:"bg-primary/10 text-primary",children:["R$ ",m.valor.toFixed(2)]})]},m.id))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum servio registrado ainda"})})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"text-lg flex items-center gap-2",children:[a.jsx(zP,{className:"h-5 w-5"}),"Histrico de Compras de Produtos"]}),a.jsxs(Oe,{children:["Total de ",s.length," compras  Valor total: R$ ",p.toFixed(2)]})]}),a.jsx(B,{children:i?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando compras..."}):s.length>0?a.jsx("div",{className:"space-y-3",children:s.map(m=>a.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-background/50 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Compra de Produtos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Te(new Date(m.data_venda),"dd/MM/yyyy",{locale:Le})})]}),a.jsxs(ce,{variant:"secondary",className:"bg-primary/10 text-primary",children:["R$ ",Number(m.valor_total).toFixed(2)]})]}),m.itens_venda&&m.itens_venda.length>0&&a.jsx("div",{className:"pl-4 border-l-2 border-border/50 space-y-1",children:m.itens_venda.map(g=>a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",g.quantidade,"x - R$ ",Number(g.valor_unitario).toFixed(2)]},g.id))})]},m.id))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma compra de produtos registrada ainda"})})]}),a.jsx(L,{className:"border-border/50 bg-gradient-to-br from-primary/5 to-lilac-primary/5",children:a.jsx(B,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Gasto (Servios + Produtos)"}),a.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent",children:["R$ ",v.toFixed(2)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Servios: R$ ",h.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Produtos: R$ ",p.toFixed(2)]})]})]})})}),e.observacoes&&a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-lg",children:"Observaes"})}),a.jsx(B,{children:a.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:e.observacoes})})]})]})]})})}function W0e(){const{clientes:e,criarCliente:t,atualizarCliente:r,excluirCliente:n}=Yd(),[s,o]=x.useState(null),[i,c]=x.useState(!1),l=async m=>{await t(m)},d=async m=>{await r(m.id,m),s?.id===m.id&&o(m)},u=async m=>{await n(m),s?.id===m&&(o(null),c(!1))},f=m=>{o(m),c(!0)},h=e.length,p=e.filter(m=>{if(!m.ultimaVisita)return!1;try{const g=new Date,y=new Date(g.getFullYear(),g.getMonth(),1);let b;if(typeof m.ultimaVisita=="string")b=new Date(m.ultimaVisita);else if(m.ultimaVisita instanceof Date)b=m.ultimaVisita;else return!1;return isNaN(b.getTime())?!1:b>=y}catch(g){return console.error("Erro ao processar data da ltima visita:",g),!1}}).length,v=e.reduce((m,g)=>m+(g.historicoServicos?.length||0),0);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Clientes"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro e histrico das suas clientes"})]}),a.jsx(qh,{onSubmit:l})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light",children:a.jsx(qr,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-lilac-primary to-pink-accent",children:a.jsx(qy,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:p}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Visitas Este Ms"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-pink-accent to-lavender",children:a.jsx(Mt,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:v}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Servios"})]})]})})]}),a.jsx(U0e,{clientes:e,onEdit:d,onDelete:u,onViewDetails:f}),a.jsx(q0e,{cliente:s,open:i,onOpenChange:c,onEdit:d})]})}function Ed(e,[t,r]){return Math.min(r,Math.max(t,e))}function Z0(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var H0e=[" ","Enter","ArrowUp","ArrowDown"],G0e=[" ","Enter"],hu="Select",[Ip,Lp,K0e]=Np(hu),[Wc]=ia(hu,[K0e,Us]),Fp=Us(),[Y0e,Xs]=Wc(hu),[Z0e,X0e]=Wc(hu),Z$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:c,onValueChange:l,dir:d,name:u,autoComplete:f,disabled:h,required:p,form:v}=e,m=Fp(t),[g,y]=x.useState(null),[b,w]=x.useState(null),[j,N]=x.useState(!1),S=Vc(d),[_=!1,C]=Ea({prop:n,defaultProp:s,onChange:o}),[E,$]=Ea({prop:i,defaultProp:c,onChange:l}),k=x.useRef(null),P=g?v||!!g.closest("form"):!0,[O,T]=x.useState(new Set),I=Array.from(O).map(R=>R.props.value).join(";");return a.jsx(_m,{...m,children:a.jsxs(Y0e,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Sn(),value:E,onValueChange:$,open:_,onOpenChange:C,dir:S,triggerPointerDownPosRef:k,disabled:h,children:[a.jsx(Ip.Provider,{scope:t,children:a.jsx(Z0e,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(R=>{T(D=>new Set(D).add(R))},[]),onNativeOptionRemove:x.useCallback(R=>{T(D=>{const M=new Set(D);return M.delete(R),M})},[]),children:r})}),P?a.jsxs(jM,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:R=>$(R.target.value),disabled:h,form:v,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},I):null]})})};Z$.displayName=hu;var X$="SelectTrigger",J$=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Fp(r),i=Xs(X$,r),c=i.disabled||n,l=Ve(t,i.onTriggerChange),d=Lp(r),u=x.useRef("touch"),[f,h,p]=wM(m=>{const g=d().filter(w=>!w.disabled),y=g.find(w=>w.value===i.value),b=NM(g,m,y);b!==void 0&&i.onValueChange(b.value)}),v=m=>{c||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(Wd,{asChild:!0,...o,children:a.jsx(ke.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":bM(i.value)?"":void 0,...s,ref:l,onClick:ge(s.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&v(m)}),onPointerDown:ge(s.onPointerDown,m=>{u.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:ge(s.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&H0e.includes(m.key)&&(v(),m.preventDefault())})})})});J$.displayName=X$;var Q$="SelectValue",eM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...c}=e,l=Xs(Q$,r),{onValueNodeHasChildrenChange:d}=l,u=o!==void 0,f=Ve(t,l.onValueNodeChange);return _r(()=>{d(u)},[d,u]),a.jsx(ke.span,{...c,ref:f,style:{pointerEvents:"none"},children:bM(l.value)?a.jsx(a.Fragment,{children:i}):o})});eM.displayName=Q$;var J0e="SelectIcon",tM=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(ke.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});tM.displayName=J0e;var Q0e="SelectPortal",rM=e=>a.jsx(Bd,{asChild:!0,...e});rM.displayName=Q0e;var Fo="SelectContent",nM=x.forwardRef((e,t)=>{const r=Xs(Fo,e.__scopeSelect),[n,s]=x.useState();if(_r(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Md.createPortal(a.jsx(aM,{scope:e.__scopeSelect,children:a.jsx(Ip.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(sM,{...e,ref:t})});nM.displayName=Fo;var Un=10,[aM,Js]=Wc(Fo),eje="SelectContentImpl",sM=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=e,b=Xs(Fo,r),[w,j]=x.useState(null),[N,S]=x.useState(null),_=Ve(t,ie=>j(ie)),[C,E]=x.useState(null),[$,k]=x.useState(null),P=Lp(r),[O,T]=x.useState(!1),I=x.useRef(!1);x.useEffect(()=>{if(w)return vm(w)},[w]),pm();const R=x.useCallback(ie=>{const[we,...oe]=P().map(X=>X.ref.current),[he]=oe.slice(-1),je=document.activeElement;for(const X of ie)if(X===je||(X?.scrollIntoView({block:"nearest"}),X===we&&N&&(N.scrollTop=0),X===he&&N&&(N.scrollTop=N.scrollHeight),X?.focus(),document.activeElement!==je))return},[P,N]),D=x.useCallback(()=>R([C,w]),[R,C,w]);x.useEffect(()=>{O&&D()},[O,D]);const{onOpenChange:M,triggerPointerDownPosRef:U}=b;x.useEffect(()=>{if(w){let ie={x:0,y:0};const we=he=>{ie={x:Math.abs(Math.round(he.pageX)-(U.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(U.current?.y??0))}},oe=he=>{ie.x<=10&&ie.y<=10?he.preventDefault():w.contains(he.target)||M(!1),document.removeEventListener("pointermove",we),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,M,U]),x.useEffect(()=>{const ie=()=>M(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[M]);const[ne,K]=wM(ie=>{const we=P().filter(je=>!je.disabled),oe=we.find(je=>je.ref.current===document.activeElement),he=NM(we,ie,oe);he&&setTimeout(()=>he.ref.current.focus())}),ae=x.useCallback((ie,we,oe)=>{const he=!I.current&&!oe;(b.value!==void 0&&b.value===we||he)&&(E(ie),he&&(I.current=!0))},[b.value]),de=x.useCallback(()=>w?.focus(),[w]),_e=x.useCallback((ie,we,oe)=>{const he=!I.current&&!oe;(b.value!==void 0&&b.value===we||he)&&k(ie)},[b.value]),Ke=n==="popper"?by:oM,q=Ke===by?{side:c,sideOffset:l,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return a.jsx(aM,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:ae,selectedItem:C,onItemLeave:de,itemTextRefCallback:_e,focusSelectedItem:D,selectedItemText:$,position:n,isPositioned:O,searchRef:ne,children:a.jsx(Vd,{as:Ur,allowPinchZoom:!0,children:a.jsx(zd,{asChild:!0,trapped:b.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:ge(s,ie=>{b.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:a.jsx(jc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(Ke,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ie=>ie.preventDefault(),...y,...q,onPlaced:()=>T(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ge(y.onKeyDown,ie=>{const we=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!we&&ie.key.length===1&&K(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let he=P().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const je=ie.target,X=he.indexOf(je);he=he.slice(X+1)}setTimeout(()=>R(he)),ie.preventDefault()}})})})})})})});sM.displayName=eje;var tje="SelectItemAlignedPosition",oM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Xs(Fo,r),i=Js(Fo,r),[c,l]=x.useState(null),[d,u]=x.useState(null),f=Ve(t,_=>u(_)),h=Lp(r),p=x.useRef(!1),v=x.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=i,w=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&d&&m&&g&&y){const _=o.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),$=y.getBoundingClientRect();if(o.dir!=="rtl"){const je=$.left-C.left,X=E.left-je,Ye=_.left-X,ve=_.width+Ye,Ue=Math.max(ve,C.width),Ee=window.innerWidth-Un,et=Ed(X,[Un,Math.max(Un,Ee-Ue)]);c.style.minWidth=ve+"px",c.style.left=et+"px"}else{const je=C.right-$.right,X=window.innerWidth-E.right-je,Ye=window.innerWidth-_.right-X,ve=_.width+Ye,Ue=Math.max(ve,C.width),Ee=window.innerWidth-Un,et=Ed(X,[Un,Math.max(Un,Ee-Ue)]);c.style.minWidth=ve+"px",c.style.right=et+"px"}const k=h(),P=window.innerHeight-Un*2,O=m.scrollHeight,T=window.getComputedStyle(d),I=parseInt(T.borderTopWidth,10),R=parseInt(T.paddingTop,10),D=parseInt(T.borderBottomWidth,10),M=parseInt(T.paddingBottom,10),U=I+R+O+M+D,ne=Math.min(g.offsetHeight*5,U),K=window.getComputedStyle(m),ae=parseInt(K.paddingTop,10),de=parseInt(K.paddingBottom,10),_e=_.top+_.height/2-Un,Ke=P-_e,q=g.offsetHeight/2,ie=g.offsetTop+q,we=I+R+ie,oe=U-we;if(we<=_e){const je=k.length>0&&g===k[k.length-1].ref.current;c.style.bottom="0px";const X=d.clientHeight-m.offsetTop-m.offsetHeight,Ye=Math.max(Ke,q+(je?de:0)+X+D),ve=we+Ye;c.style.height=ve+"px"}else{const je=k.length>0&&g===k[0].ref.current;c.style.top="0px";const Ye=Math.max(_e,I+m.offsetTop+(je?ae:0)+q)+oe;c.style.height=Ye+"px",m.scrollTop=we-_e+m.offsetTop}c.style.margin=`${Un}px 0`,c.style.minHeight=ne+"px",c.style.maxHeight=P+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,c,d,m,g,y,o.dir,n]);_r(()=>w(),[w]);const[j,N]=x.useState();_r(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const S=x.useCallback(_=>{_&&v.current===!0&&(w(),b?.(),v.current=!1)},[w,b]);return a.jsx(nje,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(ke.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});oM.displayName=tje;var rje="SelectPopperPosition",by=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Un,...o}=e,i=Fp(r);return a.jsx(Sm,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});by.displayName=rje;var[nje,X0]=Wc(Fo,{}),jy="SelectViewport",iM=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Js(jy,r),i=X0(jy,r),c=Ve(t,o.onViewportChange),l=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ip.Slot,{scope:r,children:a.jsx(ke.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h?.current&&f){const p=Math.abs(l.current-u.scrollTop);if(p>0){const v=window.innerHeight-Un*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(m,g);if(y<v){const b=y+p,w=Math.min(v,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(u.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});iM.displayName=jy;var cM="SelectGroup",[aje,sje]=Wc(cM),oje=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Sn();return a.jsx(aje,{scope:r,id:s,children:a.jsx(ke.div,{role:"group","aria-labelledby":s,...n,ref:t})})});oje.displayName=cM;var lM="SelectLabel",dM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=sje(lM,r);return a.jsx(ke.div,{id:s.id,...n,ref:t})});dM.displayName=lM;var Hh="SelectItem",[ije,uM]=Wc(Hh),fM=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,c=Xs(Hh,r),l=Js(Hh,r),d=c.value===n,[u,f]=x.useState(o??""),[h,p]=x.useState(!1),v=Ve(t,b=>l.itemRefCallback?.(b,n,s)),m=Sn(),g=x.useRef("touch"),y=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(ije,{scope:r,value:n,disabled:s,textId:m,isSelected:d,onItemTextChange:x.useCallback(b=>{f(w=>w||(b?.textContent??"").trim())},[]),children:a.jsx(Ip.ItemSlot,{scope:r,value:n,disabled:s,textValue:u,children:a.jsx(ke.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:ge(i.onFocus,()=>p(!0)),onBlur:ge(i.onBlur,()=>p(!1)),onClick:ge(i.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:ge(i.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:ge(i.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:ge(i.onPointerMove,b=>{g.current=b.pointerType,s?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(i.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ge(i.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(G0e.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});fM.displayName=Hh;var gl="SelectItemText",hM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Xs(gl,r),c=Js(gl,r),l=uM(gl,r),d=X0e(gl,r),[u,f]=x.useState(null),h=Ve(t,y=>f(y),l.onItemTextChange,y=>c.itemTextRefCallback?.(y,l.value,l.disabled)),p=u?.textContent,v=x.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=d;return _r(()=>(m(v),()=>g(v)),[m,g,v]),a.jsxs(a.Fragment,{children:[a.jsx(ke.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Md.createPortal(o.children,i.valueNode):null]})});hM.displayName=gl;var mM="SelectItemIndicator",pM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return uM(mM,r).isSelected?a.jsx(ke.span,{"aria-hidden":!0,...n,ref:t}):null});pM.displayName=mM;var wy="SelectScrollUpButton",gM=x.forwardRef((e,t)=>{const r=Js(wy,e.__scopeSelect),n=X0(wy,e.__scopeSelect),[s,o]=x.useState(!1),i=Ve(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollTop>0;o(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(xM,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});gM.displayName=wy;var Ny="SelectScrollDownButton",vM=x.forwardRef((e,t)=>{const r=Js(Ny,e.__scopeSelect),n=X0(Ny,e.__scopeSelect),[s,o]=x.useState(!1),i=Ve(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<d;o(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(xM,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});vM.displayName=Ny;var xM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Js("SelectScrollButton",r),i=x.useRef(null),c=Lp(r),l=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),_r(()=>{c().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),a.jsx(ke.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ge(s.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{l()})})}),cje="SelectSeparator",yM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(ke.div,{"aria-hidden":!0,...n,ref:t})});yM.displayName=cje;var _y="SelectArrow",lje=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Fp(r),o=Xs(_y,r),i=Js(_y,r);return o.open&&i.position==="popper"?a.jsx(Cm,{...s,...n,ref:t}):null});lje.displayName=_y;function bM(e){return e===""||e===void 0}var jM=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=x.useRef(null),o=Ve(t,s),i=Z0(r);return x.useEffect(()=>{const c=s.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==r&&u){const f=new Event("change",{bubbles:!0});u.call(c,r),c.dispatchEvent(f)}},[i,r]),a.jsx(mb,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});jM.displayName="BubbleSelect";function wM(e){const t=or(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(i=>{const c=r.current+i;t(c),function l(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),o=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function NM(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=dje(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const l=i.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function dje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uje=Z$,_M=J$,fje=eM,hje=tM,mje=rM,SM=nM,pje=iM,CM=dM,PM=fM,gje=hM,vje=pM,AM=gM,kM=vM,EM=yM;const Fe=uje,ze=fje,Re=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(_M,{ref:n,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(hje,{asChild:!0,children:a.jsx(IP,{className:"h-4 w-4 opacity-50"})})]}));Re.displayName=_M.displayName;const OM=x.forwardRef(({className:e,...t},r)=>a.jsx(AM,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx($3,{className:"h-4 w-4"})}));OM.displayName=AM.displayName;const TM=x.forwardRef(({className:e,...t},r)=>a.jsx(kM,{ref:r,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(IP,{className:"h-4 w-4"})}));TM.displayName=kM.displayName;const Ie=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(mje,{children:a.jsxs(SM,{ref:s,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(OM,{}),a.jsx(pje,{className:Q("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(TM,{})]})}));Ie.displayName=SM.displayName;const xje=x.forwardRef(({className:e,...t},r)=>a.jsx(CM,{ref:r,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));xje.displayName=CM.displayName;const te=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(PM,{ref:n,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(vje,{children:a.jsx(bt,{className:"h-4 w-4"})})}),a.jsx(gje,{children:t})]}));te.displayName=PM.displayName;const yje=x.forwardRef(({className:e,...t},r)=>a.jsx(EM,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));yje.displayName=EM.displayName;function bje({servicos:e,filtros:t,onFiltrosChange:r,onEdit:n,onDelete:s}){const[o,i]=x.useState(null),c=f=>`R$ ${f.toFixed(2).replace(".",",")}`,l=f=>{const h=Math.floor(f/60),p=f%60;return h>0&&p>0?`${h}h ${p}min`:h>0?`${h}h`:`${p}min`},d=f=>{const h=t.ordenacao===f&&t.direcao==="asc"?"desc":"asc";r({...t,ordenacao:f,direcao:h})},u=f=>t.ordenacao!==f?a.jsx(P3,{className:"h-4 w-4 text-muted-foreground"}):t.direcao==="asc"?a.jsx(A3,{className:"h-4 w-4 text-primary"}):a.jsx(C3,{className:"h-4 w-4 text-primary"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Vs,{className:"h-5 w-5 text-primary"}),"Filtros e Ordenao"]})}),a.jsxs(B,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar servio...",value:t.busca||"",onChange:f=>r({...t,busca:f.target.value}),className:"pl-10"})]}),a.jsxs(Fe,{value:`${t.ordenacao}-${t.direcao}`,onValueChange:f=>{const[h,p]=f.split("-");r({...t,ordenacao:h,direcao:p})},children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Ordenar por"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"nome-asc",children:"Nome (A-Z)"}),a.jsx(te,{value:"nome-desc",children:"Nome (Z-A)"}),a.jsx(te,{value:"valor-asc",children:"Valor (Menor primeiro)"}),a.jsx(te,{value:"valor-desc",children:"Valor (Maior primeiro)"}),a.jsx(te,{value:"duracao-asc",children:"Durao (Menor primeiro)"}),a.jsx(te,{value:"duracao-desc",children:"Durao (Maior primeiro)"})]})]})]}),t.busca&&a.jsx("div",{className:"mt-4",children:a.jsx(z,{variant:"outline",size:"sm",onClick:()=>r({...t,busca:""}),children:"Limpar busca"})})]})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(un,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum servio encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:t.busca?"Tente ajustar os filtros ou criar um novo servio.":"Comece criando seu primeiro servio."})]})}):a.jsxs(a.Fragment,{children:[a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm hidden md:block",children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center font-semibold text-sm text-muted-foreground",children:[a.jsxs("button",{className:"flex items-center gap-2 hover:text-foreground transition-colors text-left",onClick:()=>d("nome"),children:["Servio",u("nome")]}),a.jsxs("button",{className:"flex items-center gap-2 hover:text-foreground transition-colors",onClick:()=>d("valor"),children:["Valor",u("valor")]}),a.jsxs("button",{className:"flex items-center gap-2 hover:text-foreground transition-colors",onClick:()=>d("duracao"),children:["Durao",u("duracao")]}),a.jsx("div",{children:"Descrio"}),a.jsx("div",{className:"text-right",children:"Aes"})]})})}),e.map(f=>a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/70 transition-all duration-200",children:a.jsxs(B,{className:"p-6",children:[a.jsxs("div",{className:"md:hidden space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(un,{className:"h-4 w-4 text-primary"})}),f.nome]}),f.descricao&&a.jsx("p",{className:"text-sm text-muted-foreground",children:f.descricao})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(f),children:a.jsx(Qn,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(f),className:"text-destructive hover:text-destructive",children:a.jsx(gr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium text-primary",children:c(f.valor)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:l(f.duracao)})]})]})]}),a.jsxs("div",{className:"hidden md:grid md:grid-cols-5 md:gap-4 md:items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(un,{className:"h-5 w-5 text-primary"})}),a.jsx("div",{children:a.jsx("h3",{className:"font-semibold text-foreground",children:f.nome})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium text-primary",children:c(f.valor)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:l(f.duracao)})]}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:f.descricao||"-"})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(f),children:a.jsx(Qn,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(f),className:"text-destructive hover:text-destructive",children:a.jsx(gr,{className:"h-4 w-4"})})]})]})]})},f.id))]})}),a.jsx(sa,{open:!!o,onOpenChange:()=>i(null),children:a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsxs(Mn,{children:['Tem certeza que deseja excluir o servio "',o?.nome,'"? Esta ao no pode ser desfeita e pode afetar agendamentos existentes.']})]}),a.jsxs(Tn,{children:[a.jsx(oa,{children:"Cancelar"}),a.jsx(Dn,{onClick:()=>{o&&(s(o.id),i(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const jje=Ys({nome:ut().min(1,"Nome do servio  obrigatrio").max(100,"Nome muito longo"),valor:ks().min(.01,"Valor deve ser maior que zero"),duracao:ks().int().min(1,"Durao deve ser pelo menos 1 minuto"),descricao:ut().optional(),observacoes:ut().optional()});function wje({servico:e,onSubmit:t,onCancel:r}){const n=Rs({resolver:Is(jje),defaultValues:{nome:e?.nome||"",valor:e?.valor||0,duracao:e?.duracao||30,descricao:e?.descricao||"",observacoes:e?.observacoes||""}}),s=i=>{t(i)},o=!!e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(z,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center gap-2",children:[a.jsx(Id,{className:"h-4 w-4"}),"Voltar"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:o?"Editar Servio":"Novo Servio"}),a.jsx("p",{className:"text-muted-foreground",children:o?"Atualize as informaes do servio":"Preencha os dados do novo servio"})]})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(un,{className:"h-5 w-5 text-primary"})}),"Informaes do Servio"]}),a.jsx(Oe,{children:"Preencha todos os campos obrigatrios para cadastrar o servio"})]}),a.jsx(B,{children:a.jsx(dc,{...n,children:a.jsxs("form",{onSubmit:n.handleSubmit(s),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(st,{control:n.control,name:"nome",render:({field:i})=>a.jsxs(tt,{children:[a.jsxs(rt,{children:["Nome do Servio ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Ex: Corte Feminino",...i})}),a.jsx(it,{})]})}),a.jsx(st,{control:n.control,name:"valor",render:({field:i})=>a.jsxs(tt,{children:[a.jsxs(rt,{children:["Valor (R$) ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(nt,{children:a.jsx(se,{type:"number",step:"0.01",min:"0.01",placeholder:"0,00",...i,onChange:c=>i.onChange(parseFloat(c.target.value)||0)})}),a.jsx(it,{})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(st,{control:n.control,name:"duracao",render:({field:i})=>a.jsxs(tt,{children:[a.jsxs(rt,{children:["Durao (minutos) ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(nt,{children:a.jsx(se,{type:"number",min:"1",placeholder:"30",...i,onChange:c=>i.onChange(parseInt(c.target.value)||0)})}),a.jsx(it,{})]})}),a.jsx("div",{})]}),a.jsx(st,{control:n.control,name:"descricao",render:({field:i})=>a.jsxs(tt,{children:[a.jsx(rt,{children:"Descrio"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Breve descrio do servio",...i})}),a.jsx(it,{})]})}),a.jsx(st,{control:n.control,name:"observacoes",render:({field:i})=>a.jsxs(tt,{children:[a.jsx(rt,{children:"Observaes"}),a.jsx(nt,{children:a.jsx(pr,{placeholder:"Observaes adicionais sobre o servio (opcional)",rows:3,...i})}),a.jsx(it,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,className:"sm:w-auto",children:"Cancelar"}),a.jsx(z,{type:"submit",className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 sm:w-auto",children:o?"Atualizar Servio":"Criar Servio"})]})]})})})]})]})}function Nje(){const{servicos:e,filtros:t,setFiltros:r,criarServico:n,atualizarServico:s,excluirServico:o}=Kd(),[i,c]=x.useState("lista"),[l,d]=x.useState(null),u=()=>{d(null),c("formulario")},f=v=>{d(v),c("formulario")},h=v=>{(l?s(l.id,v):n(v))&&(c("lista"),d(null))},p=()=>{c("lista"),d(null)};return i==="formulario"?a.jsx("div",{className:"space-y-8",children:a.jsx(wje,{servico:l||void 0,onSubmit:h,onCancel:p})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Servios"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os servios oferecidos pelo seu salo"})]}),a.jsxs(z,{onClick:u,className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Novo Servio"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light",children:a.jsx(un,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Servios"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-lilac-primary to-pink-accent",children:a.jsx(un,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",e.length>0?Math.min(...e.map(v=>v.valor)).toFixed(2):"0,00"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Menor Valor"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-pink-accent to-lavender",children:a.jsx(un,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",e.length>0?Math.max(...e.map(v=>v.valor)).toFixed(2):"0,00"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maior Valor"})]})]})})]}),a.jsx(bje,{servicos:e,filtros:t,onFiltrosChange:r,onEdit:f,onDelete:o})]})}const $M=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,o]=x.useState(!0),[i,c]=x.useState(null),l=async()=>{try{o(!0);const{data:g,error:y}=await W.from("cronogramas_completos").select("*").order("created_at",{ascending:!1});if(y)throw y;const b=(g||[]).map(w=>({id_cronograma:w.id_cronograma,cliente_id:w.cliente_id,cliente_nome:w.cliente_nome,servico_id:w.servico_id,tipo_servico:w.tipo_servico,data_inicio:w.data_inicio,hora_inicio:w.hora_inicio,duracao_minutos:w.duracao_minutos,recorrencia:w.recorrencia,intervalo_dias:w.intervalo_dias,observacoes:w.observacoes,status:w.status,created_at:w.created_at,updated_at:w.updated_at,cliente_nome_real:w.cliente_nome_real,cliente_telefone:w.cliente_telefone,cliente_email:w.cliente_email,servico_nome_real:w.servico_nome_real,servico_valor:w.servico_valor,servico_duracao:w.servico_duracao,total_retornos:w.total_retornos||0,retornos_pendentes:w.retornos_pendentes||0,retornos_realizados:w.retornos_realizados||0,proximo_retorno:w.proximo_retorno}));t(b)}catch(g){c(g instanceof Error?g.message:"Erro ao carregar cronogramas")}finally{o(!1)}},d=async()=>{try{const{data:g,error:y}=await W.from("retornos_completos").select("*").order("data_retorno",{ascending:!0});if(y)throw y;const b=(g||[]).map(w=>({id_retorno:w.id_retorno,id_cliente:w.id_cliente,id_cronograma:w.id_cronograma,data_retorno:w.data_retorno,status:w.status,id_agendamento_retorno:w.id_agendamento_retorno,created_at:w.created_at,updated_at:w.updated_at,cliente_nome:w.cliente_nome,cliente_telefone:w.cliente_telefone,tipo_servico:w.tipo_servico,hora_inicio:w.hora_inicio,recorrencia:w.recorrencia,agendamento_data:w.agendamento_data,agendamento_hora:w.agendamento_hora,agendamento_status:w.agendamento_status}));n(b)}catch(g){c(g instanceof Error?g.message:"Erro ao carregar retornos")}},u=async g=>{try{const{data:y}=await W.auth.getUser();if(!y.user)throw new Error("Usurio no autenticado");const{data:b,error:w}=await W.from("cronogramas_novos").insert({user_id:y.user.id,cliente_id:g.cliente_id,cliente_nome:g.cliente_nome,servico_id:g.servico_id,tipo_servico:g.tipo_servico,data_inicio:g.data_inicio,hora_inicio:g.hora_inicio,duracao_minutos:g.duracao_minutos,recorrencia:g.recorrencia,intervalo_dias:g.intervalo_dias,observacoes:g.observacoes,status:g.status}).select().single();if(w)throw w;return await l(),b}catch(y){throw c(y instanceof Error?y.message:"Erro ao criar cronograma"),y}},f=async(g,y)=>{try{const{error:b}=await W.from("cronogramas_novos").update(y).eq("id_cronograma",g);if(b)throw b;await l()}catch(b){throw c(b instanceof Error?b.message:"Erro ao atualizar cronograma"),b}},h=async g=>{try{const{error:y}=await W.from("cronogramas_novos").delete().eq("id_cronograma",g);if(y)throw y;await l()}catch(y){throw c(y instanceof Error?y.message:"Erro ao deletar cronograma"),y}},p=async g=>{try{const{data:y}=await W.auth.getUser();if(!y.user)throw new Error("Usurio no autenticado");const{data:b,error:w}=await W.from("retornos_novos").insert({user_id:y.user.id,id_cliente:g.id_cliente,id_cronograma:g.id_cronograma,data_retorno:g.data_retorno,status:g.status,id_agendamento_retorno:g.id_agendamento_retorno}).select().single();if(w)throw w;return await d(),b}catch(y){throw c(y instanceof Error?y.message:"Erro ao criar retorno"),y}},v=async(g,y)=>{try{const{error:b}=await W.from("retornos_novos").update(y).eq("id_retorno",g);if(b)throw b;await d()}catch(b){throw c(b instanceof Error?b.message:"Erro ao atualizar retorno"),b}},m=async(g,y,b)=>{try{const{data:w}=await W.auth.getUser();if(!w.user)throw new Error("Usurio no autenticado");const j=r.find(E=>E.id_retorno===g);if(!j)throw new Error("Retorno no encontrado");const{data:N,error:S}=await W.from("cronogramas_novos").select("*, servicos(*)").eq("id_cronograma",j.id_cronograma).single();if(S)throw S;const{data:_,error:C}=await W.from("agendamentos").insert({user_id:w.user.id,cliente_id:j.id_cliente,servico_id:N.servico_id,data:y,hora:b,duracao:N.duracao_minutos,valor:N.servicos?.valor||0,valor_devido:N.servicos?.valor||0,status:"agendado",observacoes:`Retorno do cronograma: ${N.tipo_servico}`}).select().single();if(C)throw C;return await v(g,{status:"Realizado",id_agendamento_retorno:_.id}),_}catch(w){throw c(w instanceof Error?w.message:"Erro ao criar agendamento de retorno"),w}};return x.useEffect(()=>{l(),d();const g=W.channel("cronogramas-realtime").on("postgres_changes",{event:"*",schema:"public",table:"cronogramas_novos"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"retornos_novos"},()=>{d(),l()}).on("postgres_changes",{event:"*",schema:"public",table:"clientes"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"servicos"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"agendamentos"},()=>{d()}).subscribe();return()=>{W.removeChannel(g)}},[]),{cronogramas:e,retornos:r,loading:s,error:i,createCronograma:u,updateCronograma:f,deleteCronograma:h,createRetorno:p,updateRetorno:v,criarAgendamentoDeRetorno:m,loadCronogramas:l,loadRetornos:d}},J0=()=>{const{cronogramas:e,createCronograma:t,updateCronograma:r,deleteCronograma:n,loading:s}=$M();return{cronogramas:e,loading:s,error:null,createCronograma:async l=>await t(l),updateCronograma:async(l,d)=>await r(l,d),deleteCronograma:async l=>await n(l)}},zp=()=>{const{retornos:e,createRetorno:t,updateRetorno:r,loading:n}=$M();return{retornos:e,loading:n,error:null,createRetorno:t,updateRetorno:r,marcarRetornoRealizado:async(d,u)=>{await r(d,{status:"Realizado",id_agendamento_retorno:u})},cancelarRetorno:async d=>{await r(d,{status:"Cancelado"})},getRetornosPendentes:()=>e.filter(d=>d.status==="Pendente"),getRetornosPorCliente:d=>e.filter(u=>u.id_cliente===d),getRetornosPorCronograma:d=>e.filter(u=>u.id_cronograma===d)}};function _je({cronograma:e,onSuccess:t,onCancel:r}){const[n,s]=x.useState({cliente_id:e?.cliente_id||"",servico_id:e?.servico_id||"",data_inicio:e?.data_inicio||"",hora_inicio:e?.hora_inicio||"09:00",recorrencia:e?.recorrencia||"Semanal",intervalo_dias:e?.intervalo_dias||void 0,observacoes:e?.observacoes||"",status:e?.status||"ativo"}),{createCronograma:o,updateCronograma:i,loading:c}=J0(),{clientes:l}=Yd(),{servicos:d}=Kd(),{toast:u}=Rp(),f=async p=>{if(p.preventDefault(),!n.cliente_id||!n.servico_id||!n.data_inicio){u({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}const v=l.find(y=>y.id===n.cliente_id),m=d.find(y=>y.id===n.servico_id);if(!v||!m){u({title:"Erro",description:"Cliente ou servio no encontrado.",variant:"destructive"});return}let g=n.intervalo_dias;n.recorrencia==="Semanal"?g=7:n.recorrencia==="Quinzenal"?g=14:n.recorrencia==="Mensal"&&(g=30);try{const y={cliente_id:n.cliente_id,cliente_nome:v.nome,servico_id:n.servico_id,tipo_servico:m.nome,data_inicio:n.data_inicio,hora_inicio:n.hora_inicio,duracao_minutos:m.duracao,recorrencia:n.recorrencia,intervalo_dias:g,observacoes:n.observacoes,status:n.status};e?(await i(e.id_cronograma,y),u({title:"Cronograma atualizado",description:"O cronograma foi atualizado com sucesso."})):(await o(y),u({title:"Cronograma criado",description:"O cronograma foi criado com sucesso."})),t?.()}catch{u({title:"Erro",description:"Ocorreu um erro ao salvar o cronograma.",variant:"destructive"})}},h=(p,v)=>{s(m=>({...m,[p]:v}))};return a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:e?"Editar Cronograma":"Novo Cronograma"})}),a.jsx(B,{children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cliente_id",children:"Cliente *"}),a.jsxs(Fe,{value:n.cliente_id,onValueChange:p=>h("cliente_id",p),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione o cliente"})}),a.jsx(Ie,{children:l.filter(p=>p.id&&p.id.trim()!=="").map(p=>a.jsx(te,{value:p.id,children:p.nome},p.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"servico_id",children:"Servio *"}),a.jsxs(Fe,{value:n.servico_id,onValueChange:p=>h("servico_id",p),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione o servio"})}),a.jsx(Ie,{children:d.filter(p=>p.id&&p.id.trim()!=="").map(p=>a.jsxs(te,{value:p.id,children:[p.nome," - ",p.duracao,"min - R$ ",p.valor]},p.id))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"data_inicio",children:"Data de Incio *"}),a.jsx(se,{id:"data_inicio",type:"date",value:n.data_inicio,onChange:p=>h("data_inicio",p.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"hora_inicio",children:"Horrio de Incio *"}),a.jsx(se,{id:"hora_inicio",type:"time",value:n.hora_inicio,onChange:p=>h("hora_inicio",p.target.value),required:!0})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"recorrencia",children:"Recorrncia *"}),a.jsxs(Fe,{value:n.recorrencia,onValueChange:p=>h("recorrencia",p),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione a recorrncia"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"Semanal",children:"Semanal (7 dias)"}),a.jsx(te,{value:"Quinzenal",children:"Quinzenal (14 dias)"}),a.jsx(te,{value:"Mensal",children:"Mensal (30 dias)"}),a.jsx(te,{value:"Personalizada",children:"Personalizada"})]})]})]}),n.recorrencia==="Personalizada"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"intervalo_dias",children:"Intervalo (dias)"}),a.jsx(se,{id:"intervalo_dias",type:"number",min:"1",max:"365",value:n.intervalo_dias||"",onChange:p=>h("intervalo_dias",parseInt(p.target.value)||void 0),placeholder:"Ex: 21 dias",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"status",children:"Status"}),a.jsxs(Fe,{value:n.status,onValueChange:p=>h("status",p),children:[a.jsx(Re,{children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"ativo",children:"Ativo"}),a.jsx(te,{value:"cancelado",children:"Cancelado"}),a.jsx(te,{value:"concluido",children:"Concludo"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"observacoes",children:"Observaes"}),a.jsx(pr,{id:"observacoes",value:n.observacoes,onChange:p=>h("observacoes",p.target.value),placeholder:"Observaes sobre o cronograma...",rows:3})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(z,{type:"submit",disabled:c,children:c?"Salvando...":e?"Atualizar":"Criar"}),r&&a.jsx(z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"})]})]})})]})}const Sje=()=>{const[e,t]=x.useState(!1),r=x.useCallback((i,c,l,d="09:00")=>{const u=l.filter(h=>h.data===i&&h.status!=="cancelado"),f=[];for(let h=9;h<18;h++)for(let p=0;p<60;p+=30){const v=`${h.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`;f.push(v)}for(const h of f){const p=new Date(`${i}T${h}`),v=new Date(p.getTime()+c*6e4);if(!u.some(g=>{const y=new Date(`${g.data}T${g.hora}`),b=new Date(y.getTime()+g.duracao*6e4);return p<b&&v>y}))return h}return d},[]),n=x.useCallback((i,c,l,d,u)=>{const f=[],h=new Date(l);for(let p=0;p<d;p++){const v=new Date(h);v.setDate(h.getDate()+p*i.intervalo_dias);const m=v.toISOString().split("T")[0],g=r(m,c.duracao,[...u,...f]),y={id:`cronograma_${i.id_cronograma}_${p}_${Date.now()}`,clienteId:c.clienteId,clienteNome:c.clienteNome,servicoId:c.servicoId,servicoNome:c.servicoNome,data:m,hora:g,duracao:c.duracao,valor:c.valor,valorPago:0,valorDevido:c.valor,formaPagamento:"fiado",statusPagamento:"em_aberto",status:"agendado",observacoes:`Agendamento gerado automaticamente pelo cronograma: ${i.tipo_servico}`,origem:"cronograma",origem_cronograma:!0,cronogramaId:i.id_cronograma,confirmado:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f.push(y)}return f},[r]),s=x.useCallback((i,c)=>{i.origem==="cronograma"&&i.cronogramaId&&V.success("Cronograma atualizado - O progresso do cronograma foi atualizado automaticamente.")},[]),o=x.useCallback((i,c)=>{i.origem==="cronograma"&&i.cronogramaId&&V.warning("Cronograma atualizado - O retorno foi cancelado no cronograma.")},[]);return{loading:e,gerarAgendamentosCronograma:n,processarConclusaoAgendamento:s,processarCancelamentoAgendamento:o,encontrarHorarioDisponivel:r}};function Cje({cronograma:e,clientes:t,servicos:r,agendamentosExistentes:n,onGerarAgendamentos:s,onSuccess:o,onCancel:i}){const[c,l]=x.useState(""),[d,u]=x.useState(""),[f,h]=x.useState(""),[p,v]=x.useState(4),[m,g]=x.useState(!1),{gerarAgendamentosCronograma:y}=Sje(),b=async w=>{if(w.preventDefault(),!e||!c||!d||!f){Xt({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}const j=t.find(S=>S.id===c),N=r.find(S=>S.id===d);if(!j||!N){Xt({title:"Erro",description:"Cliente ou servio no encontrado.",variant:"destructive"});return}g(!0);try{const S={clienteId:j.id,clienteNome:j.nome,servicoId:N.id,servicoNome:N.nome,data:f,duracao:N.duracao,valor:N.valor,cronogramaId:e.id_cronograma},_=y(e,S,f,p,n);s(_),Xt({title:"Cronograma ativado",description:`${_.length} agendamentos foram criados automaticamente.`}),o?.()}catch{Xt({title:"Erro",description:"Erro ao gerar agendamentos do cronograma.",variant:"destructive"})}finally{g(!1)}};return a.jsxs(L,{className:"w-full max-w-2xl mx-auto",children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5 text-primary"}),"Ativar Cronograma: ",e?.tipo_servico]}),a.jsx(Oe,{children:"Configure os detalhes para gerar agendamentos automticos"})]}),a.jsx(B,{children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cliente",children:"Cliente *"}),a.jsxs(Fe,{value:c,onValueChange:l,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione o cliente"})}),a.jsx(Ie,{children:t.map(w=>a.jsx(te,{value:w.id,children:w.nome},w.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"servico",children:"Servio *"}),a.jsxs(Fe,{value:d,onValueChange:u,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione o servio"})}),a.jsx(Ie,{children:r.map(w=>a.jsxs(te,{value:w.id,children:[w.nome," - ",w.duracao,"min - R$ ",w.valor]},w.id))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"dataInicio",children:"Data de Incio *"}),a.jsx(se,{id:"dataInicio",type:"date",value:f,onChange:w=>h(w.target.value),min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"numeroSessoes",children:"Nmero de Sesses"}),a.jsx(se,{id:"numeroSessoes",type:"number",min:"1",max:"20",value:p,onChange:w=>v(parseInt(w.target.value)||1)})]})]}),e&&a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4"}),"Resumo do Cronograma"]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[a.jsx("strong",{children:"Intervalo:"})," A cada ",e.intervalo_dias," dias"]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[a.jsx("strong",{children:"Descrio:"})," ",e.observacoes||"Sem observaes"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Sesses:"})," ",p," agendamentos sero criados"]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(z,{type:"submit",disabled:m,className:"flex-1",children:m?a.jsxs(a.Fragment,{children:[a.jsx(at,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),"Gerar Agendamentos"]})}),i&&a.jsx(z,{type:"button",variant:"outline",onClick:i,children:"Cancelar"})]})]})})]})}function Pje(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[s,o]=x.useState(null),[i,c]=x.useState(!1),{cronogramas:l,loading:d,deleteCronograma:u}=J0(),{clientes:f}=Yd(),{servicos:h}=Kd(),{agendamentos:p,criarAgendamento:v}=Y2(),{toast:m}=Rp(),g=async E=>{try{await u(E),m({title:"Cronograma removido",description:"O cronograma foi removido com sucesso."})}catch{m({title:"Erro",description:"Erro ao remover cronograma.",variant:"destructive"})}},y=()=>{n(!1),t(null)},b=()=>{n(!1),t(null)},w=E=>{o(E),c(!0)},j=async E=>{try{for(const $ of E)await v($);c(!1),o(null),m({title:"Cronograma ativado",description:`${E.length} agendamentos foram criados com sucesso.`})}catch{m({title:"Erro",description:"Erro ao gerar agendamentos.",variant:"destructive"})}},N=()=>{c(!1),o(null)},S=E=>{switch(E){case"ativo":return a.jsxs(ce,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[a.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Ativo"]});case"cancelado":return a.jsxs(ce,{variant:"destructive",children:[a.jsx(X3,{className:"w-3 h-3 mr-1"}),"Cancelado"]});case"concluido":return a.jsxs(ce,{variant:"secondary",children:[a.jsx(Pn,{className:"w-3 h-3 mr-1"}),"Concludo"]});default:return a.jsx(ce,{variant:"outline",children:E})}},_=E=>E.recorrencia==="Personalizada"&&E.intervalo_dias?`A cada ${E.intervalo_dias} dias`:E.recorrencia,C=E=>{const $=new Date(E.data_inicio),k=new Date;let P=7;E.recorrencia==="Quinzenal"?P=14:E.recorrencia==="Mensal"?P=30:E.recorrencia==="Personalizada"&&E.intervalo_dias&&(P=E.intervalo_dias);let O=new Date($);for(;O<=k;)O.setDate(O.getDate()+P);return O.toLocaleDateString("pt-BR")};return d?a.jsx("div",{children:"Carregando cronogramas..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Lista de Cronogramas"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gerencie cronogramas de retorno dos seus clientes"})]}),a.jsxs(Wr,{open:r,onOpenChange:n,children:[a.jsx(fu,{asChild:!0,children:a.jsx(z,{onClick:()=>t(null),className:"w-full sm:w-auto",children:"Novo Cronograma"})}),a.jsxs(Sr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Cr,{children:[a.jsx(Pr,{children:e?"Editar Cronograma":"Novo Cronograma"}),a.jsx(kn,{children:"Configure os detalhes do cronograma de retorno"})]}),a.jsx(_je,{cronograma:e,onSuccess:y,onCancel:b})]})]})]}),a.jsx(Wr,{open:i,onOpenChange:c,children:a.jsxs(Sr,{className:"max-w-3xl",children:[a.jsxs(Cr,{children:[a.jsx(Pr,{children:"Ativar Cronograma"}),a.jsx(kn,{children:"Configure os agendamentos automticos para este cronograma"})]}),s&&a.jsx(Cje,{cronograma:s,clientes:f.map(E=>({id:E.id,nome:E.nome})),servicos:h,agendamentosExistentes:p,onGerarAgendamentos:j,onSuccess:()=>c(!1),onCancel:N})]})}),l.length===0?a.jsx(L,{children:a.jsxs(B,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum cronograma cadastrado"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Crie seu primeiro cronograma para automatizar retornos de clientes"}),a.jsx(z,{onClick:()=>n(!0),children:"Criar Primeiro Cronograma"})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:l.map(E=>a.jsxs(L,{className:"hover:shadow-md transition-shadow",children:[a.jsxs(Y,{className:"pb-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsx(Z,{className:"text-lg truncate",children:E.cliente_nome}),S(E.status)]}),a.jsxs(Oe,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:E.tipo_servico})]})]}),a.jsxs(B,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Prximo retorno:"}),a.jsx("span",{className:"font-medium",children:C(E)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Durao:"}),a.jsxs("span",{children:[E.duracao_minutos," min"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Recorrncia:"}),a.jsx("span",{className:"break-words",children:_(E)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Horrio:"}),a.jsx("span",{children:E.hora_inicio})]})]}),E.observacoes&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Obs:"}),a.jsx("p",{className:"text-foreground mt-1 break-words",children:E.observacoes})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-3",children:[E.status==="ativo"&&a.jsxs(z,{variant:"default",size:"sm",onClick:()=>w(E),className:"flex-1",children:[a.jsx(J3,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Ativar"}),a.jsx("span",{className:"sm:hidden",children:"Ativar"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{t(E),n(!0)},className:"flex-1 sm:flex-initial",children:[a.jsx(Qn,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 sm:hidden",children:"Editar"})]}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",children:[a.jsx(gr,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 sm:hidden",children:"Excluir"})]})}),a.jsxs(En,{className:"mx-4 max-w-sm sm:max-w-lg",children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsx(Mn,{children:"Tem certeza que deseja excluir este cronograma? Esta ao no pode ser desfeita."})]}),a.jsxs(Tn,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(oa,{className:"w-full sm:w-auto",children:"Cancelar"}),a.jsx(Dn,{onClick:()=>g(E.id_cronograma),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 w-full sm:w-auto",children:"Excluir"})]})]})]})]})]})]})]},E.id_cronograma))})]})}const EC=[{id_cliente:"1",nome_completo:"Maria Silva"},{id_cliente:"2",nome_completo:"Ana Santos"}],Aje=[{id_cronograma:"1",nome:"Hidratao Quinzenal"},{id_cronograma:"2",nome:"Cauterizao Mensal"}];function kje(){const[e,t]=x.useState("all"),[r,n]=x.useState("all"),{retornos:s,marcarRetornoRealizado:o,cancelarRetorno:i,loading:c}=zp(),{toast:l}=Rp(),d=m=>EC.find(g=>g.id_cliente===m)?.nome_completo||"Cliente no encontrado",u=m=>Aje.find(g=>g.id_cronograma===m)?.nome||"Cronograma no encontrado",f=async m=>{try{await o(m),l({title:"Retorno marcado como realizado",description:"O prximo retorno ser automaticamente agendado."})}catch{l({title:"Erro",description:"Ocorreu um erro ao marcar o retorno como realizado.",variant:"destructive"})}},h=async m=>{try{await i(m),l({title:"Retorno cancelado",description:"O retorno foi cancelado com sucesso."})}catch{l({title:"Erro",description:"Ocorreu um erro ao cancelar o retorno.",variant:"destructive"})}},p=s.filter(m=>{const g=e==="all"||m.status===e,y=r==="all"||m.id_cliente===r;return g&&y}),v=m=>{switch(m){case"Pendente":return a.jsxs(ce,{variant:"secondary",children:[a.jsx(at,{className:"h-3 w-3 mr-1"}),"Pendente"]});case"Realizado":return a.jsxs(ce,{variant:"default",children:[a.jsx(Pn,{className:"h-3 w-3 mr-1"}),"Realizado"]});case"Cancelado":return a.jsxs(ce,{variant:"destructive",children:[a.jsx(rs,{className:"h-3 w-3 mr-1"}),"Cancelado"]});default:return a.jsx(ce,{variant:"outline",children:m})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Retornos dos Clientes"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Acompanhe e gerencie os retornos programados"})]})}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Vs,{className:"h-5 w-5"}),"Filtros"]})}),a.jsx(B,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(Fe,{value:e,onValueChange:t,children:[a.jsx(Re,{className:"w-full sm:w-40",children:a.jsx(ze,{placeholder:"Filtrar por status"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"all",children:"Todos"}),a.jsx(te,{value:"Pendente",children:"Pendente"}),a.jsx(te,{value:"Realizado",children:"Realizado"}),a.jsx(te,{value:"Cancelado",children:"Cancelado"})]})]})]}),a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Cliente"}),a.jsxs(Fe,{value:r,onValueChange:n,children:[a.jsx(Re,{className:"w-full sm:w-48",children:a.jsx(ze,{placeholder:"Filtrar por cliente"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"all",children:"Todos os clientes"}),EC.map(m=>a.jsx(te,{value:m.id_cliente,children:m.nome_completo},m.id_cliente))]})]})]})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Lista de Retornos"})}),a.jsx(B,{children:p.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum retorno encontrado"}),a.jsx("p",{className:"text-muted-foreground text-center",children:"No h retornos que correspondam aos filtros selecionados"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{className:"min-w-[150px]",children:"Cliente"}),a.jsx(pe,{className:"min-w-[120px] hidden sm:table-cell",children:"Cronograma"}),a.jsx(pe,{className:"min-w-[120px]",children:"Data do Retorno"}),a.jsx(pe,{className:"min-w-[100px]",children:"Status"}),a.jsx(pe,{className:"min-w-[150px]",children:"Aes"})]})}),a.jsx(Ir,{children:p.map(m=>a.jsxs(ht,{children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),a.jsx("span",{className:"truncate",children:d(m.id_cliente)})]})}),a.jsx(fe,{className:"hidden sm:table-cell",children:a.jsx("span",{className:"truncate",children:u(m.id_cronograma)})}),a.jsx(fe,{children:a.jsx("div",{className:"text-sm",children:Te(new Date(m.data_retorno),"dd/MM/yyyy",{locale:Le})})}),a.jsx(fe,{children:v(m.status)}),a.jsx(fe,{children:a.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:m.status==="Pendente"&&a.jsxs(a.Fragment,{children:[a.jsxs(z,{size:"sm",onClick:()=>f(m.id_retorno),disabled:c,className:"w-full sm:w-auto text-xs",children:[a.jsx(Pn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Realizado"}),a.jsx("span",{className:"sm:hidden",children:"OK"})]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>h(m.id_retorno),disabled:c,className:"w-full sm:w-auto text-xs",children:[a.jsx(rs,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Cancelar"}),a.jsx("span",{className:"sm:hidden",children:"X"})]})]})})})]},m.id_retorno))})]})})})]})]})}function Eje(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Cronogramas"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie cronogramas de retorno e integre automaticamente com agendamentos"})]}),a.jsxs(Jr,{className:"bg-purple-50 border-purple-200",children:[a.jsx(V3,{className:"h-4 w-4 text-purple-600"}),a.jsxs(Qr,{className:"text-purple-700",children:[a.jsx("strong",{children:"Nova funcionalidade:"}),' Agora voc pode ativar cronogramas para gerar agendamentos automticos! Clique em "Ativar" em qualquer cronograma para criar uma srie de agendamentos automaticamente.']})]}),a.jsxs(da,{defaultValue:"cronogramas",className:"space-y-6",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-2 max-w-full sm:max-w-md",children:[a.jsx(He,{value:"cronogramas",className:"text-sm",children:"Cronogramas"}),a.jsx(He,{value:"retornos",className:"text-sm",children:"Retornos"})]}),a.jsx(Ge,{value:"cronogramas",className:"space-y-6",children:a.jsx(Pje,{})}),a.jsx(Ge,{value:"retornos",className:"space-y-6",children:a.jsx(kje,{})})]})]})}function Oje(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Q0="ScrollArea",[MM]=ia(Q0),[Tje,Fn]=MM(Q0),DM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[c,l]=x.useState(null),[d,u]=x.useState(null),[f,h]=x.useState(null),[p,v]=x.useState(null),[m,g]=x.useState(null),[y,b]=x.useState(0),[w,j]=x.useState(0),[N,S]=x.useState(!1),[_,C]=x.useState(!1),E=Ve(t,k=>l(k)),$=Vc(s);return a.jsx(Tje,{scope:r,type:n,dir:$,scrollHideDelay:o,scrollArea:c,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:b,onCornerHeightChange:j,children:a.jsx(ke.div,{dir:$,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});DM.displayName=Q0;var RM="ScrollAreaViewport",IM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=e,c=Fn(RM,r),l=x.useRef(null),d=Ve(t,l,c.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(ke.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Vje({asChild:s,children:n},u=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});IM.displayName=RM;var Ia="ScrollAreaScrollbar",ej=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Fn(Ia,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,c=e.orientation==="horizontal";return x.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),s.type==="hover"?a.jsx($je,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(Mje,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(LM,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(tj,{...n,ref:t}):null});ej.displayName=Ia;var $je=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Fn(Ia,e.__scopeScrollArea),[o,i]=x.useState(!1);return x.useEffect(()=>{const c=s.scrollArea;let l=0;if(c){const d=()=>{window.clearTimeout(l),i(!0)},u=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",u)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(kr,{present:r||o,children:a.jsx(LM,{"data-state":o?"visible":"hidden",...n,ref:t})})}),Mje=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Fn(Ia,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Vp(()=>l("SCROLL_END"),100),[c,l]=Oje("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,s.scrollHideDelay,l]),x.useEffect(()=>{const d=s.viewport,u=o?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const p=d[u];f!==p&&(l("SCROLL"),i()),f=p};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,o,l,i]),a.jsx(kr,{present:r||c!=="hidden",children:a.jsx(tj,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ge(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ge(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),LM=x.forwardRef((e,t)=>{const r=Fn(Ia,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=x.useState(!1),c=e.orientation==="horizontal",l=Vp(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?d:u)}},10);return uc(r.viewport,l),uc(r.content,l),a.jsx(kr,{present:n||o,children:a.jsx(tj,{"data-state":o?"visible":"hidden",...s,ref:t})})}),tj=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Fn(Ia,e.__scopeScrollArea),o=x.useRef(null),i=x.useRef(0),[c,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=UM(c.viewport,c.content),u={...n,sizes:c,onSizesChange:l,hasThumb:d>0&&d<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return zje(h,i.current,c,p)}return r==="horizontal"?a.jsx(Dje,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=OC(h,c,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(Rje,{...u,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=OC(h,c);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Dje=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Fn(Ia,e.__scopeScrollArea),[i,c]=x.useState(),l=x.useRef(null),d=Ve(t,l,o.onScrollbarXChange);return x.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(zM,{"data-orientation":"horizontal",...s,ref:d,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Bp(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),WM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Kh(i.paddingLeft),paddingEnd:Kh(i.paddingRight)}})}})}),Rje=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Fn(Ia,e.__scopeScrollArea),[i,c]=x.useState(),l=x.useRef(null),d=Ve(t,l,o.onScrollbarYChange);return x.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(zM,{"data-orientation":"vertical",...s,ref:d,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Bp(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(o.viewport){const h=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),WM(h,f)&&u.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Kh(i.paddingTop),paddingEnd:Kh(i.paddingBottom)}})}})}),[Ije,FM]=MM(Ia),zM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,p=Fn(Ia,r),[v,m]=x.useState(null),g=Ve(t,E=>m(E)),y=x.useRef(null),b=x.useRef(""),w=p.viewport,j=n.content-n.viewport,N=or(u),S=or(l),_=Vp(f,10);function C(E){if(y.current){const $=E.clientX-y.current.left,k=E.clientY-y.current.top;d({x:$,y:k})}}return x.useEffect(()=>{const E=$=>{const k=$.target;v?.contains(k)&&N($,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,v,j,N]),x.useEffect(S,[n,S]),uc(v,_),uc(p.content,_),a.jsx(Ije,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:or(o),onThumbPointerUp:or(i),onThumbPositionChange:S,onThumbPointerDown:or(c),children:a.jsx(ke.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:ge(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:ge(e.onPointerMove,C),onPointerUp:ge(e.onPointerUp,E=>{const $=E.target;$.hasPointerCapture(E.pointerId)&&$.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Gh="ScrollAreaThumb",BM=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=FM(Gh,e.__scopeScrollArea);return a.jsx(kr,{present:r||s.hasThumb,children:a.jsx(Lje,{ref:t,...n})})}),Lje=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=Fn(Gh,r),i=FM(Gh,r),{onThumbPositionChange:c}=i,l=Ve(t,f=>i.onThumbChange(f)),d=x.useRef(),u=Vp(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(u(),!d.current){const p=Bje(f,c);d.current=p,c()}};return c(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,u,c]),a.jsx(ke.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ge(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,m=f.clientY-p.top;i.onThumbPointerDown({x:v,y:m})}),onPointerUp:ge(e.onPointerUp,i.onThumbPointerUp)})});BM.displayName=Gh;var rj="ScrollAreaCorner",VM=x.forwardRef((e,t)=>{const r=Fn(rj,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Fje,{...e,ref:t}):null});VM.displayName=rj;var Fje=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Fn(rj,r),[o,i]=x.useState(0),[c,l]=x.useState(0),d=!!(o&&c);return uc(s.scrollbarX,()=>{const u=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(u),l(u)}),uc(s.scrollbarY,()=>{const u=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(u),i(u)}),d?a.jsx(ke.div,{...n,ref:t,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kh(e){return e?parseInt(e,10):0}function UM(e,t){const r=e/t;return isNaN(r)?0:r}function Bp(e){const t=UM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function zje(e,t,r,n="ltr"){const s=Bp(r),o=s/2,i=t||o,c=s-i,l=r.scrollbar.paddingStart+i,d=r.scrollbar.size-r.scrollbar.paddingEnd-c,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return qM([l,d],f)(e)}function OC(e,t,r="ltr"){const n=Bp(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,c=o-n,l=r==="ltr"?[0,i]:[i*-1,0],d=Ed(e,l);return qM([0,i],[0,c])(d)}function qM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function WM(e,t){return e>0&&e<t}var Bje=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,c=r.top!==o.top;(i||c)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Vp(e,t){const r=or(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function uc(e,t){const r=or(t);_r(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function Vje(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=x.Children.only(n);return x.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var HM=DM,Uje=IM,qje=VM;const Od=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(HM,{ref:n,className:Q("relative overflow-hidden",e),...r,children:[a.jsx(Uje,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(nj,{}),a.jsx(qje,{})]}));Od.displayName=HM.displayName;const nj=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(ej,{ref:n,orientation:t,className:Q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(BM,{className:"relative flex-1 rounded-full bg-border"})}));nj.displayName=ej.displayName;function GM(){const e=Z2(),t=x.useMemo(()=>{const r=e.contasFixas.length,n=e.contasFixas.filter(i=>i.status==="pago").length,s=e.contasFixas.filter(i=>i.status==="em_aberto").length,o=e.contasFixas.reduce((i,c)=>i+c.valor,0);return{total:r,pagas:n,emAberto:s,valorTotal:o}},[e.contasFixas]);return{...e,criarContaFixa:e.createContaFixa,atualizarContaFixa:e.updateContaFixa,removerContaFixa:e.deleteContaFixa,criarCategoria:e.createCategoria,recarregar:e.loadContasFixas,estatisticas:t,marcarComoPaga:async r=>e.updateContaFixa(r,{status:"pago"}),pagarContaFixa:async r=>e.updateContaFixa(r,{status:"pago"}),marcarComoEmAberto:async r=>e.updateContaFixa(r,{status:"em_aberto"}),toggleAtiva:async r=>{const n=e.contasFixas.find(s=>s.id===r);if(n)return e.updateContaFixa(r,{ativa:!n.ativa})},getContasVencidas:()=>{const r=new Date;return e.contasFixas.filter(n=>{if(!n.ativa||n.status==="pago")return!1;const s=n.proximoVencimento?new Date(n.proximoVencimento):null;return s&&s<r})},getContasAVencer:()=>{const r=new Date,n=new Date;return n.setDate(r.getDate()+7),e.contasFixas.filter(s=>{if(!s.ativa||s.status==="pago")return!1;const o=s.proximoVencimento?new Date(s.proximoVencimento):null;return o&&o>=r&&o<=n})}}}const Wje=640,tv=1024;function aj(){const[e,t]=x.useState("desktop"),[r,n]=x.useState(!1),[s,o]=x.useState(!1),[i,c]=x.useState(!1);return x.useEffect(()=>{const l=()=>{const u=window.innerWidth;o(u<Wje),n(u<768),c(u>=768&&u<tv),u<768?t("mobile"):u<tv?t("tablet"):t("desktop")};l();const d=window.matchMedia(`(max-width: ${tv-1}px)`);return d.addEventListener("change",l),()=>d.removeEventListener("change",l)},[]),{breakpoint:e,isMobile:r,isSmallMobile:s,isTablet:i,isDesktop:e==="desktop"}}function Hje({resumo:e}){const t=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r);return a.jsxs("div",{className:"grid-responsive-5 animate-fade-in",children:[a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-success flex-shrink-0",children:a.jsx(Mt,{className:"h-6 w-6 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-success truncate",children:t(e.totalEntradas)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Entradas do Ms"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive flex-shrink-0",children:a.jsx(Uo,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-destructive truncate",children:t(e.totalSaidas)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Sadas do Ms"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${e.lucro>=0?"bg-primary":"bg-destructive"}`,children:e.lucro>=0?a.jsx(FP,{className:"h-6 w-6 text-primary-foreground"}):a.jsx(dt,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-responsive-lg font-bold truncate ${e.lucro>=0?"text-primary":"text-destructive"}`,children:t(e.lucro)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:e.lucro>=0?"Lucro do Ms":"Prejuzo do Ms"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-warning flex-shrink-0",children:a.jsx(at,{className:"h-4 w-4 text-warning-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-warning truncate",children:t(e.valorEmAberto)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Valor em Aberto"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive flex-shrink-0",children:a.jsx(bc,{className:"h-4 w-4 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-destructive truncate",children:t(e.contasAPagar)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Contas a Pagar"})]})]})})]})}function Gje({lancamentos:e,filtros:t,categorias:r,onFiltrosChange:n,onEdit:s,onDelete:o}){const[i,c]=x.useState(""),l=e.filter(f=>f.descricao.toLowerCase().includes(i.toLowerCase())||(f.categoria?.toLowerCase().includes(i.toLowerCase())??!1)),d=f=>{o(f),Xt({title:"Lanamento excludo",description:"O lanamento foi removido com sucesso."})},u=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f);return a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm animate-fade-in",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Vs,{className:"h-5 w-5 text-primary"}),"Lanamentos Financeiros"]})}),a.jsxs(B,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar lanamento...",value:i,onChange:f=>c(f.target.value),className:"pl-9"})]}),a.jsxs(Fe,{value:t.tipo||"todos",onValueChange:f=>n({...t,tipo:f==="todos"?void 0:f}),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Tipo"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todos",children:"Todos os tipos"}),a.jsx(te,{value:"entrada",children:"Entradas"}),a.jsx(te,{value:"saida",children:"Sadas"})]})]}),a.jsxs(Fe,{value:t.categoria||"todas",onValueChange:f=>n({...t,categoria:f==="todas"?void 0:f}),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Categoria"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todas",children:"Todas as categorias"}),r.map(f=>a.jsx(te,{value:f,children:f},f))]})]}),a.jsxs(Fe,{value:t.mes?`${t.mes}-${t.ano}`:"todos",onValueChange:f=>{if(f==="todos")n({...t,mes:void 0,ano:void 0});else{const[h,p]=f.split("-").map(Number);n({...t,mes:h,ano:p})}},children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Ms"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todos",children:"Todos os meses"}),a.jsx(te,{value:"12-2024",children:"Dezembro 2024"}),a.jsx(te,{value:"11-2024",children:"Novembro 2024"}),a.jsx(te,{value:"10-2024",children:"Outubro 2024"})]})]})]}),a.jsx("div",{className:"rounded-md border border-border/50",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Tipo"}),a.jsx(pe,{children:"Descrio"}),a.jsx(pe,{children:"Categoria"}),a.jsx(pe,{children:"Data"}),a.jsx(pe,{children:"Valor"}),a.jsx(pe,{className:"w-[100px]",children:"Aes"})]})}),a.jsx(Ir,{children:l.length===0?a.jsx(ht,{children:a.jsx(fe,{colSpan:6,className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in",children:[a.jsx(jl,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhum lanamento encontrado"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i||t.tipo||t.categoria?"Tente ajustar os filtros de busca":"Adicione seu primeiro lanamento financeiro"})]})]})})}):l.map(f=>a.jsxs(ht,{children:[a.jsx(fe,{children:a.jsxs(ce,{variant:f.tipo==="entrada"?"default":"destructive",className:"flex items-center gap-1 w-fit",children:[f.tipo==="entrada"?a.jsx(Mt,{className:"h-3 w-3"}):a.jsx(Uo,{className:"h-3 w-3"}),f.tipo==="entrada"?"Entrada":"Sada"]})}),a.jsx(fe,{className:"font-medium",children:a.jsxs("div",{children:[a.jsx("p",{children:f.descricao}),f.origemTipo&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[f.origemTipo==="agendamento"&&" Agendamento",f.origemTipo==="compra_produto"&&" Compra de Produto",f.origemTipo==="venda_produto"&&" Venda de Produto",f.origemTipo==="conta_fixa"&&" Conta Fixa"]})]})}),a.jsx(fe,{children:f.categoria&&a.jsx(ce,{variant:"outline",children:f.categoria})}),a.jsx(fe,{children:Te(new Date(f.data),"dd/MM/yyyy",{locale:Le})}),a.jsx(fe,{className:`font-semibold ${f.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:u(f.valor)}),a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>s(f),className:"hover-scale","aria-label":"Editar lanamento",children:a.jsx(LP,{className:"h-4 w-4"})}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"sm",className:"hover-scale","aria-label":"Excluir lanamento",children:a.jsx(gr,{className:"h-4 w-4"})})}),a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Excluir lanamento"}),a.jsx(Mn,{children:"Tem certeza que deseja excluir este lanamento? Esta ao no pode ser desfeita."})]}),a.jsxs(Tn,{children:[a.jsx(oa,{children:"Cancelar"}),a.jsx(Dn,{onClick:()=>d(f.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})})]},f.id))})]})})]})]})}function Kje({lancamentos:e,onEdit:t,onDelete:r}){const n=s=>`R$ ${s.toFixed(2).replace(".",",")}`;return e.length===0?a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(B,{className:"py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in",children:[a.jsx(jl,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhum lanamento encontrado"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione seu primeiro lanamento financeiro"})]})]})})}):a.jsx("div",{className:"space-y-3",children:e.map(s=>a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm overflow-hidden hover-scale animate-fade-in",children:a.jsx(B,{className:"p-4 mobile-card",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.tipo==="entrada"?a.jsx(Mt,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):a.jsx(Uo,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:s.descricao}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Te(new Date(s.data),"dd/MM/yyyy",{locale:Le})})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsxs("p",{className:`font-bold text-base sm:text-lg ${s.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:[s.tipo==="entrada"?"+":"-"," ",n(s.valor)]})})]}),s.categoria&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fd,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(ce,{variant:"outline",className:"text-xs",children:s.categoria})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border/50",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t(s),className:"h-10 text-xs btn-touch hover-scale","aria-label":"Editar lanamento",children:[a.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Editar"]}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsxs(z,{variant:"outline",size:"sm",className:"h-10 text-xs btn-touch hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50 hover-scale","aria-label":"Excluir lanamento",children:[a.jsx(gr,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsxs(Mn,{children:['Tem certeza que deseja excluir o lanamento "',s.descricao,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Tn,{children:[a.jsx(oa,{className:"btn-touch",children:"Cancelar"}),a.jsx(Dn,{onClick:()=>r(s.id),className:"bg-destructive hover:bg-destructive/90 btn-touch",children:"Excluir"})]})]})]})]})]})})},s.id))})}function Yje({contas:e,onEdit:t,onDelete:r,onPagar:n,onToggleAtiva:s}){const o=d=>`R$ ${d.toFixed(2).replace(".",",")}`,i=d=>{switch(d){case"pago":return"bg-green-100 text-green-800 border-green-200";case"em_aberto":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=d=>{switch(d){case"pago":return"Pago";case"em_aberto":return"Em Aberto";default:return d}},l=d=>{switch(d){case"mensal":return"Mensal";case"trimestral":return"Trimestral";case"semestral":return"Semestral";case"anual":return"Anual";default:return d}};return e.length===0?a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(B,{className:"py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhuma conta fixa encontrada"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione sua primeira conta fixa recorrente"})]})]})})}):a.jsx("div",{className:"space-y-3",children:e.map(d=>a.jsx(L,{className:`border-border/50 bg-card/50 backdrop-blur-sm overflow-hidden hover-scale animate-fade-in ${d.ativa?"":"opacity-60"}`,children:a.jsx(B,{className:"p-4 mobile-card",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[a.jsx(dt,{className:`h-5 w-5 flex-shrink-0 ${d.status==="pago"?"text-green-600":"text-red-600"}`}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:d.nome}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vence dia ",d.dataVencimento]})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsx("p",{className:"font-bold text-base sm:text-lg text-foreground",children:o(d.valor)})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ce,{variant:"outline",className:`text-xs ${i(d.status)}`,children:c(d.status)}),d.categoria&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Fd,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(ce,{variant:"outline",className:"text-xs",children:d.categoria})]}),d.repetir&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Uy,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(ce,{variant:"outline",className:"text-xs",children:l(d.frequencia)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border/50",children:[d.status==="em_aberto"&&d.ativa&&a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n(d.id),className:"h-10 text-xs btn-touch border-green-500/50 hover:bg-green-50 hover:text-green-700 hover-scale","aria-label":"Marcar conta como paga",children:[a.jsx(zl,{className:"h-3 w-3 mr-1"}),"Pagar"]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>s(d.id,!d.ativa),className:"h-10 text-xs btn-touch hover-scale","aria-label":d.ativa?"Desativar conta":"Ativar conta",children:d.ativa?a.jsxs(a.Fragment,{children:[a.jsx(Q3,{className:"h-3 w-3 mr-1"}),"Desativar"]}):a.jsxs(a.Fragment,{children:[a.jsx(wv,{className:"h-3 w-3 mr-1"}),"Ativar"]})}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t(d),className:"h-10 text-xs btn-touch hover-scale","aria-label":"Editar conta",children:[a.jsx(Qn,{className:"h-3 w-3 mr-1"}),"Editar"]}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsxs(z,{variant:"outline",size:"sm",className:"h-10 text-xs btn-touch hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50 hover-scale","aria-label":"Excluir conta",children:[a.jsx(gr,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsxs(Mn,{children:['Tem certeza que deseja excluir a conta "',d.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Tn,{children:[a.jsx(oa,{className:"btn-touch",children:"Cancelar"}),a.jsx(Dn,{onClick:()=>r(d.id),className:"bg-destructive hover:bg-destructive/90 btn-touch",children:"Excluir"})]})]})]})]})]})})},d.id))})}const Zje=Ys({tipo:_o(["entrada","saida"],{message:"Selecione o tipo do lanamento"}),valor:ut().min(1,"Valor  obrigatrio").refine(e=>{const t=parseFloat(e.replace(",","."));return!isNaN(t)&&t>0},"Valor deve ser maior que zero"),data:qT({message:"Data  obrigatria"}),descricao:ut().min(1,"Descrio  obrigatria"),categoria:ut().optional()});function Xje({lancamento:e,categorias:t,onSubmit:r,onCancel:n}){const[s,o]=x.useState(!1),i=Rs({resolver:Is(Zje),defaultValues:{tipo:e?.tipo||void 0,valor:e?.valor?e.valor.toString():"",data:e?.data?new Date(e.data):new Date,descricao:e?.descricao||"",categoria:e?.categoria||""}}),c=async l=>{o(!0);try{const d={tipo:l.tipo,valor:parseFloat(l.valor.replace(",",".")),data:l.data,descricao:l.descricao,categoria:l.categoria||void 0};r(d),Xt({title:e?"Lanamento atualizado":"Lanamento criado",description:`${e?"Alteraes salvas":"Novo lanamento adicionado"} com sucesso.`})}catch{Xt({title:"Erro",description:"Ocorreu um erro ao salvar o lanamento.",variant:"destructive"})}finally{o(!1)}};return a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:n,children:a.jsx(Id,{className:"h-4 w-4"})}),a.jsx(Z,{children:e?"Editar Lanamento":"Novo Lanamento"})]})}),a.jsx(B,{children:a.jsx(dc,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(st,{control:i.control,name:"tipo",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Tipo *"}),a.jsxs(Fe,{onValueChange:l.onChange,defaultValue:l.value,children:[a.jsx(nt,{children:a.jsx(Re,{className:"h-12",children:a.jsx(ze,{placeholder:"Selecione o tipo"})})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"entrada",children:"Entrada"}),a.jsx(te,{value:"saida",children:"Sada"})]})]}),a.jsx(it,{})]})}),a.jsx(st,{control:i.control,name:"valor",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Valor (R$) *"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"0,00",className:"h-12",...l,onChange:d=>{let u=d.target.value.replace(/[^\d,]/g,"");if(u.includes(",")){const f=u.split(",");f[1]&&f[1].length>2&&(u=f[0]+","+f[1].substring(0,2))}l.onChange(u)}})}),a.jsx(it,{})]})}),a.jsx(st,{control:i.control,name:"data",render:({field:l})=>a.jsxs(tt,{className:"flex flex-col",children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Data *"}),a.jsxs(Vh,{children:[a.jsx(Uh,{asChild:!0,children:a.jsx(nt,{children:a.jsxs(z,{variant:"outline",className:Q("w-full pl-3 text-left font-normal h-12",!l.value&&"text-muted-foreground"),children:[l.value?Te(l.value,"dd/MM/yyyy",{locale:Le}):a.jsx("span",{children:"Selecione a data"}),a.jsx(Se,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(kd,{className:"w-auto p-0",align:"start",children:a.jsx(Ad,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:d=>d>new Date||d<new Date("1900-01-01"),initialFocus:!0,className:Q("p-3 pointer-events-auto")})})]}),a.jsx(it,{})]})}),a.jsx(st,{control:i.control,name:"categoria",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Categoria"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Ex: Servios, Produtos, Despesas...",className:"h-12",...l,list:"categorias"})}),a.jsx("datalist",{id:"categorias",children:t.map(d=>a.jsx("option",{value:d},d))}),a.jsx(it,{})]})})]}),a.jsx(st,{control:i.control,name:"descricao",render:({field:l})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Descrio *"}),a.jsx(nt,{children:a.jsx(pr,{placeholder:"Descreva o lanamento...",className:"resize-none min-h-[100px]",rows:3,...l})}),a.jsx(it,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4",children:[a.jsxs(z,{type:"submit",disabled:s,className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 h-12 btn-touch",children:[a.jsx(Vo,{className:"mr-2 h-4 w-4"}),s?"Salvando...":"Salvar Lanamento"]}),a.jsx(z,{type:"button",variant:"outline",onClick:n,className:"h-12 btn-touch",children:"Cancelar"})]})]})})})]})}function mu(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:c}}=await W.auth.getUser();if(!c)return;const{data:l,error:d}=await W.from("compras").select("*, itens_compra(*)").eq("user_id",c.id).order("data_compra",{ascending:!1});if(d)throw d;t(l||[])}catch(c){V.error("Erro ao carregar compras: "+c.message)}finally{n(!1)}},o=async c=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)throw new Error("Usurio no autenticado");const{data:d,error:u}=await W.from("compras").insert([{user_id:l.id,fornecedor_id:c.fornecedor_id,numero_nota:c.numero_nota,data_compra:c.data_compra,data_vencimento:c.data_vencimento,valor_total:c.valor_total,forma_pagamento:c.forma_pagamento,observacoes:c.observacoes}]).select().single();if(u)throw u;const f=c.itens.map(g=>({...g,compra_id:d.id})),{error:h}=await W.from("itens_compra").insert(f);if(h)throw h;const p=c.itens.map(g=>({user_id:l.id,produto_id:g.produto_id,tipo:"entrada",quantidade:g.quantidade,valor_unitario:g.valor_unitario,valor_total:g.valor_total,motivo:`Compra ${d.numero_nota||d.id}`,origem_id:d.id,origem_tipo:"compra_produto"})),{error:v}=await W.from("movimentacoes_estoque").insert(p);if(v)throw v;const{error:m}=await W.from("lancamentos").insert([{user_id:l.id,tipo:"saida",valor:c.valor_total,data:c.data_compra,descricao:`Compra de produtos${c.numero_nota?` - Nota ${c.numero_nota}`:""}`,categoria:"Compra de Produtos",origem_id:d.id,origem_tipo:"compra_produto"}]);if(m)throw m;V.success("Compra registrada com sucesso!"),await s()}catch(l){throw V.error("Erro ao registrar compra: "+l.message),l}},i=async(c,l)=>{try{const d=e.find(h=>h.id===c);if(!d)throw new Error("Compra no encontrada");const u=d.valor_pago+l,{error:f}=await W.from("compras").update({valor_pago:u}).eq("id",c);if(f)throw f;V.success("Pagamento registrado com sucesso!"),await s()}catch(d){throw V.error("Erro ao registrar pagamento: "+d.message),d}};return x.useEffect(()=>{s()},[]),{compras:e,loading:r,createCompra:o,registrarPagamento:i,recarregar:s}}function pu(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:i}}=await W.auth.getUser();if(!i)return;const{data:c,error:l}=await W.from("vendas_produtos").select("*, itens_venda(*)").eq("user_id",i.id).order("data_venda",{ascending:!1});if(l)throw l;t(c||[])}catch(i){V.error("Erro ao carregar vendas: "+i.message)}finally{n(!1)}},o=async i=>{try{const{data:{user:c}}=await W.auth.getUser();if(!c)throw new Error("Usurio no autenticado");const l=i.itens.reduce((g,y)=>g+y.valor_total,0),{data:d,error:u}=await W.from("vendas_produtos").insert([{user_id:c.id,cliente_id:i.cliente_id,agendamento_id:i.agendamento_id,data_venda:i.data_venda,valor_total:l,status_pagamento:"pago",forma_pagamento:i.forma_pagamento,observacoes:i.observacoes}]).select().single();if(u)throw u;const f=i.itens.map(g=>({...g,venda_id:d.id})),{error:h}=await W.from("itens_venda").insert(f);if(h)throw h;const p=i.itens.map(g=>({user_id:c.id,produto_id:g.produto_id,tipo:"saida",quantidade:g.quantidade,valor_unitario:g.valor_unitario,valor_total:g.valor_total,motivo:`Venda ${d.id}`,origem_id:d.id,origem_tipo:"venda"})),{error:v}=await W.from("movimentacoes_estoque").insert(p);if(v)throw v;const{error:m}=await W.from("lancamentos").insert([{user_id:c.id,tipo:"entrada",valor:l,data:i.data_venda,descricao:"Venda de produtos",categoria:"Venda de Produtos",origem_id:d.id,origem_tipo:"venda_produto",cliente_id:i.cliente_id}]);if(m)throw m;V.success("Venda registrada com sucesso!"),await s()}catch(c){throw V.error("Erro ao registrar venda: "+c.message),c}};return x.useEffect(()=>{s()},[]),{vendas:e,loading:r,createVenda:o,recarregar:s}}function Jje({lancamentos:e}){const{compras:t}=mu(),{vendas:r}=pu(),n=new Date,s=n.getMonth(),o=n.getFullYear(),i=e.filter(b=>{const w=new Date(b.data);return w.getMonth()===s&&w.getFullYear()===o}),c=x.useMemo(()=>t.filter(b=>{const w=new Date(b.data_compra);return w.getMonth()===s&&w.getFullYear()===o}),[t,s,o]),l=x.useMemo(()=>r.filter(b=>{const w=new Date(b.data_venda);return w.getMonth()===s&&w.getFullYear()===o}),[r,s,o]),d=c.reduce((b,w)=>b+w.valor_total,0),u=l.reduce((b,w)=>b+w.valor_total,0),f=i.filter(b=>b.tipo==="entrada").reduce((b,w)=>b+w.valor,0)+u,h=i.filter(b=>b.tipo==="saida").reduce((b,w)=>b+w.valor,0)+d,p=[{name:"Entradas",value:f,fill:"#22c55e"},{name:"Sadas",value:h,fill:"#ef4444"}],v=i.reduce((b,w)=>{const j=w.categoria||"Sem categoria";return b[j]||(b[j]={entradas:0,saidas:0}),w.tipo==="entrada"?b[j].entradas+=w.valor:b[j].saidas+=w.valor,b},{});u>0&&(v["Venda de Produtos"]||(v["Venda de Produtos"]={entradas:0,saidas:0}),v["Venda de Produtos"].entradas+=u),d>0&&(v["Compra de Produtos"]||(v["Compra de Produtos"]={entradas:0,saidas:0}),v["Compra de Produtos"].saidas+=d);const m=Object.entries(v).map(([b,w])=>({categoria:b,entradas:w.entradas,saidas:w.saidas})),g=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(b),y=f>0||h>0;return a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm animate-fade-in",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Mt,{className:"h-5 w-5 text-primary"}),"Entradas vs Sadas"]})}),a.jsx(B,{children:y?a.jsx(po,{width:"100%",height:300,children:a.jsxs(qO,{children:[a.jsx(Ra,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,value:w})=>`${b}: ${g(w)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",animationDuration:800,children:p.map((b,w)=>a.jsx(zi,{fill:b.fill},`cell-${w}`))}),a.jsx(br,{formatter:b=>g(Number(b))})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] gap-3 animate-fade-in",children:[a.jsx(Mt,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Sem dados para exibir"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione lanamentos para visualizar o grfico"})]})]})})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm animate-fade-in",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Mt,{className:"h-5 w-5 text-primary"}),"Por Categoria"]})}),a.jsx(B,{children:m.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] gap-3 animate-fade-in",children:[a.jsx(Mt,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Sem categorias para exibir"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Organize seus lanamentos em categorias"})]})]}):a.jsx(po,{width:"100%",height:300,children:a.jsxs(Mh,{data:m,children:[a.jsx(Al,{strokeDasharray:"3 3"}),a.jsx(es,{dataKey:"categoria",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),a.jsx(ts,{tick:{fontSize:12}}),a.jsx(br,{formatter:b=>g(Number(b))}),a.jsx(Sa,{}),a.jsx(na,{dataKey:"entradas",fill:"#22c55e",name:"Entradas",animationDuration:800}),a.jsx(na,{dataKey:"saidas",fill:"#ef4444",name:"Sadas",animationDuration:800})]})})})]})]})}function Qje({agendamentos:e}){const[t,r]=x.useState(""),n=e.filter(c=>(c.status==="concluido"||c.valorPago>0)&&c.clienteNome.toLowerCase().includes(t.toLowerCase())),s=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),o=c=>{const l="",d=`Ol ${c.clienteNome}! 

Voc tem um saldo devedor de ${s(c.valorDevido||0)} referente ao servio ${c.servicoNome} realizado em ${Te(new Date(c.data),"dd/MM/yyyy",{locale:Le})}.

${c.dataPrevistaPagamento?`Data prevista para pagamento: ${Te(new Date(c.dataPrevistaPagamento),"dd/MM/yyyy",{locale:Le})}`:""}

Por favor, entre em contato para acertarmos o pagamento. Obrigado!`,u=`https://wa.me/${l}?text=${encodeURIComponent(d)}`;window.open(u,"_blank"),Xt({title:"WhatsApp aberto",description:"Mensagem de cobrana preparada no WhatsApp."})},i=c=>c.statusPagamento==="pago"?a.jsx(ce,{variant:"default",className:"bg-green-500",children:"Pago"}):c.statusPagamento==="parcial"?a.jsx(ce,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Parcial"}):a.jsx(ce,{variant:"destructive",children:"Em Aberto"});return a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-primary"}),"Pagamentos dos Clientes"]})}),a.jsxs(B,{className:"space-y-6",children:[a.jsxs("div",{className:"relative max-w-sm",children:[a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar cliente...",value:t,onChange:c=>r(c.target.value),className:"pl-9"})]}),a.jsx("div",{className:"rounded-md border border-border/50",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Cliente"}),a.jsx(pe,{children:"Servio"}),a.jsx(pe,{children:"Data"}),a.jsx(pe,{children:"Valor Total"}),a.jsx(pe,{children:"Valor Pago"}),a.jsx(pe,{children:"Saldo Devedor"}),a.jsx(pe,{children:"Status"}),a.jsx(pe,{children:"Data Prevista"}),a.jsx(pe,{className:"w-[100px]",children:"Aes"})]})}),a.jsx(Ir,{children:n.length===0?a.jsx(ht,{children:a.jsx(fe,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Nenhum pagamento encontrado"})}):n.map(c=>a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:c.clienteNome}),a.jsx(fe,{children:c.servicoNome}),a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Se,{className:"h-4 w-4 text-muted-foreground"}),Te(new Date(c.data),"dd/MM/yy",{locale:Le})]})}),a.jsx(fe,{className:"font-semibold",children:s(c.valor)}),a.jsx(fe,{className:"text-green-600 font-semibold",children:s(c.valorPago)}),a.jsx(fe,{className:`font-semibold ${(c.valorDevido||0)>0?"text-red-600":"text-green-600"}`,children:s(c.valorDevido||0)}),a.jsx(fe,{children:i(c)}),a.jsx(fe,{children:c.dataPrevistaPagamento?a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(bc,{className:"h-4 w-4 text-orange-500"}),Te(new Date(c.dataPrevistaPagamento),"dd/MM/yy",{locale:Le})]}):a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(fe,{children:(c.valorDevido||0)>0&&a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>o(c),className:"flex items-center gap-1",children:[a.jsx(Co,{className:"h-4 w-4"}),"Cobrar"]})})]},c.id))})]})}),n.length>0&&a.jsx("div",{className:"bg-muted/30 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:new Set(n.map(c=>c.clienteId)).size})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total Pago"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s(n.reduce((c,l)=>c+l.valorPago,0))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Total Devedor"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:s(n.reduce((c,l)=>c+(l.valorDevido||0),0))})]})]})})]})]})}function ewe({contas:e,categorias:t,onEdit:r,onDelete:n,onPagar:s,onToggleAtiva:o}){const[i,c]=x.useState("todas"),[l,d]=x.useState("todos"),[u,f]=x.useState(""),h=e.filter(w=>{const j=w.nome.toLowerCase().includes(u.toLowerCase()),N=i==="todas"||w.categoria===i,S=l==="todos"||w.status===l;return j&&N&&S}),p=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w),v=w=>{switch(w){case"pago":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"em_aberto":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},m=w=>{const j=new Date,N=j.getMonth()+1,S=j.getFullYear();j.getDate();const _=new Date(S,N-1,w),C=Math.ceil((_.getTime()-j.getTime())/(1e3*60*60*24));return C<0?{texto:"Vencido",cor:"text-red-600"}:C<=3?{texto:"Vence em breve",cor:"text-orange-600"}:{texto:`Vence dia ${w}`,cor:"text-gray-600"}},g=w=>{switch(w){case"mensal":return"Mensal";case"trimestral":return"Trimestral";case"semestral":return"Semestral";case"anual":return"Anual";default:return"nica"}},y=h.filter(w=>w.status==="em_aberto").reduce((w,j)=>w+j.valor,0),b=h.filter(w=>w.status==="pago").reduce((w,j)=>w+j.valor,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Em Aberto"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:p(y)})]}),a.jsx(So,{className:"h-8 w-8 text-red-600"})]})})}),a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pagas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(b)})]}),a.jsx(dt,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Contas"}),a.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),a.jsx(Se,{className:"h-8 w-8 text-primary"})]})})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Vs,{className:"h-5 w-5"}),"Filtros"]})}),a.jsx(B,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar conta...",value:u,onChange:w=>f(w.target.value),className:"pl-9"})]}),a.jsxs(Fe,{value:i,onValueChange:c,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Todas as categorias"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todas",children:"Todas as categorias"}),t.filter(w=>w.tipo==="despesa").map(w=>a.jsx(te,{value:w.nome,children:w.nome},w.id))]})]}),a.jsxs(Fe,{value:l,onValueChange:d,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Todos os status"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todos",children:"Todos os status"}),a.jsx(te,{value:"em_aberto",children:"Em Aberto"}),a.jsx(te,{value:"pago",children:"Pago"})]})]}),a.jsx(z,{variant:"outline",onClick:()=>{f(""),c("todas"),d("todos")},children:"Limpar Filtros"})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Contas Fixas"})}),a.jsx(B,{children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Nome"}),a.jsx(pe,{children:"Categoria"}),a.jsx(pe,{children:"Valor"}),a.jsx(pe,{children:"Vencimento"}),a.jsx(pe,{children:"Repetio"}),a.jsx(pe,{children:"Status"}),a.jsx(pe,{className:"text-right",children:"Aes"})]})}),a.jsx(Ir,{children:h.map(w=>{const j=m(w.dataVencimento);return a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:w.nome}),a.jsx(fe,{children:a.jsx(ce,{variant:"outline",children:w.categoria})}),a.jsx(fe,{className:"font-mono",children:p(w.valor)}),a.jsx(fe,{children:a.jsx("span",{className:j.cor,children:j.texto})}),a.jsx(fe,{children:a.jsx("div",{className:"flex items-center gap-2",children:w.repetir?a.jsxs(a.Fragment,{children:[a.jsx(Uy,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:g(w.frequencia)}),a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(wv,{className:`h-3 w-3 ${w.ativa?"text-green-600":"text-gray-400"}`}),w.ativa?"Ativa":"Inativa"]})]})]}):a.jsx(ce,{variant:"outline",className:"text-xs",children:"nica"})})}),a.jsx(fe,{children:a.jsx(ce,{className:v(w.status),children:w.status==="pago"?"Pago":"Em Aberto"})}),a.jsx(fe,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[w.status==="em_aberto"&&a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>s(w.id),className:"text-green-600 border-green-600 hover:bg-green-50 hover-scale btn-touch","aria-label":"Marcar conta como paga",children:[a.jsx(dt,{className:"h-4 w-4 mr-1"}),"Pagar"]}),w.repetir&&a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>o(w.id,!w.ativa),className:`hover-scale btn-touch ${w.ativa?"text-orange-600 border-orange-600":"text-green-600 border-green-600"}`,"aria-label":w.ativa?"Desativar conta":"Ativar conta",children:[a.jsx(wv,{className:"h-4 w-4 mr-1"}),w.ativa?"Desativar":"Ativar"]}),a.jsx(z,{size:"sm",variant:"outline",onClick:()=>r(w),className:"hover-scale btn-touch","aria-label":"Editar conta",children:a.jsx(LP,{className:"h-4 w-4"})}),a.jsxs(sa,{children:[a.jsx(Lo,{asChild:!0,children:a.jsx(z,{size:"sm",variant:"outline",className:"text-red-600 hover-scale btn-touch","aria-label":"Excluir conta",children:a.jsx(gr,{className:"h-4 w-4"})})}),a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Excluir Conta Fixa"}),a.jsxs(Mn,{children:['Tem certeza que deseja excluir a conta "',w.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Tn,{children:[a.jsx(oa,{children:"Cancelar"}),a.jsx(Dn,{onClick:()=>n(w.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})})]},w.id)})})]}),h.length===0&&a.jsxs("div",{className:"flex flex-col items-center gap-3 py-12 animate-fade-in",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhuma conta fixa encontrada"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u||i!=="todas"||l!=="todos"?"Tente ajustar os filtros de busca":"Adicione sua primeira conta fixa recorrente"})]})]})]})})]})]})}var sj="Switch",[twe]=ia(sj),[rwe,nwe]=twe(sj),KM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:c,value:l="on",onCheckedChange:d,form:u,...f}=e,[h,p]=x.useState(null),v=Ve(t,w=>p(w)),m=x.useRef(!1),g=h?u||!!h.closest("form"):!0,[y=!1,b]=Ea({prop:s,defaultProp:o,onChange:d});return a.jsxs(rwe,{scope:r,checked:y,disabled:c,children:[a.jsx(ke.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":XM(y),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:v,onClick:ge(e.onClick,w=>{b(j=>!j),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&a.jsx(awe,{control:h,bubbles:!m.current,name:n,value:l,checked:y,required:i,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});KM.displayName=sj;var YM="SwitchThumb",ZM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=nwe(YM,r);return a.jsx(ke.span,{"data-state":XM(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});ZM.displayName=YM;var awe=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=x.useRef(null),i=Z0(r),c=ub(t);return x.useEffect(()=>{const l=o.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function XM(e){return e?"checked":"unchecked"}var JM=KM,swe=ZM;const qt=x.forwardRef(({className:e,...t},r)=>a.jsx(JM,{className:Q("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(swe,{className:Q("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));qt.displayName=JM.displayName;const owe=Ys({nome:ut().min(1,"Nome  obrigatrio"),valor:ks().min(.01,"Valor deve ser maior que zero"),dataVencimento:ks().min(1).max(31,"Dia deve estar entre 1 e 31"),categoria:ut().min(1,"Categoria  obrigatria"),observacoes:ut().optional(),repetir:mC(),frequencia:_o(["mensal","trimestral","semestral","anual"]),ativa:mC().optional()}),iwe=Ys({nome:ut().min(1,"Nome da categoria  obrigatrio"),cor:ut().optional()});function cwe({conta:e,categorias:t,onSubmit:r,onCancel:n,onCreateCategoria:s}){const[o,i]=x.useState(!1),[c,l]=x.useState(!1),[d,u]=x.useState(!1),f=Rs({resolver:Is(owe),defaultValues:{nome:e?.nome||"",valor:e?.valor||0,dataVencimento:e?.dataVencimento||1,categoria:e?.categoria||"",observacoes:e?.observacoes||"",repetir:e?.repetir??!0,frequencia:e?.frequencia||"mensal",ativa:e?.ativa??!0}}),h=Rs({resolver:Is(iwe),defaultValues:{nome:"",cor:"#3b82f6"}}),p=async g=>{i(!0);try{await r(g)}finally{i(!1)}},v=async g=>{if(s){u(!0);try{await s(g.nome,g.cor),h.reset(),l(!1),f.setValue("categoria",g.nome),Xt({title:"Categoria criada",description:`A categoria "${g.nome}" foi criada com sucesso.`})}catch{Xt({title:"Erro ao criar categoria",description:"No foi possvel criar a categoria. Tente novamente.",variant:"destructive"})}finally{u(!1)}}},m=t.filter(g=>g.tipo==="despesa");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(z,{variant:"outline",size:"icon",onClick:n,children:a.jsx(Id,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?"Editar Conta Fixa":"Nova Conta Fixa"}),a.jsx("p",{className:"text-muted-foreground",children:e?"Atualize os dados da conta fixa":"Cadastre uma nova despesa recorrente"})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Dados da Conta"})}),a.jsx(B,{children:a.jsx(dc,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(st,{control:f.control,name:"nome",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Nome da Conta"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Ex: Aluguel, Energia, Internet...",className:"h-12",...g})}),a.jsx(it,{})]})}),a.jsx(st,{control:f.control,name:"valor",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Valor (R$)"}),a.jsx(nt,{children:a.jsx(se,{type:"number",step:"0.01",placeholder:"0,00",className:"h-12",...g,onChange:y=>g.onChange(parseFloat(y.target.value)||0)})}),a.jsx(it,{})]})}),a.jsx(st,{control:f.control,name:"dataVencimento",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Dia do Vencimento"}),a.jsx(nt,{children:a.jsx(se,{type:"number",min:"1",max:"31",placeholder:"1",className:"h-12",...g,onChange:y=>g.onChange(parseInt(y.target.value)||1)})}),a.jsx(it,{})]})}),a.jsx(st,{control:f.control,name:"categoria",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Categoria"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Fe,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(nt,{children:a.jsx(Re,{className:"flex-1 h-12",children:a.jsx(ze,{placeholder:"Selecione uma categoria"})})}),a.jsx(Ie,{children:m.map(y=>a.jsx(te,{value:y.nome,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:y.cor}}),y.nome]})},y.id))})]}),s&&a.jsxs(Wr,{open:c,onOpenChange:l,children:[a.jsx(fu,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 h-12 w-12 btn-touch",children:a.jsx(Nr,{className:"h-4 w-4"})})}),a.jsxs(Sr,{children:[a.jsx(Cr,{children:a.jsx(Pr,{children:"Nova Categoria"})}),a.jsx(dc,{...h,children:a.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-4",children:[a.jsx(st,{control:h.control,name:"nome",render:({field:y})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Nome da Categoria"}),a.jsx(nt,{children:a.jsx(se,{placeholder:"Ex: Aluguel, Energia, Internet...",className:"h-12",...y})}),a.jsx(it,{})]})}),a.jsx(st,{control:h.control,name:"cor",render:({field:y})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Cor"}),a.jsx(nt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{type:"color",className:"w-16 h-12 p-1 border rounded",...y}),a.jsx(se,{placeholder:"#3b82f6",...y,className:"flex-1 h-12"})]})}),a.jsx(it,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[a.jsx(z,{type:"submit",disabled:d,className:"bg-gradient-to-r from-primary to-lilac-primary h-12 btn-touch",children:d?"Criando...":"Criar Categoria"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),className:"h-12 btn-touch",children:"Cancelar"})]})]})})]})]})]}),a.jsx(it,{})]})})]}),a.jsxs(L,{className:"bg-muted/50",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2 text-base",children:[a.jsx(Uy,{className:"h-4 w-4 text-primary"}),"Configuraes de Repetio"]})}),a.jsxs(B,{className:"space-y-4",children:[a.jsx(st,{control:f.control,name:"repetir",render:({field:g})=>a.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(rt,{className:"text-base font-medium",children:"Conta Recorrente"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Esta conta se repete automaticamente"})]}),a.jsx(nt,{children:a.jsx(qt,{checked:g.value,onCheckedChange:g.onChange})})]})}),f.watch("repetir")&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(st,{control:f.control,name:"frequencia",render:({field:g})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Frequncia de Repetio"]}),a.jsxs(Fe,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(nt,{children:a.jsx(Re,{className:"h-12",children:a.jsx(ze,{placeholder:"Selecione a frequncia"})})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"mensal",children:" Mensal"}),a.jsx(te,{value:"trimestral",children:" Trimestral (3 meses)"}),a.jsx(te,{value:"semestral",children:" Semestral (6 meses)"}),a.jsx(te,{value:"anual",children:" Anual (12 meses)"})]})]}),a.jsx(it,{})]})}),a.jsx(st,{control:f.control,name:"ativa",render:({field:g})=>a.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(rt,{className:"text-sm font-medium",children:"Conta Ativa"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Gerar automaticamente"})]}),a.jsx(nt,{children:a.jsx(qt,{checked:g.value??!0,onCheckedChange:g.onChange})})]})})]}),f.watch("repetir")&&a.jsx("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-1",children:a.jsx(Se,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Como funciona a repetio:"}),a.jsxs("ul",{className:"text-blue-700 space-y-1 text-xs",children:[a.jsx("li",{children:" A conta ser criada automaticamente conforme a frequncia"}),a.jsxs("li",{children:[" O vencimento ser no dia ",f.watch("dataVencimento")," de cada perodo"]}),a.jsx("li",{children:" Voc pode ativar/desativar a gerao automtica"}),a.jsx("li",{children:" Contas j vencidas podem ser marcadas como pagas individualmente"})]})]})]})})]})]}),a.jsx(st,{control:f.control,name:"observacoes",render:({field:g})=>a.jsxs(tt,{children:[a.jsx(rt,{className:"text-sm sm:text-base",children:"Observaes"}),a.jsx(nt,{children:a.jsx(pr,{placeholder:"Informaes adicionais sobre a conta...",rows:3,className:"min-h-[100px]",...g})}),a.jsx(it,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-6",children:[a.jsxs(z,{type:"submit",disabled:o,className:"bg-gradient-to-r from-primary to-lilac-primary h-12 btn-touch",children:[a.jsx(Vo,{className:"mr-2 h-4 w-4"}),o?"Salvando...":"Salvar Conta"]}),a.jsx(z,{type:"button",variant:"outline",onClick:n,className:"h-12 btn-touch",children:"Cancelar"})]})]})})})]})]})}function lwe({agendamentos:e}){const[t,r]=x.useState(""),n=e.filter(l=>(l.statusPagamento==="em_aberto"||l.statusPagamento==="parcial")&&l.valorDevido>0).filter(l=>l.clienteNome.toLowerCase().includes(t.toLowerCase())),s=n.reduce((l,d)=>l+d.valorDevido,0),o=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),i=l=>new Date(l).toLocaleDateString("pt-BR"),c=l=>{const d=`Ol ${l.clienteNome}! 
    
Voc tem um saldo pendente de ${o(l.valorDevido)} referente ao servio de ${l.servicoNome} realizado em ${i(l.data)}.

Para facilitar o pagamento, entre em contato conosco.

Obrigado!`,f=`https://wa.me/?text=${encodeURIComponent(d)}`;window.open(f,"_blank")};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total a Receber"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o(s)})]}),a.jsx(dt,{className:"h-8 w-8 text-orange-600"})]})})}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Buscar Cliente"})}),a.jsx(B,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar por nome do cliente...",value:t,onChange:l=>r(l.target.value),className:"pl-9"})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Contas a Receber"})}),a.jsx(B,{children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Cliente"}),a.jsx(pe,{children:"Servio"}),a.jsx(pe,{children:"Data"}),a.jsx(pe,{children:"Valor Total"}),a.jsx(pe,{children:"Valor Pago"}),a.jsx(pe,{children:"Valor Devedor"}),a.jsx(pe,{children:"Status"}),a.jsx(pe,{className:"text-right",children:"Aes"})]})}),a.jsx(Ir,{children:n.map(l=>a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:l.clienteNome}),a.jsx(fe,{children:l.servicoNome}),a.jsx(fe,{children:i(l.data)}),a.jsx(fe,{className:"font-mono",children:o(l.valor)}),a.jsx(fe,{className:"font-mono",children:o(l.valorPago)}),a.jsx(fe,{className:"font-mono font-bold text-orange-600",children:o(l.valorDevido)}),a.jsx(fe,{children:a.jsx(ce,{variant:"outline",className:l.statusPagamento==="em_aberto"?"border-red-500 text-red-700":"border-orange-500 text-orange-700",children:l.statusPagamento==="em_aberto"?"Em Aberto":"Parcial"})}),a.jsx(fe,{className:"text-right",children:a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>c(l),className:"text-green-600 border-green-600 hover:bg-green-50",children:[a.jsx(Co,{className:"h-4 w-4 mr-1"}),"WhatsApp"]})})]},l.id))})]}),n.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?"Nenhum cliente encontrado":"Nenhuma conta a receber no momento"})]})})]})]})}function dwe(e,t,r){const[n,s]=x.useState({periodo:"mensal",incluirContasFixas:!0,incluirAgendamentos:!0,incluirLancamentos:!0}),o=x.useMemo(()=>{const l=new Date;switch(n.periodo){case"semanal":return{inicio:vn(l,{locale:Le}),fim:qc(l,{locale:Le})};case"mensal":return{inicio:Jt(l),fim:Za(l)};case"trimestral":return{inicio:Xve(l),fim:Qve(l)};case"semestral":const d=l.getMonth()<6?new Date(l.getFullYear(),0,1):new Date(l.getFullYear(),6,1),u=l.getMonth()<6?new Date(l.getFullYear(),5,30):new Date(l.getFullYear(),11,31);return{inicio:d,fim:u};case"anual":return{inicio:z0(l),fim:Jve(l)};case"personalizado":return{inicio:n.dataInicio||Jt(l),fim:n.dataFim||Za(l)};default:return{inicio:Jt(l),fim:Za(l)}}},[n.periodo,n.dataInicio,n.dataFim]),i=x.useMemo(()=>{const l=n.incluirLancamentos?e.filter(f=>{const h=new Date(f.data);return Ju(h,{start:o.inicio,end:o.fim})}):[],d=n.incluirContasFixas?t.filter(f=>{if(!f.proximoVencimento)return!1;const h=new Date(f.proximoVencimento);return Ju(h,{start:o.inicio,end:o.fim})}):[],u=n.incluirAgendamentos?r.filter(f=>{const h=new Date(f.data);return Ju(h,{start:o.inicio,end:o.fim})}):[];return{lancamentos:l,contasFixas:d,agendamentos:u}},[e,t,r,o,n]),c=x.useMemo(()=>{const{lancamentos:l,contasFixas:d,agendamentos:u}=i,f=l.filter(S=>S.tipo==="entrada").reduce((S,_)=>S+_.valor,0),h=l.filter(S=>S.tipo==="saida").reduce((S,_)=>S+_.valor,0),p=u.filter(S=>S.statusPagamento==="pago").reduce((S,_)=>S+(_.valorPago||0),0),v=u.filter(S=>S.statusPagamento!=="pago").reduce((S,_)=>S+_.valorDevido,0),m=d.filter(S=>S.status==="pago").reduce((S,_)=>S+_.valor,0),g=d.filter(S=>S.status!=="pago").reduce((S,_)=>S+_.valor,0),y=new Map;u.forEach(S=>{const _="Servio",C=y.get(_)||{quantidade:0,valor:0};y.set(_,{quantidade:C.quantidade+1,valor:C.valor+S.valor})});const b=Array.from(y.entries()).map(([S,_])=>({nome:S,quantidade:_.quantidade,valorTotal:_.valor,percentual:_.valor/(f+p)*100})).sort((S,_)=>_.valorTotal-S.valorTotal).slice(0,5),w=new Map;l.forEach(S=>{const _=S.categoria||"Sem categoria",C=w.get(_)||{entradas:0,saidas:0};S.tipo==="entrada"?C.entradas+=S.valor:C.saidas+=S.valor,w.set(_,C)});const j=Array.from(w.entries()).map(([S,_])=>({categoria:S,entradas:_.entradas,saidas:_.saidas,lucro:_.entradas-_.saidas,percentual:(_.entradas-_.saidas)/(f-h)*100})).sort((S,_)=>_.lucro-S.lucro),N=[];for(let S=5;S>=0;S--){const _=n$(new Date,S),C=Jt(_),E=Za(_),$=e.filter(O=>{const T=new Date(O.data);return Ju(T,{start:C,end:E})}),k=$.filter(O=>O.tipo==="entrada").reduce((O,T)=>O+T.valor,0),P=$.filter(O=>O.tipo==="saida").reduce((O,T)=>O+T.valor,0);N.push({periodo:Te(_,"MMM/yyyy",{locale:Le}),entradas:k,saidas:P,lucro:k-P})}return{totalEntradas:f+p,totalSaidas:h+m,lucroLiquido:f+p-(h+m),contasAPagar:g,contasRecebidas:p,agendamentosPagos:p,agendamentosAbertos:v,contasFixasPagas:m,contasFixasAbertas:g,servicosMaisVendidos:b,categoriasMaisLucrativas:j,evolucaoMensal:N}},[i,e]);return{filtros:n,setFiltros:s,dadosRelatorio:c,intervaloData:o,dadosFiltrados:i}}function uwe({filtros:e,onFiltrosChange:t}){const{isMobile:r}=aj(),n=l=>{t({...e,periodo:l})},s=l=>{t({...e,dataInicio:l})},o=l=>{t({...e,dataFim:l})},i=(l,d)=>{t({...e,[l]:d})},c=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{className:"text-responsive-sm",children:"Perodo"}),a.jsxs(Fe,{value:e.periodo,onValueChange:n,children:[a.jsx(Re,{className:"h-12",children:a.jsx(ze,{placeholder:"Selecione o perodo"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"semanal",children:"Esta Semana"}),a.jsx(te,{value:"mensal",children:"Este Ms"}),a.jsx(te,{value:"trimestral",children:"Este Trimestre"}),a.jsx(te,{value:"semestral",children:"Este Semestre"}),a.jsx(te,{value:"anual",children:"Este Ano"}),a.jsx(te,{value:"personalizado",children:"Perodo Personalizado"})]})]})]}),e.periodo==="personalizado"&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{className:"text-responsive-sm",children:"Data Incio"}),a.jsxs(Vh,{children:[a.jsx(Uh,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:Q("w-full justify-start text-left font-normal h-12",!e.dataInicio&&"text-muted-foreground"),children:[a.jsx(Se,{className:"mr-2 h-4 w-4"}),e.dataInicio?Te(e.dataInicio,"PPP",{locale:Le}):a.jsx("span",{children:"Selecione a data"})]})}),a.jsx(kd,{className:"w-auto p-0",align:"start",children:a.jsx(Ad,{mode:"single",selected:e.dataInicio,onSelect:s,initialFocus:!0,className:Q("p-3 pointer-events-auto")})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{className:"text-responsive-sm",children:"Data Fim"}),a.jsxs(Vh,{children:[a.jsx(Uh,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:Q("w-full justify-start text-left font-normal h-12",!e.dataFim&&"text-muted-foreground"),children:[a.jsx(Se,{className:"mr-2 h-4 w-4"}),e.dataFim?Te(e.dataFim,"PPP",{locale:Le}):a.jsx("span",{children:"Selecione a data"})]})}),a.jsx(kd,{className:"w-auto p-0",align:"start",children:a.jsx(Ad,{mode:"single",selected:e.dataFim,onSelect:o,initialFocus:!0,className:Q("p-3 pointer-events-auto")})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(G,{className:"text-responsive-sm font-semibold",children:"Incluir nos Relatrios"}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx(G,{htmlFor:"incluir-lancamentos",className:"text-responsive-sm cursor-pointer",children:"Lanamentos Manuais"}),a.jsx(qt,{id:"incluir-lancamentos",checked:e.incluirLancamentos,onCheckedChange:l=>i("incluirLancamentos",l)})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx(G,{htmlFor:"incluir-agendamentos",className:"text-responsive-sm cursor-pointer",children:"Agendamentos"}),a.jsx(qt,{id:"incluir-agendamentos",checked:e.incluirAgendamentos,onCheckedChange:l=>i("incluirAgendamentos",l)})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx(G,{htmlFor:"incluir-contas-fixas",className:"text-responsive-sm cursor-pointer",children:"Contas Fixas"}),a.jsx(qt,{id:"incluir-contas-fixas",checked:e.incluirContasFixas,onCheckedChange:l=>i("incluirContasFixas",l)})]})]})]});return r?a.jsxs(f2,{children:[a.jsx(k6,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:"btn-touch w-full sm:w-auto",children:[a.jsx(Vs,{className:"mr-2 h-4 w-4"}),"Filtros"]})}),a.jsxs(ab,{side:"bottom",className:"h-[90vh]",children:[a.jsx(m2,{children:a.jsx(p2,{children:"Filtros do Relatrio"})}),a.jsx("div",{className:"mt-6 overflow-y-auto h-[calc(90vh-80px)]",children:a.jsx(c,{})})]})]}):a.jsxs(L,{className:"animate-fade-in",children:[a.jsx(Y,{children:a.jsx(Z,{children:"Filtros do Relatrio"})}),a.jsx(B,{children:a.jsx(c,{})})]})}const TC=["#8884d8","#82ca9d","#ffc658","#ff7300","#00ff00","#ff0000","#00ffff","#ff00ff","#ffff00","#000080"];function fwe({dados:e}){const t=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),r=[{categoria:"Entradas",valor:e.totalEntradas,cor:"#10b981"},{categoria:"Sadas",valor:e.totalSaidas,cor:"#ef4444"},{categoria:"Lucro",valor:e.lucroLiquido,cor:e.lucroLiquido>=0?"#3b82f6":"#ef4444"}],n=e.categoriasMaisLucrativas.slice(0,5).map((s,o)=>({name:s.categoria,value:Math.abs(s.lucro),lucro:s.lucro,percentual:s.percentual}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Resumo Financeiro"})}),a.jsx(B,{children:a.jsx(po,{width:"100%",height:300,children:a.jsxs(Mh,{data:r,children:[a.jsx(Al,{strokeDasharray:"3 3"}),a.jsx(es,{dataKey:"categoria"}),a.jsx(ts,{tickFormatter:t}),a.jsx(br,{formatter:s=>t(Number(s))}),a.jsx(Sa,{}),a.jsx(na,{dataKey:"valor",fill:"#8884d8",children:r.map((s,o)=>a.jsx(zi,{fill:s.cor},`cell-${o}`))})]})})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Evoluo dos ltimos 6 Meses"})}),a.jsx(B,{children:a.jsx(po,{width:"100%",height:300,children:a.jsxs(ahe,{data:e.evolucaoMensal,children:[a.jsx(Al,{strokeDasharray:"3 3"}),a.jsx(es,{dataKey:"periodo"}),a.jsx(ts,{tickFormatter:t}),a.jsx(br,{formatter:s=>t(Number(s))}),a.jsx(Sa,{}),a.jsx(ls,{type:"monotone",dataKey:"entradas",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Entradas"}),a.jsx(ls,{type:"monotone",dataKey:"saidas",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Sadas"}),a.jsx(jp,{type:"monotone",dataKey:"lucro",stroke:"#3b82f6",strokeWidth:3,name:"Lucro"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Categorias Mais Lucrativas"})}),a.jsx(B,{children:a.jsx(po,{width:"100%",height:300,children:a.jsxs(qO,{children:[a.jsx(Ra,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percentual:o})=>`${s}: ${o.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((s,o)=>a.jsx(zi,{fill:TC[o%TC.length]},`cell-${o}`))}),a.jsx(br,{formatter:s=>t(Number(s))})]})})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Top 5 Servios"})}),a.jsx(B,{children:a.jsx(po,{width:"100%",height:300,children:a.jsxs(Mh,{data:e.servicosMaisVendidos,layout:"horizontal",margin:{left:50},children:[a.jsx(Al,{strokeDasharray:"3 3"}),a.jsx(es,{type:"number",tickFormatter:t}),a.jsx(ts,{dataKey:"nome",type:"category",width:100}),a.jsx(br,{formatter:(s,o)=>[o==="valorTotal"?t(Number(s)):s,o==="valorTotal"?"Valor Total":"Quantidade"]}),a.jsx(Sa,{}),a.jsx(na,{dataKey:"valorTotal",fill:"#3b82f6",name:"Valor Total"})]})})})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Detalhamento de Contas"})}),a.jsx(B,{children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:t(e.agendamentosPagos)}),a.jsx("div",{className:"text-sm text-green-600",children:"Agendamentos Pagos"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t(e.agendamentosAbertos)}),a.jsx("div",{className:"text-sm text-orange-600",children:"Agendamentos em Aberto"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t(e.contasFixasPagas)}),a.jsx("div",{className:"text-sm text-blue-600",children:"Contas Fixas Pagas"})]}),a.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:t(e.contasFixasAbertas)}),a.jsx("div",{className:"text-sm text-red-600",children:"Contas Fixas em Aberto"})]})]})})]})]})}function hwe({dados:e,dadosDetalhados:t}){const[r,n]=x.useState(1),[s,o]=x.useState(1),[i,c]=x.useState(1),l=10,d=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),u=y=>Te(new Date(y),"dd/MM/yyyy",{locale:Le}),f=y=>{const w={pago:{variant:"default",label:"Pago"},em_aberto:{variant:"destructive",label:"Em Aberto"},pendente:{variant:"outline",label:"Pendente"},agendado:{variant:"secondary",label:"Agendado"},concluido:{variant:"default",label:"Concludo"},cancelado:{variant:"destructive",label:"Cancelado"}}[y]||{variant:"outline",label:y};return a.jsx(ce,{variant:w.variant,children:w.label})},h=()=>{console.log("Exportando relatrio para PDF...")},p=()=>{console.log("Exportando relatrio para Excel...")},v=t.lancamentos.slice((r-1)*l,r*l),m=t.contasFixas.slice((s-1)*l,s*l),g=t.agendamentos.slice((i-1)*l,i*l);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between",children:[a.jsx(Z,{children:"Anlise por Categorias"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:h,children:[a.jsx(_n,{className:"h-4 w-4 mr-2"}),"PDF"]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:p,children:[a.jsx(_n,{className:"h-4 w-4 mr-2"}),"Excel"]})]})]}),a.jsx(B,{children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Categoria"}),a.jsx(pe,{className:"text-right",children:"Entradas"}),a.jsx(pe,{className:"text-right",children:"Sadas"}),a.jsx(pe,{className:"text-right",children:"Lucro"}),a.jsx(pe,{className:"text-right",children:"Participao"})]})}),a.jsx(Ir,{children:e.categoriasMaisLucrativas.map((y,b)=>a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:y.categoria}),a.jsx(fe,{className:"text-right text-green-600",children:d(y.entradas)}),a.jsx(fe,{className:"text-right text-red-600",children:d(y.saidas)}),a.jsx(fe,{className:`text-right ${y.lucro>=0?"text-green-600":"text-red-600"}`,children:d(y.lucro)}),a.jsxs(fe,{className:"text-right",children:[y.percentual.toFixed(1),"%"]})]},b))})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Servios Mais Vendidos"})}),a.jsx(B,{children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Servio"}),a.jsx(pe,{className:"text-right",children:"Quantidade"}),a.jsx(pe,{className:"text-right",children:"Valor Total"}),a.jsx(pe,{className:"text-right",children:"Participao"})]})}),a.jsx(Ir,{children:e.servicosMaisVendidos.map((y,b)=>a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:y.nome}),a.jsx(fe,{className:"text-right",children:y.quantidade}),a.jsx(fe,{className:"text-right text-green-600",children:d(y.valorTotal)}),a.jsxs(fe,{className:"text-right",children:[y.percentual.toFixed(1),"%"]})]},b))})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Dados Detalhados"})}),a.jsx(B,{children:a.jsxs(da,{defaultValue:"lancamentos",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-3",children:[a.jsxs(He,{value:"lancamentos",children:["Lanamentos (",t.lancamentos.length,")"]}),a.jsxs(He,{value:"agendamentos",children:["Agendamentos (",t.agendamentos.length,")"]}),a.jsxs(He,{value:"contas",children:["Contas Fixas (",t.contasFixas.length,")"]})]}),a.jsx(Ge,{value:"lancamentos",className:"space-y-4",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Data"}),a.jsx(pe,{children:"Descrio"}),a.jsx(pe,{children:"Categoria"}),a.jsx(pe,{children:"Tipo"}),a.jsx(pe,{className:"text-right",children:"Valor"})]})}),a.jsx(Ir,{children:v.map(y=>a.jsxs(ht,{children:[a.jsx(fe,{children:u(y.data)}),a.jsx(fe,{children:y.descricao}),a.jsx(fe,{children:y.categoria||"Sem categoria"}),a.jsx(fe,{children:a.jsx(ce,{variant:y.tipo==="entrada"?"default":"destructive",children:y.tipo==="entrada"?"Entrada":"Sada"})}),a.jsx(fe,{className:`text-right ${y.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:d(y.valor)})]},y.id))})]})}),a.jsx(Ge,{value:"agendamentos",className:"space-y-4",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Data"}),a.jsx(pe,{children:"Cliente"}),a.jsx(pe,{children:"Status"}),a.jsx(pe,{children:"Pagamento"}),a.jsx(pe,{className:"text-right",children:"Valor"}),a.jsx(pe,{className:"text-right",children:"Pago"})]})}),a.jsx(Ir,{children:g.map(y=>a.jsxs(ht,{children:[a.jsx(fe,{children:u(y.data)}),a.jsx(fe,{children:"Cliente"}),a.jsx(fe,{children:f(y.status||"agendado")}),a.jsx(fe,{children:f(y.statusPagamento||"em_aberto")}),a.jsx(fe,{className:"text-right",children:d(y.valor)}),a.jsx(fe,{className:"text-right text-green-600",children:d(y.valorPago||0)})]},y.id))})]})}),a.jsx(Ge,{value:"contas",className:"space-y-4",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Nome"}),a.jsx(pe,{children:"Categoria"}),a.jsx(pe,{children:"Vencimento"}),a.jsx(pe,{children:"Status"}),a.jsx(pe,{className:"text-right",children:"Valor"})]})}),a.jsx(Ir,{children:m.map(y=>a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:y.nome}),a.jsx(fe,{children:y.categoria}),a.jsx(fe,{children:y.proximoVencimento?u(y.proximoVencimento):"-"}),a.jsx(fe,{children:f(y.status)}),a.jsx(fe,{className:"text-right text-red-600",children:d(y.valor)})]},y.id))})]})})]})})]})]})}function mwe(){const{lancamentos:e}=Om(),{contasFixas:t}=GM(),{agendamentos:r}=ds(),{filtros:n,setFiltros:s,dadosRelatorio:o,intervaloData:i,dadosFiltrados:c}=dwe(e,t,r),l=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),d=()=>{const f=Te(i.inicio,"dd/MM/yyyy",{locale:Le}),h=Te(i.fim,"dd/MM/yyyy",{locale:Le});return`${f} a ${h}`},u=()=>{console.log("Exportando relatrio completo...",{periodo:d(),dados:o,detalhes:c})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Relatrios Financeiros"}),a.jsxs("p",{className:"text-muted-foreground",children:["Anlise detalhada do perodo: ",d()]})]}),a.jsxs(z,{onClick:u,className:"flex items-center gap-2",children:[a.jsx(_n,{className:"h-4 w-4"}),"Exportar Relatrio Completo"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(L,{children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-success",children:a.jsx(Mt,{className:"h-6 w-6 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-2xl font-bold text-success",children:l(o.totalEntradas)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Entradas"})]})]})}),a.jsx(L,{children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive",children:a.jsx(Uo,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-2xl font-bold text-destructive",children:l(o.totalSaidas)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Sadas"})]})]})}),a.jsx(L,{children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl ${o.lucroLiquido>=0?"bg-info":"bg-destructive"}`,children:a.jsx(dt,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-2xl font-bold ${o.lucroLiquido>=0?"text-info":"text-destructive"}`,children:l(o.lucroLiquido)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.lucroLiquido>=0?"Lucro Lquido":"Prejuzo"})]})]})}),a.jsx(L,{children:a.jsxs(B,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-warning",children:a.jsx(ka,{className:"h-6 w-6 text-warning-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-2xl font-bold text-warning",children:l(o.contasAPagar)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Contas a Pagar"})]})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Indicadores de Performance"})}),a.jsx(B,{children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[o.lucroLiquido>0?(o.lucroLiquido/o.totalEntradas*100).toFixed(1):"0.0","%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Margem de Lucro"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-semibold",children:o.servicosMaisVendidos.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Servios Ativos"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-semibold",children:l(o.agendamentosAbertos)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Pendente Recebimento"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-semibold",children:o.categoriasMaisLucrativas.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Categorias Ativas"})]})]})})]}),a.jsxs(da,{defaultValue:"visao-geral",className:"space-y-6",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-3",children:[a.jsx(He,{value:"visao-geral",children:"Viso Geral"}),a.jsx(He,{value:"graficos",children:"Grficos"}),a.jsx(He,{value:"detalhado",children:"Dados Detalhados"})]}),a.jsx(Ge,{value:"visao-geral",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(uwe,{filtros:n,onFiltrosChange:s})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Top 5 Categorias Mais Lucrativas"})}),a.jsx(B,{children:a.jsx("div",{className:"space-y-3",children:o.categoriasMaisLucrativas.slice(0,5).map((f,h)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),a.jsx("span",{className:"font-medium",children:f.categoria})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`font-semibold ${f.lucro>=0?"text-success":"text-destructive"}`,children:l(f.lucro)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.percentual.toFixed(1),"% do total"]})]})]},h))})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Top 5 Servios Mais Vendidos"})}),a.jsx(B,{children:a.jsx("div",{className:"space-y-3",children:o.servicosMaisVendidos.slice(0,5).map((f,h)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ce,{variant:"outline",children:[f.quantidade,"x"]}),a.jsx("span",{className:"font-medium",children:f.nome})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-success",children:l(f.valorTotal)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.percentual.toFixed(1),"% do faturamento"]})]})]},h))})})]})]})]})}),a.jsx(Ge,{value:"graficos",children:a.jsx(fwe,{dados:o})}),a.jsx(Ge,{value:"detalhado",children:a.jsx(hwe,{dados:o,dadosDetalhados:c})})]})]})}function pwe({contasFixas:e,onPagarConta:t}){const n=(()=>{const f=new Date,h=new Date;h.setDate(f.getDate()+7);const p=f.getMonth()+1,v=f.getFullYear();return e.filter(m=>{if(m.status==="pago")return!1;const g=new Date(v,p-1,m.dataVencimento);return g<f&&g.setMonth(g.getMonth()+1),g<=h}).map(m=>{const g=new Date(v,p-1,m.dataVencimento);g<f&&g.setMonth(g.getMonth()+1);const y=Math.ceil((g.getTime()-f.getTime())/(1e3*60*60*24));return{...m,dataVencimento:g,diasParaVencimento:y,situacao:y<0?"vencido":y===0?"venceHoje":y<=3?"venceEmBreve":"normal"}}).sort((m,g)=>m.diasParaVencimento-g.diasParaVencimento)})(),s=n.filter(f=>f.situacao==="vencido"),o=n.filter(f=>f.situacao==="venceHoje"),i=n.filter(f=>f.situacao==="venceEmBreve");x.useEffect(()=>{if(s.length>0||o.length>0){Notification.permission==="granted"&&new Notification("Ateno: Contas Vencendo!",{body:`Voc tem ${s.length+o.length} conta(s) que requer(em) ateno imediata.`,icon:"/icons/icon-192x192.png"});try{const f=new Audio("/sounds/notification.mp3");f.volume=.3,f.play().catch(()=>{})}catch{}}},[s.length,o.length]);const c=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),l=f=>f.toLocaleDateString("pt-BR"),d=f=>{switch(f){case"vencido":return"bg-destructive/10 text-destructive";case"venceHoje":return"bg-warning/10 text-warning";case"venceEmBreve":return"bg-warning/10 text-warning";default:return"bg-info/10 text-info"}},u=f=>{switch(f.situacao){case"vencido":return`Venceu h ${Math.abs(f.diasParaVencimento)} dia(s)`;case"venceHoje":return"Vence hoje";case"venceEmBreve":return`Vence em ${f.diasParaVencimento} dia(s)`;default:return`Vence em ${f.diasParaVencimento} dia(s)`}};return n.length===0?a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2 text-success",children:[a.jsx(Xa,{className:"h-5 w-5"}),"Avisos de Vencimento"]})}),a.jsx(B,{children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Se,{className:"h-12 w-12 text-success mx-auto mb-4"}),a.jsx("p",{className:"text-success font-medium",children:"Parabns!"}),a.jsx("p",{className:"text-muted-foreground",children:"No h contas vencendo nos prximos 7 dias."})]})})]}):a.jsxs("div",{className:"space-y-4",children:[(s.length>0||o.length>0)&&a.jsxs(Jr,{className:"border-destructive/20 bg-destructive/10",children:[a.jsx(cr,{className:"h-4 w-4 text-destructive"}),a.jsxs(Qr,{className:"text-destructive",children:[a.jsx("strong",{children:"Ateno:"})," Voc tem ",s.length+o.length," conta(s) que requer(em) pagamento imediato!"]})]}),i.length>0&&a.jsxs(Jr,{className:"border-warning/20 bg-warning/10",children:[a.jsx(Xa,{className:"h-4 w-4 text-warning"}),a.jsxs(Qr,{className:"text-warning",children:["Voc tem ",i.length," conta(s) vencendo nos prximos dias."]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-5 w-5"}),"Contas Vencendo"]})}),a.jsx(B,{children:a.jsx("div",{className:"space-y-3",children:n.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-medium",children:f.nome}),a.jsx(ce,{className:d(f.situacao),children:u(f)})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Se,{className:"h-4 w-4"}),l(f.dataVencimento)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(dt,{className:"h-4 w-4"}),c(f.valor)]}),a.jsxs("span",{children:["Categoria: ",f.categoria]})]})]}),a.jsx(z,{onClick:()=>t(f.id),className:f.situacao==="vencido"||f.situacao==="venceHoje"?"bg-destructive hover:bg-destructive/90":"bg-success hover:bg-success/90",children:"Pagar Agora"})]},f.id))})})]})]})}function gwe(){aj();const{compras:e,loading:t}=mu(),{vendas:r,loading:n}=pu(),[s,o]=x.useState("todos"),[i,c]=x.useState(""),l=x.useMemo(()=>{const v=[];return e.forEach(m=>{v.push({id:m.id,tipo:"compra",data:m.data_compra,valor:m.valor_total,descricao:`Compra ${m.numero_nota?`- Nota ${m.numero_nota}`:""}`,status:m.status_pagamento||"pendente",itens:m.itens_compra?.length||0})}),r.forEach(m=>{v.push({id:m.id,tipo:"venda",data:m.data_venda,valor:m.valor_total,descricao:"Venda de produtos",status:m.status_pagamento||"pago",itens:m.itens_venda?.length||0})}),v.sort((m,g)=>new Date(g.data).getTime()-new Date(m.data).getTime())},[e,r]),d=x.useMemo(()=>l.filter(v=>{const m=s==="todos"||v.tipo===s,g=v.descricao.toLowerCase().includes(i.toLowerCase());return m&&g}),[l,s,i]),u=x.useMemo(()=>{const v=l.filter(g=>g.tipo==="compra").reduce((g,y)=>g+y.valor,0),m=l.filter(g=>g.tipo==="venda").reduce((g,y)=>g+y.valor,0);return{compras:v,vendas:m,lucro:m-v}},[l]),f=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),h=v=>{switch(v){case"pago":return"bg-success text-success-foreground";case"pendente":return"bg-warning text-warning-foreground";case"pago_parcial":return"bg-primary text-primary-foreground";case"vencido":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},p=v=>{switch(v){case"pago":return"Pago";case"pendente":return"Pendente";case"pago_parcial":return"Parcial";case"vencido":return"Vencido";default:return v}};return t||n?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-responsive-lg",children:[a.jsxs("div",{className:"grid-responsive-3",children:[a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive flex-shrink-0",children:a.jsx(Cf,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-destructive truncate",children:f(u.compras)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Total em Compras"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-success flex-shrink-0",children:a.jsx(Na,{className:"h-6 w-6 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-success truncate",children:f(u.vendas)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Total em Vendas"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${u.lucro>=0?"bg-primary":"bg-destructive"}`,children:u.lucro>=0?a.jsx(Mt,{className:"h-6 w-6 text-primary-foreground"}):a.jsx(Uo,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-responsive-lg font-bold truncate ${u.lucro>=0?"text-primary":"text-destructive"}`,children:f(u.lucro)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Margem de Lucro"})]})]})})]}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(B,{className:"p-responsive-sm",children:a.jsxs("div",{className:"flex-responsive flex-responsive-row-sm gap-4",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar movimentao...",value:i,onChange:v=>c(v.target.value),className:"pl-10 h-12"})]}),a.jsxs(Fe,{value:s,onValueChange:v=>o(v),children:[a.jsxs(Re,{className:"w-full sm:w-[200px] h-12",children:[a.jsx(Vs,{className:"mr-2 h-4 w-4"}),a.jsx(ze,{})]}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todos",children:"Todos"}),a.jsx(te,{value:"compra",children:"Compras"}),a.jsx(te,{value:"venda",children:"Vendas"})]})]})]})})}),a.jsx("div",{className:"space-responsive-md",children:d.length===0?a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(B,{className:"p-responsive-lg text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma movimentao encontrada"})})}):d.map(v=>a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:shadow-md transition-shadow",children:a.jsx(B,{className:"p-responsive-sm",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex items-start gap-4 min-w-0 flex-1",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${v.tipo==="compra"?"bg-destructive":"bg-success"}`,children:v.tipo==="compra"?a.jsx(Cf,{className:"h-5 w-5 text-destructive-foreground"}):a.jsx(Na,{className:"h-5 w-5 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-semibold text-foreground truncate",children:v.descricao}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Te(new Date(v.data),"dd 'de' MMMM 'de' yyyy",{locale:Le})})]}),a.jsxs("p",{className:`font-bold text-lg whitespace-nowrap ${v.tipo==="compra"?"text-destructive":"text-success"}`,children:[v.tipo==="compra"?"- ":"+ ",f(v.valor)]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(ce,{variant:"outline",className:"capitalize",children:v.tipo==="compra"?"Compra":"Venda"}),v.status&&a.jsx(ce,{className:h(v.status),children:p(v.status)}),v.itens&&v.itens>0&&a.jsxs(ce,{variant:"secondary",children:[v.itens," ",v.itens===1?"item":"itens"]})]})]})]})})})},v.id))})]})}function vwe(){const{isMobile:e}=aj(),[t,r]=x.useState("list"),[n,s]=x.useState("lancamento"),[o,i]=x.useState(),[c,l]=x.useState(),{lancamentos:d,resumoFinanceiro:u,categorias:f,filtros:h,setFiltros:p,adicionarLancamento:v,atualizarLancamento:m,removerLancamento:g}=Om(),y=[],{contasFixas:b,categorias:w,criarContaFixa:j,atualizarContaFixa:N,removerContaFixa:S,pagarContaFixa:_,toggleAtiva:C,criarCategoria:E}=GM(),$=()=>{i(void 0),s("lancamento"),r("form")},k=()=>{l(void 0),s("conta_fixa"),r("form")},P=R=>{i(R),r("form")},O=async R=>{o?await m(o.id,R):await v(R),r("list"),i(void 0)},T=async R=>{c?await N(c.id,R):await j(R),r("list"),l(void 0)},I=()=>{r("list"),i(void 0),l(void 0)};return t==="form"?n==="lancamento"?a.jsx("div",{className:"space-y-6",children:a.jsx(Xje,{lancamento:o,categorias:f.map(R=>R.nome),onSubmit:O,onCancel:I})}):a.jsx("div",{className:"space-y-6",children:a.jsx(cwe,{conta:c,categorias:w,onSubmit:T,onCancel:I,onCreateCategoria:async(R,D)=>{await E({nome:R,tipo:"despesa",cor:D})}})}):a.jsxs("div",{className:"space-responsive-lg",children:[a.jsx("div",{className:"flex-responsive flex-responsive-row-md items-start justify-between",children:a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h1",{className:"text-responsive-3xl font-bold text-foreground",children:"Financeiro"}),a.jsx("p",{className:"text-responsive-base text-muted-foreground mt-2",children:"Controle completo das finanas do seu salo"})]})}),a.jsx(pwe,{contasFixas:b,onPagarConta:R=>_(R)}),a.jsx(Hje,{resumo:u}),a.jsxs(da,{defaultValue:"lancamentos",className:"space-responsive-lg",children:[a.jsxs(Od,{className:"w-full",children:[a.jsxs(Ln,{className:"inline-flex h-auto w-max min-w-full md:w-full md:grid md:grid-cols-7 gap-1 p-1",children:[a.jsxs(He,{value:"lancamentos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(jl,{className:"mr-1 h-4 w-4 md:hidden"}),"Lanamentos"]}),a.jsxs(He,{value:"contas-fixas",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(cr,{className:"mr-1 h-4 w-4 md:hidden"}),"Contas Fixas"]}),a.jsxs(He,{value:"produtos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(ka,{className:"mr-1 h-4 w-4 md:hidden"}),"Produtos"]}),a.jsxs(He,{value:"contas-receber",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(qr,{className:"mr-1 h-4 w-4 md:hidden"}),"A Receber"]}),a.jsxs(He,{value:"pagamentos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(jl,{className:"mr-1 h-4 w-4 md:hidden"}),"Pagamentos"]}),a.jsxs(He,{value:"graficos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(Mt,{className:"mr-1 h-4 w-4 md:hidden"}),"Grficos"]}),a.jsxs(He,{value:"relatorios",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(ka,{className:"mr-1 h-4 w-4 md:hidden"}),"Relatrios"]})]}),a.jsx(nj,{orientation:"horizontal",className:"md:hidden"})]}),a.jsxs(Ge,{value:"lancamentos",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex-responsive flex-responsive-row-sm items-start justify-between gap-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Lanamentos Financeiros"}),a.jsxs(z,{onClick:$,className:"bg-gradient-to-r from-primary to-lilac-primary btn-touch flex-shrink-0 hover-scale",children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Novo Lanamento"}),a.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),e?a.jsx(Kje,{lancamentos:d,onEdit:P,onDelete:g}):a.jsx(Gje,{lancamentos:d,filtros:h,categorias:f.map(R=>R.nome),onFiltrosChange:p,onEdit:P,onDelete:g})]}),a.jsxs(Ge,{value:"contas-fixas",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex-responsive flex-responsive-row-sm items-start justify-between gap-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Contas Fixas Mensais"}),a.jsxs(z,{onClick:k,className:"bg-gradient-to-r from-primary to-lilac-primary btn-touch flex-shrink-0 hover-scale",children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Nova Conta Fixa"}),a.jsx("span",{className:"sm:hidden",children:"Nova"})]})]}),e?a.jsx(Yje,{contas:b,onEdit:R=>{l(R),s("conta_fixa"),r("form")},onDelete:S,onPagar:_,onToggleAtiva:C}):a.jsx(ewe,{contas:b,categorias:w,onEdit:R=>{l(R),s("conta_fixa"),r("form")},onDelete:S,onPagar:_,onToggleAtiva:C})]}),a.jsxs(Ge,{value:"produtos",className:"space-responsive-lg animate-fade-in",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold mb-4",children:"Movimentaes de Produtos"}),a.jsx(gwe,{})]}),a.jsxs(Ge,{value:"contas-receber",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(qr,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Contas a Receber"})]}),a.jsx(lwe,{agendamentos:y})]}),a.jsxs(Ge,{value:"pagamentos",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(jl,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Pagamentos dos Clientes"})]}),a.jsx(Qje,{agendamentos:y})]}),a.jsxs(Ge,{value:"graficos",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Mt,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Grficos e Anlises"})]}),a.jsx(Jje,{lancamentos:d})]}),a.jsx(Ge,{value:"relatorios",className:"space-responsive-lg animate-fade-in",children:a.jsx(mwe,{})})]})]})}const oj=e=>{const[t,r]=x.useState([]),[n,s]=x.useState(!0);x.useEffect(()=>{o()},[e]);const o=async()=>{try{let u=W.from("configuracoes_horarios").select("*").eq("ativo",!0).order("dia_semana");if(!e){const{data:p}=await W.from("usuarios").select("id").limit(1);p&&p.length>0&&(u=u.eq("user_id",p[0].id))}const{data:f,error:h}=await u;if(h)throw h;r(f||[])}catch(u){console.error("Erro ao carregar configuraes de horrio:",u)}finally{s(!1)}},i=u=>!!t.find(h=>h.dia_semana===u&&h.ativo),c=(u,f)=>{const h=t.find(g=>g.dia_semana===u&&g.ativo);if(!h)return!1;const p=rn(f),v=rn(h.horario_abertura),m=rn(h.horario_fechamento);if(p<v||p>=m)return!1;if(h.intervalo_inicio&&h.intervalo_fim){const g=rn(h.intervalo_inicio),y=rn(h.intervalo_fim);if(p>=g&&p<y)return!1}return!0};return{configuracoes:t,loading:n,isDiaAtivo:i,isHorarioValido:c,isAgendamentoValido:(u,f,h=60)=>{console.log("Validando agendamento:",{data:u,horario:f,duracao:h});const v=new Date(u+"T00:00:00").getDay();if(console.log("Dia da semana:",v),!i(v))return console.log("Dia no est ativo"),!1;if(!c(v,f))return console.log("Horrio no  vlido"),!1;const m=t.find(w=>w.dia_semana===v&&w.ativo);if(!m)return console.log("Nenhuma configurao encontrada"),!1;const g=rn(f),y=g+h,b=rn(m.horario_fechamento);if(y>b)return console.log("Servio terminaria aps fechamento"),!1;if(m.intervalo_inicio&&m.intervalo_fim){const w=rn(m.intervalo_inicio),j=rn(m.intervalo_fim);if(g<j&&y>w)return console.log("Conflito com intervalo de almoo"),!1}return console.log("Agendamento  vlido!"),!0},getHorariosDisponiveis:(u,f=60)=>{const h=t.find(b=>b.dia_semana===u&&b.ativo);if(!h)return[];const p=[],v=rn(h.horario_abertura),m=rn(h.horario_fechamento),g=h.intervalo_inicio?rn(h.intervalo_inicio):null,y=h.intervalo_fim?rn(h.intervalo_fim):null;for(let b=v;b<m;b+=30){const w=b+f;w>m||g&&y&&(b>=g&&b<y||w>g&&w<=y||b<g&&w>y)||p.push(xwe(b))}return p},refetch:o}},rn=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},xwe=e=>{const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};function ywe(e){switch(e){case"online":return{label:"Online",emoji:"",className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-0"};case"cronograma":return{label:"Cronograma",emoji:"",className:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border-0"};case"manual":return{label:"Manual",emoji:"",className:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300 border-0"};default:return null}}function bwe(e){switch(e){case"agendado":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300";case"concluido":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"cancelado":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300";case"reagendado":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}}function jwe({buscaTexto:e=""}){const[t,r]=x.useState(new Date),{todosAgendamentos:n,loading:s,converterAgendamentoOnlineParaRegular:o}=ds(),{getHorariosDisponiveis:i,isAgendamentoValido:c}=oj(),l=e.trim().toLowerCase(),d=Tr(t),u=x.useMemo(()=>n.filter(N=>Tr(N.data)===d).filter(N=>l?[N.clienteNome,N.servicoNome,N.status,N.origem,N.hora,N.observacoes||""].map(_=>String(_||"").toLowerCase()).some(_=>_.includes(l)):!0).sort((N,S)=>N.hora.localeCompare(S.hora)),[n,d,l]),f=new Date,h=Tr(f),p=`${f.getHours().toString().padStart(2,"0")}:${f.getMinutes().toString().padStart(2,"0")}`,v=pi(p),m=x.useMemo(()=>u.find(N=>Tr(N.data)===h&&pi(N.hora)>=v&&N.status==="agendado"),[u,h,v]),g=x.useMemo(()=>({agendados:u.filter(N=>N.status==="agendado").length,concluidos:u.filter(N=>N.status==="concluido").length,cancelados:u.filter(N=>N.status==="cancelado").length,valorTotal:u.reduce((N,S)=>N+Number(S.valor??0),0),valorRecebido:u.filter(N=>N.status==="concluido").reduce((N,S)=>N+Number(S.valorPago??S.valor??0),0),tempoTotalAtendimento:u.reduce((N,S)=>N+(S.duracao||0),0)}),[u]),y=x.useMemo(()=>{const N=new Date(d+"T00:00:00").getDay();return(i?.(N,60)||[]).filter(_=>{const C=pi(_),E=C+60;return!u.some(k=>{const P=pi(k.hora),O=P+(k.duracao||60);return MP(C,E,P,O)})})},[i,d,u]),b=()=>r(N=>mf(N,1)),w=()=>r(N=>yr(N,1)),j=()=>r(new Date);return s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-gradient-to-r from-accent/10 to-primary/10 border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:b,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(yc,{className:"h-4 w-4"})}),a.jsxs("div",{className:"text-center min-w-[200px] lg:min-w-[250px]",children:[a.jsx("h2",{className:"text-lg lg:text-xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:Te(t,"EEEE, dd 'de' MMMM",{locale:Le})}),a.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:Te(t,"yyyy",{locale:Le})})]}),a.jsx(z,{variant:"outline",size:"sm",onClick:w,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(Bo,{className:"h-4 w-4"})})]}),a.jsx(z,{variant:"default",size:"sm",onClick:j,className:"w-full sm:w-auto transition-all hover:scale-105 shadow-md",children:"Hoje"})]}),m&&new Date(t).toDateString()===new Date().toDateString()&&a.jsx(L,{className:"border-0 bg-gradient-to-r from-primary/10 via-accent/5 to-primary/10 shadow-xl",children:a.jsx(B,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:a.jsx(Vr,{className:"h-4 w-4 text-primary"})}),a.jsx("h3",{className:"text-lg font-bold text-primary",children:"Prximo Cliente"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xl font-bold",children:m.clienteNome}),a.jsx("p",{className:"text-muted-foreground",children:m.servicoNome}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(at,{className:"h-3 w-3"}),m.hora," (",m.duracao,"min)"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(dt,{className:"h-3 w-3"}),"R$ ",Number(m.valor??0).toFixed(2)]})]})]})]}),a.jsxs("div",{className:"text-center lg:text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:m.hora}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Horrio previsto"})]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx(L,{className:"group border-0 bg-gradient-to-br from-info/10 to-info/5 dark:from-info/10 dark:to-info/5 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(B,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-info/20",children:a.jsx(at,{className:"h-5 w-5 text-info"})}),a.jsx("div",{className:"text-xl lg:text-2xl font-bold text-info",children:g.agendados}),a.jsx("p",{className:"text-xs lg:text-sm text-info/70 font-medium",children:"Agendados"})]})})}),a.jsx(L,{className:"group border-0 bg-gradient-to-br from-success/10 to-success/5 dark:from-success/10 dark:to-success/5 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(B,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-success/20",children:a.jsx(Vr,{className:"h-5 w-5 text-success"})}),a.jsx("div",{className:"text-xl lg:text-2xl font-bold text-success",children:g.concluidos}),a.jsx("p",{className:"text-xs lg:text-sm text-success/70 font-medium",children:"Concludos"})]})})}),a.jsx(L,{className:"group border-0 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(B,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:a.jsx(dt,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{className:"text-lg lg:text-xl font-bold text-purple-700 dark:text-purple-300",children:["R$ ",g.valorTotal.toFixed(2)]}),a.jsx("p",{className:"text-xs lg:text-sm text-purple-600/70 dark:text-purple-400/70 font-medium",children:"Valor Total"})]})})}),a.jsx(L,{className:"group border-0 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/20 dark:to-emerald-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(B,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900/30",children:a.jsx(dt,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),a.jsxs("div",{className:"text-lg lg:text-xl font-bold text-emerald-700 dark:text-emerald-300",children:["R$ ",g.valorRecebido.toFixed(2)]}),a.jsx("p",{className:"text-xs lg:text-sm text-emerald-600/70 dark:text-emerald-400/70 font-medium",children:"Recebido"})]})})}),a.jsx(L,{className:"group border-0 bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-950/20 dark:to-orange-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(B,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/30",children:a.jsx(at,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{className:"text-lg lg:text-xl font-bold text-orange-700 dark:text-orange-300",children:[Math.floor(g.tempoTotalAtendimento/60),"h",g.tempoTotalAtendimento%60,"m"]}),a.jsx("p",{className:"text-xs lg:text-sm text-orange-600/70 dark:text-orange-400/70 font-medium",children:"Tempo Total"})]})})})]}),a.jsxs("div",{className:"space-y-3 max-h-[500px] overflow-y-auto custom-scrollbar",role:"region","aria-label":"Timeline de agendamentos do dia",children:[y.length>0&&a.jsx(L,{className:"border-0 bg-gradient-to-br from-primary/5 to-accent/5",children:a.jsx(B,{className:"p-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(N=>a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border/50",children:N},N))})})}),u.length===0?a.jsxs("div",{className:"text-center py-12 rounded-xl bg-gradient-to-br from-muted/30 to-muted/10 border border-dashed border-muted-foreground/20",children:[a.jsx("div",{className:"flex h-16 w-16 items-center justify-center mx-auto mb-4 rounded-full bg-muted/50",children:a.jsx(at,{className:"h-8 w-8 text-muted-foreground/50"})}),a.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Dia livre"}),a.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Nenhum agendamento para este dia"})]}):a.jsx("div",{className:"space-y-3",role:"list","aria-live":"polite","aria-busy":!1,children:u.map((N,S)=>a.jsxs(L,{className:Q("group relative overflow-hidden border-0 bg-card/80 backdrop-blur-sm transition-all duration-300 hover:shadow-xl hover:scale-[1.02]",N.origem==="cronograma"&&"bg-gradient-to-r from-purple-50/80 to-purple-100/30 dark:from-purple-950/30 dark:to-purple-900/20",N.status==="concluido"&&"bg-gradient-to-r from-green-50/80 to-green-100/30 dark:from-green-950/30 dark:to-green-900/20",N.status==="cancelado"&&"bg-gradient-to-r from-red-50/80 to-red-100/30 dark:from-red-950/30 dark:to-red-900/20"),role:"listitem",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5"}),a.jsxs(B,{className:"relative p-5",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary/10 dark:bg-primary/20",children:[a.jsx(at,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-mono text-sm font-semibold text-primary",children:N.hora})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-semibold text-foreground",children:N.clienteNome})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fd,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:N.servicoNome})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[(()=>{const _=ywe(N.origem);return _?a.jsxs(ce,{variant:"secondary",className:_.className,children:[_.emoji," ",_.label]}):null})(),a.jsx(ce,{variant:"outline",className:Q("border-0 font-medium",bwe(N.status)),children:N.status}),!c(Tr(N.data),N.hora,N.duracao)&&a.jsx(ce,{variant:"destructive",className:"bg-amber-100 text-amber-800 border-0",children:"Fora do horrio"}),a.jsx("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 dark:bg-green-900/30",children:a.jsxs("span",{className:"text-sm font-bold text-green-700 dark:text-green-300",children:["R$ ",Number(N.valor??0).toFixed(2)]})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[N.clienteTelefone&&a.jsxs("span",{className:"flex items-center gap-1",children:[" ",N.clienteTelefone]}),N.clienteEmail&&a.jsxs("span",{className:"flex items-center gap-1",children:[" ",N.clienteEmail]}),a.jsxs("span",{className:"flex items-center gap-1",children:[" Durao: ",N.duracao,"min"]}),N.valorPago>0&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[" Pago: R$ ",N.valorPago.toFixed(2)]})]})]}),String(N.id).startsWith("online_")&&a.jsx("div",{className:"mt-3",children:a.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{await o?.(String(N.id).replace("online_",""))?V.success("Agendamento online convertido com sucesso"):V.error("Falha ao converter agendamento online")},children:"Converter para regular"})}),N.observacoes&&a.jsx("div",{className:"mt-4 pt-3 border-t border-border/50",children:a.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',N.observacoes,'"']})})]})]},N.id))})]})]})}function wwe({buscaTexto:e=""}){const[t,r]=x.useState(new Date),{todosAgendamentos:n,loading:s,converterAgendamentoOnlineParaRegular:o}=ds(),{getHorariosDisponiveis:i}=oj(),[c,l]=x.useState(!1),[d,u]=x.useState(null),[f,h]=x.useState(!1),[p,v]=x.useState(null),m=vn(t,{weekStartsOn:0}),g=qc(t,{weekStartsOn:0}),y=x.useMemo(()=>KT({start:m,end:g}),[m,g]),b=e.trim().toLowerCase(),w=P=>n.filter(O=>Br(b3(O.data),P)).filter(O=>b?[O.clienteNome,O.servicoNome,O.status,O.origem,O.hora,O.observacoes||""].map(I=>String(I||"").toLowerCase()).some(I=>I.includes(b)):!0).sort((O,T)=>O.hora.localeCompare(T.hora)),j=()=>r(P=>Qxe(P)),N=()=>r(P=>Cd(P,1)),S=()=>r(new Date),_=x.useMemo(()=>y.reduce((P,O)=>[...P,...w(O)],[]),[y,n,b]),C=x.useMemo(()=>_.filter(P=>P.status==="agendado"),[_]),E=x.useMemo(()=>_.filter(P=>P.status==="concluido"),[_]),$=x.useMemo(()=>C.reduce((P,O)=>P+Number(O.valor??0),0),[C]),k=P=>{const O=P.getDay(),T=i?.(O,60)||[],I=w(P);return T.filter(R=>{const D=pi(R),M=D+60;return!I.some(ne=>{const K=pi(ne.hora),ae=K+(ne.duracao||60);return MP(D,M,K,ae)})})};return s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-gradient-to-r from-accent/10 to-primary/10 border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:j,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(yc,{className:"h-4 w-4"})}),a.jsx("div",{className:"text-center min-w-[280px] lg:min-w-[350px]",children:a.jsxs("h2",{className:"text-lg lg:text-xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:[Te(m,"dd 'de' MMM",{locale:Le})," - ",Te(g,"dd 'de' MMM 'de' yyyy",{locale:Le})]})}),a.jsx(z,{variant:"outline",size:"sm",onClick:N,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(Bo,{className:"h-4 w-4"})})]}),a.jsx(z,{variant:"default",size:"sm",onClick:S,className:"w-full sm:w-auto transition-all hover:scale-105 shadow-md",children:"Semana Atual"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(L,{className:"border-0 bg-gradient-to-br from-info/10 to-info/5 dark:from-info/10 dark:to-info/5 shadow-lg",children:a.jsx(B,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-info/20",children:a.jsx(Se,{className:"h-6 w-6 text-info"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-info",children:C.length}),a.jsx("p",{className:"text-sm text-info/70 font-medium",children:"Agendados"})]})]})})}),a.jsx(L,{className:"border-0 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 shadow-lg",children:a.jsx(B,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:a.jsx(dt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:["R$ ",$.toFixed(2)]}),a.jsx("p",{className:"text-sm text-purple-600/70 dark:text-purple-400/70 font-medium",children:"A Receber"})]})]})})}),a.jsx(L,{className:"border-0 bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/20 shadow-lg",children:a.jsx(B,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:a.jsx(at,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:E.length}),a.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-400/70 font-medium",children:"Concludos"})]})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",role:"list","aria-label":"Dias da semana",children:y.map(P=>{const O=w(P),T=k(P);return a.jsx(L,{className:"border-0 bg-card/60",role:"listitem",children:a.jsxs(B,{className:"p-4 space-y-3",children:[a.jsxs("button",{type:"button",className:"flex items-center justify-between w-full text-left",onClick:()=>{v(P),h(!0)},"aria-label":`Ver todos os horrios de ${Te(P,"EEEE, dd 'de' MMM",{locale:Le})}`,children:[a.jsx("div",{className:"font-semibold",children:Te(P,"EEEE, dd 'de' MMM",{locale:Le})}),a.jsxs(ce,{variant:"outline",className:"border-0 bg-info/20 text-info",children:[O.length," agend."]})]}),O.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",role:"list","aria-label":"Horrios do dia",children:[O.slice(0,6).map(I=>a.jsx("button",{type:"button",onClick:()=>{u(I),l(!0)},className:"px-2 py-1 rounded-md bg-muted hover:bg-muted/80 transition-colors","aria-label":`Ver detalhes de ${I.clienteNome} s ${I.hora}`,role:"listitem",children:I.hora},I.id)),O.length>6&&a.jsxs("span",{className:"px-2 py-1 rounded-md bg-muted",children:["+",O.length-6]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium mb-2 text-muted-foreground",children:"Horrios disponveis"}),T.length===0?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Sem horrios disponveis"}):a.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.slice(0,10).map(I=>a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border border-emerald-200/60",children:I},I)),T.length>10&&a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-muted",children:["+",T.length-10]})]})]})]})},P.toISOString())})}),a.jsx(Wr,{open:c,onOpenChange:l,children:a.jsx(Sr,{className:"max-w-lg",children:d&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Cr,{children:[a.jsxs(Pr,{className:"flex items-center justify-between",children:[a.jsx("span",{children:d.clienteNome}),a.jsx(ce,{className:"bg-info/20 text-info border-0 capitalize",children:d.status})]}),a.jsx(kn,{children:Te(new Date(String(d.data)),"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Le})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Horrio"}),a.jsxs("div",{className:"font-medium",children:[d.hora," (",d.duracao,"min)"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Servio"}),a.jsx("div",{className:"font-medium",children:d.servicoNome})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Valor"}),a.jsxs("div",{className:"font-medium",children:["R$ ",Number(d.valor??0).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Origem"}),a.jsx("div",{className:"font-medium capitalize",children:d.origem||"manual"})]})]}),a.jsxs("div",{className:"text-sm space-y-1",children:[d.clienteTelefone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:d.clienteTelefone})]}),d.clienteEmail&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:d.clienteEmail})]}),d.observacoes&&a.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/60",children:[a.jsx("div",{className:"text-muted-foreground mb-1",children:"Observaes"}),a.jsxs("div",{className:"italic",children:['"',d.observacoes,'"']})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[d&&String(d.id).startsWith("online_")&&a.jsx(z,{variant:"outline",onClick:async()=>{await o?.(String(d.id).replace("online_",""))?V.success("Agendamento online convertido com sucesso"):V.error("Falha ao converter agendamento online")},children:"Converter para regular"}),a.jsx(z,{variant:"outline",onClick:()=>l(!1),autoFocus:!0,children:"Fechar"})]})]})})}),a.jsx(Wr,{open:f,onOpenChange:h,children:a.jsx(Sr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:p&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Cr,{children:[a.jsx(Pr,{children:Te(p,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Le})}),a.jsx(kn,{children:"Todos os horrios agendados e disponveis para o dia."})]}),(()=>{const P=w(p),O=k(p);return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(L,{className:"border-0 bg-card/60",children:a.jsxs(B,{className:"p-4 space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Agendados (",P.length,")"]}),P.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento"}):a.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto pr-1",role:"list","aria-label":"Agendados do dia",children:P.map(T=>a.jsx("button",{type:"button",onClick:()=>{u(T),l(!0)},className:"px-2 py-1 rounded-md bg-muted hover:bg-muted/80 text-xs transition-colors",role:"listitem",children:T.hora},T.id))})]})}),a.jsx(L,{className:"border-0 bg-card/60",children:a.jsxs(B,{className:"p-4 space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Horrios disponveis (",O.length,")"]}),O.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem horrios disponveis"}):a.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto pr-1",role:"list","aria-label":"Horrios disponveis do dia",children:O.map(T=>a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border border-emerald-200/60",role:"listitem",children:T},T))})]})})]})})(),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{variant:"outline",onClick:()=>h(!1),autoFocus:!0,children:"Fechar"})})]})})})]})}function QM({open:e,onOpenChange:t,agendamento:r,onReagendar:n,verificarConflito:s}){const[o,i]=x.useState(""),[c,l]=x.useState(""),[d,u]=x.useState(!1);if(!r)return null;const f=m=>Te(new Date(m+"T12:00:00"),"dd 'de' MMMM",{locale:Le}),h=m=>m.slice(0,5),p=async m=>{if(m.preventDefault(),!o||!c){V.error("Preencha a nova data e horrio");return}if(o===r.data&&c===r.hora){V.error("A nova data e horrio devem ser diferentes do atual");return}const g={data:o,hora:c,duracao:r.duracao};if(s(g,r.id)){V.error("J existe um agendamento neste horrio");return}u(!0);try{await n(r.id,o,c)?(V.success("Agendamento reagendado com sucesso!"),t(!1),i(""),l("")):V.error("Erro ao reagendar agendamento")}catch{V.error("Erro ao reagendar agendamento")}finally{u(!1)}},v=()=>{i(""),l(""),t(!1)};return a.jsx(Wr,{open:e,onOpenChange:t,children:a.jsxs(Sr,{className:"sm:max-w-[500px]",children:[a.jsxs(Cr,{children:[a.jsxs(Pr,{className:"flex items-center gap-2",children:[a.jsx(Zr,{className:"h-5 w-5 text-primary"}),"Reagendar Agendamento"]}),a.jsx(kn,{children:"Altere a data e horrio do agendamento selecionado"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsx(L,{className:"bg-muted/50",children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-foreground",children:r.clienteNome}),a.jsxs(ce,{className:"bg-info text-info-foreground",children:[a.jsx(Se,{className:"h-3 w-3 mr-1"}),"Agendado"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:f(r.data)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4"}),a.jsx("span",{children:h(r.hora)})]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Servio:"})," ",r.servicoNome]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nova-data",className:"text-sm font-medium",children:"Nova Data"}),a.jsx(se,{id:"nova-data",type:"date",value:o,onChange:m=>i(m.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nova-hora",className:"text-sm font-medium",children:"Nova Hora"}),a.jsx(se,{id:"nova-hora",type:"time",value:c,onChange:m=>l(m.target.value),step:"300",required:!0})]})]}),o&&c&&a.jsx(L,{className:"bg-success/10 border-success/20",children:a.jsxs(B,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-success",children:[a.jsx(Zr,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Novo agendamento:"})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm text-success",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:f(o)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4"}),a.jsx("span",{children:h(c)})]})]})]})}),a.jsxs(Dp,{children:[a.jsx(z,{type:"button",variant:"outline",onClick:v,disabled:d,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:d||!o||!c,className:"bg-gradient-to-r from-primary to-lilac-primary",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin"}),"Reagendando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Reagendar"]})})]})]})]})})}function Nwe({buscaTexto:e=""}){const[t,r]=x.useState(new Date),{todosAgendamentos:n,loading:s,verificarConflito:o,atualizarAgendamento:i,cancelarAgendamento:c,converterAgendamentoOnlineParaRegular:l}=ds(),{user:d}=It(),[u,f]=x.useState(null),[h,p]=x.useState(!1),[v,m]=x.useState(!1),[g,y]=x.useState(null),[b,w]=x.useState(!1);Jt(t),Za(t);const j=()=>r(D=>n$(D,1)),N=()=>r(D=>gn(D,1)),S=()=>r(new Date),_=e.trim().toLowerCase(),C=x.useMemo(()=>{const D=Tr(t).slice(0,7);return n.filter(M=>Tr(M.data).slice(0,7)===D).filter(M=>_?[M.clienteNome,M.servicoNome,M.status,M.origem,M.hora,M.observacoes||""].map(ne=>String(ne||"").toLowerCase()).some(ne=>ne.includes(_)):!0)},[n,t,_]),E=x.useMemo(()=>C.filter(D=>D.status==="agendado"),[C]),$=x.useMemo(()=>C.filter(D=>D.status==="concluido"),[C]),k=x.useMemo(()=>E.reduce((D,M)=>D+Number(M.valor??0),0),[E]),P=x.useMemo(()=>{const D=vn(Jt(t),{weekStartsOn:0}),M=qc(Za(t),{weekStartsOn:0});return KT({start:D,end:M})},[t]),[O,T]=x.useState(new Map);x.useEffect(()=>{let D=!1;return(async()=>{try{if(!d)return;const{data:U,error:ne}=await W.rpc("contagem_agendamentos_por_dia",{p_user_id:d.id,p_mes:Tr(t)});if(ne||!Array.isArray(U)){const ae=new Map;for(const de of C){const _e=Tr(de.data);ae.set(_e,(ae.get(_e)||0)+1)}D||T(ae);return}const K=new Map;for(const ae of U){const de=Tr(ae.dia);K.set(de,Number(ae.total||0))}D||T(K)}catch{const U=new Map;for(const ne of C){const K=Tr(ne.data);U.set(K,(U.get(K)||0)+1)}D||T(U)}})(),()=>{D=!0}},[d,t,C]);const I=x.useCallback(D=>{const M=Tr(D);return C.filter(U=>Tr(U.data)===M).sort((U,ne)=>U.hora.localeCompare(ne.hora))},[C]),R=D=>{const M=Tr(D),[U,ne,K]=M.split("-").map(Number);return new Date(U,(ne||1)-1,K||1)};return s?a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-gradient-to-r from-accent/10 to-primary/10 border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:j,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(yc,{className:"h-4 w-4"})}),a.jsx("div",{className:"text-center min-w-[220px] lg:min-w-[280px]",children:a.jsx("h2",{className:"text-lg lg:text-xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:Te(t,"MMMM 'de' yyyy",{locale:Le})})}),a.jsx(z,{variant:"outline",size:"sm",onClick:N,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(Bo,{className:"h-4 w-4"})})]}),a.jsx(z,{variant:"default",size:"sm",onClick:S,className:"w-full sm:w-auto transition-all hover:scale-105 shadow-md",children:"Ms Atual"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(L,{className:"group border-0 bg-gradient-to-br from-info/10 to-info/5 dark:from-info/10 dark:to-info/5 transition-all hover:shadow-lg hover:scale-105",children:a.jsxs(B,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-info",children:E.length}),a.jsx("p",{className:"text-sm text-info/70 font-medium",children:"Agendados"})]})}),a.jsx(L,{className:"group border-0 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(B,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:a.jsx(dt,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-purple-600 dark:text-purple-400",children:["R$ ",k.toFixed(2)]}),a.jsx("p",{className:"text-sm text-purple-600/70 dark:text-purple-400/70 font-medium",children:"A Receber"})]})})}),a.jsx(L,{className:"group border-0 bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsxs(B,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-green-600 dark:text-green-400",children:$.length}),a.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-400/70 font-medium",children:"Concludos"})]})})]}),a.jsx(L,{className:"border-0 bg-card/60",children:a.jsxs(B,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-7 gap-2 text-xs text-muted-foreground",children:[a.jsx("div",{className:"text-center font-medium",children:"Dom"}),a.jsx("div",{className:"text-center font-medium",children:"Seg"}),a.jsx("div",{className:"text-center font-medium",children:"Ter"}),a.jsx("div",{className:"text-center font-medium",children:"Qua"}),a.jsx("div",{className:"text-center font-medium",children:"Qui"}),a.jsx("div",{className:"text-center font-medium",children:"Sex"}),a.jsx("div",{className:"text-center font-medium",children:"Sb"})]}),a.jsx("div",{className:"grid grid-cols-7 gap-2",role:"grid","aria-label":"Calendrio mensal",children:P.map(D=>{const M=Tp(D,t),U=Tr(D),ne=O.get(U)||0;return a.jsx("button",{type:"button",onClick:()=>{f(D),p(!0)},className:`relative p-2 rounded-lg text-left border transition-colors ${M?"bg-background hover:bg-muted border-border/60":"bg-muted/40 text-muted-foreground/70 border-transparent"}`,"aria-label":`${Te(D,"dd 'de' MMMM",{locale:Le})} - ${ne} agendamentos`,role:"gridcell",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${M?"text-foreground":"text-muted-foreground/70"}`,children:Te(D,"d",{locale:Le})}),ne>0&&a.jsx(ce,{className:"bg-info/20 text-info border-0","aria-label":`${ne} agendamentos`,children:ne})]})},U)})})]})}),a.jsx(Wr,{open:h,onOpenChange:p,children:a.jsx(Sr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:u&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Cr,{children:[a.jsx(Pr,{children:Te(u,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Le})}),a.jsx(kn,{children:"Agendamentos do dia"})]}),(()=>{const D=I(u);return a.jsx("div",{className:"space-y-2",children:D.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento"}):a.jsx("div",{className:"space-y-2",role:"list","aria-label":"Agendamentos do dia",children:D.map(M=>a.jsxs("div",{className:"p-3 rounded-md bg-muted",role:"listitem",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"px-2 py-0.5 rounded-md bg-primary/10 text-primary text-xs font-semibold",children:M.hora}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:M.clienteNome}),a.jsx("div",{className:"text-xs text-muted-foreground",children:M.servicoNome})]})]}),a.jsxs("div",{className:"text-sm font-semibold whitespace-nowrap",children:["R$ ",Number(M.valor??0).toFixed(2)]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>{y(M),w(!0)},children:"Detalhes"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>{y(M),m(!0)},children:"Reagendar"}),M.status!=="concluido"&&a.jsx(z,{variant:"default",size:"sm",onClick:async()=>{await i?.(M.id,{status:"concluido"})},children:"Marcar concludo"}),M.status!=="cancelado"&&a.jsx(z,{variant:"destructive",size:"sm",onClick:async()=>{await c?.(M.id)},children:"Cancelar"}),String(M.id).startsWith("online_")&&a.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{await l?.(String(M.id).replace("online_",""))?V.success("Agendamento online convertido com sucesso"):V.error("Falha ao converter agendamento online")},children:"Converter para regular"})]})]},M.id))})})})(),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{variant:"outline",onClick:()=>p(!1),autoFocus:!0,children:"Fechar"})})]})})}),a.jsx(QM,{open:v,onOpenChange:m,agendamento:g,onReagendar:async(D,M,U)=>!!await i?.(D,{data:M,hora:U}),verificarConflito:o}),a.jsx(Wr,{open:b,onOpenChange:w,children:a.jsx(Sr,{className:"max-w-lg",children:g&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Cr,{children:[a.jsxs(Pr,{className:"flex items-center justify-between",children:[a.jsx("span",{children:g.clienteNome}),a.jsx(ce,{className:"border-0 capitalize bg-info/20 text-info",children:g.status})]}),a.jsx(kn,{children:Te(R(g.data),"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Le})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Horrio"}),a.jsxs("div",{className:"font-medium",children:[g.hora," (",g.duracao,"min)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Servio"}),a.jsx("div",{className:"font-medium",children:g.servicoNome})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Valor"}),a.jsxs("div",{className:"font-medium",children:["R$ ",Number(g.valor??0).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Origem"}),a.jsx("div",{className:"font-medium capitalize",children:g.origem||"manual"})]})]}),g.observacoes&&a.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/60 text-sm",children:[a.jsx("div",{className:"text-muted-foreground mb-1",children:"Observaes"}),a.jsxs("div",{className:"italic",children:['"',g.observacoes,'"']})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{variant:"outline",onClick:()=>w(!1),autoFocus:!0,children:"Fechar"})})]})})})]})}const $C=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();function _we({cliente:e,agendamentos:t,onClose:r}){const n=x.useMemo(()=>{const d=t.filter(g=>g.clienteId===e.id),u=d.filter(g=>g.status==="concluido"),f=d.filter(g=>g.status==="cancelado"),h=d.filter(g=>g.status==="agendado"),p=u.reduce((g,y)=>g+(y.valorPago||0),0),v=u.length,m=[...d].sort((g,y)=>{const b=new Date(`${g.data}T${g.hora}`);return new Date(`${y.data}T${y.hora}`).getTime()-b.getTime()});return{total:d.length,concluidos:u.length,cancelados:f.length,agendados:h.length,totalGasto:p,totalServicos:v,historico:m}},[t,e.id]),s=d=>d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),o=d=>{const u=d.replace(/\D/g,"");return u.length===11?`(${u.slice(0,2)}) ${u.slice(2,7)}-${u.slice(7)}`:d},i=()=>{const d=e.telefone.replace(/\D/g,""),u=`Ol ${e.nome||e.nomeCompleto}! Tudo bem?`;window.open(`https://wa.me/55${d}?text=${encodeURIComponent(u)}`,"_blank")},c=()=>{window.open(`tel:${e.telefone}`,"_self")},l=d=>{switch(d){case"concluido":return a.jsxs(ce,{className:"bg-green-500/20 text-green-700 border-green-500/30",children:[a.jsx(bt,{className:"h-3 w-3 mr-1"}),"Concludo"]});case"cancelado":return a.jsxs(ce,{className:"bg-red-500/20 text-red-700 border-red-500/30",children:[a.jsx(Vt,{className:"h-3 w-3 mr-1"}),"Cancelado"]});case"agendado":return a.jsxs(ce,{className:"bg-blue-500/20 text-blue-700 border-blue-500/30",children:[a.jsx(Se,{className:"h-3 w-3 mr-1"}),"Agendado"]});default:return a.jsx(ce,{variant:"outline",children:d})}};return a.jsxs(L,{className:"border-primary/20 bg-card/95 backdrop-blur-sm shadow-xl animate-fade-in",children:[a.jsxs(Y,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Vr,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg",children:e.nome||e.nomeCompleto}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o(e.telefone)})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:c,className:"flex-1 h-9",children:[a.jsx(ns,{className:"h-4 w-4 mr-2"}),"Ligar"]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:i,className:"flex-1 h-9 bg-green-50 hover:bg-green-100 border-green-200",children:[a.jsx(Co,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]})]})]}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 text-center",children:[a.jsx(dt,{className:"h-5 w-5 mx-auto text-primary mb-1"}),a.jsx("p",{className:"text-lg font-bold text-primary",children:s(n.totalGasto)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]}),a.jsxs("div",{className:"bg-green-500/10 rounded-lg p-3 text-center",children:[a.jsx(bt,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:n.concluidos}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Concludos"})]}),a.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-3 text-center",children:[a.jsx(Se,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:n.agendados}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Agendados"})]}),a.jsxs("div",{className:"bg-red-500/10 rounded-lg p-3 text-center",children:[a.jsx(Vt,{className:"h-5 w-5 mx-auto text-red-600 mb-1"}),a.jsx("p",{className:"text-lg font-bold text-red-600",children:n.cancelados}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancelados"})]})]}),a.jsx(Ha,{}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(z3,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("h3",{className:"font-semibold text-sm",children:["Histrico Completo (",n.total,")"]})]}),a.jsx(Od,{className:"h-[300px] pr-4",children:n.historico.length>0?a.jsx("div",{className:"space-y-3",children:n.historico.map(d=>a.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 border border-border/50 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:d.servicoNome}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[a.jsx(Se,{className:"h-3 w-3"}),a.jsx("span",{children:Te(new Date(d.data+"T12:00:00"),"dd/MM/yyyy",{locale:Le})}),a.jsx(at,{className:"h-3 w-3 ml-1"}),a.jsx("span",{children:d.hora?.slice(0,5)})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[l(d.status),a.jsx("p",{className:"text-sm font-semibold mt-1",children:s(d.valor)}),d.valorPago>0&&d.valorPago<d.valor&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pago: ",s(d.valorPago)]})]})]}),d.observacoes&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 italic bg-muted/50 p-2 rounded",children:d.observacoes}),d.origem&&d.origem!=="manual"&&a.jsx(ce,{variant:"outline",className:"mt-2 text-xs",children:d.origem==="cronograma"?" Cronograma":d.origem==="online"?" Online":d.origem})]},d.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Se,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"Nenhum agendamento encontrado"})]})})]})]})]})}function Swe({buscaTexto:e,clientes:t,agendamentos:r,onClienteSelect:n,clienteSelecionado:s}){const o=x.useMemo(()=>{if(!e||e.length<2)return[];const i=$C(e).split(/\s+/).filter(Boolean);return t.filter(c=>{const l=c.nome||c.nomeCompleto||"",d=c.telefone?.replace(/\D/g,"")||"",u=$C(`${l} ${d}`);return i.every(f=>u.includes(f))}).slice(0,5)},[e,t]);return s?a.jsx(_we,{cliente:s,agendamentos:r,onClose:()=>n(null)}):!e||e.length<2?null:o.length===0?a.jsx(L,{className:"border-border/50 bg-card/95 backdrop-blur-sm animate-fade-in",children:a.jsxs(B,{className:"p-4 text-center text-muted-foreground",children:[a.jsx(Vr,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),a.jsxs("p",{className:"text-sm",children:['Nenhum cliente encontrado para "',e,'"']})]})}):a.jsxs(L,{className:"border-border/50 bg-card/95 backdrop-blur-sm animate-fade-in",children:[a.jsx(Y,{className:"pb-2",children:a.jsxs(Z,{className:"text-sm flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4"}),"Clientes encontrados (",o.length,")"]})}),a.jsx(B,{className:"p-2",children:a.jsx("div",{className:"space-y-1",children:o.map(i=>{const c=r.filter(d=>d.clienteId===i.id),l=c.filter(d=>d.status==="concluido").reduce((d,u)=>d+(u.valorPago||0),0);return a.jsxs("button",{onClick:()=>n(i),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted/80 transition-colors text-left",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Vr,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:i.nome||i.nomeCompleto}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.length," agendamento",c.length!==1?"s":"","  Total: ",l.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),a.jsx(Mt,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]},i.id)})})})]})}function Cwe(){const[e,t]=x.useState("dia"),[r,n]=x.useState(""),[s,o]=x.useState(null),{loading:i,todosAgendamentos:c,clientes:l}=ds(),d=new Date;return c.filter(u=>new Date(u.data).toDateString()===d.toDateString()),c.length,c.filter(u=>u.status==="agendado").length,a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:a.jsxs("div",{className:"container mx-auto p-4 lg:p-8 space-y-6 lg:space-y-8",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 via-primary/5 to-accent/10 p-6 lg:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5"}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 backdrop-blur-sm shadow-lg",children:a.jsx(Se,{className:"h-7 w-7 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Agenda Profissional"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Organize e gerencie seus agendamentos com eficincia"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar cliente para ver histrico...",value:r,onChange:u=>{n(u.target.value),u.target.value||o(null)},className:"pl-10 pr-10 w-full lg:w-72 bg-background/80 backdrop-blur-sm border-border/50"}),r&&a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{n(""),o(null)},className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[a.jsxs(z,{variant:e==="dia"?"default":"outline",size:"sm",onClick:()=>t("dia"),className:"flex-1 lg:flex-none transition-all duration-200 hover:scale-105 shadow-md",children:[a.jsx(at,{className:"h-4 w-4 lg:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Dia"})]}),a.jsxs(z,{variant:e==="semana"?"default":"outline",size:"sm",onClick:()=>t("semana"),className:"flex-1 lg:flex-none transition-all duration-200 hover:scale-105 shadow-md",children:[a.jsx(E3,{className:"h-4 w-4 lg:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Semana"})]}),a.jsxs(z,{variant:e==="mes"?"default":"outline",size:"sm",onClick:()=>t("mes"),className:"flex-1 lg:flex-none transition-all duration-200 hover:scale-105 shadow-md",children:[a.jsx(O3,{className:"h-4 w-4 lg:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Ms"})]})]})]})]})})]}),r&&a.jsx(Swe,{buscaTexto:r,clientes:l,agendamentos:c,onClienteSelect:o,clienteSelecionado:s}),a.jsx("div",{className:"relative",children:i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted/50 animate-pulse rounded-2xl"}),a.jsx("div",{className:"h-96 bg-muted/50 animate-pulse rounded-2xl"})]}):a.jsxs("div",{className:"animate-fade-in",children:[e==="dia"&&a.jsx(jwe,{}),e==="semana"&&a.jsx(wwe,{}),e==="mes"&&a.jsx(Nwe,{})]})}),a.jsx(L,{className:"border-0 bg-card/50 backdrop-blur-sm",children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-400"}),a.jsx("span",{children:"Cronograma"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),a.jsx("span",{children:"Online"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),a.jsx("span",{children:"Concludo"})]})]}),a.jsxs("div",{className:"text-xs",children:["ltima atualizao: ",new Date().toLocaleTimeString("pt-BR")]})]})})})]})})}var Sy=["Enter"," "],Pwe=["ArrowDown","PageUp","Home"],eD=["ArrowUp","PageDown","End"],Awe=[...Pwe,...eD],kwe={ltr:[...Sy,"ArrowRight"],rtl:[...Sy,"ArrowLeft"]},Ewe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gu="Menu",[Td,Owe,Twe]=Np(gu),[Zo,tD]=ia(gu,[Twe,Us,Sp]),Up=Us(),rD=Sp(),[$we,Xo]=Zo(gu),[Mwe,vu]=Zo(gu),nD=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,c=Up(t),[l,d]=x.useState(null),u=x.useRef(!1),f=or(o),h=Vc(s);return x.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(_m,{...c,children:a.jsx($we,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:d,children:a.jsx(Mwe,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:h,modal:i,children:n})})})};nD.displayName=gu;var Dwe="MenuAnchor",ij=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Up(r);return a.jsx(Wd,{...s,...n,ref:t})});ij.displayName=Dwe;var cj="MenuPortal",[Rwe,aD]=Zo(cj,{forceMount:void 0}),sD=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Xo(cj,t);return a.jsx(Rwe,{scope:t,forceMount:r,children:a.jsx(kr,{present:r||o.open,children:a.jsx(Bd,{asChild:!0,container:s,children:n})})})};sD.displayName=cj;var Cn="MenuContent",[Iwe,lj]=Zo(Cn),oD=x.forwardRef((e,t)=>{const r=aD(Cn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Xo(Cn,e.__scopeMenu),i=vu(Cn,e.__scopeMenu);return a.jsx(Td.Provider,{scope:e.__scopeMenu,children:a.jsx(kr,{present:n||o.open,children:a.jsx(Td.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(Lwe,{...s,ref:t}):a.jsx(Fwe,{...s,ref:t})})})})}),Lwe=x.forwardRef((e,t)=>{const r=Xo(Cn,e.__scopeMenu),n=x.useRef(null),s=Ve(t,n);return x.useEffect(()=>{const o=n.current;if(o)return vm(o)},[]),a.jsx(dj,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ge(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Fwe=x.forwardRef((e,t)=>{const r=Xo(Cn,e.__scopeMenu);return a.jsx(dj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dj=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...m}=e,g=Xo(Cn,r),y=vu(Cn,r),b=Up(r),w=rD(r),j=Owe(r),[N,S]=x.useState(null),_=x.useRef(null),C=Ve(t,_,g.onContentChange),E=x.useRef(0),$=x.useRef(""),k=x.useRef(0),P=x.useRef(null),O=x.useRef("right"),T=x.useRef(0),I=v?Vd:x.Fragment,R=v?{as:Ur,allowPinchZoom:!0}:void 0,D=U=>{const ne=$.current+U,K=j().filter(ie=>!ie.disabled),ae=document.activeElement,de=K.find(ie=>ie.ref.current===ae)?.textValue,_e=K.map(ie=>ie.textValue),Ke=Xwe(_e,ne,de),q=K.find(ie=>ie.textValue===Ke)?.ref.current;(function ie(we){$.current=we,window.clearTimeout(E.current),we!==""&&(E.current=window.setTimeout(()=>ie(""),1e3))})(ne),q&&setTimeout(()=>q.focus())};x.useEffect(()=>()=>window.clearTimeout(E.current),[]),pm();const M=x.useCallback(U=>O.current===P.current?.side&&Qwe(U,P.current?.area),[]);return a.jsx(Iwe,{scope:r,searchRef:$,onItemEnter:x.useCallback(U=>{M(U)&&U.preventDefault()},[M]),onItemLeave:x.useCallback(U=>{M(U)||(_.current?.focus(),S(null))},[M]),onTriggerLeave:x.useCallback(U=>{M(U)&&U.preventDefault()},[M]),pointerGraceTimerRef:k,onPointerGraceIntentChange:x.useCallback(U=>{P.current=U},[]),children:a.jsx(I,{...R,children:a.jsx(zd,{asChild:!0,trapped:s,onMountAutoFocus:ge(o,U=>{U.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(jc,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(ZO,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:ge(l,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Sm,{role:"menu","aria-orientation":"vertical","data-state":wD(g.open),"data-radix-menu-content":"",dir:y.dir,...b,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:ge(m.onKeyDown,U=>{const K=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ae=U.ctrlKey||U.altKey||U.metaKey,de=U.key.length===1;K&&(U.key==="Tab"&&U.preventDefault(),!ae&&de&&D(U.key));const _e=_.current;if(U.target!==_e||!Awe.includes(U.key))return;U.preventDefault();const q=j().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);eD.includes(U.key)&&q.reverse(),Ywe(q)}),onBlur:ge(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(E.current),$.current="")}),onPointerMove:ge(e.onPointerMove,$d(U=>{const ne=U.target,K=T.current!==U.clientX;if(U.currentTarget.contains(ne)&&K){const ae=U.clientX>T.current?"right":"left";O.current=ae,T.current=U.clientX}}))})})})})})})});oD.displayName=Cn;var zwe="MenuGroup",uj=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ke.div,{role:"group",...n,ref:t})});uj.displayName=zwe;var Bwe="MenuLabel",iD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ke.div,{...n,ref:t})});iD.displayName=Bwe;var Yh="MenuItem",MC="menu.itemSelect",qp=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=x.useRef(null),i=vu(Yh,e.__scopeMenu),c=lj(Yh,e.__scopeMenu),l=Ve(t,o),d=x.useRef(!1),u=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(MC,{bubbles:!0,cancelable:!0});f.addEventListener(MC,p=>n?.(p),{once:!0}),UP(f,h),h.defaultPrevented?d.current=!1:i.onClose()}};return a.jsx(cD,{...s,ref:l,disabled:r,onClick:ge(e.onClick,u),onPointerDown:f=>{e.onPointerDown?.(f),d.current=!0},onPointerUp:ge(e.onPointerUp,f=>{d.current||f.currentTarget?.click()}),onKeyDown:ge(e.onKeyDown,f=>{const h=c.searchRef.current!=="";r||h&&f.key===" "||Sy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});qp.displayName=Yh;var cD=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=lj(Yh,r),c=rD(r),l=x.useRef(null),d=Ve(t,l),[u,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const v=l.current;v&&p((v.textContent??"").trim())},[o.children]),a.jsx(Td.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(XO,{asChild:!0,...c,focusable:!n,children:a.jsx(ke.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:ge(e.onPointerMove,$d(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(e.onPointerLeave,$d(v=>i.onItemLeave(v))),onFocus:ge(e.onFocus,()=>f(!0)),onBlur:ge(e.onBlur,()=>f(!1))})})})}),Vwe="MenuCheckboxItem",lD=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(mD,{scope:e.__scopeMenu,checked:r,children:a.jsx(qp,{role:"menuitemcheckbox","aria-checked":Zh(r)?"mixed":r,...s,ref:t,"data-state":hj(r),onSelect:ge(s.onSelect,()=>n?.(Zh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});lD.displayName=Vwe;var dD="MenuRadioGroup",[Uwe,qwe]=Zo(dD,{value:void 0,onValueChange:()=>{}}),uD=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=or(n);return a.jsx(Uwe,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(uj,{...s,ref:t})})});uD.displayName=dD;var fD="MenuRadioItem",hD=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=qwe(fD,e.__scopeMenu),o=r===s.value;return a.jsx(mD,{scope:e.__scopeMenu,checked:o,children:a.jsx(qp,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":hj(o),onSelect:ge(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});hD.displayName=fD;var fj="MenuItemIndicator",[mD,Wwe]=Zo(fj,{checked:!1}),pD=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=Wwe(fj,r);return a.jsx(kr,{present:n||Zh(o.checked)||o.checked===!0,children:a.jsx(ke.span,{...s,ref:t,"data-state":hj(o.checked)})})});pD.displayName=fj;var Hwe="MenuSeparator",gD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(ke.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gD.displayName=Hwe;var Gwe="MenuArrow",vD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Up(r);return a.jsx(Cm,{...s,...n,ref:t})});vD.displayName=Gwe;var Kwe="MenuSub",[I1e,xD]=Zo(Kwe),vl="MenuSubTrigger",yD=x.forwardRef((e,t)=>{const r=Xo(vl,e.__scopeMenu),n=vu(vl,e.__scopeMenu),s=xD(vl,e.__scopeMenu),o=lj(vl,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=o,d={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),a.jsx(ij,{asChild:!0,...d,children:a.jsx(cD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":wD(r.open),...e,ref:lm(t,s.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ge(e.onPointerMove,$d(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ge(e.onPointerLeave,$d(f=>{u();const h=r.content?.getBoundingClientRect();if(h){const p=r.content?.dataset.side,v=p==="right",m=v?-5:5,g=h[v?"left":"right"],y=h[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:g,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:g,y:h.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ge(e.onKeyDown,f=>{const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||kwe[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});yD.displayName=vl;var bD="MenuSubContent",jD=x.forwardRef((e,t)=>{const r=aD(Cn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Xo(Cn,e.__scopeMenu),i=vu(Cn,e.__scopeMenu),c=xD(bD,e.__scopeMenu),l=x.useRef(null),d=Ve(t,l);return a.jsx(Td.Provider,{scope:e.__scopeMenu,children:a.jsx(kr,{present:n||o.open,children:a.jsx(Td.Slot,{scope:e.__scopeMenu,children:a.jsx(dj,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{i.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ge(e.onFocusOutside,u=>{u.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ge(e.onEscapeKeyDown,u=>{i.onClose(),u.preventDefault()}),onKeyDown:ge(e.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),h=Ewe[i.dir].includes(u.key);f&&h&&(o.onOpenChange(!1),c.trigger?.focus(),u.preventDefault())})})})})})});jD.displayName=bD;function wD(e){return e?"open":"closed"}function Zh(e){return e==="indeterminate"}function hj(e){return Zh(e)?"indeterminate":e?"checked":"unchecked"}function Ywe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Zwe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Xwe(e,t,r){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=Zwe(e,Math.max(o,0));s.length===1&&(i=i.filter(d=>d!==r));const l=i.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function Jwe(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o].x,l=t[o].y,d=t[i].x,u=t[i].y;l>n!=u>n&&r<(d-c)*(n-l)/(u-l)+c&&(s=!s)}return s}function Qwe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Jwe(r,t)}function $d(e){return t=>t.pointerType==="mouse"?e(t):void 0}var eNe=nD,tNe=ij,rNe=sD,nNe=oD,aNe=uj,sNe=iD,oNe=qp,iNe=lD,cNe=uD,lNe=hD,dNe=pD,uNe=gD,fNe=vD,hNe=yD,mNe=jD,mj="DropdownMenu",[pNe]=ia(mj,[tD]),Hr=tD(),[gNe,ND]=pNe(mj),_D=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,l=Hr(t),d=x.useRef(null),[u=!1,f]=Ea({prop:s,defaultProp:o,onChange:i});return a.jsx(gNe,{scope:t,triggerId:Sn(),triggerRef:d,contentId:Sn(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:c,children:a.jsx(eNe,{...l,open:u,onOpenChange:f,dir:n,modal:c,children:r})})};_D.displayName=mj;var SD="DropdownMenuTrigger",CD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=ND(SD,r),i=Hr(r);return a.jsx(tNe,{asChild:!0,...i,children:a.jsx(ke.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:lm(t,o.triggerRef),onPointerDown:ge(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:ge(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});CD.displayName=SD;var vNe="DropdownMenuPortal",PD=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Hr(t);return a.jsx(rNe,{...n,...r})};PD.displayName=vNe;var AD="DropdownMenuContent",kD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=ND(AD,r),o=Hr(r),i=x.useRef(!1);return a.jsx(nNe,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:ge(e.onCloseAutoFocus,c=>{i.current||s.triggerRef.current?.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:ge(e.onInteractOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;(!s.modal||u)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kD.displayName=AD;var xNe="DropdownMenuGroup",yNe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(aNe,{...s,...n,ref:t})});yNe.displayName=xNe;var bNe="DropdownMenuLabel",ED=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(sNe,{...s,...n,ref:t})});ED.displayName=bNe;var jNe="DropdownMenuItem",OD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(oNe,{...s,...n,ref:t})});OD.displayName=jNe;var wNe="DropdownMenuCheckboxItem",TD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(iNe,{...s,...n,ref:t})});TD.displayName=wNe;var NNe="DropdownMenuRadioGroup",_Ne=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(cNe,{...s,...n,ref:t})});_Ne.displayName=NNe;var SNe="DropdownMenuRadioItem",$D=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(lNe,{...s,...n,ref:t})});$D.displayName=SNe;var CNe="DropdownMenuItemIndicator",MD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(dNe,{...s,...n,ref:t})});MD.displayName=CNe;var PNe="DropdownMenuSeparator",DD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(uNe,{...s,...n,ref:t})});DD.displayName=PNe;var ANe="DropdownMenuArrow",kNe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(fNe,{...s,...n,ref:t})});kNe.displayName=ANe;var ENe="DropdownMenuSubTrigger",RD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(hNe,{...s,...n,ref:t})});RD.displayName=ENe;var ONe="DropdownMenuSubContent",ID=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hr(r);return a.jsx(mNe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ID.displayName=ONe;var TNe=_D,$Ne=CD,MNe=PD,LD=kD,FD=ED,zD=OD,BD=TD,VD=$D,UD=MD,qD=DD,WD=RD,HD=ID;const GD=TNe,KD=$Ne,DNe=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(WD,{ref:s,className:Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Bo,{className:"ml-auto h-4 w-4"})]}));DNe.displayName=WD.displayName;const RNe=x.forwardRef(({className:e,...t},r)=>a.jsx(HD,{ref:r,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));RNe.displayName=HD.displayName;const pj=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(MNe,{children:a.jsx(LD,{ref:n,sideOffset:t,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));pj.displayName=LD.displayName;const uo=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(zD,{ref:n,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));uo.displayName=zD.displayName;const YD=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(BD,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(UD,{children:a.jsx(bt,{className:"h-4 w-4"})})}),t]}));YD.displayName=BD.displayName;const INe=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(VD,{ref:n,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(UD,{children:a.jsx(M3,{className:"h-2 w-2 fill-current"})})}),t]}));INe.displayName=VD.displayName;const LNe=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(FD,{ref:n,className:Q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));LNe.displayName=FD.displayName;const FNe=x.forwardRef(({className:e,...t},r)=>a.jsx(qD,{ref:r,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));FNe.displayName=qD.displayName;const ZD=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:Q("mx-auto flex w-full justify-center",e),...t});ZD.displayName="Pagination";const XD=x.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:Q("flex flex-row items-center gap-1",e),...t}));XD.displayName="PaginationContent";const xf=x.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:Q("",e),...t}));xf.displayName="PaginationItem";const Wp=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:Q(Oi({variant:t?"outline":"ghost",size:r}),e),...n});Wp.displayName="PaginationLink";const JD=({className:e,...t})=>a.jsxs(Wp,{"aria-label":"Go to previous page",size:"default",className:Q("gap-1 pl-2.5",e),...t,children:[a.jsx(yc,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});JD.displayName="PaginationPrevious";const QD=({className:e,...t})=>a.jsxs(Wp,{"aria-label":"Go to next page",size:"default",className:Q("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(Bo,{className:"h-4 w-4"})]});QD.displayName="PaginationNext";const Qu={agendado:{label:"Agendado",color:"bg-info",icon:Se},concluido:{label:"Concludo",color:"bg-success",icon:bt},cancelado:{label:"Cancelado",color:"bg-destructive",icon:Vt}};function zNe({agendamentos:e,filtros:t,onFiltrosChange:r,onEdit:n,onDelete:s,onCancel:o,onViewDetails:i,onReagendar:c,onTrocarHorario:l,onMarcarPagamento:d,clientes:u,paginaAtual:f,totalPaginas:h,onPaginaChange:p}){const[v,m]=x.useState(null),g=j=>Te(new Date(j+"T12:00:00"),"dd 'de' MMMM",{locale:Le}),y=j=>j.slice(0,5),b=j=>{const N=Math.floor(j/60),S=j%60;return N>0&&S>0?`${N}h ${S}min`:N>0?`${N}h`:`${S}min`},w=j=>`R$ ${j.toFixed(2).replace(".",",")}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Vs,{className:"h-5 w-5 text-primary"}),"Filtros"]})}),a.jsxs(B,{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar cliente ou servio...",value:t.busca||"",onChange:j=>r({...t,busca:j.target.value}),className:"pl-10 pr-10 h-10 sm:h-11 text-sm"}),t.busca&&a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r({...t,busca:""}),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),t.busca&&a.jsx("div",{className:"text-sm text-muted-foreground",children:e.length===0?a.jsxs("span",{children:['Nenhum agendamento encontrado para "',a.jsx("strong",{children:t.busca}),'"']}):a.jsxs("span",{children:[e.length," agendamento",e.length!==1?"s":""," encontrado",e.length!==1?"s":""]})}),a.jsxs("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:[a.jsx(se,{type:"date",value:t.data||"",onChange:j=>r({...t,data:j.target.value}),placeholder:"Data",className:"h-10 sm:h-11 text-sm"}),a.jsxs(Fe,{value:t.periodo||"mes_atual",onValueChange:j=>r({...t,periodo:j}),children:[a.jsx(Re,{className:"h-10 sm:h-11 text-sm",children:a.jsx(ze,{placeholder:"Perodo"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"mes_atual",children:"Ms atual"}),a.jsx(te,{value:"mes_anterior",children:"Ms anterior"}),a.jsx(te,{value:"proximo_mes",children:"Prximo ms"}),a.jsx(te,{value:"todos",children:"Todos os perodos"})]})]}),a.jsxs(Fe,{value:t.status||"all",onValueChange:j=>r({...t,status:j==="all"?void 0:j}),children:[a.jsx(Re,{className:"h-10 sm:h-11 text-sm",children:a.jsx(ze,{placeholder:"Status"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"all",children:"Todos"}),a.jsx(te,{value:"agendado",children:"Agendado"}),a.jsx(te,{value:"concluido",children:"Concludo"}),a.jsx(te,{value:"cancelado",children:"Cancelado"})]})]}),a.jsxs(Fe,{value:t.clienteId||"all",onValueChange:j=>r({...t,clienteId:j==="all"?void 0:j}),children:[a.jsx(Re,{className:"h-10 sm:h-11 text-sm",children:a.jsx(ze,{placeholder:"Cliente"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"all",children:"Todos"}),u.map(j=>a.jsx(te,{value:j.id,children:j.nome},j.id))]})]}),a.jsxs(Fe,{value:t.statusPagamento||"all",onValueChange:j=>r({...t,statusPagamento:j==="all"?void 0:j}),children:[a.jsx(Re,{className:"h-10 sm:h-11 text-sm",children:a.jsx(ze,{placeholder:"Pagamento"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"all",children:"Todos"}),a.jsx(te,{value:"pago",children:" Pago"}),a.jsx(te,{value:"parcial",children:" Parcial"}),a.jsx(te,{value:"em_aberto",children:" Em aberto"})]})]})]})]}),(t.busca||t.data||t.status||t.clienteId||t.statusPagamento)&&a.jsx("div",{className:"mt-4 pt-4 border-t border-border/20",children:a.jsx(z,{variant:"outline",size:"sm",onClick:()=>r({}),className:"h-9 text-xs",children:"Limpar filtros"})})]})]}),a.jsx("div",{className:"space-y-3 animate-fade-in",children:e.length===0?a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(B,{className:"flex flex-col items-center justify-center py-12 text-center p-4 sm:p-6",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"Nenhum agendamento encontrado"}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:Object.keys(t).length>0?"Tente ajustar os filtros ou criar um novo agendamento.":"Comece criando seu primeiro agendamento."})]})}):e.map((j,N)=>{const S=Qu[j.status].icon;return a.jsx(L,{className:"agendamento-card animate-fade-in touch-feedback",style:{animationDelay:`${N*50}ms`},onClick:()=>i(j),children:a.jsx(B,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10 flex-shrink-0",children:a.jsx(Vr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base text-foreground truncate",children:j.clienteNome}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(un,{className:"h-3 w-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:j.servicoNome})]})]}),a.jsxs(GD,{children:[a.jsx(KD,{asChild:!0,onClick:_=>_.stopPropagation(),children:a.jsx(z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:h-9 sm:w-9",children:a.jsx(D3,{className:"h-4 w-4"})})}),a.jsxs(pj,{align:"end",className:"w-48",children:[a.jsxs(uo,{onClick:_=>{_.stopPropagation(),n(j)},children:[a.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Editar"]}),j.status==="agendado"&&c&&a.jsxs(uo,{onClick:_=>{_.stopPropagation(),c(j)},children:[a.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Reagendar"]}),j.status==="agendado"&&l&&a.jsxs(uo,{onClick:_=>{_.stopPropagation(),l(j)},children:[a.jsx(ml,{className:"h-4 w-4 mr-2"}),"Trocar Horrio"]}),j.status==="agendado"&&j.statusPagamento!=="pago"&&d&&a.jsxs(uo,{onClick:_=>{_.stopPropagation(),d(j)},children:[a.jsx(dt,{className:"h-4 w-4 mr-2"}),"Marcar Pagamento"]}),j.status==="agendado"&&a.jsxs(uo,{onClick:_=>{_.stopPropagation(),o(j.id)},children:[a.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(uo,{onClick:_=>{_.stopPropagation(),m(j.id)},className:"text-destructive",children:[a.jsx(gr,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ce,{className:`${Qu[j.status].color} text-white text-xs h-6`,children:[a.jsx(S,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:Qu[j.status].label}),a.jsx("span",{className:"sm:hidden",children:Qu[j.status].label.charAt(0)})]}),j.origem==="online"&&a.jsxs(ce,{className:"bg-purple-500 text-white text-xs h-6",children:[a.jsx("span",{className:"text-xs",children:""}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:"Online"})]}),a.jsxs(ce,{className:`${j.statusPagamento==="pago"?"bg-green-500":j.statusPagamento==="parcial"?"bg-yellow-500":"bg-red-500"} text-white text-xs h-6`,children:[j.statusPagamento==="pago"?"":j.statusPagamento==="parcial"?"":"",a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.statusPagamento==="pago"?"Pago":j.statusPagamento==="parcial"?"Parcial":"Em aberto"})]})]})]}),a.jsxs("div",{className:"grid gap-3 text-xs sm:text-sm",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Se,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:g(j.data)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(at,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[y(j.hora)," (",b(j.duracao),")"]})]})]}),a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/30 rounded-lg",children:[a.jsx(dt,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[a.jsxs("div",{className:"font-medium text-foreground text-sm",children:["Total: ",w(j.valor)]}),j.valorPago>0&&a.jsxs("div",{className:"text-green-600 text-xs",children:["Pago: ",w(j.valorPago)]}),j.valorDevido>0&&a.jsxs("div",{className:"text-red-500 text-xs font-medium",children:["Pendente: ",w(j.valorDevido)]}),j.dataPrevistaPagamento&&(j.formaPagamento==="fiado"||j.statusPagamento==="parcial"||j.statusPagamento==="em_aberto")&&a.jsxs("div",{className:"text-blue-600 text-xs",children:["Previsto: ",g(j.dataPrevistaPagamento)]})]})]})]})]})})},j.id)})}),h>1&&a.jsx("div",{className:"flex justify-center",children:a.jsx(ZD,{children:a.jsxs(XD,{children:[a.jsx(xf,{children:a.jsx(JD,{onClick:()=>f>1&&p(f-1),className:f<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:h},(j,N)=>N+1).map(j=>a.jsx(xf,{children:a.jsx(Wp,{onClick:()=>p(j),isActive:j===f,className:"cursor-pointer",children:j})},j)),a.jsx(xf,{children:a.jsx(QD,{onClick:()=>f<h&&p(f+1),className:f>=h?"pointer-events-none opacity-50":"cursor-pointer"})})]})})}),a.jsx(sa,{open:!!v,onOpenChange:()=>m(null),children:a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsx(Mn,{children:"Tem certeza que deseja excluir este agendamento? Esta ao no pode ser desfeita."})]}),a.jsxs(Tn,{children:[a.jsx(oa,{children:"Cancelar"}),a.jsx(Dn,{onClick:()=>{v&&(s(v),m(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const BNe=()=>{const[e,t]=x.useState(Date.now());return x.useEffect(()=>{const r=W.channel("configuracoes_real_time").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_horarios"},n=>{console.log("Configurao de horrio atualizada:",n),t(Date.now())}).on("postgres_changes",{event:"*",schema:"public",table:"intervalos_trabalho"},n=>{console.log("Intervalo de trabalho atualizado:",n),t(Date.now())}).subscribe();return()=>{W.removeChannel(r)}},[]),{lastUpdate:e}},VNe=Ys({clienteId:ut().min(1,"Cliente  obrigatrio"),servicoId:ut().min(1,"Servio  obrigatrio"),data:ut().min(1,"Data  obrigatria"),hora:ut().min(1,"Hora  obrigatria"),duracao:ks().min(1,"Durao deve ser maior que 0"),valor:ks().min(0,"Valor deve ser positivo"),valorPago:ks().min(0,"Valor pago deve ser positivo"),valorDevido:ks().min(0,"Valor devido deve ser positivo"),formaPagamento:_o(["dinheiro","cartao","pix","fiado"]),statusPagamento:_o(["pago","parcial","em_aberto"]),status:_o(["agendado","concluido","cancelado"]),observacoes:ut().optional(),dataPrevistaPagamento:ut().optional()});function UNe({agendamento:e,clientes:t,servicos:r,onSubmit:n,onCancel:s,verificarConflito:o}){const{configuracoes:i,getHorariosDisponiveis:c,isDiaAtivo:l,isAgendamentoValido:d}=oj(),{lastUpdate:u}=BNe(),[f,h]=x.useState(null),[p,v]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState([]),w=Rs({resolver:Is(VNe),defaultValues:{clienteId:e?.clienteId||"",servicoId:e?.servicoId||"",data:e?.data||"",hora:e?.hora||"",duracao:e?.duracao||0,valor:e?.valor||0,valorPago:e?.valorPago||0,valorDevido:e?.valorDevido||0,formaPagamento:e?.formaPagamento||"dinheiro",statusPagamento:e?.statusPagamento||"em_aberto",status:e?.status||"agendado",observacoes:e?.observacoes||"",dataPrevistaPagamento:e?.dataPrevistaPagamento||""}}),j=w.watch(["data","hora","duracao"]);x.useEffect(()=>{const[_,C,E]=j;if(_&&C&&E){const $=o({data:_,hora:C,duracao:E},e?.id);g($)}},[j,o,e?.id]),x.useEffect(()=>{const _=w.watch("servicoId");if(_){const C=r.find(E=>E.id===_);h(C||null),C&&(w.setValue("duracao",C.duracao),w.setValue("valor",C.valor))}},[w.watch("servicoId"),r,w]),x.useEffect(()=>{const _=w.watch("clienteId");if(_){const C=t.find(E=>E.id===_);v(C||null)}},[w.watch("clienteId"),t]),x.useEffect(()=>{const _=w.watch("data");if(_&&i&&i.length>0){const E=new Date(_+"T12:00:00").getDay();if(!l(E)){b([]),w.setValue("hora","");return}const $=f?.duracao||60,k=c(E,$);b(k);const P=w.watch("hora");P&&k.length>0&&!k.includes(P)&&w.setValue("hora","")}else _&&(!i||i.length===0)?b([]):b([])},[w.watch("data"),i,f,c,l,w,u]);const N=_=>{if(console.log("Dados do agendamento:",_),m){console.log("Conflito detectado, cancelando submisso");return}const C=d(_.data,_.hora,_.duracao);if(console.log("Agendamento vlido?",C,{data:_.data,hora:_.hora,duracao:_.duracao,configuracoes:i}),!C){console.log("Agendamento no vlido segundo validao"),V.error("Este horrio no est disponvel para agendamento!");return}const E=t.find(k=>k.id===_.clienteId)?.nomeCompleto||"",$=r.find(k=>k.id===_.servicoId)?.nome||"";n({..._,clienteNome:E,servicoNome:$})},S=_=>{const C=Math.floor(_/60),E=_%60;return C>0&&E>0?`${C}h ${E}min`:C>0?`${C}h`:`${E}min`};return a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(Y,{className:"p-4 sm:p-6",children:a.jsxs(Z,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[a.jsx(Se,{className:"h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"truncate",children:e?"Editar Agendamento":"Novo Agendamento"})]})}),a.jsx(B,{className:"p-4 sm:p-6 pt-0",children:a.jsx(dc,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(N),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2",children:[a.jsx(st,{control:w.control,name:"clienteId",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4"}),"Cliente"]}),a.jsxs(Fe,{onValueChange:_.onChange,value:_.value,children:[a.jsx(nt,{children:a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um cliente"})})}),a.jsx(Ie,{children:t.map(C=>a.jsx(te,{value:C.id,children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.nomeCompleto}),a.jsx("div",{className:"text-sm text-muted-foreground",children:C.telefone})]})},C.id))})]}),a.jsx(it,{})]})}),a.jsx(st,{control:w.control,name:"servicoId",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(un,{className:"h-4 w-4"}),"Servio"]}),a.jsxs(Fe,{onValueChange:_.onChange,value:_.value,children:[a.jsx(nt,{children:a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um servio"})})}),a.jsx(Ie,{children:r.map(C=>a.jsx(te,{value:C.id,children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.nome}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[S(C.duracao)," - R$ ",C.valor.toFixed(2)]})]})},C.id))})]}),a.jsx(it,{})]})}),a.jsx(st,{control:w.control,name:"data",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Data"]}),a.jsx(nt,{children:a.jsx(se,{type:"date",..._})}),a.jsx(it,{})]})}),a.jsx(st,{control:w.control,name:"hora",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4"}),"Hora"]}),a.jsxs(Fe,{onValueChange:_.onChange,value:_.value,children:[a.jsx(nt,{children:a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um horrio"})})}),a.jsx(Ie,{children:y.length>0?y.map(C=>a.jsx(te,{value:C,children:C},C)):a.jsx(te,{value:"no-horarios-disponiveis",disabled:!0,children:w.watch("data")?i&&i.length>0?(()=>{const E=new Date(w.watch("data")+"T12:00:00").getDay();return l(E)?"Nenhum horrio disponvel":"Dia no disponvel para atendimento"})():"Configure os horrios de trabalho primeiro":"Selecione uma data primeiro"})})]}),a.jsx(it,{}),m&&a.jsx("p",{className:"text-sm text-destructive font-medium",children:" J existe um agendamento neste horrio"})]})}),a.jsx(st,{control:w.control,name:"duracao",render:({field:_})=>a.jsxs(tt,{children:[a.jsx(rt,{children:"Durao (minutos)"}),a.jsx(nt,{children:a.jsx(se,{type:"number",min:"1",..._,onChange:C=>_.onChange(parseInt(C.target.value)||0)})}),a.jsx(it,{}),f&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Durao padro: ",S(f.duracao)]})]})}),a.jsx(st,{control:w.control,name:"valor",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4"}),"Valor Total (R$)"]}),a.jsx(nt,{children:a.jsx(se,{type:"number",min:"0",step:"0.01",..._,onChange:C=>_.onChange(parseFloat(C.target.value)||0)})}),a.jsx(it,{}),f&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Valor padro: R$ ",f.valor.toFixed(2)]})]})}),a.jsx(st,{control:w.control,name:"formaPagamento",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(So,{className:"h-4 w-4"}),"Forma de Pagamento"]}),a.jsxs(Fe,{onValueChange:_.onChange,value:_.value,children:[a.jsx(nt,{children:a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione a forma de pagamento"})})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"dinheiro",children:" Dinheiro"}),a.jsx(te,{value:"cartao",children:" Carto"}),a.jsx(te,{value:"pix",children:" PIX"}),a.jsx(te,{value:"fiado",children:" Fiado"})]})]}),a.jsx(it,{})]})}),a.jsx(st,{control:w.control,name:"valorPago",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4"}),"Valor Pago (R$)"]}),a.jsx(nt,{children:a.jsx(se,{type:"number",min:"0",step:"0.01",..._,onChange:C=>{const E=parseFloat(C.target.value)||0,$=w.getValues("valor");_.onChange(E),w.setValue("valorDevido",Math.max(0,$-E)),E===0?w.setValue("statusPagamento","em_aberto"):E>=$?w.setValue("statusPagamento","pago"):w.setValue("statusPagamento","parcial")}})}),a.jsx(it,{})]})}),a.jsx(st,{control:w.control,name:"valorDevido",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4"}),"Valor Devido (R$)"]}),a.jsx(nt,{children:a.jsx(se,{type:"number",min:"0",step:"0.01",..._,onChange:C=>_.onChange(parseFloat(C.target.value)||0),readOnly:!0,className:"bg-muted"})}),a.jsx(it,{})]})})]}),a.jsx(st,{control:w.control,name:"status",render:({field:_})=>a.jsxs(tt,{children:[a.jsx(rt,{children:"Status"}),a.jsxs(Fe,{onValueChange:_.onChange,value:_.value,children:[a.jsx(nt,{children:a.jsx(Re,{children:a.jsx(ze,{})})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"agendado",children:"Agendado"}),a.jsx(te,{value:"concluido",children:"Concludo"}),a.jsx(te,{value:"cancelado",children:"Cancelado"})]})]}),a.jsx(it,{})]})}),(w.watch("formaPagamento")==="fiado"||w.watch("statusPagamento")==="parcial"||w.watch("statusPagamento")==="em_aberto")&&a.jsx(st,{control:w.control,name:"dataPrevistaPagamento",render:({field:_})=>a.jsxs(tt,{children:[a.jsxs(rt,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Data Prevista de Pagamento"]}),a.jsx(nt,{children:a.jsx(se,{type:"date",..._,min:new Date().toISOString().split("T")[0]})}),a.jsx(it,{}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.watch("formaPagamento")==="fiado"?"Quando o cliente disse que vai pagar":"Data prevista para pagamento do valor restante"})]})}),a.jsx(st,{control:w.control,name:"observacoes",render:({field:_})=>a.jsxs(tt,{children:[a.jsx(rt,{children:"Observaes"}),a.jsx(nt,{children:a.jsx(pr,{placeholder:"Observaes sobre o agendamento...",..._})}),a.jsx(it,{})]})}),a.jsxs("div",{className:"action-buttons pt-4 border-t border-border/20",children:[a.jsxs(z,{type:"submit",disabled:m,className:"action-button bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 touch-feedback",children:[a.jsx(Vo,{className:"h-4 w-4 mr-2 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[e?"Atualizar":"Criar"," Agendamento"]})]}),a.jsxs(z,{type:"button",variant:"outline",onClick:s,className:"action-button touch-feedback",children:[a.jsx(Vt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Cancelar"})]})]})]})})})]})})}const ef={agendado:{label:"Agendado",color:"bg-info text-info-foreground",icon:Se,description:"Agendamento confirmado"},concluido:{label:"Concludo",color:"bg-success text-success-foreground",icon:bt,description:"Servio realizado com sucesso"},cancelado:{label:"Cancelado",color:"bg-destructive text-destructive-foreground",icon:Vt,description:"Agendamento cancelado"}};function qNe({agendamento:e,cliente:t,servico:r,onEdit:n,onBack:s,onCancel:o,onMarcarPagamento:i}){const c=v=>{const[m,g,y]=v.split("-").map(Number),b=new Date(m,g-1,y);return Te(b,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Le})},l=v=>v.slice(0,5),d=v=>{const m=Math.floor(v/60),g=v%60;return m>0&&g>0?`${m}h ${g}min`:m>0?`${m}h`:`${g}min`},u=v=>`R$ ${v.toFixed(2).replace(".",",")}`,f=v=>Te(new Date(v),"dd/MM/yyyy 's' HH:mm",{locale:Le}),h=()=>{const v=new Date(`${e.data}T${e.hora}`);return new Date(v.getTime()+e.duracao*6e4).toTimeString().slice(0,5)},p=ef[e.status].icon;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{variant:"ghost",onClick:s,className:"gap-2",children:[a.jsx(Id,{className:"h-4 w-4"}),"Voltar para lista"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.status==="agendado"&&e.statusPagamento!=="pago"&&i&&a.jsxs(z,{variant:"default",onClick:i,className:"bg-success hover:bg-success/90",children:[a.jsx(dt,{className:"h-4 w-4 mr-2"}),"Marcar Pagamento"]}),e.status==="agendado"&&a.jsxs(z,{variant:"outline",onClick:o,children:[a.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(z,{onClick:n,className:"bg-gradient-to-r from-primary to-lilac-primary",children:[a.jsx(Qn,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),a.jsxs(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{className:"text-2xl",children:"Detalhes do Agendamento"}),a.jsxs(ce,{className:ef[e.status].color,children:[a.jsx(p,{className:"h-4 w-4 mr-2"}),ef[e.status].label]})]}),a.jsx("p",{className:"text-muted-foreground",children:ef[e.status].description})]}),a.jsxs(B,{className:"space-y-8",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5 text-primary"}),"Data e Hora"]}),a.jsxs("div",{className:"space-y-3 pl-7",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Data"}),a.jsx("p",{className:"text-lg capitalize",children:c(e.data)})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Horrio"}),a.jsxs("p",{className:"text-lg",children:[l(e.hora)," s ",h()]})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Durao"}),a.jsx("p",{className:"text-lg",children:d(e.duracao)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5 text-primary"}),"Informaes de Pagamento"]}),a.jsxs("div",{className:"pl-7 space-y-4",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:u(e.valor)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Valor Pago"}),a.jsx("p",{className:"text-lg font-semibold text-success",children:u(e.valorPago)})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Valor Devido"}),a.jsx("p",{className:`text-lg font-semibold ${e.valorDevido>0?"text-destructive":"text-success"}`,children:u(e.valorDevido)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Forma de Pagamento"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(So,{className:"h-4 w-4"}),a.jsx("span",{className:"capitalize",children:e.formaPagamento==="cartao"?"Carto":e.formaPagamento==="pix"?"PIX":e.formaPagamento==="dinheiro"?"Dinheiro":"Fiado"})]})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Status do Pagamento"}),a.jsx(ce,{className:`mt-1 ${e.statusPagamento==="pago"?"bg-success text-success-foreground":e.statusPagamento==="parcial"?"bg-warning text-warning-foreground":"bg-destructive text-destructive-foreground"}`,children:e.statusPagamento==="pago"?" Pago":e.statusPagamento==="parcial"?" Parcial":" Em aberto"})]})]})]})]})]}),a.jsx(Ha,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Vr,{className:"h-5 w-5 text-primary"}),"Cliente"]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 pl-7",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),a.jsx("p",{className:"text-lg font-medium",children:t.nome})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),a.jsxs("p",{className:"text-lg flex items-center gap-2",children:[a.jsx(ns,{className:"h-4 w-4"}),t.telefone]})]}),t.email&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"E-mail"}),a.jsxs("p",{className:"text-lg flex items-center gap-2",children:[a.jsx(hm,{className:"h-4 w-4"}),t.email]})]})]})]}),a.jsx(Ha,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(un,{className:"h-5 w-5 text-primary"}),"Servio"]}),a.jsxs("div",{className:"pl-7 space-y-3",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Nome do servio"}),a.jsx("p",{className:"text-lg font-medium",children:r.nome})]}),r.descricao&&a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium text-muted-foreground",children:"Descrio"}),a.jsx("p",{className:"text-base",children:r.descricao})]})]})]}),e.observacoes&&a.jsxs(a.Fragment,{children:[a.jsx(Ha,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(ka,{className:"h-5 w-5 text-primary"}),"Observaes"]}),a.jsx("div",{className:"pl-7",children:a.jsx("p",{className:"text-base leading-relaxed bg-muted/50 p-4 rounded-lg",children:e.observacoes})})]})]}),a.jsx(Ha,{}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm text-muted-foreground",children:[a.jsxs("div",{children:[a.jsx(G,{className:"font-medium",children:"Criado em"}),a.jsx("p",{children:f(e.createdAt)})]}),a.jsxs("div",{children:[a.jsx(G,{className:"font-medium",children:"ltima atualizao"}),a.jsx("p",{children:f(e.updatedAt)})]})]})]})]})]})}function WNe({open:e,onOpenChange:t,agendamento:r,agendamentosDisponiveis:n,onTrocarHorarios:s}){const[o,i]=x.useState(""),[c,l]=x.useState(!1);if(!r)return null;const d=g=>Te(new Date(g+"T12:00:00"),"dd 'de' MMMM",{locale:Le}),u=g=>g.slice(0,5),f=g=>{const y=Math.floor(g/60),b=g%60;return y>0&&b>0?`${y}h ${b}min`:y>0?`${y}h`:`${b}min`},h=n.filter(g=>g.id!==r.id&&g.status==="agendado"),p=h.find(g=>g.id===o),v=async g=>{if(g.preventDefault(),!o){V.error("Selecione um agendamento para trocar");return}l(!0);try{await s(r.id,o)?(V.success("Horrios trocados com sucesso!"),t(!1),i("")):V.error("Erro ao trocar horrios")}catch{V.error("Erro ao trocar horrios")}finally{l(!1)}},m=()=>{i(""),t(!1)};return a.jsx(Wr,{open:e,onOpenChange:t,children:a.jsxs(Sr,{className:"sm:max-w-[600px]",children:[a.jsxs(Cr,{children:[a.jsxs(Pr,{className:"flex items-center gap-2",children:[a.jsx(ml,{className:"h-5 w-5 text-primary"}),"Trocar Horrios"]}),a.jsx(kn,{children:"Selecione outro agendamento para trocar os horrios"})]}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{className:"text-sm font-medium",children:"Agendamento atual:"}),a.jsx(L,{className:"bg-muted/50",children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(Vr,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground",children:r.clienteNome}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(un,{className:"h-3 w-3"}),a.jsx("span",{children:r.servicoNome})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:d(r.data)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4"}),a.jsxs("span",{children:[u(r.hora)," - ",f(r.duracao)]})]})]})]})})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"agendamento-troca",className:"text-sm font-medium",children:"Trocar com:"}),a.jsxs(Fe,{value:o,onValueChange:i,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um agendamento"})}),a.jsx(Ie,{children:h.length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Nenhum agendamento disponvel para troca"}):h.map(g=>a.jsx(te,{value:g.id,children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:g.clienteNome}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsxs("span",{className:"text-sm",children:[d(g.data)," ",u(g.hora)]})]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:f(g.duracao)})]})},g.id))})]})]}),p&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(ml,{className:"h-6 w-6 text-primary"})}),a.jsx(L,{className:"bg-green-50 border-green-200",children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-green-700 text-center",children:"Preview da troca"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium text-green-600",children:[r.clienteNome," vai para:"]}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:d(p.data)})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(at,{className:"h-4 w-4"}),a.jsxs("span",{children:[u(p.hora)," - ",f(p.duracao)]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium text-green-600",children:[p.clienteNome," vai para:"]}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:d(r.data)})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(at,{className:"h-4 w-4"}),a.jsxs("span",{children:[u(r.hora)," - ",f(r.duracao)]})]})]})]})]})]})})})]}),a.jsxs(Dp,{children:[a.jsx(z,{type:"button",variant:"outline",onClick:m,disabled:c,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:c||!o,className:"bg-gradient-to-r from-primary to-lilac-primary",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ml,{className:"mr-2 h-4 w-4 animate-spin"}),"Trocando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ml,{className:"mr-2 h-4 w-4"}),"Trocar Horrios"]})})]})]})]})})}function HNe({open:e,onOpenChange:t,agendamento:r,onConfirmar:n}){const[s,o]=x.useState(""),[i,c]=x.useState("dinheiro"),[l,d]=x.useState(!1),u=r?.valorDevido||0,f=r?.valor||0,h=async v=>{if(!r)return;d(!0);const m=v?u:parseFloat(s.replace(",","."))||0;await n(r.id,m,i)&&(t(!1),o(""),c("dinheiro")),d(!1)},p=v=>`R$ ${v.toFixed(2).replace(".",",")}`;return a.jsx(Wr,{open:e,onOpenChange:t,children:a.jsxs(Sr,{className:"sm:max-w-md",children:[a.jsxs(Cr,{children:[a.jsxs(Pr,{className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-5 w-5 text-primary"}),"Registrar Pagamento"]}),a.jsxs(kn,{children:["Registre o pagamento do agendamento de ",r?.clienteNome]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2 p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Valor Total:"}),a.jsx("span",{className:"font-semibold",children:p(f)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"J Pago:"}),a.jsx("span",{className:"font-semibold text-success",children:p(r?.valorPago||0)})]}),a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:"Valor Devido:"}),a.jsx("span",{className:"font-bold text-destructive",children:p(u)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"forma-pagamento",children:"Forma de Pagamento"}),a.jsxs(Fe,{value:i,onValueChange:c,children:[a.jsx(Re,{id:"forma-pagamento",children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"dinheiro",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),"Dinheiro"]})}),a.jsx(te,{value:"cartao",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(So,{className:"h-4 w-4"}),"Carto"]})}),a.jsx(te,{value:"pix",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),"PIX"]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"valor-pago",children:"Valor Pago (parcial)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"R$"}),a.jsx(se,{id:"valor-pago",type:"text",placeholder:"0,00",value:s,onChange:v=>{const m=v.target.value.replace(/[^\d,]/g,"");o(m)},className:"pl-10"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para pagar o valor completo"})]})]}),a.jsxs(Dp,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(z,{variant:"outline",onClick:()=>t(!1),disabled:l,className:"w-full sm:w-auto",children:"Cancelar"}),a.jsx(z,{variant:"outline",onClick:()=>h(!1),disabled:l||!s,className:"w-full sm:w-auto",children:"Pagar Parcial"}),a.jsx(z,{onClick:()=>h(!0),disabled:l,className:"w-full sm:w-auto bg-gradient-to-r from-primary to-lilac-primary",children:l?"Processando...":"Pagar Completo"})]})]})})}function GNe(){const{agendamentos:e,agendamentosFiltrados:t,filtros:r,setFiltros:n,paginaAtual:s,setPaginaAtual:o,totalPaginas:i,clientes:c,servicos:l,criarAgendamento:d,atualizarAgendamento:u,excluirAgendamento:f,cancelarAgendamento:h,verificarConflito:p,todosAgendamentos:v}=ds(),[m,g]=x.useState("lista"),[y,b]=x.useState(null),[w,j]=x.useState(!1),[N,S]=x.useState(null),[_,C]=x.useState(!1),[E,$]=x.useState(null),[k,P]=x.useState(!1),[O,T]=x.useState(null),I=new Date().toISOString().split("T")[0],R=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],D=new Date;D.setDate(D.getDate()-D.getDay());const M=new Date(D);M.setDate(M.getDate()+6);const U=t.filter(ve=>ve.data===I&&ve.status!=="cancelado").length,ne=t.filter(ve=>ve.data===R&&ve.status!=="cancelado").length,K=t.filter(ve=>{const Ue=new Date(ve.data);return Ue>=D&&Ue<=M&&ve.status!=="cancelado"}).length,ae=()=>{b(null),g("formulario")},de=ve=>{b(ve),g("formulario")},_e=ve=>{b(ve),g("detalhes")},Ke=ve=>{(y?u(y.id,ve):d(ve))&&(g("lista"),b(null))},q=()=>{g("lista"),b(null)},ie=()=>{y&&(h(y.id),g("lista"),b(null))},we=ve=>{S(ve),j(!0)},oe=async(ve,Ue,Ee)=>{const et=await u(ve,{data:Ue,hora:Ee});return et&&(j(!1),S(null)),et},he=ve=>{$(ve),C(!0)},je=async(ve,Ue)=>{try{const Ee=v.find(J=>J.id===ve),et=v.find(J=>J.id===Ue);if(!Ee||!et)return!1;if(p({data:et.data,hora:et.hora,duracao:Ee.duracao},Ue))return Xt({title:"Conflito de horrio",description:`O agendamento de ${Ee.clienteNome} (${Ee.duracao}min) no cabe no horrio de ${et.clienteNome}. H conflito com outros agendamentos.`,variant:"destructive"}),!1;if(p({data:Ee.data,hora:Ee.hora,duracao:et.duracao},ve))return Xt({title:"Conflito de horrio",description:`O agendamento de ${et.clienteNome} (${et.duracao}min) no cabe no horrio de ${Ee.clienteNome}. H conflito com outros agendamentos.`,variant:"destructive"}),!1;const F=await u(ve,{data:et.data,hora:et.hora}),H=await u(Ue,{data:Ee.data,hora:Ee.hora});return F&&H&&Xt({title:"Horrios trocados",description:"Os horrios foram trocados com sucesso!"}),F&&H}catch(Ee){return console.error("Erro ao trocar horrios:",Ee),Xt({title:"Erro ao trocar horrios",description:"Ocorreu um erro ao realizar a troca. Tente novamente.",variant:"destructive"}),!1}},X=ve=>{T(ve),P(!0)},Ye=async(ve,Ue,Ee)=>{const et=v.find(ye=>ye.id===ve);if(!et)return!1;const hr=et.valorPago+Ue,Dt=et.valor-hr;let F,H=et.status;Dt<=0?(F="pago",H="concluido"):hr>0?F="parcial":F="em_aberto";const J=await u(ve,{valorPago:hr,valorDevido:Math.max(0,Dt),statusPagamento:F,status:H,formaPagamento:Ee});return J&&(Xt({title:"Pagamento registrado",description:F==="pago"?"Pagamento completo registrado com sucesso!":`Pagamento parcial de R$ ${Ue.toFixed(2)} registrado.`}),P(!1),T(null),m==="detalhes"&&g("lista")),J};if(m==="formulario")return a.jsx("div",{className:"space-y-8",children:a.jsx(UNe,{agendamento:y||void 0,clientes:c,servicos:l,onSubmit:Ke,onCancel:q,verificarConflito:p})});if(m==="detalhes"&&y){const ve=c.find(Ee=>Ee.id===y.clienteId),Ue=l.find(Ee=>Ee.id===y.servicoId);return a.jsx("div",{className:"space-y-8",children:a.jsx(qNe,{agendamento:y,cliente:ve?{nome:ve.nomeCompleto,telefone:ve.telefone,email:""}:{nome:y.clienteNome,telefone:"",email:""},servico:Ue||{nome:y.servicoNome},onEdit:()=>g("formulario"),onBack:q,onCancel:ie,onMarcarPagamento:()=>y&&X(y)})})}return a.jsxs("div",{className:"space-y-6 p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Agendamentos"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Gerencie todos os agendamentos do seu salo"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-2",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n({statusPagamento:"em_aberto"}),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 text-xs sm:text-sm h-9 sm:h-10 justify-start sm:justify-center",children:[a.jsx(dt,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Contas a Receber"})]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n({origem:"cronograma"}),className:"bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100 text-xs sm:text-sm h-9 sm:h-10 justify-start sm:justify-center",children:[a.jsx("span",{className:"mr-2 text-xs sm:text-sm",children:""}),a.jsx("span",{className:"truncate",children:"Cronogramas"})]})]}),a.jsxs(z,{onClick:ae,className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 text-sm h-10 sm:h-11",children:[a.jsx(Nr,{className:"mr-2 h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden sm:inline",children:"Novo Agendamento"}),a.jsx("span",{className:"sm:hidden",children:"Novo"})]})]})]}),a.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/60 transition-colors",children:a.jsxs(B,{className:"flex items-center gap-3 sm:gap-4 p-4 sm:p-6",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light flex-shrink-0",children:a.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:U}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Hoje"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/60 transition-colors",children:a.jsxs(B,{className:"flex items-center gap-3 sm:gap-4 p-4 sm:p-6",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-lilac-primary to-pink-accent flex-shrink-0",children:a.jsx(at,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:ne}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Amanh"})]})]})}),a.jsx(L,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/60 transition-colors sm:col-span-2 lg:col-span-1",children:a.jsxs(B,{className:"flex items-center gap-3 sm:gap-4 p-4 sm:p-6",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-pink-accent to-lavender flex-shrink-0",children:a.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:K}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Esta Semana"})]})]})})]}),a.jsx(zNe,{agendamentos:e,filtros:r,onFiltrosChange:n,onEdit:de,onDelete:f,onCancel:h,onViewDetails:_e,onReagendar:we,onTrocarHorario:he,onMarcarPagamento:X,clientes:c.map(ve=>({id:ve.id,nome:ve.nomeCompleto})),paginaAtual:s,totalPaginas:i,onPaginaChange:o}),a.jsx(QM,{open:w,onOpenChange:j,agendamento:N,onReagendar:oe,verificarConflito:p}),a.jsx(WNe,{open:_,onOpenChange:C,agendamento:E,agendamentosDisponiveis:v,onTrocarHorarios:je}),a.jsx(HNe,{open:k,onOpenChange:P,agendamento:O,onConfirmar:Ye})]})}function KNe(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:a.jsx("div",{className:"container mx-auto p-4 lg:p-8 space-y-6 lg:space-y-8",children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 via-primary/5 to-accent/10 p-6 lg:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5"}),a.jsxs("div",{className:"relative flex flex-col gap-4",children:[a.jsx("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 backdrop-blur-sm shadow-lg",children:a.jsx(Se,{className:"h-7 w-7 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Minha Agenda"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Visualize e gerencie todos os seus horrios em um s lugar"})]})]})}),a.jsxs(da,{defaultValue:"calendario",className:"w-full",children:[a.jsxs(Ln,{children:[a.jsxs(He,{value:"calendario",className:"gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:"Viso de Calendrio"})]}),a.jsxs(He,{value:"lista",className:"gap-2",children:[a.jsx(W3,{className:"h-4 w-4"}),a.jsx("span",{children:"Lista & Gesto"})]})]}),a.jsx(Ge,{value:"calendario",children:a.jsx(Cwe,{})}),a.jsx(Ge,{value:"lista",children:a.jsx(GNe,{})})]})]})]})})})}const ul=[{id:0,nome:"Domingo",abrev:"DOM"},{id:1,nome:"Segunda-feira",abrev:"SEG"},{id:2,nome:"Tera-feira",abrev:"TER"},{id:3,nome:"Quarta-feira",abrev:"QUA"},{id:4,nome:"Quinta-feira",abrev:"QUI"},{id:5,nome:"Sexta-feira",abrev:"SEX"},{id:6,nome:"Sbado",abrev:"SAB"}];function YNe(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,o]=x.useState(!1);x.useEffect(()=>{const u=ul.map(f=>({dia_semana:f.id,ativo:f.id>=1&&f.id<=5,horario_abertura:"08:00",horario_fechamento:"18:00",intervalo_inicio:"12:00",intervalo_fim:"13:00"}));t(u),i()},[]);const i=async()=>{try{const{data:{user:u}}=await W.auth.getUser();if(!u)return;const{data:f,error:h}=await W.from("configuracoes_horarios").select("*").eq("user_id",u.id);if(h)throw h;if(f&&f.length>0){const p=ul.map(v=>{const m=f.find(g=>g.dia_semana===v.id);return m?{id:m.id,dia_semana:v.id,ativo:m.ativo,horario_abertura:m.horario_abertura,horario_fechamento:m.horario_fechamento,intervalo_inicio:m.intervalo_inicio||"12:00",intervalo_fim:m.intervalo_fim||"13:00"}:{dia_semana:v.id,ativo:v.id>=1&&v.id<=5,horario_abertura:"08:00",horario_fechamento:"18:00",intervalo_inicio:"12:00",intervalo_fim:"13:00"}});t(p)}}catch(u){console.error("Erro ao carregar configuraes:",u),V.error("Erro ao carregar configuraes de horrio")}finally{n(!1)}},c=async u=>{const f=e.find(h=>h.dia_semana===u);if(f){o(!0);try{const{data:{user:h}}=await W.auth.getUser();if(!h)throw new Error("Usurio no autenticado");const p={user_id:h.id,dia_semana:f.dia_semana,ativo:f.ativo,horario_abertura:f.horario_abertura,horario_fechamento:f.horario_fechamento,intervalo_inicio:f.intervalo_inicio,intervalo_fim:f.intervalo_fim};if(f.id){const{error:v}=await W.from("configuracoes_horarios").update(p).eq("id",f.id);if(v)throw v}else{const{data:v,error:m}=await W.from("configuracoes_horarios").insert(p).select().single();if(m)throw m;t(g=>g.map(y=>y.dia_semana===u?{...y,id:v.id}:y))}V.success(`Horrio de ${ul[u].nome} salvo com sucesso!`)}catch(h){console.error("Erro ao salvar configurao:",h),V.error("Erro ao salvar configurao")}finally{o(!1)}}},l=(u,f,h)=>{t(p=>p.map(v=>v.dia_semana===u?{...v,[f]:h}:v))},d=e.filter(u=>u.ativo);return r?a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando configuraes..."})})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(L,{children:a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-5 w-5"}),"Configurao de Horrios de Trabalho"]}),a.jsx(Oe,{children:"Configure os dias e horrios em que voc atende clientes"})]})}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5"}),"Resumo dos Dias de Atendimento"]}),a.jsx(Oe,{children:"Viso geral dos dias em que voc atender clientes"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ul.map(u=>{const f=e.find(h=>h.dia_semana===u.id);return a.jsxs(ce,{variant:f?.ativo?"default":"secondary",children:[u.abrev," ",f?.ativo?`(${f.horario_abertura}-${f.horario_fechamento})`:"(Fechado)"]},u.id)})}),d.length===0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg mb-4",children:[a.jsx(bc,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Nenhum dia de atendimento configurado. Configure pelo menos um dia para receber agendamentos."})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:d.length>0?`${d.length} ${d.length===1?"dia configurado":"dias configurados"} para atendimento`:"Configure os dias e horrios de atendimento abaixo"})]})]}),ul.map(u=>{const f=e.find(h=>h.dia_semana===u.id);return f?a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-5 w-5"}),u.nome]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qt,{checked:f.ativo,onCheckedChange:h=>l(u.id,"ativo",h)}),a.jsx(ce,{variant:f.ativo?"default":"secondary",children:f.ativo?"Ativo":"Inativo"})]})]}),a.jsxs(Oe,{children:["Configure os horrios de funcionamento para ",u.nome.toLowerCase()]})]}),a.jsxs(B,{className:"space-y-4",children:[f.ativo&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium mb-2 block",children:"Horrio de Funcionamento"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:`abertura-${u.id}`,className:"text-xs",children:"Abertura"}),a.jsx(se,{id:`abertura-${u.id}`,type:"time",value:f.horario_abertura,onChange:h=>l(u.id,"horario_abertura",h.target.value)})]}),a.jsxs("div",{children:[a.jsx(G,{htmlFor:`fechamento-${u.id}`,className:"text-xs",children:"Fechamento"}),a.jsx(se,{id:`fechamento-${u.id}`,type:"time",value:f.horario_fechamento,onChange:h=>l(u.id,"horario_fechamento",h.target.value)})]})]})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-sm font-medium mb-2 block",children:"Intervalo de Almoo (Opcional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:`intervalo-inicio-${u.id}`,className:"text-xs",children:"Incio do Almoo"}),a.jsx(se,{id:`intervalo-inicio-${u.id}`,type:"time",value:f.intervalo_inicio||"",onChange:h=>l(u.id,"intervalo_inicio",h.target.value)})]}),a.jsxs("div",{children:[a.jsx(G,{htmlFor:`intervalo-fim-${u.id}`,className:"text-xs",children:"Fim do Almoo"}),a.jsx(se,{id:`intervalo-fim-${u.id}`,type:"time",value:f.intervalo_fim||"",onChange:h=>l(u.id,"intervalo_fim",h.target.value)})]})]})]}),a.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Funcionamento:"})," ",f.horario_abertura," s ",f.horario_fechamento,f.intervalo_inicio&&f.intervalo_fim&&a.jsxs("span",{children:[" (Almoo: ",f.intervalo_inicio," s ",f.intervalo_fim,")"]})]})})]}),!f.ativo&&a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx(at,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Este dia est desativado para atendimento"})]}),a.jsxs(z,{className:"w-full",variant:"outline",onClick:()=>c(u.id),disabled:s,children:[a.jsx(Vo,{className:"h-4 w-4 mr-2"}),s?"Salvando...":`Salvar ${u.nome}`]})]})]},u.id):null}),a.jsx(L,{className:"border-green-200 bg-green-50/50 dark:border-green-800 dark:bg-green-900/20",children:a.jsxs(B,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:" Configurao Funcional"}),a.jsxs("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[a.jsx("li",{children:" Configure os dias e horrios de atendimento"}),a.jsx("li",{children:" Os horrios so salvos automaticamente no banco de dados"}),a.jsx("li",{children:" Os agendamentos respeitaro essas configuraes"}),a.jsx("li",{children:" Use o switch para ativar/desativar dias especficos"})]})]})})]})}var eR=["PageUp","PageDown"],tR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rR={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Hc="Slider",[Cy,ZNe,XNe]=Np(Hc),[nR]=ia(Hc,[XNe]),[JNe,Hp]=nR(Hc),aR=x.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:d=[n],value:u,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:v,...m}=e,g=x.useRef(new Set),y=x.useRef(0),w=i==="horizontal"?QNe:e_e,[j=[],N]=Ea({prop:u,defaultProp:d,onChange:k=>{[...g.current][y.current]?.focus(),f(k)}}),S=x.useRef(j);function _(k){const P=s_e(j,k);$(k,P)}function C(k){$(k,y.current)}function E(){const k=S.current[y.current];j[y.current]!==k&&h(j)}function $(k,P,{commit:O}={commit:!1}){const T=l_e(o),I=d_e(Math.round((k-n)/o)*o+n,T),R=Ed(I,[n,s]);N((D=[])=>{const M=n_e(D,R,P);if(c_e(M,l*o)){y.current=M.indexOf(R);const U=String(M)!==String(D);return U&&O&&h(M),U?M:D}else return D})}return a.jsx(JNe,{scope:e.__scopeSlider,name:r,disabled:c,min:n,max:s,valueIndexToChangeRef:y,thumbs:g.current,values:j,orientation:i,form:v,children:a.jsx(Cy.Provider,{scope:e.__scopeSlider,children:a.jsx(Cy.Slot,{scope:e.__scopeSlider,children:a.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...m,ref:t,onPointerDown:ge(m.onPointerDown,()=>{c||(S.current=j)}),min:n,max:s,inverted:p,onSlideStart:c?void 0:_,onSlideMove:c?void 0:C,onSlideEnd:c?void 0:E,onHomeKeyDown:()=>!c&&$(n,0,{commit:!0}),onEndKeyDown:()=>!c&&$(s,j.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:P})=>{if(!c){const I=eR.includes(k.key)||k.shiftKey&&tR.includes(k.key)?10:1,R=y.current,D=j[R],M=o*I*P;$(D+M,R,{commit:!0})}}})})})})});aR.displayName=Hc;var[sR,oR]=nR(Hc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QNe=x.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:c,onSlideEnd:l,onStepKeyDown:d,...u}=e,[f,h]=x.useState(null),p=Ve(t,w=>h(w)),v=x.useRef(),m=Vc(s),g=m==="ltr",y=g&&!o||!g&&o;function b(w){const j=v.current||f.getBoundingClientRect(),N=[0,j.width],_=gj(N,y?[r,n]:[n,r]);return v.current=j,_(w-j.left)}return a.jsx(sR,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(iR,{dir:m,"data-orientation":"horizontal",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=b(w.clientX);i?.(j)},onSlideMove:w=>{const j=b(w.clientX);c?.(j)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:w=>{const N=rR[y?"from-left":"from-right"].includes(w.key);d?.({event:w,direction:N?-1:1})}})})}),e_e=x.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:c,onStepKeyDown:l,...d}=e,u=x.useRef(null),f=Ve(t,u),h=x.useRef(),p=!s;function v(m){const g=h.current||u.current.getBoundingClientRect(),y=[0,g.height],w=gj(y,p?[n,r]:[r,n]);return h.current=g,w(m-g.top)}return a.jsx(sR,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(iR,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=v(m.clientY);o?.(g)},onSlideMove:m=>{const g=v(m.clientY);i?.(g)},onSlideEnd:()=>{h.current=void 0,c?.()},onStepKeyDown:m=>{const y=rR[p?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:y?-1:1})}})})}),iR=x.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:c,onStepKeyDown:l,...d}=e,u=Hp(Hc,r);return a.jsx(ke.span,{...d,ref:t,onKeyDown:ge(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):eR.concat(tR).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:ge(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(h)?h.focus():n(f)}),onPointerMove:ge(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:ge(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),cR="SliderTrack",lR=x.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Hp(cR,r);return a.jsx(ke.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});lR.displayName=cR;var Py="SliderRange",dR=x.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Hp(Py,r),o=oR(Py,r),i=x.useRef(null),c=Ve(t,i),l=s.values.length,d=s.values.map(h=>fR(h,s.min,s.max)),u=l>1?Math.min(...d):0,f=100-Math.max(...d);return a.jsx(ke.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:f+"%"}})});dR.displayName=Py;var Ay="SliderThumb",uR=x.forwardRef((e,t)=>{const r=ZNe(e.__scopeSlider),[n,s]=x.useState(null),o=Ve(t,c=>s(c)),i=x.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return a.jsx(t_e,{...e,ref:o,index:i})}),t_e=x.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=Hp(Ay,r),c=oR(Ay,r),[l,d]=x.useState(null),u=Ve(t,b=>d(b)),f=l?i.form||!!l.closest("form"):!0,h=ub(l),p=i.values[n],v=p===void 0?0:fR(p,i.min,i.max),m=a_e(n,i.values.length),g=h?.[c.size],y=g?o_e(g,v,c.direction):0;return x.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${y}px)`},children:[a.jsx(Cy.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(ke.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:u,style:p===void 0?{display:"none"}:e.style,onFocus:ge(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&a.jsx(r_e,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});uR.displayName=Ay;var r_e=e=>{const{value:t,...r}=e,n=x.useRef(null),s=Z0(t);return x.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&l){const d=new Event("input",{bubbles:!0});l.call(o,t),o.dispatchEvent(d)}},[s,t]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function n_e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function fR(e,t,r){const o=100/(r-t)*(e-t);return Ed(o,[0,100])}function a_e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function s_e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function o_e(e,t,r){const n=e/2,o=gj([0,50],[0,n]);return(n-o(t)*r)*r}function i_e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function c_e(e,t){if(t>0){const r=i_e(e);return Math.min(...r)>=t}return!0}function gj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function l_e(e){return(String(e).split(".")[1]||"").length}function d_e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var hR=aR,u_e=lR,f_e=dR,h_e=uR;const yf=x.forwardRef(({className:e,...t},r)=>a.jsxs(hR,{ref:r,className:Q("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(u_e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(f_e,{className:"absolute h-full bg-primary"})}),a.jsx(h_e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));yf.displayName=hR.displayName;const Gp=()=>{const{usuario:e}=It(),[t,r]=x.useState(!1),[n,s]=x.useState(!1),[o,i]=x.useState(null),[c,l]=x.useState(!1);x.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(r(!0),d())},[]);const d=x.useCallback(async()=>{try{const y=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(y){const b={endpoint:y.endpoint,keys:{p256dh:u(y.getKey("p256dh")),auth:u(y.getKey("auth"))}};i(b),s(!0)}}catch(g){console.error("Erro ao verificar subscription:",g)}},[]),u=g=>{const y=new Uint8Array(g);let b="";for(let w=0;w<y.byteLength;w++)b+=String.fromCharCode(y[w]);return btoa(b)},f=x.useCallback(async()=>{if(!t||!e)return!1;l(!0);try{if(await Notification.requestPermission()!=="granted")return V.error("Permisso negada - As notificaes push foram bloqueadas. Ative nas configuraes do navegador."),!1;const w=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BEl62iUYgUivxIkv69yViEuiBIa40HI0DLLfgA7X3EgMGvpADQJ1wpQOVWvwG4yA-7XVvPDn5TPBY-A3VoGcEng"}),j={endpoint:w.endpoint,keys:{p256dh:u(w.getKey("p256dh")),auth:u(w.getKey("auth"))}};return await p(j),i(j),s(!0),V.success("Notificaes ativadas! Voc receber notificaes push sobre agendamentos e lembretes."),!0}catch(g){return console.error("Erro ao subscrever push notifications:",g),V.error("Erro ao ativar notificaes - No foi possvel ativar as notificaes push. Tente novamente."),!1}finally{l(!1)}},[t,e]),h=x.useCallback(async()=>{if(n){l(!0);try{const y=await(await navigator.serviceWorker.ready).pushManager.getSubscription();y&&(await y.unsubscribe(),await v()),i(null),s(!1),V.warning("Notificaes desativadas - Voc no receber mais notificaes push.")}catch(g){console.error("Erro ao cancelar subscription:",g),V.error("Erro ao desativar notificaes - No foi possvel desativar as notificaes. Tente novamente.")}finally{l(!1)}}},[n]),p=async g=>{e&&localStorage.setItem(`push-subscription-${e.id}`,JSON.stringify(g))},v=async()=>{e&&localStorage.removeItem(`push-subscription-${e.id}`)},m=x.useCallback(async()=>{if(n)try{"serviceWorker"in navigator&&((await navigator.serviceWorker.ready).showNotification("Teste de Notificao",{body:"Esta  uma notificao de teste do seu salo!",icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png",tag:"test-notification",data:{url:"/",timestamp:Date.now()}}),V.success("Notificao de teste enviada! Verifique se a notificao apareceu."))}catch(g){console.error("Erro ao enviar notificao de teste:",g),V.error("Erro no teste - No foi possvel enviar a notificao de teste.")}},[n]);return{isSupported:t,isSubscribed:n,subscription:o,isLoading:c,subscribe:f,unsubscribe:h,sendTestNotification:m,checkSubscription:d}};function m_e(){const{configuracaoNotificacoes:e,loading:t,salvarNotificacoes:r}=Gd(),{isSupported:n,isSubscribed:s,subscribe:o,unsubscribe:i,sendTestNotification:c,isLoading:l}=Gp(),[d,u]=x.useState({notificacoes_push:!0,notificacoes_email:!0,notificacoes_som:!0,som_personalizado:"notification.mp3",lembrete_agendamento_minutos:60,lembrete_vencimento_dias:3,lembrete_contas_fixas_dias:7,notificar_cancelamentos:!0,notificar_reagendamentos:!0,notificar_pagamentos:!0,notificar_novos_agendamentos:!0,horario_inicio_notificacoes:"08:00",horario_fim_notificacoes:"20:00"});if(x.useEffect(()=>{e&&u({notificacoes_push:e.notificacoes_push,notificacoes_email:e.notificacoes_email,notificacoes_som:e.notificacoes_som,som_personalizado:e.som_personalizado||"notification.mp3",lembrete_agendamento_minutos:e.lembrete_agendamento_minutos,lembrete_vencimento_dias:e.lembrete_vencimento_dias,lembrete_contas_fixas_dias:e.lembrete_contas_fixas_dias,notificar_cancelamentos:e.notificar_cancelamentos,notificar_reagendamentos:e.notificar_reagendamentos,notificar_pagamentos:e.notificar_pagamentos,notificar_novos_agendamentos:e.notificar_novos_agendamentos,horario_inicio_notificacoes:e.horario_inicio_notificacoes,horario_fim_notificacoes:e.horario_fim_notificacoes})},[e]),t)return a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Carregando configuraes de notificaes..."})})});const f=async()=>{try{await r(d)}catch(v){console.error("Erro ao salvar configuraes:",v)}},h=async()=>{s?(await i(),u(v=>({...v,notificacoes_push:!1}))):await o()&&u(m=>({...m,notificacoes_push:!0}))},p=()=>{try{new Audio(`/sounds/${d.som_personalizado}`).play().catch(m=>{console.log("Erro ao reproduzir som:",m),V.error("No foi possvel reproduzir o som selecionado")})}catch(v){console.log("Erro ao criar udio:",v)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-5 w-5"}),"Status das Notificaes"]})}),a.jsxs(B,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ce,{variant:d.notificacoes_push?"default":"secondary",children:["Push ",d.notificacoes_push?"Ativo":"Inativo"]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ce,{variant:d.notificacoes_email?"default":"secondary",children:["Email ",d.notificacoes_email?"Ativo":"Inativo"]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ce,{variant:d.notificacoes_som?"default":"secondary",children:["Som ",d.notificacoes_som?"Ativo":"Inativo"]})})]}),a.jsxs(z,{onClick:f,className:"w-full",children:[a.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Salvar Todas as Configuraes"]})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"h-5 w-5"}),"Configuraes Principais"]})}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nv,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx(G,{className:"text-base font-medium",children:"Notificaes Push"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no celular mesmo com o app fechado"}),!n&&a.jsx("p",{className:"text-xs text-orange-600",children:"No suportado neste navegador"})]})]}),a.jsx(qt,{checked:s&&d.notificacoes_push,onCheckedChange:h,disabled:!n||l})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(hm,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx(G,{className:"text-base font-medium",children:"Notificaes por Email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba resumos e alertas importantes por email"})]})]}),a.jsx(qt,{checked:d.notificacoes_email,onCheckedChange:v=>u(m=>({...m,notificacoes_email:v}))})]}),a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ig,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx(G,{className:"text-base font-medium",children:"Notificaes Sonoras"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduzir som ao receber notificaes"})]})]}),a.jsx(qt,{checked:d.notificacoes_som,onCheckedChange:v=>u(m=>({...m,notificacoes_som:v}))})]}),d.notificacoes_som&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"som-select",children:"Som das Notificaes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Fe,{value:d.som_personalizado,onValueChange:v=>u(m=>({...m,som_personalizado:v})),children:[a.jsx(Re,{className:"flex-1",children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"notification.mp3",children:"Som Padro"}),a.jsx(te,{value:"notification2.mp3",children:"Som Campainha"}),a.jsx(te,{value:"notification3.mp3",children:"Som Suave"})]})]}),a.jsx(z,{variant:"outline",onClick:p,children:a.jsx(ig,{className:"h-4 w-4"})})]})]})]})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-5 w-5"}),"Horrios de Notificao"]})}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:"inicio-notif",children:"Horrio de Incio"}),a.jsx(se,{id:"inicio-notif",type:"time",value:d.horario_inicio_notificacoes,onChange:v=>u(m=>({...m,horario_inicio_notificacoes:v.target.value}))})]}),a.jsxs("div",{children:[a.jsx(G,{htmlFor:"fim-notif",children:"Horrio de Fim"}),a.jsx(se,{id:"fim-notif",type:"time",value:d.horario_fim_notificacoes,onChange:v=>u(m=>({...m,horario_fim_notificacoes:v.target.value}))})]})]}),a.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Perodo ativo:"})," ",d.horario_inicio_notificacoes," s ",d.horario_fim_notificacoes,a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Notificaes fora deste horrio sero silenciadas"})]})})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-5 w-5"}),"Tipos de Notificao"]})}),a.jsx(B,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(G,{htmlFor:"novos-agend",children:"Novos Agendamentos"}),a.jsx(qt,{id:"novos-agend",checked:d.notificar_novos_agendamentos,onCheckedChange:v=>u(m=>({...m,notificar_novos_agendamentos:v}))})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(G,{htmlFor:"cancelamentos",children:"Cancelamentos"}),a.jsx(qt,{id:"cancelamentos",checked:d.notificar_cancelamentos,onCheckedChange:v=>u(m=>({...m,notificar_cancelamentos:v}))})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(G,{htmlFor:"reagendamentos",children:"Reagendamentos"}),a.jsx(qt,{id:"reagendamentos",checked:d.notificar_reagendamentos,onCheckedChange:v=>u(m=>({...m,notificar_reagendamentos:v}))})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(G,{htmlFor:"pagamentos",children:"Pagamentos"}),a.jsx(qt,{id:"pagamentos",checked:d.notificar_pagamentos,onCheckedChange:v=>u(m=>({...m,notificar_pagamentos:v}))})]})]})})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"h-5 w-5"}),"Lembretes e Alertas"]})}),a.jsxs(B,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-base font-medium",children:"Lembrete de Agendamentos"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{className:"text-sm",children:["Antecedncia: ",d.lembrete_agendamento_minutos," minutos"]}),a.jsx(yf,{value:[d.lembrete_agendamento_minutos],onValueChange:([v])=>u(m=>({...m,lembrete_agendamento_minutos:v})),max:480,min:5,step:5,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"5 min"}),a.jsx("span",{children:"8 horas"})]})]})]}),a.jsx(Ha,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-base font-medium",children:"Lembrete de Vencimentos"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{className:"text-sm",children:["Antecedncia: ",d.lembrete_vencimento_dias," dias"]}),a.jsx(yf,{value:[d.lembrete_vencimento_dias],onValueChange:([v])=>u(m=>({...m,lembrete_vencimento_dias:v})),max:30,min:1,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"1 dia"}),a.jsx("span",{children:"30 dias"})]})]})]}),a.jsx(Ha,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-base font-medium",children:"Lembrete de Contas Fixas"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{className:"text-sm",children:["Antecedncia: ",d.lembrete_contas_fixas_dias," dias"]}),a.jsx(yf,{value:[d.lembrete_contas_fixas_dias],onValueChange:([v])=>u(m=>({...m,lembrete_contas_fixas_dias:v})),max:30,min:1,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"1 dia"}),a.jsx("span",{children:"30 dias"})]})]})]})]})]}),s&&a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Teste de Notificaes"})}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs(z,{variant:"outline",onClick:c,className:"w-full",disabled:l,children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Enviar Notificao de Teste"]}),a.jsxs(z,{variant:"outline",onClick:p,className:"w-full",disabled:!d.notificacoes_som,children:[a.jsx(ig,{className:"h-4 w-4 mr-2"}),"Testar Som da Notificao"]})]})]}),a.jsx(L,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/20",children:a.jsxs(B,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:" Sobre as Notificaes"}),a.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsx("li",{children:" Notificaes push funcionam apenas em HTTPS ou localhost"}),a.jsx("li",{children:" Configure horrios para evitar notificaes em perodos de descanso"}),a.jsx("li",{children:" Lembretes ajudam a no esquecer de agendamentos e vencimentos importantes"}),a.jsx("li",{children:" Todas as configuraes so salvas automaticamente"})]})]})})]})}const p_e=[{value:"json",label:"JSON",icon:L3,description:"Formato legvel e universal"},{value:"csv",label:"CSV",icon:ka,description:"Para Excel e planilhas"},{value:"sql",label:"SQL",icon:Sf,description:"Script de restaurao"}];function g_e(){const{configuracaoBackup:e,loading:t,salvarBackup:r}=Gd(),{user:n}=It(),[s,o]=x.useState(!1),[i,c]=x.useState(!1),[l,d]=x.useState("json"),[u,f]=x.useState({incluir_clientes:!0,incluir_agendamentos:!0,incluir_servicos:!0,incluir_financeiro:!0,incluir_cronogramas:!0,backup_automatico:!1,frequencia_backup:"semanal",dia_backup:1,hora_backup:"02:00",email_backup:""});x.useEffect(()=>{e&&f({incluir_clientes:e.incluir_clientes,incluir_agendamentos:e.incluir_agendamentos,incluir_servicos:e.incluir_servicos,incluir_financeiro:e.incluir_financeiro,incluir_cronogramas:e.incluir_cronogramas,backup_automatico:e.backup_automatico,frequencia_backup:e.frequencia_backup,dia_backup:e.dia_backup||1,hora_backup:e.hora_backup,email_backup:e.email_backup||""})},[e]);const h=async()=>{if(!n?.id)throw new Error("Usurio no autenticado");const y={exportadoEm:new Date().toISOString(),usuario:n.email,userId:n.id,versao:"1.0",dados:{},estatisticas:{}};if(u.incluir_clientes){const{data:w}=await W.from("clientes").select("*").eq("user_id",n.id);y.dados.clientes=w||[],y.estatisticas.totalClientes=w?.length||0}if(u.incluir_servicos){const{data:w}=await W.from("servicos").select("*").eq("user_id",n.id);y.dados.servicos=w||[],y.estatisticas.totalServicos=w?.length||0}if(u.incluir_agendamentos){const{data:w}=await W.from("agendamentos").select("*").eq("user_id",n.id);y.dados.agendamentos=w||[],y.estatisticas.totalAgendamentos=w?.length||0}if(u.incluir_cronogramas){const{data:w}=await W.from("cronogramas_novos").select("*").eq("user_id",n.id);y.dados.cronogramas=w||[];const{data:j}=await W.from("retornos_novos").select("*").eq("user_id",n.id);y.dados.retornos=j||[]}if(u.incluir_financeiro){const{data:w}=await W.from("lancamentos").select("*").eq("user_id",n.id);y.dados.lancamentos=w||[];const{data:j}=await W.from("contas_fixas").select("*").eq("user_id",n.id);y.dados.contas_fixas=j||[]}const{data:b}=await W.from("configuracoes_horarios").select("*").eq("user_id",n.id);return y.dados.configuracoes_horarios=b||[],y},p=y=>{let b="";return Object.entries(y.dados).forEach(([w,j])=>{if(!Array.isArray(j)||j.length===0)return;b+=`

=== ${w.toUpperCase()} ===
`;const N=Object.keys(j[0]);b+=N.join(",")+`
`,j.forEach(S=>{const _=N.map(C=>{const E=S[C];return E==null?"":typeof E=="string"&&E.includes(",")?`"${E.replace(/"/g,'""')}"`:typeof E=="object"?JSON.stringify(E):E});b+=_.join(",")+`
`})}),b},v=y=>{let b=`-- Backup exportado em: ${new Date().toISOString()}
`;return b+=`-- Usurio: ${y.usuario}

`,b+=`-- IMPORTANTE: Este backup foi criado para restaurao de dados
`,b+=`-- Execute este script em um banco de dados limpo ou revise antes de executar

`,[{nome:"clientes",campos:["id","user_id","nome","telefone","email","endereco","data_nascimento","observacoes","historico_servicos"]},{nome:"servicos",campos:["id","user_id","nome","descricao","valor","duracao","observacoes"]},{nome:"agendamentos",campos:["id","user_id","cliente_id","servico_id","data","hora","duracao","valor","status","observacoes"]},{nome:"lancamentos",campos:["id","user_id","tipo","descricao","valor","data","categoria"]},{nome:"contas_fixas",campos:["id","user_id","nome","valor","categoria","frequencia","data_vencimento"]},{nome:"cronogramas_novos",campos:["id_cronograma","user_id","cliente_id","servico_id","tipo_servico","recorrencia","data_inicio"]}].forEach(({nome:j,campos:N})=>{const S=y.dados[j];!S||!Array.isArray(S)||S.length===0||(b+=`
-- Tabela: ${j}
`,b+=`-- Total de registros: ${S.length}

`,S.forEach(_=>{const C=N.map(E=>{const $=_[E];return $==null?"NULL":typeof $=="string"?`'${$.replace(/'/g,"''")}'`:typeof $=="boolean"?$?"TRUE":"FALSE":typeof $=="object"?`'${JSON.stringify($).replace(/'/g,"''")}'`:$});b+=`INSERT INTO ${j} (${N.join(", ")}) VALUES (${C.join(", ")});
`}))}),b},m=async()=>{if(!n?.id){V.error("Usurio no autenticado");return}o(!0);try{console.log(" Iniciando backup dos dados...");const y=await h();console.log(" Dados coletados:",y.estatisticas);let b,w,j;switch(l){case"csv":b=p(y),w=`backup_${new Date().toISOString().split("T")[0]}.csv`,j="text/csv";break;case"sql":b=v(y),w=`backup_${new Date().toISOString().split("T")[0]}.sql`,j="text/plain";break;case"json":default:b=JSON.stringify(y,null,2),w=`backup_${new Date().toISOString().split("T")[0]}.json`,j="application/json"}const N=new Blob([b],{type:j}),S=URL.createObjectURL(N),_=document.createElement("a");_.href=S,_.download=w,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(S),await r({...u,backup_automatico:e?.backup_automatico||!1,frequencia_backup:e?.frequencia_backup||"semanal",dia_backup:e?.dia_backup||1,hora_backup:e?.hora_backup||"02:00",email_backup:e?.email_backup||"",ultimo_backup:new Date().toISOString()});const C=Object.values(y.estatisticas).reduce((E,$)=>E+(typeof $=="number"?$:0),0);V.success(`Backup ${l.toUpperCase()} criado com sucesso! ${C} registros exportados.`)}catch(y){console.error(" Erro ao exportar dados:",y),V.error("Erro ao criar backup. Verifique o console.")}finally{o(!1)}},g=async y=>{const b=y.target.files?.[0];if(!(!b||!n?.id)){c(!0);try{console.log(" Iniciando importao de:",b.name);const w=await b.text();let j;if(b.name.endsWith(".json"))j=JSON.parse(w);else if(b.name.endsWith(".csv")){V.error("Importao de CSV em desenvolvimento"),c(!1);return}else if(b.name.endsWith(".sql")){V.error("Importao de SQL em desenvolvimento"),c(!1);return}else{V.error("Formato de arquivo no suportado"),c(!1);return}if(!j.dados||!j.userId){V.error("Arquivo de backup invlido"),c(!1);return}const N=Object.values(j.dados).reduce((C,E)=>C+(Array.isArray(E)?E.length:0),0);if(!confirm(`Deseja importar ${N} registros? Isso ir adicionar dados ao sistema.`)){c(!1);return}let S=0,_=0;if(j.dados.clientes?.length>0)for(const C of j.dados.clientes)try{const{error:E}=await W.from("clientes").upsert({...C,user_id:n.id},{onConflict:"id"});if(E)throw E;S++}catch(E){console.error("Erro ao importar cliente:",E),_++}if(j.dados.servicos?.length>0)for(const C of j.dados.servicos)try{const{error:E}=await W.from("servicos").upsert({...C,user_id:n.id},{onConflict:"id"});if(E)throw E;S++}catch(E){console.error("Erro ao importar servio:",E),_++}if(j.dados.agendamentos?.length>0)for(const C of j.dados.agendamentos)try{const{error:E}=await W.from("agendamentos").upsert({...C,user_id:n.id},{onConflict:"id"});if(E)throw E;S++}catch(E){console.error("Erro ao importar agendamento:",E),_++}V.success(`Importao concluda! ${S} registros importados${_>0?`, ${_} erros`:""}.`)}catch(w){console.error(" Erro na importao:",w),V.error("Erro ao importar dados. Verifique o arquivo.")}finally{c(!1),y.target.value=""}}};return t?a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Carregando configuraes..."})})}):a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs(L,{children:[a.jsxs(Y,{className:"p-responsive",children:[a.jsxs(Z,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(_n,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Exportar Dados"]}),a.jsx(Oe,{className:"text-responsive-sm",children:"Faa backup de todos os seus dados em diferentes formatos"})]}),a.jsxs(B,{className:"space-y-4 p-responsive",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-base font-medium",children:"Formato de Exportao:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3",children:p_e.map(y=>{const b=y.icon;return a.jsxs("button",{onClick:()=>d(y.value),className:`p-3 sm:p-4 border-2 rounded-lg text-left transition-all touch-manipulation ${l===y.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[a.jsx(b,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),a.jsx("span",{className:"font-semibold text-responsive-sm",children:y.label})]}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:y.description})]},y.value)})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-base font-medium",children:"Dados para incluir:"}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:[{key:"incluir_clientes",label:"Clientes",icon:""},{key:"incluir_servicos",label:"Servios",icon:""},{key:"incluir_agendamentos",label:"Agendamentos",icon:""},{key:"incluir_cronogramas",label:"Cronogramas",icon:""},{key:"incluir_financeiro",label:"Financeiro",icon:""}].map(y=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 sm:p-3 border rounded-lg touch-manipulation",children:[a.jsx(qt,{id:y.key,checked:u[y.key],onCheckedChange:b=>f(w=>({...w,[y.key]:b}))}),a.jsxs(G,{htmlFor:y.key,className:"text-responsive-xs cursor-pointer flex-1 select-none",children:[y.icon," ",y.label]})]},y.key))})]}),a.jsxs(z,{onClick:()=>r(u),variant:"outline",className:"w-full btn-touch",children:[a.jsx(Vo,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-responsive-sm",children:"Salvar Preferncias de Backup"})]}),a.jsx(z,{onClick:m,disabled:s,className:"w-full btn-touch",size:"lg",children:s?a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"h-4 w-4 mr-2 animate-pulse"}),a.jsx("span",{className:"text-responsive-sm",children:"Preparando backup..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"text-responsive-sm",children:["Exportar em ",l.toUpperCase()]})]})})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"p-responsive",children:[a.jsxs(Z,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(_v,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Importar Dados"]}),a.jsx(Oe,{className:"text-responsive-sm",children:"Restaure seus dados a partir de um arquivo de backup"})]}),a.jsxs(B,{className:"space-y-4 p-responsive",children:[a.jsxs(Jr,{children:[a.jsx(cr,{className:"h-4 w-4 flex-shrink-0"}),a.jsx(Qr,{className:"text-responsive-xs",children:"A importao ir adicionar os dados do backup ao sistema. Dados duplicados sero atualizados. Atualmente suportamos apenas importao de arquivos JSON."})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 sm:p-8 text-center touch-manipulation",children:[a.jsx("input",{type:"file",id:"file-upload",accept:".json,.csv,.sql",onChange:g,disabled:i,className:"hidden"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(_v,{className:"h-10 w-10 sm:h-12 sm:w-12 text-primary animate-pulse"}),a.jsx("p",{className:"font-medium text-responsive-base",children:"Importando dados..."}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Aguarde, isso pode levar alguns instantes"})]}):a.jsxs(a.Fragment,{children:[a.jsx(F3,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground"}),a.jsx("p",{className:"font-medium text-responsive-base",children:"Clique para selecionar arquivo"}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Suporta: JSON, CSV, SQL (mx. 10MB)"})]})})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"p-responsive",children:[a.jsxs(Z,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(Sf,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Backup Automtico Programado"]}),a.jsx(Oe,{className:"text-responsive-sm",children:"Configure backups automticos peridicos dos seus dados"})]}),a.jsxs(B,{className:"space-y-4 p-responsive",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(G,{className:"text-responsive-base font-medium",children:"Ativar Backup Automtico"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground mt-1",children:"Quando ativado, voc ser notificado para fazer backup"})]}),a.jsx(qt,{checked:u.backup_automatico||!1,onCheckedChange:y=>{const b={...u,backup_automatico:y};f(b),r(b)},className:"flex-shrink-0"})]}),u.backup_automatico&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-sm",children:"Frequncia do Backup:"}),a.jsxs(Fe,{value:e?.frequencia_backup||"semanal",onValueChange:y=>{const b={...u,frequencia_backup:y};f(b),r(b)},children:[a.jsx(Re,{className:"select-responsive",children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"diario",children:"Diariamente"}),a.jsx(te,{value:"semanal",children:"Semanalmente"}),a.jsx(te,{value:"mensal",children:"Mensalmente"})]})]})]}),e?.frequencia_backup==="semanal"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-sm",children:"Dia da Semana:"}),a.jsxs(Fe,{value:e?.dia_backup?.toString()||"0",onValueChange:y=>{const b={...u,dia_backup:parseInt(y)};f(b),r(b)},children:[a.jsx(Re,{className:"select-responsive",children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"0",children:"Domingo"}),a.jsx(te,{value:"1",children:"Segunda-feira"}),a.jsx(te,{value:"2",children:"Tera-feira"}),a.jsx(te,{value:"3",children:"Quarta-feira"}),a.jsx(te,{value:"4",children:"Quinta-feira"}),a.jsx(te,{value:"5",children:"Sexta-feira"}),a.jsx(te,{value:"6",children:"Sbado"})]})]})]}),e?.frequencia_backup==="mensal"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-sm",children:"Dia do Ms:"}),a.jsx(se,{type:"number",min:"1",max:"28",value:e?.dia_backup||1,onChange:y=>{const b={...u,dia_backup:parseInt(y.target.value)};f(b)},onBlur:()=>r(u),className:"input-responsive"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Escolha entre 1 e 28 (evita problemas com meses diferentes)"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-sm",children:"Horrio do Backup:"}),a.jsx(se,{type:"time",value:e?.hora_backup||"02:00",onChange:y=>{const b={...u,hora_backup:y.target.value};f(b)},onBlur:()=>r(u),className:"input-responsive"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-responsive-sm",children:"Email para Notificao (opcional):"}),a.jsx(se,{type:"email",placeholder:"seu@email.com",value:u.email_backup||"",onChange:y=>{const b={...u,email_backup:y.target.value};f(b),r(b)},className:"input-responsive"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Receba lembretes por email quando for hora de fazer backup"})]}),e?.ultimo_backup&&a.jsxs(Jr,{children:[a.jsx(zl,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs(Qr,{className:"text-responsive-xs",children:["ltimo backup realizado em: ",new Date(e.ultimo_backup).toLocaleString("pt-BR")]})]})]})]})]}),a.jsxs(L,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/20",children:[a.jsx(Y,{className:"p-responsive",children:a.jsxs(Z,{className:"flex items-center gap-2 text-blue-900 dark:text-blue-100 text-responsive-lg",children:[a.jsx(zl,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Informaes Importantes"]})}),a.jsxs(B,{className:"space-y-2 p-responsive",children:[a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Segurana:"})," Os backups so gerados localmente no seu dispositivo"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Privacidade:"})," Nenhum dado  enviado para servidores externos"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Formatos:"})," JSON  recomendado para backup completo, CSV para anlise em planilhas"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Frequncia:"})," Recomendamos fazer backups semanalmente"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Ateno:"})," Guarde seus backups em local seguro"]})]})]})]})}const tf={ativo:!0,nome_salao:"Meu Salo",descricao:"Bem-vindo ao nosso salo! Agende seu horrio de forma rpida e fcil.",telefone:"",email:"",endereco:"",instagram:"",facebook:"",whatsapp:"",logo_url:"",taxa_sinal_percentual:30,tempo_minimo_antecedencia:60,tempo_maximo_antecedencia:4320,mensagem_boas_vindas:"Ol! Estamos felizes em atend-lo(a). Preencha os dados abaixo para agendar seu horrio.",termos_condicoes:"Ao agendar, voc concorda em chegar no horrio marcado. Em caso de atraso superior a 15 minutos, o agendamento poder ser cancelado.",mensagem_confirmacao:"Agendamento confirmado! Em breve voc receber uma confirmao no WhatsApp."};function v_e(){const[e,t]=x.useState(tf),[r,n]=x.useState(!0),[s,o]=x.useState(!1);x.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{user:d}}=await W.auth.getUser();if(!d){n(!1);return}const{data:u,error:f}=await W.from("configuracoes_agendamento_online").select("*").eq("user_id",d.id).maybeSingle();f&&f.code!=="PGRST116"&&console.error("Erro ao carregar config:",f),u&&t(u)}catch(d){console.error("Erro ao carregar configurao:",d)}finally{n(!1)}};return{config:e,loading:r,saving:s,setConfig:t,salvarConfig:async d=>{try{o(!0);const{data:{user:u}}=await W.auth.getUser();if(!u)throw new Error("Usurio no autenticado");const f={...d,user_id:u.id,updated_at:new Date().toISOString()},{error:h}=await W.from("configuracoes_agendamento_online").upsert(f,{onConflict:"user_id"});if(h)throw h;return t(d),V.success("Configuraes salvas com sucesso!"),!0}catch(u){return console.error("Erro ao salvar configurao:",u),V.error("Erro ao salvar configuraes"),!1}finally{o(!1)}},carregarConfig:i,carregarConfigPublica:async()=>{try{const{data:d,error:u}=await W.from("configuracoes_agendamento_online").select("*").eq("ativo",!0).maybeSingle();return u?(console.error("Erro ao carregar config pblica:",u),tf):d||tf}catch(d){return console.error("Erro ao carregar configurao pblica:",d),tf}}}}function x_e(){const{config:e,loading:t,saving:r,setConfig:n,salvarConfig:s}=v_e(),[o,i]=x.useState(!1),[c,l]=x.useState(null),d=(p,v)=>{n(m=>({...m,[p]:v}))},u=async()=>{await s(e)},f=async p=>{try{const v=p.target.files?.[0];if(!v)return;if(!v.type.startsWith("image/")){V.error("Por favor, selecione apenas arquivos de imagem");return}if(v.size>2*1024*1024){V.error("A imagem deve ter no mximo 2MB");return}i(!0);const{data:{user:m}}=await W.auth.getUser();if(!m)throw new Error("Usurio no autenticado");if(e.logo_url&&e.logo_url.includes("salon-logos")){const N=e.logo_url.split("/salon-logos/")[1];N&&await W.storage.from("salon-logos").remove([N])}const g=v.name.split(".").pop(),y=`${m.id}/logo-${Date.now()}.${g}`,{error:b,data:w}=await W.storage.from("salon-logos").upload(y,v,{cacheControl:"3600",upsert:!0});if(b)throw b;const{data:{publicUrl:j}}=W.storage.from("salon-logos").getPublicUrl(y);d("logo_url",j),l(j),V.success("Logo atualizada com sucesso!")}catch(v){console.error("Erro ao fazer upload:",v),V.error("Erro ao fazer upload da imagem")}finally{i(!1)}},h=async()=>{try{if(e.logo_url&&e.logo_url.includes("salon-logos")){const p=e.logo_url.split("/salon-logos/")[1];p&&await W.storage.from("salon-logos").remove([p])}d("logo_url",""),l(null),V.success("Logo removida")}catch(p){console.error("Erro ao remover logo:",p),V.error("Erro ao remover logo")}};return t?a.jsx(L,{children:a.jsx(B,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(cw,{className:"h-5 w-5"}),"Status do Agendamento Online"]}),a.jsx(Oe,{children:"Ative ou desative o formulrio de agendamento online pblico"})]}),a.jsx(B,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"ativo",children:"Agendamento Online Ativo"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando ativo, clientes podem agendar atravs do link pblico"})]}),a.jsx(qt,{id:"ativo",checked:e.ativo,onCheckedChange:p=>d("ativo",p)})]})})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(cw,{className:"h-5 w-5"}),"Informaes do Salo"]}),a.jsx(Oe,{children:"Dados que aparecero no formulrio de agendamento online"})]}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome_salao",children:"Nome do Salo *"}),a.jsx(se,{id:"nome_salao",value:e.nome_salao,onChange:p=>d("nome_salao",p.target.value),placeholder:"Ex: Salo Beleza Pura"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"descricao",children:"Descrio"}),a.jsx(pr,{id:"descricao",value:e.descricao,onChange:p=>d("descricao",p.target.value),placeholder:"Breve descrio sobre seu salo",rows:3})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(G,{className:"flex items-center gap-2",children:[a.jsx(B3,{className:"h-4 w-4"}),"Logo/Foto do Salo"]}),(e.logo_url||c)&&a.jsxs("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border-2 border-border",children:[a.jsx("img",{src:c||e.logo_url,alt:"Logo do salo",className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:h,className:"absolute top-1 right-1 p-1 bg-destructive text-destructive-foreground rounded-full hover:bg-destructive/90 transition-colors",children:a.jsx(Vt,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{type:"button",variant:"outline",disabled:o,onClick:()=>document.getElementById("logo-upload")?.click(),className:"flex items-center gap-2",children:[a.jsx(_v,{className:"h-4 w-4"}),o?"Enviando...":"Fazer Upload"]}),a.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:f,className:"hidden"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos aceitos: JPG, PNG, WEBP (mx. 2MB)"}),a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsx(G,{htmlFor:"logo_url",className:"text-xs text-muted-foreground",children:"Ou cole uma URL externa:"}),a.jsx(se,{id:"logo_url",value:e.logo_url,onChange:p=>d("logo_url",p.target.value),placeholder:"https://exemplo.com/logo.png",className:"text-sm"})]})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"h-5 w-5"}),"Informaes de Contato"]}),a.jsx(Oe,{children:"Dados de contato exibidos no rodap do formulrio"})]}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"telefone",className:"flex items-center gap-2",children:[a.jsx(ns,{className:"h-4 w-4"}),"Telefone"]}),a.jsx(se,{id:"telefone",value:e.telefone,onChange:p=>d("telefone",p.target.value),placeholder:"(00) 00000-0000"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"email",className:"flex items-center gap-2",children:[a.jsx(hm,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(se,{id:"email",type:"email",value:e.email,onChange:p=>d("email",p.target.value),placeholder:"contato@seusalao.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"endereco",className:"flex items-center gap-2",children:[a.jsx(G3,{className:"h-4 w-4"}),"Endereo"]}),a.jsx(se,{id:"endereco",value:e.endereco,onChange:p=>d("endereco",p.target.value),placeholder:"Rua Exemplo, 123 - Centro"})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsx(Z,{children:"Redes Sociais"}),a.jsx(Oe,{children:"Links para suas redes sociais (aparecero no rodap)"})]}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"instagram",className:"flex items-center gap-2",children:[a.jsx(U3,{className:"h-4 w-4"}),"Instagram"]}),a.jsx(se,{id:"instagram",value:e.instagram,onChange:p=>d("instagram",p.target.value),placeholder:"@seusalao"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"facebook",className:"flex items-center gap-2",children:[a.jsx(I3,{className:"h-4 w-4"}),"Facebook"]}),a.jsx(se,{id:"facebook",value:e.facebook,onChange:p=>d("facebook",p.target.value),placeholder:"facebook.com/seusalao"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"whatsapp",className:"flex items-center gap-2",children:[a.jsx(Co,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(se,{id:"whatsapp",value:e.whatsapp,onChange:p=>d("whatsapp",p.target.value),placeholder:"5500000000000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apenas nmeros (com cdigo do pas e DDD)"})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-5 w-5"}),"Regras de Agendamento"]}),a.jsx(Oe,{children:"Configure as regras para agendamentos online"})]}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"taxa_sinal",className:"flex items-center gap-2",children:[a.jsx(dt,{className:"h-4 w-4"}),"Taxa de Sinal (%)"]}),a.jsx(se,{id:"taxa_sinal",type:"number",min:"0",max:"100",value:e.taxa_sinal_percentual,onChange:p=>d("taxa_sinal_percentual",Number(p.target.value))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentual cobrado como adiantamento (0 para no cobrar)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"tempo_min",children:"Antecedncia Mnima (minutos)"}),a.jsx(se,{id:"tempo_min",type:"number",min:"0",value:e.tempo_minimo_antecedencia,onChange:p=>d("tempo_minimo_antecedencia",Number(p.target.value))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo mnimo para agendar antes do horrio (ex: 60 minutos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"tempo_max",children:"Antecedncia Mxima (dias)"}),a.jsx(se,{id:"tempo_max",type:"number",min:"1",value:Math.floor(e.tempo_maximo_antecedencia/1440),onChange:p=>d("tempo_maximo_antecedencia",Number(p.target.value)*1440)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantos dias no futuro o cliente pode agendar (ex: 30 dias)"})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(ka,{className:"h-5 w-5"}),"Mensagens Personalizadas"]}),a.jsx(Oe,{children:"Personalize as mensagens exibidas no formulrio"})]}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"msg_boas_vindas",children:"Mensagem de Boas-Vindas"}),a.jsx(pr,{id:"msg_boas_vindas",value:e.mensagem_boas_vindas,onChange:p=>d("mensagem_boas_vindas",p.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"termos",children:"Termos e Condies"}),a.jsx(pr,{id:"termos",value:e.termos_condicoes,onChange:p=>d("termos_condicoes",p.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"msg_confirmacao",children:"Mensagem de Confirmao"}),a.jsx(pr,{id:"msg_confirmacao",value:e.mensagem_confirmacao,onChange:p=>d("mensagem_confirmacao",p.target.value),rows:2})]})]})]}),a.jsx("div",{className:"flex justify-end gap-4",children:a.jsx(z,{onClick:u,disabled:r,size:"lg",children:r?"Salvando...":"Salvar Configuraes"})}),e.ativo&&a.jsx(L,{className:"border-primary/50 bg-primary/5",children:a.jsxs(B,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Link de Agendamento Online"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Compartilhe este link com seus clientes para que eles possam agendar online:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{readOnly:!0,value:`${window.location.origin}/agendamento-online`,className:"bg-background"}),a.jsx(z,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/agendamento-online`),V.success("Link copiado!")},children:"Copiar"})]})]})})]})}function y_e(){const[e,t]=x.useState("horarios");return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(Ti,{className:"h-8 w-8"}),a.jsx("span",{children:"Configuraes"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure os horrios de atendimento, agendamento online, notificaes e backup do sistema"})]}),a.jsxs(da,{value:e,onValueChange:t,className:"w-full",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-4",children:[a.jsxs(He,{value:"horarios",className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-4 w-4"}),"Horrios"]}),a.jsxs(He,{value:"agendamento-online",className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Agend. Online"]}),a.jsxs(He,{value:"notificacoes",className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-4 w-4"}),"Notificaes"]}),a.jsxs(He,{value:"backup",className:"flex items-center gap-2",children:[a.jsx(_n,{className:"h-4 w-4"}),"Backup"]})]}),a.jsxs(Ge,{value:"horarios",className:"space-y-6",children:[a.jsx(L,{children:a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-5 w-5"}),a.jsx("span",{children:"Horrios e Dias de Trabalho"})]}),a.jsx(Oe,{children:"Configure os dias da semana e horrios em que voc atender clientes. Estas configuraes sero respeitadas nos formulrios de agendamento."})]})}),a.jsx(YNe,{}),a.jsx(L,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/20",children:a.jsxs(B,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:" Integrao com Agendamentos"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Os horrios configurados aqui sero automaticamente aplicados aos formulrios de agendamento interno e externo, bloqueando horrios indisponveis."})]})})]}),a.jsxs(Ge,{value:"agendamento-online",className:"space-y-6",children:[a.jsx(L,{children:a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5"}),a.jsx("span",{children:"Configuraes do Agendamento Online"})]}),a.jsx(Oe,{children:"Configure o formulrio pblico de agendamento, informaes do salo, redes sociais e regras de agendamento."})]})}),a.jsx(x_e,{})]}),a.jsx(Ge,{value:"notificacoes",className:"space-y-6",children:a.jsx(m_e,{})}),a.jsx(Ge,{value:"backup",className:"space-y-6",children:a.jsx(g_e,{})})]})]})}const b_e=A.lazy(()=>mc(()=>import("./AgendamentoOnlineForm-C4w8sPL7.js"),__vite__mapDeps([0,1])).then(e=>({default:e.AgendamentoOnlineForm})));function rv(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 p-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx(x.Suspense,{fallback:a.jsxs(L,{children:[a.jsxs(Y,{className:"text-center",children:[a.jsx(Z,{className:"text-3xl mb-2",children:"Carregando..."}),a.jsx(Oe,{children:"Preparando o formulrio de agendamento"})]}),a.jsx(B,{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}),children:a.jsx(b_e,{})})})})}function j_e(){const{agendamentosFiltrados:e,clientes:t}=ds(),{todosServicos:r}=Kd(),{lancamentos:n}=Om(),{cronogramas:s}=J0(),{retornos:o}=zp(),{user:i}=It(),[c,l]=x.useState(!1),[d,u]=x.useState([]),[f,h]=x.useState(null),[p,v]=x.useState(!1),[m]=x.useState(!0);x.useEffect(()=>{(async()=>{if(!(!i||!m))try{v(!0),console.log("Calling backend audit function...");const{data:{session:N}}=await W.auth.getSession();if(!N){console.error("No active session found"),V.error("Sesso expirada. Faa login novamente.");return}console.log("Session valid, calling audit function");const{data:S,error:_}=await W.functions.invoke("auditoria-sistema",{method:"POST"});if(_){console.error("Backend audit error:",_),V.error("Erro ao executar auditoria no servidor");return}console.log("Backend audit completed:",S),h(S)}catch(N){console.error("Error invoking backend audit:",N),V.error("Erro ao conectar com servidor de auditoria")}finally{v(!1)}})()},[i,m]);const g=x.useMemo(()=>{const j=[];let N=1;const S=q=>{j.push({...q,id:(N++).toString()})};t.forEach(q=>{(!q.nomeCompleto||q.nomeCompleto.trim()==="")&&S({categoria:"critico",tipo:"dados_incompletos",descricao:"Cliente sem nome",entidade:"cliente",entidadeId:q.id,campo:"nome",valorAtual:q.nomeCompleto,valorEsperado:"Nome vlido",sugestao:"Adicionar nome ao cliente"}),(!q.telefone||q.telefone.trim()==="")&&S({categoria:"critico",tipo:"dados_incompletos",descricao:"Cliente sem telefone",entidade:"cliente",entidadeId:q.id,campo:"telefone",valorAtual:q.telefone,valorEsperado:"Telefone vlido",sugestao:"Adicionar telefone ao cliente"})}),r.forEach(q=>{(!q.nome||q.nome.trim()==="")&&S({categoria:"critico",tipo:"dados_incompletos",descricao:"Servio sem nome",entidade:"servico",entidadeId:q.id,campo:"nome",valorAtual:q.nome,valorEsperado:"Nome vlido",sugestao:"Adicionar nome ao servio"}),q.valor<=0&&S({categoria:"critico",tipo:"dados_inconsistentes",descricao:"Servio com valor invlido",entidade:"servico",entidadeId:q.id,campo:"valor",valorAtual:q.valor,valorEsperado:"Valor > 0",sugestao:"Definir valor vlido para o servio"}),q.duracao<=0&&S({categoria:"critico",tipo:"dados_inconsistentes",descricao:"Servio com durao invlida",entidade:"servico",entidadeId:q.id,campo:"duracao",valorAtual:q.duracao,valorEsperado:"Durao > 0",sugestao:"Definir durao vlida para o servio"})}),e.forEach(q=>{q.clienteId||S({categoria:"critico",tipo:"dados_incompletos",descricao:"Agendamento sem cliente",entidade:"agendamento",entidadeId:q.id,campo:"clienteId",valorAtual:q.clienteId,valorEsperado:"ID de cliente vlido",sugestao:"Associar cliente ao agendamento"}),q.servicoId||S({categoria:"critico",tipo:"dados_incompletos",descricao:"Agendamento sem servio",entidade:"agendamento",entidadeId:q.id,campo:"servicoId",valorAtual:q.servicoId,valorEsperado:"ID de servio vlido",sugestao:"Associar servio ao agendamento"}),q.data||S({categoria:"critico",tipo:"dados_incompletos",descricao:"Agendamento sem data",entidade:"agendamento",entidadeId:q.id,campo:"data",valorAtual:q.data,valorEsperado:"Data vlida",sugestao:"Definir data para o agendamento"}),q.hora||S({categoria:"critico",tipo:"dados_incompletos",descricao:"Agendamento sem horrio",entidade:"agendamento",entidadeId:q.id,campo:"hora",valorAtual:q.hora,valorEsperado:"Horrio vlido",sugestao:"Definir horrio para o agendamento"});const ie=t.find(oe=>oe.id===q.clienteId);q.clienteId&&!ie&&S({categoria:"alto",tipo:"referencia_invalida",descricao:"Agendamento com cliente inexistente",entidade:"agendamento",entidadeId:q.id,campo:"clienteId",valorAtual:q.clienteId,valorEsperado:"Cliente existente",sugestao:"Verificar se cliente foi deletado ou corrigir referncia"});const we=r.find(oe=>oe.id===q.servicoId);q.servicoId&&!we&&S({categoria:"alto",tipo:"referencia_invalida",descricao:"Agendamento com servio inexistente",entidade:"agendamento",entidadeId:q.id,campo:"servicoId",valorAtual:q.servicoId,valorEsperado:"Servio existente",sugestao:"Verificar se servio foi deletado ou corrigir referncia"}),q.valorPago>q.valor&&S({categoria:"alto",tipo:"dados_inconsistentes",descricao:"Valor pago maior que valor total",entidade:"agendamento",entidadeId:q.id,campo:"valorPago",valorAtual:q.valorPago,valorEsperado:`<= ${q.valor}`,sugestao:"Corrigir valores de pagamento"}),q.valorDevido!==q.valor-q.valorPago&&S({categoria:"medio",tipo:"dados_inconsistentes",descricao:"Valor devido no confere com clculo",entidade:"agendamento",entidadeId:q.id,campo:"valorDevido",valorAtual:q.valorDevido,valorEsperado:q.valor-q.valorPago,sugestao:"Recalcular valor devido"}),q.valorPago===0&&q.statusPagamento!=="em_aberto"&&S({categoria:"medio",tipo:"dados_inconsistentes",descricao:"Status de pagamento inconsistente (valor zerado)",entidade:"agendamento",entidadeId:q.id,campo:"statusPagamento",valorAtual:q.statusPagamento,valorEsperado:"em_aberto",sugestao:"Corrigir status de pagamento"}),q.valorPago===q.valor&&q.statusPagamento!=="pago"&&S({categoria:"medio",tipo:"dados_inconsistentes",descricao:"Status de pagamento inconsistente (valor total pago)",entidade:"agendamento",entidadeId:q.id,campo:"statusPagamento",valorAtual:q.statusPagamento,valorEsperado:"pago",sugestao:"Corrigir status de pagamento"}),q.valorPago>0&&q.valorPago<q.valor&&q.statusPagamento!=="parcial"&&S({categoria:"medio",tipo:"dados_inconsistentes",descricao:"Status de pagamento inconsistente (pagamento parcial)",entidade:"agendamento",entidadeId:q.id,campo:"statusPagamento",valorAtual:q.statusPagamento,valorEsperado:"parcial",sugestao:"Corrigir status de pagamento"})});const _=e.filter(q=>q.status!=="cancelado");for(let q=0;q<_.length;q++)for(let ie=q+1;ie<_.length;ie++){const we=_[q],oe=_[ie];if(we.data===oe.data){const he=new Date(`${we.data}T${we.hora}`),je=new Date(he.getTime()+we.duracao*6e4),X=new Date(`${oe.data}T${oe.hora}`),Ye=new Date(X.getTime()+oe.duracao*6e4);he<Ye&&je>X&&S({categoria:"critico",tipo:"conflito_agendamento",descricao:"Conflito de horrio entre agendamentos",entidade:"agendamento",entidadeId:we.id,campo:"horario",valorAtual:`${we.data} ${we.hora}`,valorEsperado:"Horrio livre",sugestao:`Conflito com agendamento ${oe.id} (${oe.clienteNome} - ${oe.data} ${oe.hora})`})}}n.forEach(q=>{(!q.descricao||q.descricao.trim()==="")&&S({categoria:"medio",tipo:"dados_incompletos",descricao:"Lanamento sem descrio",entidade:"lancamento",entidadeId:q.id,campo:"descricao",valorAtual:q.descricao,valorEsperado:"Descrio vlida",sugestao:"Adicionar descrio ao lanamento"}),(!q.categoria||q.categoria.trim()==="")&&S({categoria:"baixo",tipo:"dados_incompletos",descricao:"Lanamento sem categoria",entidade:"lancamento",entidadeId:q.id,campo:"categoria",valorAtual:q.categoria,valorEsperado:"Categoria vlida",sugestao:"Adicionar categoria ao lanamento"}),q.valor<=0&&S({categoria:"alto",tipo:"dados_inconsistentes",descricao:"Lanamento com valor invlido",entidade:"lancamento",entidadeId:q.id,campo:"valor",valorAtual:q.valor,valorEsperado:"Valor > 0",sugestao:"Corrigir valor do lanamento"})}),e.filter(q=>q.status==="concluido").forEach(q=>{!n.find(we=>we.tipo==="entrada"&&we.valor===q.valorPago&&we.descricao.includes(q.clienteNome))&&q.valorPago>0&&S({categoria:"alto",tipo:"regra_negocio",descricao:"Agendamento concludo sem lanamento financeiro",entidade:"agendamento",entidadeId:q.id,campo:"status",valorAtual:"concluido",valorEsperado:"Lanamento financeiro correspondente",sugestao:"Criar lanamento financeiro para este agendamento"})});const E=o.filter(q=>q.status==="Pendente"),$=new Date;E.forEach(q=>{const ie=new Date(q.data_retorno),we=Math.floor(($.getTime()-ie.getTime())/(1e3*60*60*24));we>7&&S({categoria:"medio",tipo:"retorno_atrasado",descricao:`Retorno pendente h ${we} dias`,entidade:"retorno",entidadeId:q.id_retorno,campo:"data_retorno",valorAtual:q.data_retorno,valorEsperado:"Data atual ou futura",sugestao:"Remarcar retorno ou marcar como realizado/cancelado"})});const k=e.filter(q=>q.status==="agendado"),P=e.filter(q=>q.status==="concluido"),O=e.filter(q=>q.status==="cancelado"),T=n.filter(q=>q.tipo==="entrada").reduce((q,ie)=>q+ie.valor,0),I=n.filter(q=>q.tipo==="saida").reduce((q,ie)=>q+ie.valor,0),R=new Set(e.map(q=>q.servicoId)),D=r.filter(q=>!R.has(q.id)),M=new Set,U=new Date;U.setDate(U.getDate()-30),e.forEach(q=>{new Date(q.data)>=U&&M.add(q.clienteId)});const ne=t.length-M.size,K=[];D.length>0&&K.push(`${D.length} servios nunca foram agendados. Considere promov-los ou remov-los.`),ne>0&&K.push(`${ne} clientes no tm agendamentos recentes. Considere uma campanha de reativao.`);const ae=e.filter(q=>q.statusPagamento==="em_aberto").length;ae>0&&K.push(`${ae} agendamentos com pagamento em aberto. Revisar poltica de cobrana.`);const de=E.filter(q=>new Date(q.data_retorno)<$).length;de>0&&K.push(`${de} retornos em atraso. Entrar em contato com clientes.`);const _e=r.map(q=>{const ie=e.filter(we=>we.servicoId===q.id);if(ie.length>0){const we=ie.reduce((he,je)=>he+je.duracao,0)/ie.length,oe=Math.abs(we-q.duracao);if(oe>15)return{servico:q.nome,duracaoPrograma:q.duracao,duracaoMedia:we,diferenca:oe}}return null}).filter(Boolean);_e.length>0&&K.push(`${_e.length} servios tm durao programada muito diferente da durao real. Revisar tempos.`);const Ke={totalClientes:t.length,totalServicos:r.length,totalAgendamentos:e.length,totalLancamentos:n.length,totalCronogramas:s.length,totalRetornos:o.length,agendamentosAtivos:k.length,agendamentosConcluidos:P.length,agendamentosCancelados:O.length,valorTotalReceitas:T,valorTotalDespesas:I,servicosNuncaUsados:D.length,clientesInativos:ne};return{dataExecucao:new Date().toISOString(),totalProblemas:j.length,problemasCriticos:j.filter(q=>q.categoria==="critico").length,problemasAltos:j.filter(q=>q.categoria==="alto").length,problemasMedios:j.filter(q=>q.categoria==="medio").length,problemasBaixos:j.filter(q=>q.categoria==="baixo").length,problemas:j,estatisticas:Ke,sugestoesMelhorias:K}},[e,t,r,n,s,o]),y=j=>{if(j==="json"){const N=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),S=URL.createObjectURL(N),_=document.createElement("a");_.href=S,_.download=`auditoria-${new Date().toISOString().split("T")[0]}.json`,_.click(),URL.revokeObjectURL(S)}else if(j==="csv"){const N=["ID","Categoria","Tipo","Descrio","Entidade","ID Entidade","Campo","Valor Atual","Valor Esperado","Sugesto"],S=g.problemas.map(k=>[k.id,k.categoria,k.tipo,k.descricao,k.entidade,k.entidadeId,k.campo||"",k.valorAtual||"",k.valorEsperado||"",k.sugestao||""]),_=[N,...S].map(k=>k.map(P=>`"${P}"`).join(",")).join(`
`),C=new Blob([_],{type:"text/csv;charset=utf-8;"}),E=URL.createObjectURL(C),$=document.createElement("a");$.href=E,$.download=`auditoria-${new Date().toISOString().split("T")[0]}.csv`,$.click(),URL.revokeObjectURL(E)}},b=x.useCallback(async()=>{if(!i||c)return null;l(!0);try{const{data:j,error:N}=await W.from("relatorios_auditoria").insert({user_id:i.id,data_execucao:new Date().toISOString(),total_problemas:g.totalProblemas,problemas_criticos:g.problemasCriticos,problemas_altos:g.problemasAltos,problemas_medios:g.problemasMedios,problemas_baixos:g.problemasBaixos,estatisticas:g.estatisticas,sugestoes_melhorias:g.sugestoesMelhorias}).select().single();if(N)throw N;if(g.problemas.length>0){const S=g.problemas.map(C=>({relatorio_id:j.id,user_id:i.id,categoria:C.categoria,tipo:C.tipo,descricao:C.descricao,entidade:C.entidade,entidade_id:C.entidadeId,campo:C.campo||null,valor_atual:C.valorAtual||null,valor_esperado:C.valorEsperado||null,sugestao:C.sugestao||null})),{error:_}=await W.from("problemas_auditoria").insert(S);if(_)throw _}return V.success("Relatrio de auditoria salvo com sucesso!"),await w(),j}catch(j){return console.error("Erro ao salvar relatrio:",j),V.error("Erro ao salvar relatrio de auditoria"),null}finally{l(!1)}},[i,g,c]),w=x.useCallback(async()=>{if(i)try{const{data:j,error:N}=await W.from("relatorios_auditoria").select("*").eq("user_id",i.id).order("data_execucao",{ascending:!1}).limit(10);if(N)throw N;u(j||[])}catch(j){console.error("Erro ao carregar histrico:",j)}},[i]);return{relatorioAuditoria:f||g,exportarRelatorio:y,salvarRelatorio:b,salvando:c,carregarHistorico:w,relatoriosHistorico:d,carregandoBackend:p,useBackendAudit:m}}function w_e(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function d(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function u(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,u]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,N_e(s,...t)]}function N_e(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:d})=>{const f=l(o)[`__scope${d}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var vj="Progress",xj=100,[__e]=w_e(vj),[S_e,C_e]=__e(vj),mR=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=P_e,...i}=e;(s||s===0)&&!DC(s)&&console.error(A_e(`${s}`,"Progress"));const c=DC(s)?s:xj;n!==null&&!RC(n,c)&&console.error(k_e(`${n}`,"Progress"));const l=RC(n,c)?n:null,d=Xh(l)?o(l,c):void 0;return a.jsx(S_e,{scope:r,value:l,max:c,children:a.jsx(ke.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Xh(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":vR(l,c),"data-value":l??void 0,"data-max":c,...i,ref:t})})});mR.displayName=vj;var pR="ProgressIndicator",gR=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=C_e(pR,r);return a.jsx(ke.div,{"data-state":vR(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});gR.displayName=pR;function P_e(e,t){return`${Math.round(e/t*100)}%`}function vR(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Xh(e){return typeof e=="number"}function DC(e){return Xh(e)&&!isNaN(e)&&e>0}function RC(e,t){return Xh(e)&&!isNaN(e)&&e<=t&&e>=0}function A_e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xj}\`.`}function k_e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var xR=mR,E_e=gR;const Ss=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(xR,{ref:n,className:Q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(E_e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ss.displayName=xR.displayName;function O_e({porcentagemSaude:e,totalProblemas:t,problemasCriticos:r,problemasAltos:n,valorTotalReceitas:s,valorTotalDespesas:o,totalAgendamentos:i,agendamentosAtivos:c,agendamentosConcluidos:l}){const d=s-o;return s>0&&(d/s*100).toFixed(1),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(L,{className:Q("border-l-4",e>80?"border-l-green-500":e>60?"border-l-yellow-500":"border-l-red-500"),children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Sade do Sistema"}),e>80?a.jsx(Pn,{className:"h-4 w-4 text-green-500"}):e>60?a.jsx(cr,{className:"h-4 w-4 text-yellow-500"}):a.jsx(rs,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(B,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[e.toFixed(0),"%"]}),a.jsx(Ss,{value:e,className:Q("mt-2 h-2",e>80?"[&>div]:bg-green-500":e>60?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500")}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:e>80?"Sistema saudvel":e>60?"Ateno necessria":"Ao imediata requerida"})]})]}),a.jsxs(L,{className:Q("border-l-4",t===0?"border-l-green-500":r>0?"border-l-red-500":"border-l-yellow-500"),children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Problemas Detectados"}),a.jsx(ka,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[r>0&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",children:[r," crticos"]}),n>0&&a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",children:[n," altos"]})]}),t===0&&a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-2",children:" Nenhum problema encontrado"})]})]}),a.jsxs(L,{className:Q("border-l-4",d>=0?"border-l-green-500":"border-l-red-500"),children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Resultado Financeiro"}),d>=0?a.jsx(Mt,{className:"h-4 w-4 text-green-500"}):a.jsx(Uo,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(B,{children:[a.jsxs("div",{className:Q("text-2xl font-bold",d>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["R$ ",d.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsxs("div",{className:"flex flex-col gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Receitas:"}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["R$ ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Despesas:"}),a.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["R$ ",o.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),a.jsxs(L,{className:"border-l-4 border-l-primary",children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Agendamentos"}),a.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i}),a.jsxs("div",{className:"flex flex-col gap-1 mt-2 text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Ativos:"}),a.jsx("span",{className:"text-primary font-medium",children:c})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Concludos:"}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:l})]})]})]})]})]})}function T_e({retornosAtrasados:e,clientesInativos:t,agendamentosEmAberto:r,problemasCriticos:n}){const s=Ar(),o=[...e>0?[{id:"retornos",titulo:"Resolver Retornos",descricao:`${e} retorno(s) pendente(s) aguardando ao`,icone:a.jsx(at,{className:"h-5 w-5 text-orange-500"}),prioridade:"alta",acao:()=>s("/cronogramas"),badge:`${e} pendentes`}]:[],...n>0?[{id:"criticos",titulo:"Problemas Crticos",descricao:`${n} problema(s) crtico(s) requerem ateno imediata`,icone:a.jsx(cr,{className:"h-5 w-5 text-red-500"}),prioridade:"alta",acao:()=>document.getElementById("tab-problemas")?.click(),badge:`${n} crticos`}]:[],...r>0?[{id:"pagamentos",titulo:"Cobrar Pagamentos",descricao:`${r} agendamento(s) com pagamento pendente`,icone:a.jsx(dt,{className:"h-5 w-5 text-yellow-500"}),prioridade:"media",acao:()=>s("/financeiro"),badge:"R$ pendente"}]:[],...t>0?[{id:"clientes",titulo:"Reativar Clientes",descricao:`${t} cliente(s) sem agendamento h mais de 30 dias`,icone:a.jsx(qr,{className:"h-5 w-5 text-blue-500"}),prioridade:"baixa",acao:()=>s("/clientes"),badge:`${t} inativos`}]:[]];return o.length===0?a.jsx(L,{className:"border-green-200 bg-green-50/50 dark:bg-green-950/20 dark:border-green-900",children:a.jsxs(B,{className:"flex items-center gap-4 py-6",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center",children:a.jsx(Pn,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Nenhuma ao pendente!"}),a.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Todos os dados esto em dia. Continue acompanhando regularmente."})]})]})}):a.jsxs(L,{children:[a.jsxs(Y,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rF,{className:"h-5 w-5 text-primary"}),a.jsx(Z,{className:"text-lg",children:"Aes Rpidas"})]}),a.jsx(Oe,{children:"Tarefas prioritrias que requerem sua ateno"})]}),a.jsx(B,{children:a.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:o.map(i=>a.jsxs("button",{onClick:i.acao,className:"flex items-center gap-4 p-4 rounded-lg border bg-card hover:bg-accent transition-colors text-left group",children:[a.jsx("div",{className:"flex-shrink-0",children:i.icone}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-sm truncate",children:i.titulo}),i.badge&&a.jsx(ce,{variant:i.prioridade==="alta"?"destructive":i.prioridade==="media"?"secondary":"outline",className:"text-xs",children:i.badge})]}),a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:i.descricao})]}),a.jsx(gi,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary transition-colors"})]},i.id))})})]})}const $_e={critico:"destructive",alto:"secondary",medio:"outline",baixo:"default"},M_e={critico:rs,alto:cr,medio:cr,baixo:Pn},D_e={cliente:"/clientes",servico:"/servicos",agendamento:"/agendamentos",lancamento:"/financeiro",retorno:"/cronogramas",cronograma:"/cronogramas"};function R_e({problemas:e}){const t=Ar(),[r,n]=x.useState(""),[s,o]=x.useState([]),[i,c]=x.useState([]);x.useMemo(()=>[...new Set(e.map(v=>v.categoria))],[e]);const l=x.useMemo(()=>[...new Set(e.map(v=>v.entidade))],[e]),d=x.useMemo(()=>e.filter(v=>{const m=r.toLowerCase(),g=r===""||v.descricao.toLowerCase().includes(m)||v.tipo.toLowerCase().includes(m)||v.entidade.toLowerCase().includes(m)||v.sugestao?.toLowerCase().includes(m),y=s.length===0||s.includes(v.categoria),b=i.length===0||i.includes(v.entidade);return g&&y&&b}),[e,r,s,i]),u=x.useMemo(()=>({critico:e.filter(v=>v.categoria==="critico").length,alto:e.filter(v=>v.categoria==="alto").length,medio:e.filter(v=>v.categoria==="medio").length,baixo:e.filter(v=>v.categoria==="baixo").length}),[e]),f=v=>{o(m=>m.includes(v)?m.filter(g=>g!==v):[...m,v])},h=v=>{c(m=>m.includes(v)?m.filter(g=>g!==v):[...m,v])},p=v=>{const m=D_e[v];m&&t(m)};return e.length===0?a.jsx(L,{children:a.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Pn,{className:"h-16 w-16 text-green-500 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-green-900 dark:text-green-100",children:"Sistema 100% Saudvel!"}),a.jsx("p",{className:"text-muted-foreground text-center mt-2 max-w-md",children:"Nenhum problema ou inconsistncia foi detectado. Todos os dados esto corretos e consistentes."})]})}):a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Z,{children:"Problemas Detectados"}),a.jsxs(Oe,{children:[d.length," de ",e.length," problemas"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.critico>0&&a.jsxs(z,{variant:s.includes("critico")?"default":"outline",size:"sm",onClick:()=>f("critico"),className:"gap-1",children:[a.jsx(rs,{className:"h-3 w-3"}),"Crticos (",u.critico,")"]}),u.alto>0&&a.jsxs(z,{variant:s.includes("alto")?"secondary":"outline",size:"sm",onClick:()=>f("alto"),className:"gap-1",children:[a.jsx(cr,{className:"h-3 w-3"}),"Altos (",u.alto,")"]})]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(se,{placeholder:"Buscar problemas...",value:r,onChange:v=>n(v.target.value),className:"pl-9"})]}),a.jsxs(GD,{children:[a.jsx(KD,{asChild:!0,children:a.jsx(z,{variant:"outline",size:"icon",children:a.jsx(Vs,{className:"h-4 w-4"})})}),a.jsxs(pj,{align:"end",className:"w-48",children:[a.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold",children:"Entidades"}),l.map(v=>a.jsx(YD,{checked:i.includes(v),onCheckedChange:()=>h(v),className:"capitalize",children:v},v))]})]})]})]}),a.jsxs(B,{children:[a.jsx("div",{className:"rounded-md border overflow-hidden",children:a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{className:"bg-muted/50",children:[a.jsx(pe,{className:"w-[100px]",children:"Prioridade"}),a.jsx(pe,{children:"Tipo"}),a.jsx(pe,{className:"hidden md:table-cell",children:"Descrio"}),a.jsx(pe,{children:"Entidade"}),a.jsx(pe,{className:"hidden lg:table-cell",children:"Sugesto"}),a.jsx(pe,{className:"w-[50px]"})]})}),a.jsx(Ir,{children:d.map(v=>{const m=M_e[v.categoria];return a.jsxs(ht,{className:"group hover:bg-muted/50",children:[a.jsx(fe,{children:a.jsxs(ce,{variant:$_e[v.categoria],className:"flex items-center gap-1 w-fit whitespace-nowrap",children:[a.jsx(m,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:v.categoria.toUpperCase()})]})}),a.jsx(fe,{className:"font-medium text-sm",children:v.tipo.replace(/_/g," ")}),a.jsx(fe,{className:"hidden md:table-cell text-sm text-muted-foreground max-w-xs truncate",children:v.descricao}),a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("span",{className:"capitalize text-sm font-medium",children:v.entidade}),a.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:[v.entidadeId.slice(0,8),"..."]})]})}),a.jsx(fe,{className:"hidden lg:table-cell text-sm text-muted-foreground max-w-xs truncate",children:v.sugestao}),a.jsx(fe,{children:a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>p(v.entidade),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(um,{className:"h-4 w-4"})})})]},v.id)})})]})}),d.length===0&&e.length>0&&a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:["Nenhum problema encontrado com os filtros atuais.",a.jsx(z,{variant:"link",onClick:()=>{n(""),o([]),c([])},children:"Limpar filtros"})]})]})]})}function I_e({estatisticas:e}){const t=e.totalAgendamentos>0?e.agendamentosCancelados/e.totalAgendamentos*100:0,r=e.totalAgendamentos>0?e.agendamentosConcluidos/e.totalAgendamentos*100:0,n=e.valorTotalReceitas-e.valorTotalDespesas,s=e.valorTotalReceitas>0?n/e.valorTotalReceitas*100:0,o=e.totalServicos>0?(e.totalServicos-e.servicosNuncaUsados)/e.totalServicos*100:0,i=e.totalClientes>0?(e.totalClientes-e.clientesInativos)/e.totalClientes*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(L,{children:[a.jsx(Y,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Concluso"}),a.jsx(Pn,{className:"h-4 w-4 text-green-500"})]})}),a.jsxs(B,{children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[r.toFixed(1),"%"]}),a.jsx(Ss,{value:r,className:"mt-2 h-2 [&>div]:bg-green-500"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[e.agendamentosConcluidos," de ",e.totalAgendamentos," agendamentos"]})]})]}),a.jsxs(L,{children:[a.jsx(Y,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Cancelamento"}),a.jsx(rs,{className:"h-4 w-4 text-red-500"})]})}),a.jsxs(B,{children:[a.jsxs("div",{className:Q("text-2xl font-bold",t>20?"text-red-600 dark:text-red-400":t>10?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"),children:[t.toFixed(1),"%"]}),a.jsx(Ss,{value:t,className:Q("mt-2 h-2",t>20?"[&>div]:bg-red-500":t>10?"[&>div]:bg-yellow-500":"[&>div]:bg-green-500")}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[e.agendamentosCancelados," cancelamentos"]})]})]}),a.jsxs(L,{children:[a.jsx(Y,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{className:"text-sm font-medium text-muted-foreground",children:"Margem de Lucro"}),a.jsx(Mt,{className:"h-4 w-4 text-primary"})]})}),a.jsxs(B,{children:[a.jsxs("div",{className:Q("text-2xl font-bold",s>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[s.toFixed(1),"%"]}),a.jsx(Ss,{value:Math.abs(s),className:Q("mt-2 h-2",s>=0?"[&>div]:bg-green-500":"[&>div]:bg-red-500")}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Lucro: R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),a.jsxs(L,{children:[a.jsx(Y,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Z,{className:"text-sm font-medium text-muted-foreground",children:"Clientes Ativos"}),a.jsx(qr,{className:"h-4 w-4 text-blue-500"})]})}),a.jsxs(B,{children:[a.jsxs("div",{className:Q("text-2xl font-bold",i>=70?"text-green-600 dark:text-green-400":i>=50?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[i.toFixed(1),"%"]}),a.jsx(Ss,{value:i,className:Q("mt-2 h-2",i>=70?"[&>div]:bg-green-500":i>=50?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500")}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[e.totalClientes-e.clientesInativos," ativos de ",e.totalClientes]})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Clientes"}),a.jsx(qr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold",children:e.totalClientes}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ativos (ltimos 30 dias)"}),a.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.totalClientes-e.clientesInativos})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Inativos"}),a.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:e.clientesInativos})]})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Servios"}),a.jsx(Na,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold",children:e.totalServicos}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Utilizados"}),a.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.totalServicos-e.servicosNuncaUsados})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Nunca usados"}),a.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:e.servicosNuncaUsados})]})]}),a.jsx(Ss,{value:o,className:"mt-3 h-1.5"})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Agendamentos"}),a.jsx(Se,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold",children:e.totalAgendamentos}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Ativos"}),a.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:e.agendamentosAtivos})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Concludos"}),a.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.agendamentosConcluidos})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Cancelados"}),a.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.agendamentosCancelados})]})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Financeiro"}),a.jsx(dt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold",children:e.totalLancamentos}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"lanamentos"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Receitas"}),a.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["R$ ",e.valorTotalReceitas.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Despesas"}),a.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["R$ ",e.valorTotalDespesas.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Cronogramas"}),a.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:"text-3xl font-bold",children:e.totalCronogramas}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"cronogramas ativos"}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Retornos cadastrados"}),a.jsx("span",{className:"font-medium",children:e.totalRetornos})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:"Resumo"}),a.jsx(RP,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsxs("div",{className:Q("text-3xl font-bold",n>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["R$ ",n.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"resultado financeiro"}),a.jsx("div",{className:"flex items-center gap-2 text-sm",children:n>=0?a.jsxs(a.Fragment,{children:[a.jsx(Mt,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Lucro positivo"})]}):a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Prejuzo"})]})})]})]})]})]})}const L_e=e=>e.includes("cliente")?{icone:a.jsx(qr,{className:"h-5 w-5"}),categoria:"Clientes",cor:"text-blue-500",rota:"/clientes"}:e.includes("servio")||e.includes("servico")?{icone:a.jsx(Na,{className:"h-5 w-5"}),categoria:"Servios",cor:"text-purple-500",rota:"/servicos"}:e.includes("pagamento")||e.includes("financeiro")||e.includes("cobrana")?{icone:a.jsx(dt,{className:"h-5 w-5"}),categoria:"Financeiro",cor:"text-green-500",rota:"/financeiro"}:e.includes("retorno")||e.includes("atraso")?{icone:a.jsx(Zr,{className:"h-5 w-5"}),categoria:"Retornos",cor:"text-orange-500",rota:"/cronogramas"}:e.includes("agendamento")||e.includes("durao")||e.includes("tempo")?{icone:a.jsx(Se,{className:"h-5 w-5"}),categoria:"Agendamentos",cor:"text-pink-500",rota:"/agendamentos"}:{icone:a.jsx(fm,{className:"h-5 w-5"}),categoria:"Geral",cor:"text-yellow-500",rota:"/dashboard"};function F_e({sugestoes:e,estatisticas:t}){const r=Ar(),n=t.totalAgendamentos>0?t.agendamentosCancelados/t.totalAgendamentos*100:0;return e.length===0?a.jsx(L,{className:"border-green-200 bg-green-50/50 dark:bg-green-950/20 dark:border-green-900",children:a.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 dark:bg-green-900/50 flex items-center justify-center mb-4",children:a.jsx(Pn,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-green-900 dark:text-green-100",children:"Sistema Otimizado!"}),a.jsx("p",{className:"text-muted-foreground text-center mt-2 max-w-md",children:"No h sugestes de melhorias no momento. Continue monitorando regularmente para manter o alto desempenho."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[t.clientesInativos>5&&a.jsxs(L,{className:"border-blue-200 dark:border-blue-900",children:[a.jsx(Y,{className:"pb-2",children:a.jsxs(Z,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(qr,{className:"h-4 w-4 text-blue-500"}),"Oportunidade de Reativao"]})}),a.jsxs(B,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Voc tem ",a.jsxs("strong",{children:[t.clientesInativos," clientes inativos"]}),". Uma campanha de reativao pode recuperar at 30% deles."]}),a.jsxs(z,{variant:"link",className:"px-0 mt-2",onClick:()=>r("/clientes"),children:["Ver clientes inativos ",a.jsx(gi,{className:"h-3 w-3 ml-1"})]})]})]}),n>15&&a.jsxs(L,{className:"border-red-200 dark:border-red-900",children:[a.jsx(Y,{className:"pb-2",children:a.jsxs(Z,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4 text-red-500"}),"Alta Taxa de Cancelamento"]})}),a.jsxs(B,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taxa de cancelamento de ",a.jsxs("strong",{children:[n.toFixed(1),"%"]}),". Considere implementar confirmao por WhatsApp."]}),a.jsxs(z,{variant:"link",className:"px-0 mt-2",onClick:()=>r("/configuracoes"),children:["Configurar lembretes ",a.jsx(gi,{className:"h-3 w-3 ml-1"})]})]})]}),t.servicosNuncaUsados>0&&a.jsxs(L,{className:"border-purple-200 dark:border-purple-900",children:[a.jsx(Y,{className:"pb-2",children:a.jsxs(Z,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Na,{className:"h-4 w-4 text-purple-500"}),"Servios No Utilizados"]})}),a.jsxs(B,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsxs("strong",{children:[t.servicosNuncaUsados," servios"]})," nunca foram agendados. Considere promov-los ou remov-los."]}),a.jsxs(z,{variant:"link",className:"px-0 mt-2",onClick:()=>r("/servicos"),children:["Gerenciar servios ",a.jsx(gi,{className:"h-3 w-3 ml-1"})]})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fm,{className:"h-5 w-5 text-yellow-500"}),a.jsx(Z,{children:"Sugestes de Melhorias"})]}),a.jsx(Oe,{children:"Recomendaes baseadas na anlise dos seus dados"})]}),a.jsx(B,{children:a.jsx("div",{className:"space-y-3",children:e.map((s,o)=>{const{icone:i,categoria:c,cor:l,rota:d}=L_e(s);return a.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors group",children:[a.jsx("div",{className:Q("flex-shrink-0 mt-0.5",l),children:i}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:c})}),a.jsx("p",{className:"text-sm",children:s})]}),a.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>r(d),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:["Resolver",a.jsx(gi,{className:"h-3 w-3 ml-1"})]})]},o)})})})]}),a.jsxs(Jr,{className:"border-primary/20 bg-primary/5",children:[a.jsx(Mt,{className:"h-4 w-4 text-primary"}),a.jsxs(Qr,{className:"text-sm",children:[a.jsx("strong",{children:"Dica Pro:"})," Execute auditorias regularmente (semanalmente) para identificar problemas antes que se tornem crticos. Salve os relatrios para acompanhar a evoluo do sistema ao longo do tempo."]})]})]})}function z_e({relatorios:e,onCarregar:t}){const r=s=>Math.max(0,100-(s.problemas_criticos*10+s.problemas_altos*5)),n=s=>{if(s>=e.length-1)return null;const o=r(e[s]),i=r(e[s+1]);return o>i?"melhorou":o<i?"piorou":"estavel"};return e.length===0?a.jsx(L,{children:a.jsxs(B,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:a.jsx(ka,{className:"h-8 w-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"Nenhum Relatrio Salvo"}),a.jsx("p",{className:"text-muted-foreground text-center mt-2 max-w-md",children:'Clique em "Salvar Relatrio" para comear a criar um histrico de auditorias. Isso permite acompanhar a evoluo da sade do sistema ao longo do tempo.'})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsx(Z,{children:"Histrico de Auditorias"}),a.jsxs(Oe,{children:["ltimos ",e.length," relatrios salvos  Acompanhe a evoluo do sistema"]})]}),a.jsx(B,{children:a.jsx("div",{className:"space-y-3",children:e.map((s,o)=>{const i=r(s),c=n(o),l=new Date(s.data_execucao);return a.jsxs("div",{className:Q("flex items-center gap-4 p-4 rounded-lg border transition-colors",o===0?"bg-accent/50 border-primary/20":"hover:bg-accent/30"),children:[a.jsxs("div",{className:"flex-shrink-0 text-center min-w-[80px]",children:[a.jsx("div",{className:"text-2xl font-bold",children:l.getDate().toString().padStart(2,"0")}),a.jsx("div",{className:"text-xs text-muted-foreground uppercase",children:l.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),a.jsx("div",{className:"text-xs text-muted-foreground",children:l.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsxs("div",{className:Q("w-14 h-14 rounded-full flex items-center justify-center text-lg font-bold",i>80?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":i>60?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:[i,"%"]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o===0&&a.jsx(ce,{variant:"secondary",className:"text-xs",children:"Mais recente"}),c&&a.jsxs("span",{className:Q("flex items-center gap-1 text-xs",c==="melhorou"?"text-green-600 dark:text-green-400":c==="piorou"?"text-red-600 dark:text-red-400":"text-muted-foreground"),children:[c==="melhorou"&&a.jsx(Mt,{className:"h-3 w-3"}),c==="piorou"&&a.jsx(Uo,{className:"h-3 w-3"}),c==="melhorou"?"Melhorou":c==="piorou"?"Piorou":"Estvel"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:[s.total_problemas," problemas"]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:""}),s.problemas_criticos>0&&a.jsxs(ce,{variant:"destructive",className:"text-xs",children:[s.problemas_criticos," crticos"]}),s.problemas_altos>0&&a.jsxs(ce,{variant:"secondary",className:"text-xs",children:[s.problemas_altos," altos"]}),s.problemas_medios>0&&a.jsxs(ce,{variant:"outline",className:"text-xs",children:[s.problemas_medios," mdios"]}),s.problemas_baixos>0&&a.jsxs(ce,{variant:"default",className:"text-xs bg-muted text-muted-foreground",children:[s.problemas_baixos," baixos"]})]})]})]},s.id)})})})]}),e.length>=3&&a.jsxs(L,{className:"border-primary/20 bg-primary/5",children:[a.jsx(Y,{className:"pb-2",children:a.jsxs(Z,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Mt,{className:"h-4 w-4 text-primary"}),"Anlise de Tendncia"]})}),a.jsx(B,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:(()=>{const s=r(e[e.length-1]),i=r(e[0])-s;return i>10?`A sade do sistema melhorou ${i.toFixed(0)}% desde a primeira auditoria. Continue com o bom trabalho!`:i<-10?`A sade do sistema caiu ${Math.abs(i).toFixed(0)}% desde a primeira auditoria. Revise os problemas crticos.`:"A sade do sistema permanece estvel. Continue monitorando regularmente."})()})})]})]})}function B_e(){const{retornos:e,marcarRetornoRealizado:t,cancelarRetorno:r}=zp(),{clientes:n}=ds(),{toast:s}=Rp(),o=e.filter(u=>u.status!=="Pendente"?!1:new Date(u.data_retorno)<new Date),i=u=>{const f=new Date(u);return Math.floor((new Date().getTime()-f.getTime())/(1e3*60*60*24))},c=async u=>{try{await t(u),s({title:"Retorno marcado como realizado",description:"O retorno foi atualizado com sucesso."})}catch{s({title:"Erro ao marcar retorno",description:"No foi possvel atualizar o retorno.",variant:"destructive"})}},l=async u=>{try{await r(u),s({title:"Retorno cancelado",description:"O retorno foi cancelado com sucesso."})}catch{s({title:"Erro ao cancelar retorno",description:"No foi possvel cancelar o retorno.",variant:"destructive"})}},d=u=>n.find(h=>h.id===u)?.nomeCompleto||"Cliente no encontrado";return o.length===0?a.jsx(L,{children:a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Pn,{className:"h-5 w-5 text-green-500"}),"Retornos em Dia"]}),a.jsx(Oe,{children:"No h retornos atrasados no sistema."})]})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5 text-orange-500"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Resolver Retornos Atrasados"}),a.jsxs(ce,{variant:"secondary",children:[o.length," pendentes"]})]}),o.map(u=>a.jsx(L,{children:a.jsx(Y,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Z,{className:"text-lg",children:d(u.id_cliente)}),a.jsxs(Oe,{children:["Data prevista: ",new Date(u.data_retorno).toLocaleDateString("pt-BR"),a.jsxs(ce,{variant:"destructive",className:"ml-2",children:[i(u.data_retorno)," dias de atraso"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>c(u.id_retorno),className:"flex items-center gap-1",children:[a.jsx(Pn,{className:"h-4 w-4"}),"Marcar como Realizado"]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l(u.id_retorno),className:"flex items-center gap-1",children:[a.jsx(rs,{className:"h-4 w-4"}),"Cancelar"]})]})]})})},u.id_retorno))]})}function V_e(){const{relatorioAuditoria:e,exportarRelatorio:t,salvarRelatorio:r,salvando:n,carregarHistorico:s,relatoriosHistorico:o,carregandoBackend:i}=j_e(),{retornos:c}=zp(),[l,d]=x.useState("visao-geral"),u=x.useMemo(()=>{const p=new Date;return c.filter(v=>v.status!=="Pendente"?!1:new Date(v.data_retorno)<p).length},[c]),f=x.useMemo(()=>e.problemas.filter(p=>p.tipo==="dados_inconsistentes"&&p.campo==="statusPagamento").length,[e.problemas]),h=Math.max(0,100-(e.problemasCriticos*10+e.problemasAltos*5));return x.useEffect(()=>{s()},[s]),a.jsxs("div",{className:"space-y-6",children:[i&&a.jsx(L,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/30",children:a.jsx(B,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Zr,{className:"h-5 w-5 text-blue-600 animate-spin"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Executando Auditoria"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Analisando dados e verificando inconsistncias..."})]})]})})}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Auditoria do Sistema"}),a.jsxs("p",{className:"text-muted-foreground",children:["ltima anlise: ",new Date(e.dataExecucao).toLocaleString("pt-BR")]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(z,{variant:"default",onClick:r,disabled:n,className:"gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"h-4 w-4 animate-spin"}),"Salvando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_n,{className:"h-4 w-4"}),"Salvar Relatrio"]})}),a.jsx(z,{variant:"outline",size:"icon",onClick:()=>t("csv"),title:"Exportar CSV",children:a.jsx(ka,{className:"h-4 w-4"})}),a.jsx(z,{variant:"outline",size:"icon",onClick:()=>t("json"),title:"Exportar JSON",children:a.jsx(_n,{className:"h-4 w-4"})})]})]}),e.problemasCriticos>0&&a.jsxs(Jr,{variant:"destructive",children:[a.jsx(cr,{className:"h-4 w-4"}),a.jsx(K2,{children:"Ateno: Problemas Crticos Detectados!"}),a.jsxs(Qr,{children:["Foram encontrados ",e.problemasCriticos,' problemas crticos que precisam de ateno imediata. Verifique a aba "Problemas" para mais detalhes e tome as aes necessrias.']})]}),a.jsx(O_e,{porcentagemSaude:h,totalProblemas:e.totalProblemas,problemasCriticos:e.problemasCriticos,problemasAltos:e.problemasAltos,valorTotalReceitas:e.estatisticas.valorTotalReceitas,valorTotalDespesas:e.estatisticas.valorTotalDespesas,totalAgendamentos:e.estatisticas.totalAgendamentos,agendamentosAtivos:e.estatisticas.agendamentosAtivos,agendamentosConcluidos:e.estatisticas.agendamentosConcluidos}),a.jsx(T_e,{retornosAtrasados:u,clientesInativos:e.estatisticas.clientesInativos,agendamentosEmAberto:f,problemasCriticos:e.problemasCriticos}),a.jsxs(da,{value:l,onValueChange:d,className:"w-full",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-5 lg:w-auto lg:inline-flex",children:[a.jsxs(He,{value:"visao-geral",className:"gap-2",children:[a.jsx(RP,{className:"h-4 w-4 hidden sm:inline"}),"Viso Geral"]}),a.jsxs(He,{value:"problemas",id:"tab-problemas",className:"gap-2",children:[a.jsx(cr,{className:"h-4 w-4 hidden sm:inline"}),"Problemas",e.totalProblemas>0&&a.jsx("span",{className:"ml-1 text-xs bg-primary/10 text-primary px-1.5 py-0.5 rounded-full",children:e.totalProblemas})]}),a.jsxs(He,{value:"resolver",className:"gap-2",children:[a.jsx(Ti,{className:"h-4 w-4 hidden sm:inline"}),"Resolver"]}),a.jsxs(He,{value:"sugestoes",className:"gap-2",children:[a.jsx(fm,{className:"h-4 w-4 hidden sm:inline"}),"Sugestes"]}),a.jsxs(He,{value:"historico",className:"gap-2",children:[a.jsx(at,{className:"h-4 w-4 hidden sm:inline"}),"Histrico"]})]}),a.jsx(Ge,{value:"visao-geral",className:"space-y-4 mt-6",children:a.jsx(I_e,{estatisticas:e.estatisticas})}),a.jsx(Ge,{value:"problemas",className:"space-y-4 mt-6",children:a.jsx(R_e,{problemas:e.problemas})}),a.jsx(Ge,{value:"resolver",className:"space-y-4 mt-6",children:a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"h-5 w-5"}),"Ferramentas de Resoluo"]})}),a.jsx(B,{children:a.jsx(B_e,{})})]})}),a.jsx(Ge,{value:"sugestoes",className:"space-y-4 mt-6",children:a.jsx(F_e,{sugestoes:e.sugestoesMelhorias,estatisticas:{clientesInativos:e.estatisticas.clientesInativos,servicosNuncaUsados:e.estatisticas.servicosNuncaUsados,totalAgendamentos:e.estatisticas.totalAgendamentos,agendamentosCancelados:e.estatisticas.agendamentosCancelados}})}),a.jsx(Ge,{value:"historico",className:"space-y-4 mt-6",children:a.jsx(z_e,{relatorios:o,onCarregar:s})})]}),a.jsx(L,{className:"bg-muted/30",children:a.jsx(B,{className:"py-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-sm text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Dados analisados:"})," ",e.estatisticas.totalClientes," clientes ",e.estatisticas.totalServicos," servios ",e.estatisticas.totalAgendamentos," agendamentos ",e.estatisticas.totalLancamentos," lanamentos"]}),a.jsx("p",{className:"text-xs",children:"Auditoria executada automaticamente ao acessar a pgina"})]})})})]})}function U_e(){const{usuario:e,session:t}=It(),[r,n]=x.useState(!0),[s,o]=x.useState(null),[i,c]=x.useState(null),l=Ar(),d=async()=>{if(t?.access_token){n(!0),c(null);try{const h=performance.now(),{data:p,error:v}=await W.functions.invoke("flor-ai-engine",{method:"POST"});if(v)throw console.error("Supabase Function Error:",v),new Error(v.message||"Erro ao conectar com o servidor");if(!p)throw new Error("Resposta vazia do servidor");if(typeof p.score!="number"||!p.summary)throw console.error("Invalid Data Shape:",p),new Error("Dados invlidos recebidos do servidor");o(p);const m=Math.round(performance.now()-h);console.log(`[FlorAI] Analysis loaded in ${m}ms`),V.success("Anlise Flor AI concluda com sucesso!")}catch(h){console.error("Critical Error processing Flor AI:",h),c(h.message||"Falha desconhecida ao gerar anlise"),V.error("Falha ao gerar anlise. Tente novamente.")}finally{n(!1)}}};x.useEffect(()=>{t?.access_token&&d()},[t?.access_token]);const u=h=>h>=90?"text-green-500":h>=70?"text-blue-500":h>=50?"text-yellow-500":"text-red-500",f=h=>h>=90?a.jsx(ce,{className:"bg-green-500 hover:bg-green-600",children:"Excelente"}):h>=70?a.jsx(ce,{className:"bg-blue-500 hover:bg-blue-600",children:"Bom"}):h>=50?a.jsx(ce,{className:"bg-yellow-500 hover:bg-yellow-600",children:"Ateno"}):a.jsx(ce,{variant:"destructive",children:"Crtico"});return i?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-6 p-4 text-center animate-fade-in",children:[a.jsx("div",{className:"h-24 w-24 bg-red-100 rounded-full flex items-center justify-center",children:a.jsx(bc,{className:"h-12 w-12 text-red-500"})}),a.jsxs("div",{className:"max-w-md space-y-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Ops! Algo deu errado."}),a.jsx("p",{className:"text-muted-foreground",children:i})]}),a.jsxs(z,{onClick:d,size:"lg",className:"gap-2",children:[a.jsx(iw,{className:"h-4 w-4"}),"Tentar Novamente"]})]}):r?a.jsxs("div",{className:"space-y-6 p-4 md:p-8 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(jn,{className:"h-8 w-48"}),a.jsx(jn,{className:"h-4 w-64"})]}),a.jsx(jn,{className:"h-10 w-32"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsx(jn,{className:"h-[250px] md:col-span-1 rounded-xl"}),a.jsx(jn,{className:"h-[250px] md:col-span-2 rounded-xl"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(jn,{className:"h-10 w-full max-w-[600px]"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsx(jn,{className:"h-32"}),a.jsx(jn,{className:"h-32"}),a.jsx(jn,{className:"h-32"}),a.jsx(jn,{className:"h-32"})]})]})]}):s?a.jsxs("div",{className:"space-y-6 p-4 md:p-8 max-w-7xl mx-auto animate-fade-in",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(_a,{className:"h-8 w-8 text-primary"}),"Flor AI"]}),a.jsx("p",{className:"text-muted-foreground",children:"Inteligncia Centralizada e Auditoria de Sistema"})]}),a.jsxs(z,{onClick:d,disabled:r,className:"gap-2 shadow-sm hover:shadow-md transition-all",children:[r?a.jsx(pa,{className:"h-4 w-4 animate-spin"}):a.jsx(iw,{className:"h-4 w-4"}),"Atualizar Anlise"]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(L,{className:"md:col-span-1 border-primary/20 bg-gradient-to-br from-primary/5 to-transparent shadow-sm",children:[a.jsx(Y,{className:"pb-2",children:a.jsx(Z,{className:"text-lg font-medium",children:"Sade do Sistema"})}),a.jsxs(B,{className:"flex flex-col items-center justify-center py-6",children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsxs("svg",{className:"h-32 w-32 transform -rotate-90",children:[a.jsx("circle",{className:"text-muted/20",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"58",cx:"64",cy:"64"}),a.jsx("circle",{className:u(s.score),strokeWidth:"8",strokeDasharray:365,strokeDashoffset:365-s.score/100*365,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"58",cx:"64",cy:"64",style:{transition:"stroke-dashoffset 1s ease-in-out"}})]}),a.jsxs("div",{className:"absolute flex flex-col items-center",children:[a.jsx("span",{className:`text-3xl font-bold ${u(s.score)}`,children:s.score}),f(s.score)]})]}),a.jsxs("p",{className:"text-sm text-center text-muted-foreground mt-4",children:["Baseado em ",s.summary.issues_count," pontos de ateno identificados."]})]})]}),a.jsxs(L,{className:"md:col-span-2 shadow-sm flex flex-col",children:[a.jsxs(Y,{children:[a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(q_e,{className:"h-5 w-5 text-purple-500"}),"Anlise Executiva"]}),a.jsx(Oe,{children:"Gerado por Inteligncia Artificial"})]}),a.jsx(B,{className:"flex-1",children:a.jsx("div",{className:"bg-muted/30 p-4 rounded-lg border border-border/50 h-full",children:a.jsx("p",{className:"leading-relaxed text-sm md:text-base whitespace-pre-wrap text-foreground/90",children:s.ai_analysis||"Nenhuma anlise disponvel no momento."})})})]})]}),a.jsxs(da,{defaultValue:"overview",className:"space-y-4",children:[a.jsx(Od,{className:"w-full pb-2 md:pb-0",children:a.jsxs(Ln,{className:"w-full justify-start md:justify-center md:w-auto inline-flex min-w-full md:min-w-0",children:[a.jsx(He,{value:"overview",className:"flex-1 md:flex-none",children:"Viso Geral"}),a.jsxs(He,{value:"auditoria",className:"flex-1 md:flex-none",children:["Auditoria (",s.issues.length,")"]}),a.jsx(He,{value:"financeiro",className:"flex-1 md:flex-none",children:"Financeiro"}),a.jsx(He,{value:"operacional",className:"flex-1 md:flex-none",children:"Operacional"})]})}),a.jsxs(Ge,{value:"overview",className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[a.jsxs("div",{className:"grid gap-4 grid-cols-2 lg:grid-cols-4",children:[a.jsx(rf,{title:"Receita (90d)",value:`R$ ${s.summary.receita_90d.toFixed(2)}`,subtext:`Lucro: R$ ${s.summary.lucro_90d.toFixed(2)}`,icon:dt}),a.jsx(rf,{title:"Total Clientes",value:s.summary.total_clientes,icon:qr}),a.jsx(rf,{title:"Ocupao Futura",value:s.summary.agendamentos_futuros,subtext:"Prximos 30 dias",icon:Se}),a.jsx(rf,{title:"Problemas",value:s.summary.issues_count,subtext:"Requerem ateno",icon:cr,valueColor:"text-orange-500"})]}),s.issues.some(h=>h.type==="critical")&&a.jsxs(L,{className:"border-red-500/50 bg-red-500/5 shadow-sm",children:[a.jsx(Y,{children:a.jsxs(Z,{className:"text-red-600 flex items-center gap-2 text-base md:text-lg",children:[a.jsx(rs,{className:"h-5 w-5"})," Ao Imediata Necessria"]})}),a.jsx(B,{children:a.jsx("ul",{className:"space-y-2",children:s.issues.filter(h=>h.type==="critical").map((h,p)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm font-medium text-red-700",children:[a.jsx("span",{className:"mt-1.5 h-1.5 w-1.5 rounded-full bg-red-600 flex-shrink-0"}),a.jsxs("span",{children:[h.message," ",a.jsx(ce,{variant:"outline",className:"text-[10px] ml-1 bg-white/50 border-red-200",children:h.module})]})]},p))})})]})]}),a.jsx(Ge,{value:"auditoria",className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsx(Z,{children:"Relatrio de Inconsistncias"}),a.jsx(Oe,{children:"Lista completa de problemas detectados no banco de dados."})]}),a.jsx(B,{children:a.jsx(Od,{className:"h-[400px] w-full pr-4",children:s.issues.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[a.jsx(zl,{className:"h-12 w-12 text-green-500 mb-4"}),a.jsx("p",{children:"Nenhum problema encontrado. Parabns!"})]}):a.jsx("div",{className:"space-y-3",children:s.issues.map((h,p)=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:mt-0.5",children:[h.type==="critical"&&a.jsx(rs,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),h.type==="error"&&a.jsx(cr,{className:"h-5 w-5 text-orange-500 flex-shrink-0"}),h.type==="warning"&&a.jsx(cr,{className:"h-5 w-5 text-yellow-500 flex-shrink-0"}),h.type==="info"&&a.jsx(eF,{className:"h-5 w-5 text-blue-500 flex-shrink-0"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[a.jsx(ce,{variant:h.type==="critical"?"destructive":"secondary",className:"text-[10px] px-1.5 py-0 h-5",children:h.type.toUpperCase()}),a.jsx(ce,{variant:"outline",className:"capitalize text-[10px] px-1.5 py-0 h-5",children:h.module})]}),a.jsx("p",{className:"text-sm break-words",children:h.message})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>l(`/${h.module}`),className:"sm:self-center w-full sm:w-auto mt-2 sm:mt-0",children:"Resolver"})]},p))})})})]})}),a.jsx(Ge,{value:"financeiro",className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:a.jsxs(L,{children:[a.jsx(Y,{children:a.jsx(Z,{children:"Sade Financeira (Trimestral)"})}),a.jsxs(B,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[a.jsx("span",{className:"text-muted-foreground",children:"Receita Total"}),a.jsxs("span",{className:"font-bold text-green-600 text-lg",children:["R$ ",s.modules.financeiro.receita.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center border-b pb-3",children:[a.jsx("span",{className:"text-muted-foreground",children:"Despesas"}),a.jsxs("span",{className:"font-bold text-red-600 text-lg",children:["R$ ",s.modules.financeiro.despesa.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:"Margem de Lucro"}),a.jsxs("span",{className:`font-bold text-xl ${s.modules.financeiro.margem>20?"text-green-600":"text-yellow-600"}`,children:[s.modules.financeiro.margem.toFixed(1),"%"]})]})]})]})})}),a.jsx(Ge,{value:"operacional",className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(Na,{className:"h-5 w-5"})," Estoque Crtico"]})}),a.jsxs(B,{children:[!s.modules.estoque.baixo_estoque||s.modules.estoque.baixo_estoque.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-green-600 bg-green-50 p-3 rounded-md",children:[a.jsx(zl,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Estoque saudvel."})]}):a.jsx("ul",{className:"space-y-2",children:s.modules.estoque.baixo_estoque.map((h,p)=>a.jsxs("li",{className:"flex justify-between items-center text-sm p-2 bg-muted/30 rounded-md",children:[a.jsx("span",{className:"font-medium",children:h.nome}),a.jsxs(ce,{variant:"destructive",children:[h.estoque," un"]})]},p))}),a.jsx(z,{variant:"link",onClick:()=>l("/produtos"),className:"px-0 mt-4 h-auto font-semibold",children:"Gerenciar Estoque "})]})]}),a.jsxs(L,{children:[a.jsx(Y,{children:a.jsxs(Z,{className:"flex items-center gap-2",children:[a.jsx(at,{className:"h-5 w-5"})," Cronogramas"]})}),a.jsxs(B,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-muted/30 rounded-md",children:[a.jsx("span",{children:"Ativos"}),a.jsx(ce,{variant:"secondary",className:"text-base",children:s.modules.cronogramas.ativos})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm p-3 bg-muted/30 rounded-md",children:[a.jsx("span",{children:"Retornos Pendentes (Atrasados)"}),a.jsx(ce,{variant:s.modules.cronogramas.pendentes>0?"destructive":"outline",className:"text-base",children:s.modules.cronogramas.pendentes})]})]}),a.jsx(z,{variant:"link",onClick:()=>l("/cronogramas"),className:"px-0 mt-4 h-auto font-semibold",children:"Ver Cronogramas "})]})]})]})})]})]}):null}function rf({title:e,value:t,subtext:r,icon:n,valueColor:s}){return a.jsxs(L,{className:"shadow-sm",children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:e}),a.jsx(n,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(B,{children:[a.jsx("div",{className:`text-2xl font-bold ${s||""}`,children:t}),r&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r})]})]})}function q_e(e){return a.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}),a.jsx("path",{d:"M9 13a4.5 4.5 0 0 0 3-4"}),a.jsx("path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}),a.jsx("path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}),a.jsx("path",{d:"M6 18a4 4 0 0 1-1.967-.516"}),a.jsx("path",{d:"M12 13h4"}),a.jsx("path",{d:"M12 18h6a2 2 0 0 1 2 2v1"}),a.jsx("path",{d:"M12 8h8"}),a.jsx("path",{d:"M16 8V5a2 2 0 0 1 2-2"}),a.jsx("path",{d:"M16 13v4a2 2 0 0 0 2 2h2"})]})}const Gc=()=>{const{user:e}=It(),[t,r]=x.useState(!1),[n,s]=x.useState(null),[o,i]=x.useState([]),[c,l]=x.useState(null),[d,u]=x.useState([]),[f,h]=x.useState([]),p=async()=>{if(e)try{const{data:T,error:I}=await W.from("programas_fidelidade").select("*").eq("user_id",e.id).single();if(I&&I.code!=="PGRST116")throw I;s(T)}catch(T){console.error("Erro ao carregar programa:",T)}},v=async()=>{if(e)try{const{data:T,error:I}=await W.from("recompensas").select("*").eq("user_id",e.id).order("pontos_necessarios",{ascending:!0});if(I)throw I;i(T||[])}catch(T){console.error("Erro ao carregar recompensas:",T)}},m=async()=>{if(e)try{const{data:T,error:I}=await W.from("estatisticas_fidelidade").select("*").eq("user_id",e.id).single();if(I&&I.code!=="PGRST116")throw I;l(T)}catch(T){console.error("Erro ao carregar estatsticas:",T)}},g=async(T=10)=>{if(e)try{const{data:I,error:R}=await W.from("ranking_fidelidade").select("*").eq("user_id",e.id).lte("ranking",T).order("ranking",{ascending:!0});if(R)throw R;u(I||[])}catch(I){console.error("Erro ao carregar ranking:",I)}},y=async()=>{if(e)try{const{data:T,error:I}=await W.from("classes_fidelidade").select("*").eq("user_id",e.id).order("ordem",{ascending:!0});if(I)throw I;h(T||[])}catch(T){console.error("Erro ao carregar classes:",T)}},b=async T=>{if(!e)return null;try{if(r(!0),n){const{data:I,error:R}=await W.from("programas_fidelidade").update({...T,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(R)throw R;return s(I),V.success("Programa atualizado com sucesso!"),I}else{const{data:I,error:R}=await W.from("programas_fidelidade").insert({...T,user_id:e.id}).select().single();if(R)throw R;return s(I),V.success("Programa criado com sucesso!"),I}}catch(I){return console.error("Erro ao salvar programa:",I),V.error("Erro ao salvar programa de fidelidade"),null}finally{r(!1)}},w=async()=>{if(!(!n||!e))try{const{data:T,error:I}=await W.from("programas_fidelidade").update({ativo:!n.ativo}).eq("id",n.id).select().single();if(I)throw I;s(T),V.success(T.ativo?"Programa ativado!":"Programa desativado!")}catch(T){console.error("Erro ao alterar status do programa:",T),V.error("Erro ao alterar status do programa")}},j=async T=>{if(!e)return null;try{r(!0);const{data:I,error:R}=await W.from("recompensas").insert({...T,user_id:e.id}).select().single();if(R)throw R;return await v(),V.success("Recompensa criada com sucesso!"),I}catch(I){return console.error("Erro ao criar recompensa:",I),V.error("Erro ao criar recompensa"),null}finally{r(!1)}},N=async(T,I)=>{try{r(!0);const{data:R,error:D}=await W.from("recompensas").update({...I,updated_at:new Date().toISOString()}).eq("id",T).select().single();if(D)throw D;return await v(),V.success("Recompensa atualizada!"),R}catch(R){return console.error("Erro ao atualizar recompensa:",R),V.error("Erro ao atualizar recompensa"),null}finally{r(!1)}},S=async T=>{try{r(!0);const{error:I}=await W.from("recompensas").delete().eq("id",T);if(I)throw I;await v(),V.success("Recompensa excluda!")}catch(I){console.error("Erro ao excluir recompensa:",I),V.error("Erro ao excluir recompensa")}finally{r(!1)}},_=async T=>{if(!e)return null;try{r(!0);const{data:I,error:R}=await W.from("classes_fidelidade").insert({...T,user_id:e.id}).select().single();if(R)throw R;return await y(),V.success("Classe criada com sucesso!"),I}catch(I){return console.error("Erro ao criar classe:",I),V.error("Erro ao criar classe"),null}finally{r(!1)}},C=async(T,I)=>{try{r(!0);const{data:R,error:D}=await W.from("classes_fidelidade").update({...I,updated_at:new Date().toISOString()}).eq("id",T).select().single();if(D)throw D;return await y(),V.success("Classe atualizada!"),R}catch(R){return console.error("Erro ao atualizar classe:",R),V.error("Erro ao atualizar classe"),null}finally{r(!1)}},E=async T=>{try{r(!0);const{error:I}=await W.from("classes_fidelidade").delete().eq("id",T);if(I)throw I;await y(),V.success("Classe excluda!")}catch(I){console.error("Erro ao excluir classe:",I),V.error("Erro ao excluir classe")}finally{r(!1)}},$=async T=>{if(!e)return null;try{const{data:I,error:R}=await W.from("saldo_pontos").select("*").eq("user_id",e.id).eq("cliente_id",T).single();if(R&&R.code!=="PGRST116")throw R;return I}catch(I){return console.error("Erro ao buscar saldo:",I),null}},k=async T=>{if(!e)return null;try{const{data:I,error:R}=await W.from("niveis_fidelidade").select("*").eq("user_id",e.id).eq("cliente_id",T).single();if(R&&R.code!=="PGRST116")throw R;return I}catch(I){return console.error("Erro ao buscar nvel:",I),null}},P=async T=>{if(!e)return[];try{const{data:I,error:R}=await W.from("pontos_fidelidade").select("*").eq("user_id",e.id).eq("cliente_id",T).order("data_ganho",{ascending:!1}).limit(50);if(R)throw R;return I||[]}catch(I){return console.error("Erro ao buscar histrico:",I),[]}},O=async(T,I,R)=>{if(!e||!n)return null;try{r(!0);const D=n.expiracao_pontos_dias>0?new Date(Date.now()+n.expiracao_pontos_dias*24*60*60*1e3).toISOString().split("T")[0]:null,{data:M,error:U}=await W.from("pontos_fidelidade").insert({user_id:e.id,cliente_id:T,pontos:I,origem:"bonus",descricao:R,data_expiracao:D}).select().single();if(U)throw U;return V.success(`${I} pontos adicionados!`),M}catch(D){return console.error("Erro ao adicionar pontos:",D),V.error("Erro ao adicionar pontos"),null}finally{r(!1)}};return x.useEffect(()=>{if(!e)return;const T=W.channel("fidelidade-changes").on("postgres_changes",{event:"*",schema:"public",table:"programas_fidelidade",filter:`user_id=eq.${e.id}`},()=>{p()}).on("postgres_changes",{event:"*",schema:"public",table:"recompensas",filter:`user_id=eq.${e.id}`},()=>{v()}).on("postgres_changes",{event:"*",schema:"public",table:"classes_fidelidade",filter:`user_id=eq.${e.id}`},()=>{y()}).subscribe();return()=>{W.removeChannel(T)}},[e]),x.useEffect(()=>{e&&(p(),v(),m(),g(),y())},[e]),{loading:t,programa:n,recompensas:o,estatisticas:c,ranking:d,classes:f,salvarPrograma:b,togglePrograma:w,criarRecompensa:j,atualizarRecompensa:N,excluirRecompensa:S,criarClasse:_,atualizarClasse:C,excluirClasse:E,buscarSaldoCliente:$,buscarNivelCliente:k,buscarHistoricoPontos:P,adicionarPontosManual:O,carregarRanking:g,recarregar:()=>{p(),v(),m(),g(),y()}}},W_e=()=>{const{programa:e,loading:t,salvarPrograma:r,togglePrograma:n}=Gc(),[s,o]=x.useState(!1),[i,c]=x.useState({nome:e?.nome||"Programa de Fidelidade",pontos_por_real:e?.pontos_por_real||.1,expiracao_pontos_dias:e?.expiracao_pontos_dias||365,data_inicio:e?.data_inicio||new Date().toISOString().split("T")[0]}),l=async u=>{u.preventDefault(),await r(i)&&o(!1)},d=()=>{e&&c({nome:e.nome,pontos_por_real:e.pontos_por_real,expiracao_pontos_dias:e.expiracao_pontos_dias,data_inicio:e.data_inicio}),o(!0)};return a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ti,{className:"h-5 w-5 text-primary"}),a.jsx(Z,{children:"Configuraes do Programa"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[e&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(G,{htmlFor:"programa-ativo",children:"Ativo"}),a.jsx(qt,{id:"programa-ativo",checked:e.ativo,onCheckedChange:n})]}),!s&&e&&a.jsx(z,{variant:"outline",size:"sm",onClick:d,children:"Editar"})]})]}),a.jsx(Oe,{children:"Configure as regras do seu programa de fidelidade"})]}),a.jsx(B,{children:!e&&!s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Voc ainda no configurou seu programa de fidelidade"}),a.jsx(z,{onClick:d,children:"Criar Programa"})]}):s?a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome",children:"Nome do Programa"}),a.jsx(se,{id:"nome",value:i.nome,onChange:u=>c({...i,nome:u.target.value}),placeholder:"Ex: Clube VIP, Fidelidade Premium",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"pontos_por_real",children:"Pontos por Real Gasto"}),a.jsx(se,{id:"pontos_por_real",type:"number",step:"0.01",min:"0",value:i.pontos_por_real,onChange:u=>c({...i,pontos_por_real:parseFloat(u.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.pontos_por_real>0&&`Clientes ganharo ${(i.pontos_por_real*100).toFixed(0)} pontos a cada R$ 100,00 gastos`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"expiracao",children:"Validade dos Pontos (dias)"}),a.jsx(se,{id:"expiracao",type:"number",min:"0",value:i.expiracao_pontos_dias,onChange:u=>c({...i,expiracao_pontos_dias:parseInt(u.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.expiracao_pontos_dias===0?"Pontos no expiram":`Pontos expiram aps ${i.expiracao_pontos_dias} dias`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"data_inicio",children:"Data de Incio"}),a.jsx(se,{id:"data_inicio",type:"date",value:i.data_inicio,onChange:u=>c({...i,data_inicio:u.target.value}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Data em que o programa comea a valer"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{type:"submit",disabled:t,children:[a.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Salvar"]}),e&&a.jsx(z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"})]})]}):a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-muted-foreground",children:"Nome"}),a.jsx("p",{className:"text-lg font-medium",children:e?.nome})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-muted-foreground",children:"Pontos por Real"}),a.jsxs("p",{className:"text-lg font-medium",children:[(e.pontos_por_real*100).toFixed(0)," pontos / R$ 100"]})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-muted-foreground",children:"Validade"}),a.jsx("p",{className:"text-lg font-medium",children:e.expiracao_pontos_dias===0?"Pontos no expiram":`${e.expiracao_pontos_dias} dias`})]}),a.jsxs("div",{children:[a.jsx(G,{className:"text-muted-foreground",children:"Data de Incio"}),a.jsx("p",{className:"text-lg font-medium",children:new Date(e.data_inicio).toLocaleDateString("pt-BR")})]})]})})]})},H_e=()=>{const{estatisticas:e}=Gc(),t=[{title:"Clientes no Programa",value:e?.total_clientes_programa||0,icon:qr,color:"text-info"},{title:"Pontos Distribudos",value:e?.total_pontos_distribuidos||0,icon:dm,color:"text-success"},{title:"Pontos Resgatados",value:e?.total_pontos_resgatados||0,icon:Ld,color:"text-primary"},{title:"Clientes Ativos (30d)",value:e?.clientes_ativos_30d||0,icon:Mt,color:"text-warning"}];return a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:t.map(r=>{const n=r.icon;return a.jsxs(L,{children:[a.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Z,{className:"text-sm font-medium",children:r.title}),a.jsx(n,{className:`h-4 w-4 ${r.color}`})]}),a.jsx(B,{children:a.jsx("div",{className:"text-2xl font-bold",children:r.value.toLocaleString()})})]},r.title)})})},G_e=()=>{const{recompensas:e,classes:t,loading:r,criarRecompensa:n,atualizarRecompensa:s,excluirRecompensa:o}=Gc(),[i,c]=x.useState(!1),[l,d]=x.useState(null),[u,f]=x.useState({nome:"",descricao:"",pontos_necessarios:0,tipo:"desconto_percentual",valor_desconto:0,classe_id:void 0,validade_dias:30}),h=()=>{f({nome:"",descricao:"",pontos_necessarios:0,tipo:"desconto_percentual",valor_desconto:0,classe_id:void 0,validade_dias:30}),d(null)},p=async b=>{b.preventDefault(),l?await s(l,u):await n(u),c(!1),h()},v=b=>{f({nome:b.nome,descricao:b.descricao||"",pontos_necessarios:b.pontos_necessarios,tipo:b.tipo,valor_desconto:b.valor_desconto,classe_id:b.classe_id,validade_dias:b.validade_dias}),d(b.id),c(!0)},m=async b=>{confirm("Tem certeza que deseja excluir esta recompensa?")&&await o(b)},g=b=>({desconto_percentual:"Desconto %",desconto_valor:"Desconto R$",servico_gratis:"Servio Grtis"})[b]||b,y=b=>b&&t.find(j=>j.id===b)?.nome||"Todas";return a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ld,{className:"h-5 w-5 text-primary"}),a.jsx(Z,{children:"Recompensas"})]}),a.jsxs(Wr,{open:i,onOpenChange:b=>{c(b),b||h()},children:[a.jsx(fu,{asChild:!0,children:a.jsxs(z,{children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Nova Recompensa"]})}),a.jsxs(Sr,{className:"max-w-2xl",children:[a.jsxs(Cr,{children:[a.jsx(Pr,{children:l?"Editar Recompensa":"Nova Recompensa"}),a.jsx(kn,{children:"Configure uma recompensa para seus clientes fiis"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2 space-y-2",children:[a.jsx(G,{htmlFor:"nome",children:"Nome da Recompensa"}),a.jsx(se,{id:"nome",value:u.nome,onChange:b=>f({...u,nome:b.target.value}),placeholder:"Ex: 10% de desconto",required:!0})]}),a.jsxs("div",{className:"col-span-2 space-y-2",children:[a.jsx(G,{htmlFor:"descricao",children:"Descrio"}),a.jsx(pr,{id:"descricao",value:u.descricao,onChange:b=>f({...u,descricao:b.target.value}),placeholder:"Detalhes da recompensa...",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"pontos",children:"Pontos Necessrios"}),a.jsx(se,{id:"pontos",type:"number",min:"0",value:u.pontos_necessarios,onChange:b=>f({...u,pontos_necessarios:parseInt(b.target.value)}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"tipo",children:"Tipo"}),a.jsxs(Fe,{value:u.tipo,onValueChange:b=>f({...u,tipo:b}),children:[a.jsx(Re,{children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"desconto_percentual",children:"Desconto %"}),a.jsx(te,{value:"desconto_valor",children:"Desconto R$"}),a.jsx(te,{value:"servico_gratis",children:"Servio Grtis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"valor",children:"Valor do Desconto"}),a.jsx(se,{id:"valor",type:"number",min:"0",step:u.tipo==="desconto_percentual"?"1":"0.01",value:u.valor_desconto,onChange:b=>f({...u,valor_desconto:parseFloat(b.target.value)}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"classe",children:"Classe Exclusiva"}),a.jsxs(Fe,{value:u.classe_id||"todas",onValueChange:b=>f({...u,classe_id:b==="todas"?void 0:b}),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Todas as classes"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"todas",children:"Todas as classes"}),t.map(b=>a.jsx(te,{value:b.id,children:b.nome},b.id))]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Restrinja esta recompensa a uma classe especfica"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"validade",children:"Validade (dias)"}),a.jsx(se,{id:"validade",type:"number",min:"1",value:u.validade_dias,onChange:b=>f({...u,validade_dias:parseInt(b.target.value)}),required:!0})]})]}),a.jsxs(z,{type:"submit",disabled:r,className:"w-full",children:[l?"Atualizar":"Criar"," Recompensa"]})]})]})]})]}),a.jsx(Oe,{children:"Configure recompensas que seus clientes podem resgatar com pontos"})]}),a.jsx(B,{children:e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma recompensa cadastrada. Crie recompensas para incentivar seus clientes."})}):a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Nome"}),a.jsx(pe,{children:"Tipo"}),a.jsx(pe,{children:"Pontos"}),a.jsx(pe,{children:"Valor"}),a.jsx(pe,{children:"Classe"}),a.jsx(pe,{children:"Status"}),a.jsx(pe,{className:"text-right",children:"Aes"})]})}),a.jsx(Ir,{children:e.map(b=>a.jsxs(ht,{children:[a.jsx(fe,{className:"font-medium",children:b.nome}),a.jsx(fe,{children:g(b.tipo)}),a.jsxs(fe,{children:[b.pontos_necessarios," pts"]}),a.jsx(fe,{children:b.tipo==="desconto_percentual"?`${b.valor_desconto}%`:b.tipo==="desconto_valor"?`R$ ${b.valor_desconto.toFixed(2)}`:"-"}),a.jsx(fe,{children:a.jsx(ce,{variant:"outline",children:y(b.classe_id)})}),a.jsx(fe,{children:a.jsx(ce,{variant:b.ativo?"default":"secondary",children:b.ativo?"Ativo":"Inativo"})}),a.jsx(fe,{className:"text-right",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(b),children:a.jsx(mm,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>m(b.id),children:a.jsx(gr,{className:"h-4 w-4"})})]})})]},b.id))})]})})]})},K_e=({cliente:e,open:t,onOpenChange:r,onResgate:n})=>{const{recompensas:s}=Gc(),[o,i]=x.useState(""),[c,l]=x.useState(!1),[d,u]=x.useState([]);x.useEffect(()=>{const h=s.filter(p=>!p.ativo||p.pontos_necessarios>e.pontos_disponiveis?!1:(p.classe_id&&e.classe_nome,!0));u(h)},[s,e]);const f=async()=>{if(!o){V.error("Selecione uma recompensa");return}const h=s.find(p=>p.id===o);if(h)try{l(!0);const p=new Date;p.setDate(p.getDate()+h.validade_dias);const{data:v,error:m}=await W.from("historico_resgates").insert({user_id:e.user_id,cliente_id:e.cliente_id,recompensa_id:h.id,pontos_gastos:h.pontos_necessarios,data_expiracao:p.toISOString().split("T")[0]}).select().single();if(m)throw m;const{error:g}=await W.from("pontos_fidelidade").insert({user_id:e.user_id,cliente_id:e.cliente_id,pontos:-h.pontos_necessarios,origem:"resgate",origem_id:v.id,descricao:`Resgate: ${h.nome}`});if(g)throw g;const y=` *Recompensa Resgatada!*

Ol ${e.cliente_nome}!

Voc resgatou: *${h.nome}*
Pontos gastos: ${h.pontos_necessarios}
Pontos restantes: ${e.pontos_disponiveis-h.pontos_necessarios}

${h.descricao||""}

Vlido at: ${new Date(p).toLocaleDateString("pt-BR")}

Apresente esta mensagem no seu prximo atendimento! `,w=`https://wa.me/55${e.telefone.replace(/\D/g,"")}?text=${encodeURIComponent(y)}`;window.open(w,"_blank"),V.success("Resgate realizado! WhatsApp aberto para enviar confirmao."),n(),r(!1)}catch(p){console.error("Erro ao resgatar recompensa:",p),V.error("Erro ao processar resgate")}finally{l(!1)}};return a.jsx(Wr,{open:t,onOpenChange:r,children:a.jsxs(Sr,{children:[a.jsxs(Cr,{children:[a.jsxs(Pr,{className:"flex items-center gap-2",children:[a.jsx(Ld,{className:"h-5 w-5 text-primary"}),"Resgatar Recompensa"]}),a.jsxs(kn,{children:["Cliente: ",e.cliente_nome]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Jr,{children:[a.jsx(bc,{className:"h-4 w-4"}),a.jsxs(Qr,{children:["Pontos disponveis: ",a.jsx("strong",{children:e.pontos_disponiveis})]})]}),d.length===0?a.jsx(Jr,{children:a.jsx(Qr,{children:"Este cliente no tem pontos suficientes para resgatar nenhuma recompensa no momento."})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Selecione a Recompensa"}),a.jsxs(Fe,{value:o,onValueChange:i,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Escolha uma recompensa"})}),a.jsx(Ie,{children:d.map(h=>a.jsxs(te,{value:h.id,children:[h.nome," - ",h.pontos_necessarios," pontos"]},h.id))})]})]}),o&&(()=>{const h=s.find(p=>p.id===o);return h?a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50 space-y-2",children:[a.jsx("h4",{className:"font-medium",children:h.nome}),h.descricao&&a.jsx("p",{className:"text-sm text-muted-foreground",children:h.descricao}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{children:["Pontos necessrios: ",a.jsx("strong",{children:h.pontos_necessarios})]}),a.jsxs("p",{children:["Validade: ",a.jsxs("strong",{children:[h.validade_dias," dias"]})]})]})]}):null})(),a.jsx(z,{onClick:f,disabled:!o||c,className:"w-full",children:c?"Processando...":"Resgatar e Enviar WhatsApp"})]})]})]})})},Y_e=()=>{const{ranking:e,carregarRanking:t}=Gc(),[r,n]=x.useState(null),[s,o]=x.useState(!1),i=u=>{n(u),o(!0)},c=()=>{t()},l=u=>u.classe_nome&&u.classe_cor?{color:"border",label:u.classe_nome,style:{backgroundColor:u.classe_cor,color:"#fff"}}:{color:"bg-muted text-muted-foreground",label:"Sem classe",style:void 0},d=u=>u===1?a.jsx(lw,{className:"h-5 w-5 text-accent"}):u===2?a.jsx(K3,{className:"h-5 w-5 text-muted-foreground"}):u===3?a.jsx(dm,{className:"h-5 w-5 text-warning"}):a.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",u]});return a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lw,{className:"h-5 w-5 text-primary"}),a.jsx(Z,{children:"Top 10 Clientes"})]}),a.jsx(Oe,{children:"Ranking dos clientes mais engajados no programa"})]}),a.jsx(B,{children:e.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum cliente no programa ainda"}):a.jsx("div",{className:"space-y-4",children:e.map(u=>{const f=l(u);return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10",children:d(u.ranking)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:u.cliente_nome}),a.jsx("div",{className:"text-sm text-muted-foreground",children:u.telefone})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-primary",children:[u.pontos_totais," pts"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[u.pontos_disponiveis," disponveis"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ce,{className:f.color,style:f.style,children:f.label}),u.pontos_disponiveis>0&&a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>i(u),children:[a.jsx(Ld,{className:"h-4 w-4 mr-1"}),"Resgatar"]})]})]})]},u.cliente_id)})})}),r&&a.jsx(K_e,{cliente:r,open:s,onOpenChange:o,onResgate:c})]})},Z_e=()=>{const{classes:e,loading:t,criarClasse:r,atualizarClasse:n,excluirClasse:s}=Gc(),[o,i]=x.useState(!1),[c,l]=x.useState(null),[d,u]=x.useState({nome:"",pontos_minimos:0,cor:"#94a3b8",beneficios:"",ordem:e.length}),f=()=>{u({nome:"",pontos_minimos:0,cor:"#94a3b8",beneficios:"",ordem:e.length}),l(null)},h=async m=>{m.preventDefault(),(c?await n(c,d):await r(d))&&(i(!1),f())},p=m=>{u({nome:m.nome,pontos_minimos:m.pontos_minimos,cor:m.cor,beneficios:m.beneficios||"",ordem:m.ordem}),l(m.id),i(!0)},v=async m=>{confirm("Deseja realmente excluir esta classe?")&&await s(m)};return a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dm,{className:"h-5 w-5 text-primary"}),a.jsx(Z,{children:"Classes de Fidelidade"})]}),a.jsxs(Wr,{open:o,onOpenChange:m=>{i(m),m||f()},children:[a.jsx(fu,{asChild:!0,children:a.jsxs(z,{children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Nova Classe"]})}),a.jsxs(Sr,{children:[a.jsx(Cr,{children:a.jsx(Pr,{children:c?"Editar Classe":"Nova Classe"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome",children:"Nome da Classe"}),a.jsx(se,{id:"nome",value:d.nome,onChange:m=>u({...d,nome:m.target.value}),placeholder:"Ex: Bronze, Prata, Ouro, Platina",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"pontos_minimos",children:"Pontos Mnimos"}),a.jsx(se,{id:"pontos_minimos",type:"number",min:"0",value:d.pontos_minimos,onChange:m=>u({...d,pontos_minimos:parseInt(m.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pontos necessrios para alcanar esta classe"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cor",children:"Cor"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{id:"cor",type:"color",value:d.cor,onChange:m=>u({...d,cor:m.target.value}),className:"w-20"}),a.jsx(se,{type:"text",value:d.cor,onChange:m=>u({...d,cor:m.target.value}),placeholder:"#94a3b8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"beneficios",children:"Benefcios"}),a.jsx(pr,{id:"beneficios",value:d.beneficios,onChange:m=>u({...d,beneficios:m.target.value}),placeholder:"Descreva os benefcios desta classe...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"ordem",children:"Ordem de Exibio"}),a.jsx(se,{id:"ordem",type:"number",min:"0",value:d.ordem,onChange:m=>u({...d,ordem:parseInt(m.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Menor nmero aparece primeiro"})]}),a.jsxs(z,{type:"submit",disabled:t,className:"w-full",children:[c?"Atualizar":"Criar"," Classe"]})]})]})]})]}),a.jsx(Oe,{children:"Configure as classes/nveis do seu programa de fidelidade"})]}),a.jsx(B,{children:e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma classe configurada. Crie classes para organizar seus clientes por nvel de fidelidade."})}):a.jsxs(Dr,{children:[a.jsx(Rr,{children:a.jsxs(ht,{children:[a.jsx(pe,{children:"Ordem"}),a.jsx(pe,{children:"Nome"}),a.jsx(pe,{children:"Pontos Mnimos"}),a.jsx(pe,{children:"Cor"}),a.jsx(pe,{children:"Benefcios"}),a.jsx(pe,{className:"text-right",children:"Aes"})]})}),a.jsx(Ir,{children:e.map(m=>a.jsxs(ht,{children:[a.jsx(fe,{children:m.ordem}),a.jsx(fe,{className:"font-medium",children:m.nome}),a.jsxs(fe,{children:[m.pontos_minimos," pts"]}),a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:m.cor}}),a.jsx("span",{className:"text-sm",children:m.cor})]})}),a.jsx(fe,{className:"max-w-xs truncate",children:m.beneficios||"-"}),a.jsx(fe,{className:"text-right",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>p(m),children:a.jsx(mm,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(m.id),children:a.jsx(gr,{className:"h-4 w-4"})})]})})]},m.id))})]})})]})};function X_e(){return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(dm,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Programa de Fidelidade"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Recompense seus clientes mais fiis e aumente o engajamento"})]})]}),a.jsx(H_e,{}),a.jsxs(da,{defaultValue:"configuracao",className:"space-y-6",children:[a.jsxs(Ln,{className:"grid w-full grid-cols-3",children:[a.jsx(He,{value:"configuracao",children:"Configurao"}),a.jsx(He,{value:"recompensas",children:"Recompensas"}),a.jsx(He,{value:"clientes",children:"Clientes"})]}),a.jsxs(Ge,{value:"configuracao",className:"space-y-6",children:[a.jsx(W_e,{}),a.jsx(Z_e,{})]}),a.jsx(Ge,{value:"recompensas",className:"space-y-6",children:a.jsx(G_e,{})}),a.jsx(Ge,{value:"clientes",className:"space-y-6",children:a.jsx(Y_e,{})})]})]})}function xu(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)return;const{data:d,error:u}=await W.from("produtos").select("*").eq("user_id",l.id).order("nome");if(u)throw u;t(d||[])}catch(l){V.error("Erro ao carregar produtos: "+l.message)}finally{n(!1)}},o=async l=>{try{const{data:{user:d}}=await W.auth.getUser();if(!d)throw new Error("Usurio no autenticado");const{error:u}=await W.from("produtos").insert([{...l,user_id:d.id,estoque_atual:0}]);if(u)throw u;V.success("Produto cadastrado com sucesso!"),await s()}catch(d){throw V.error("Erro ao cadastrar produto: "+d.message),d}},i=async(l,d)=>{try{const{error:u}=await W.from("produtos").update(d).eq("id",l);if(u)throw u;V.success("Produto atualizado com sucesso!"),await s()}catch(u){throw V.error("Erro ao atualizar produto: "+u.message),u}},c=async l=>{try{const{error:d}=await W.from("produtos").update({ativo:!1}).eq("id",l);if(d)throw d;V.success("Produto desativado com sucesso!"),await s()}catch(d){throw V.error("Erro ao desativar produto: "+d.message),d}};return x.useEffect(()=>{s()},[]),{produtos:e,loading:r,createProduto:o,updateProduto:i,deleteProduto:c,recarregar:s}}function Kp(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)return;const{data:d,error:u}=await W.from("fornecedores").select("*").eq("user_id",l.id).order("nome");if(u)throw u;t(d||[])}catch(l){V.error("Erro ao carregar fornecedores: "+l.message)}finally{n(!1)}},o=async l=>{try{const{data:{user:d}}=await W.auth.getUser();if(!d)throw new Error("Usurio no autenticado");const{error:u}=await W.from("fornecedores").insert([{...l,user_id:d.id}]);if(u)throw u;V.success("Fornecedor cadastrado com sucesso!"),await s()}catch(d){throw V.error("Erro ao cadastrar fornecedor: "+d.message),d}},i=async(l,d)=>{try{const{error:u}=await W.from("fornecedores").update(d).eq("id",l);if(u)throw u;V.success("Fornecedor atualizado com sucesso!"),await s()}catch(u){throw V.error("Erro ao atualizar fornecedor: "+u.message),u}},c=async l=>{try{const{error:d}=await W.from("fornecedores").delete().eq("id",l);if(d)throw d;V.success("Fornecedor excludo com sucesso!"),await s()}catch(d){throw V.error("Erro ao excluir fornecedor: "+d.message),d}};return x.useEffect(()=>{s()},[]),{fornecedores:e,loading:r,createFornecedor:o,updateFornecedor:i,deleteFornecedor:c,recarregar:s}}function yj(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)return;const{data:d,error:u}=await W.from("categorias_produtos").select("*").eq("user_id",l.id).order("tipo",{ascending:!0}).order("nome",{ascending:!0});if(u)throw u;t(d||[])}catch(l){V.error("Erro ao carregar categorias: "+l.message)}finally{n(!1)}},o=async l=>{try{const{data:{user:d}}=await W.auth.getUser();if(!d)throw new Error("Usurio no autenticado");const{error:u}=await W.from("categorias_produtos").insert([{...l,user_id:d.id}]);if(u)throw u;V.success("Categoria criada com sucesso!"),await s()}catch(d){throw V.error("Erro ao criar categoria: "+d.message),d}},i=async(l,d)=>{try{const{error:u}=await W.from("categorias_produtos").update(d).eq("id",l);if(u)throw u;V.success("Categoria atualizada com sucesso!"),await s()}catch(u){throw V.error("Erro ao atualizar categoria: "+u.message),u}},c=async l=>{try{const{error:d}=await W.from("categorias_produtos").delete().eq("id",l);if(d)throw d;V.success("Categoria excluda com sucesso!"),await s()}catch(d){throw V.error("Erro ao excluir categoria: "+d.message),d}};return x.useEffect(()=>{s()},[]),{categorias:e,loading:r,createCategoria:o,updateCategoria:i,deleteCategoria:c,recarregar:s}}function J_e({produto:e,onSuccess:t,onCancel:r}){const{createProduto:n,updateProduto:s}=xu(),{fornecedores:o}=Kp(),{categorias:i}=yj(),[c,l]=x.useState({nome:"",descricao:"",codigo_barras:"",categoria:"uso_profissional",fornecedor_id:"",estoque_minimo:0,unidade_medida:"un",preco_custo:0,preco_venda:0,ativo:!0});x.useEffect(()=>{e&&l({nome:e.nome,descricao:e.descricao||"",codigo_barras:e.codigo_barras||"",categoria:e.categoria,fornecedor_id:e.fornecedor_id||"",estoque_minimo:e.estoque_minimo,unidade_medida:e.unidade_medida,preco_custo:e.preco_custo,preco_venda:e.preco_venda,ativo:e.ativo})},[e]);const d=async u=>{u.preventDefault();try{e?await s(e.id,c):await n(c),t()}catch(f){console.error("Erro ao salvar produto:",f)}};return a.jsxs("form",{onSubmit:d,className:"space-y-5 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome",className:"text-sm sm:text-base",children:"Nome *"}),a.jsx(se,{id:"nome",required:!0,className:"h-12 sm:h-11 text-base sm:text-sm",value:c.nome,onChange:u=>l({...c,nome:u.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"categoria",children:"Tipo *"}),a.jsxs(Fe,{value:c.categoria,onValueChange:u=>l({...c,categoria:u}),children:[a.jsx(Re,{children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"uso_profissional",children:"Uso Profissional"}),a.jsx(te,{value:"revenda",children:"Revenda"}),a.jsx(te,{value:"consumo",children:"Consumo"})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.categoria==="revenda"&&"Produtos para revender aos clientes",c.categoria==="uso_profissional"&&"Produtos usados em procedimentos",c.categoria==="consumo"&&"Produtos de uso prprio do salo"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"categoria_id",children:"Categoria Personalizada"}),a.jsxs(Fe,{value:c.categoria_id||"none",onValueChange:u=>l({...c,categoria_id:u==="none"?void 0:u}),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Nenhuma"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"none",children:"Nenhuma"}),i.filter(u=>u.tipo===c.categoria&&u.ativo).map(u=>a.jsx(te,{value:u.id,children:u.nome},u.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"fornecedor_id",children:"Fornecedor"}),a.jsxs(Fe,{value:c.fornecedor_id,onValueChange:u=>l({...c,fornecedor_id:u}),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um fornecedor"})}),a.jsx(Ie,{children:o.map(u=>a.jsx(te,{value:u.id,children:u.nome},u.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"codigo_barras",children:"Cdigo de Barras"}),a.jsx(se,{id:"codigo_barras",value:c.codigo_barras,onChange:u=>l({...c,codigo_barras:u.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"estoque_minimo",children:"Estoque Mnimo *"}),a.jsx(se,{id:"estoque_minimo",type:"number",min:"0",step:"0.01",required:!0,value:c.estoque_minimo,onChange:u=>l({...c,estoque_minimo:parseFloat(u.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"unidade_medida",children:"Unidade de Medida *"}),a.jsx(se,{id:"unidade_medida",required:!0,value:c.unidade_medida,onChange:u=>l({...c,unidade_medida:u.target.value}),placeholder:"Ex: un, kg, L"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"preco_custo",children:"Preo de Custo (R$) *"}),a.jsx(se,{id:"preco_custo",type:"number",min:"0",step:"0.01",required:!0,value:c.preco_custo,onChange:u=>l({...c,preco_custo:parseFloat(u.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"preco_venda",children:"Preo de Venda (R$) *"}),a.jsx(se,{id:"preco_venda",type:"number",min:"0",step:"0.01",required:!0,value:c.preco_venda,onChange:u=>l({...c,preco_venda:parseFloat(u.target.value)||0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"descricao",children:"Descrio"}),a.jsx(pr,{id:"descricao",value:c.descricao,onChange:u=>l({...c,descricao:u.target.value}),rows:3})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qt,{id:"ativo",checked:c.ativo,onCheckedChange:u=>l({...c,ativo:u})}),a.jsx(G,{htmlFor:"ativo",children:"Produto Ativo"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end pt-4",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,className:"h-11 btn-touch sm:flex-1",children:"Cancelar"}),a.jsx(z,{type:"submit",className:"h-11 btn-touch sm:flex-1",children:e?"Atualizar":"Cadastrar"})]})]})}function Q_e(){const{produtos:e,loading:t,deleteProduto:r}=xu(),[n,s]=x.useState(null),[o,i]=x.useState(!1),c=async(d,u)=>{confirm(`Desativar o produto "${u}"? Ele ficar oculto mas o histrico ser preservado.`)&&await r(d)},l=d=>({uso_profissional:"Uso Profissional",revenda:"Revenda",consumo:"Consumo"})[d]||d;return t?a.jsx("div",{className:"flex justify-center p-8",children:"Carregando..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Produtos"}),a.jsxs(z,{onClick:()=>{s(null),i(!0)},children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]}),o&&a.jsx(L,{className:"p-6",children:a.jsx(J_e,{produto:n,onSuccess:()=>{i(!1),s(null)},onCancel:()=>{i(!1),s(null)}})}),a.jsxs("div",{className:"grid gap-3 sm:gap-4",children:[e.map(d=>a.jsx(L,{className:"p-4 sm:p-5 border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[a.jsxs("div",{className:"flex-1 w-full min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:d.nome}),a.jsx(ce,{variant:d.ativo?"default":"secondary",className:"text-xs h-5",children:d.ativo?"Ativo":"Inativo"}),a.jsx(ce,{variant:"outline",className:"text-xs h-5",children:l(d.categoria)}),d.estoque_atual<=d.estoque_minimo&&a.jsxs(ce,{variant:"destructive",className:"flex items-center gap-1 text-xs h-5",children:[a.jsx(cr,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden xs:inline",children:"Estoque Baixo"}),a.jsx("span",{className:"xs:hidden",children:"Baixo"})]})]}),d.descricao&&a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3",children:d.descricao}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Estoque:"}),a.jsxs("span",{className:"font-medium",children:[d.estoque_atual," ",d.unidade_medida]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mnimo:"}),a.jsxs("span",{className:"font-medium",children:[d.estoque_minimo," ",d.unidade_medida]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Custo:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",Number(d.preco_custo).toFixed(2)]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Venda:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",Number(d.preco_venda).toFixed(2)]})]})]})]}),a.jsxs("div",{className:"flex sm:flex-col gap-2 w-full sm:w-auto",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{s(d),i(!0)},className:"flex-1 sm:flex-none h-10 btn-touch",children:[a.jsx(mm,{className:"h-3 w-3 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Editar"})]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>c(d.id,d.nome),className:"flex-1 sm:flex-none h-10 btn-touch hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(gr,{className:"h-3 w-3 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Desativar"})]})]})]})},d.id)),e.length===0&&a.jsx(L,{className:"p-8 text-center text-muted-foreground",children:"Nenhum produto cadastrado ainda."})]})]})}function e1e({fornecedor:e,onSuccess:t,onCancel:r}){const{createFornecedor:n,updateFornecedor:s}=Kp(),[o,i]=x.useState({nome:"",cnpj:"",telefone:"",email:"",endereco:"",cidade:"",estado:"",cep:"",observacoes:"",ativo:!0});x.useEffect(()=>{e&&i({nome:e.nome,cnpj:e.cnpj||"",telefone:e.telefone||"",email:e.email||"",endereco:e.endereco||"",cidade:e.cidade||"",estado:e.estado||"",cep:e.cep||"",observacoes:e.observacoes||"",ativo:e.ativo})},[e]);const c=async l=>{l.preventDefault();try{e?await s(e.id,o):await n(o),t()}catch(d){console.error("Erro ao salvar fornecedor:",d)}};return a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome",children:"Nome *"}),a.jsx(se,{id:"nome",required:!0,value:o.nome,onChange:l=>i({...o,nome:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cnpj",children:"CNPJ"}),a.jsx(se,{id:"cnpj",value:o.cnpj,onChange:l=>i({...o,cnpj:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"telefone",children:"Telefone"}),a.jsx(se,{id:"telefone",value:o.telefone,onChange:l=>i({...o,telefone:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"email",children:"E-mail"}),a.jsx(se,{id:"email",type:"email",value:o.email,onChange:l=>i({...o,email:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cidade",children:"Cidade"}),a.jsx(se,{id:"cidade",value:o.cidade,onChange:l=>i({...o,cidade:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"estado",children:"Estado"}),a.jsx(se,{id:"estado",maxLength:2,value:o.estado,onChange:l=>i({...o,estado:l.target.value.toUpperCase()})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cep",children:"CEP"}),a.jsx(se,{id:"cep",value:o.cep,onChange:l=>i({...o,cep:l.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"endereco",children:"Endereo"}),a.jsx(se,{id:"endereco",value:o.endereco,onChange:l=>i({...o,endereco:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"observacoes",children:"Observaes"}),a.jsx(pr,{id:"observacoes",value:o.observacoes,onChange:l=>i({...o,observacoes:l.target.value}),rows:3})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qt,{id:"ativo",checked:o.ativo,onCheckedChange:l=>i({...o,ativo:l})}),a.jsx(G,{htmlFor:"ativo",children:"Fornecedor Ativo"})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),a.jsx(z,{type:"submit",children:e?"Atualizar":"Cadastrar"})]})]})}function t1e(){const{fornecedores:e,loading:t,deleteFornecedor:r}=Kp(),[n,s]=x.useState(null),[o,i]=x.useState(!1),c=async l=>{confirm("Tem certeza que deseja excluir este fornecedor?")&&await r(l)};return t?a.jsx("div",{className:"flex justify-center p-8",children:"Carregando..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Fornecedores"}),a.jsxs(z,{onClick:()=>{s(null),i(!0)},children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Novo Fornecedor"]})]}),o&&a.jsx(L,{className:"p-6",children:a.jsx(e1e,{fornecedor:n,onSuccess:()=>{i(!1),s(null)},onCancel:()=>{i(!1),s(null)}})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.map(l=>a.jsx(L,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:l.nome}),a.jsx(ce,{variant:l.ativo?"default":"secondary",children:l.ativo?"Ativo":"Inativo"})]}),l.cnpj&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["CNPJ: ",l.cnpj]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[l.telefone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ns,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:l.telefone})]}),l.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hm,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:l.email})]}),l.cidade&&l.estado&&a.jsxs("p",{className:"text-muted-foreground",children:[l.cidade," - ",l.estado]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{s(l),i(!0)},children:a.jsx(mm,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>c(l.id),children:a.jsx(gr,{className:"h-4 w-4"})})]})]})},l.id)),e.length===0&&a.jsx(L,{className:"p-8 text-center text-muted-foreground col-span-2",children:"Nenhum fornecedor cadastrado ainda."})]})]})}function r1e({onSuccess:e}){const{createCompra:t}=mu(),{fornecedores:r}=Kp(),{produtos:n}=xu(),[s,o]=x.useState(""),[i,c]=x.useState(""),[l,d]=x.useState(new Date().toISOString().split("T")[0]),[u,f]=x.useState(""),[h,p]=x.useState(""),[v,m]=x.useState(""),[g,y]=x.useState([{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}]),b=()=>{y([...g,{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}])},w=_=>{y(g.filter((C,E)=>E!==_))},j=(_,C,E)=>{const $=[...g];$[_]={...$[_],[C]:E},(C==="quantidade"||C==="valor_unitario")&&($[_].valor_total=$[_].quantidade*$[_].valor_unitario),y($)},N=()=>g.reduce((_,C)=>_+C.valor_total,0),S=async _=>{if(_.preventDefault(),g.some(C=>!C.produto_id)){alert("Selecione um produto para cada item");return}try{await t({fornecedor_id:s||void 0,numero_nota:i||void 0,data_compra:l,data_vencimento:u||void 0,valor_total:N(),forma_pagamento:h||void 0,observacoes:v||void 0,itens:g}),e()}catch(C){console.error("Erro ao registrar compra:",C)}};return a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs(L,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Informaes da Compra"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(G,{children:"Fornecedor"}),a.jsxs(Fe,{value:s,onValueChange:o,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um fornecedor (opcional)"})}),a.jsx(Ie,{children:r.map(_=>a.jsx(te,{value:_.id,children:_.nome},_.id))})]})]}),a.jsxs("div",{children:[a.jsx(G,{children:"Nmero da Nota"}),a.jsx(se,{value:i,onChange:_=>c(_.target.value),placeholder:"Ex: NF-12345"})]}),a.jsxs("div",{children:[a.jsx(G,{children:"Data da Compra"}),a.jsx(se,{type:"date",value:l,onChange:_=>d(_.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(G,{children:"Data de Vencimento"}),a.jsx(se,{type:"date",value:u,onChange:_=>f(_.target.value)})]}),a.jsxs("div",{children:[a.jsx(G,{children:"Forma de Pagamento"}),a.jsxs(Fe,{value:h,onValueChange:p,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"dinheiro",children:"Dinheiro"}),a.jsx(te,{value:"pix",children:"PIX"}),a.jsx(te,{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx(te,{value:"cartao_debito",children:"Carto de Dbito"}),a.jsx(te,{value:"boleto",children:"Boleto"}),a.jsx(te,{value:"a_prazo",children:"A Prazo"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Observaes"}),a.jsx(pr,{value:v,onChange:_=>m(_.target.value),placeholder:"Observaes sobre a compra"})]})]})]}),a.jsxs(L,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Itens da Compra"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:b,children:[a.jsx(Nr,{className:"h-4 w-4 mr-1"}),"Adicionar Item"]})]}),a.jsx("div",{className:"space-y-4",children:g.map((_,C)=>a.jsx(L,{className:"p-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-12 items-end",children:[a.jsxs("div",{className:"md:col-span-5",children:[a.jsx(G,{children:"Produto"}),a.jsxs(Fe,{value:_.produto_id,onValueChange:E=>j(C,"produto_id",E),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione o produto"})}),a.jsx(Ie,{children:n.map(E=>a.jsx(te,{value:E.id,children:E.nome},E.id))})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Quantidade"}),a.jsx(se,{type:"number",min:"0",step:"0.01",value:_.quantidade,onChange:E=>j(C,"quantidade",parseFloat(E.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Valor Unitrio"}),a.jsx(se,{type:"number",min:"0",step:"0.01",value:_.valor_unitario,onChange:E=>j(C,"valor_unitario",parseFloat(E.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Total"}),a.jsx(se,{type:"number",value:_.valor_total.toFixed(2),disabled:!0})]}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>w(C),disabled:g.length===1,children:a.jsx(gr,{className:"h-4 w-4"})})})]})},C))}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"Valor Total:"}),a.jsxs("span",{children:["R$ ",N().toFixed(2)]})]})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),a.jsx(z,{type:"submit",children:"Registrar Compra"})]})]})}function n1e(){const{compras:e,loading:t}=mu(),[r,n]=x.useState(!1),s=o=>{const i={pendente:"secondary",pago_parcial:"default",pago:"default",vencido:"destructive"},c={pendente:"Pendente",pago_parcial:"Pago Parcial",pago:"Pago",vencido:"Vencido"};return a.jsx(ce,{variant:i[o],children:c[o]})};return t?a.jsx("div",{className:"flex justify-center p-8",children:"Carregando..."}):r?a.jsxs(L,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Registrar Nova Compra"}),a.jsx(r1e,{onSuccess:()=>n(!1)})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Histrico de Compras"}),a.jsxs(z,{onClick:()=>n(!0),children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Nova Compra"]})]}),a.jsxs("div",{className:"grid gap-4",children:[e.map(o=>a.jsxs(L,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold",children:o.numero_nota?`Nota: ${o.numero_nota}`:`Compra #${o.id.slice(0,8)}`}),s(o.status_pagamento)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Te(new Date(o.data_compra),"dd 'de' MMMM 'de' yyyy",{locale:Le})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",Number(o.valor_total).toFixed(2)]}),o.valor_devido>0&&a.jsxs("p",{className:"text-sm text-destructive",children:["Devido: R$ ",Number(o.valor_devido).toFixed(2)]})]})]}),o.itens_compra&&o.itens_compra.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Itens:"}),a.jsx("div",{className:"space-y-1",children:o.itens_compra.map(i=>a.jsxs("div",{className:"text-sm flex justify-between",children:[a.jsxs("span",{children:[i.quantidade,"x - Produto ID: ",i.produto_id.slice(0,8)]}),a.jsxs("span",{children:["R$ ",Number(i.valor_total).toFixed(2)]})]},i.id))})]})]},o.id)),e.length===0&&a.jsx(L,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma compra registrada ainda."})]})]})}function a1e({categoria:e,onSuccess:t,onCancel:r}){const{createCategoria:n,updateCategoria:s}=yj(),[o,i]=x.useState({nome:"",tipo:"revenda",cor:"#94a3b8",ativo:!0});x.useEffect(()=>{e&&i({nome:e.nome,tipo:e.tipo,cor:e.cor||"#94a3b8",icone:e.icone,ativo:e.ativo})},[e]);const c=async d=>{d.preventDefault();try{e?await s(e.id,o):await n(o),t()}catch(u){console.error("Erro ao salvar categoria:",u)}},l=d=>({revenda:"Revenda",uso_profissional:"Uso Profissional",consumo:"Consumo"})[d];return a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:"nome",children:"Nome da Categoria"}),a.jsx(se,{id:"nome",value:o.nome,onChange:d=>i({...o,nome:d.target.value}),placeholder:"Ex: Esmaltes, Shampoos, Material de Limpeza",required:!0})]}),a.jsxs("div",{children:[a.jsx(G,{htmlFor:"tipo",children:"Tipo"}),a.jsxs(Fe,{value:o.tipo,onValueChange:d=>i({...o,tipo:d}),children:[a.jsx(Re,{children:a.jsx(ze,{})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"revenda",children:l("revenda")}),a.jsx(te,{value:"uso_profissional",children:l("uso_profissional")}),a.jsx(te,{value:"consumo",children:l("consumo")})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[o.tipo==="revenda"&&"Produtos que voc compra para revender no salo",o.tipo==="uso_profissional"&&"Produtos usados em procedimentos com clientes",o.tipo==="consumo"&&"Produtos para uso prprio do salo"]})]}),a.jsxs("div",{children:[a.jsx(G,{htmlFor:"cor",children:"Cor"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{id:"cor",type:"color",value:o.cor,onChange:d=>i({...o,cor:d.target.value}),className:"w-20 h-10"}),a.jsx(se,{value:o.cor,onChange:d=>i({...o,cor:d.target.value}),placeholder:"#94a3b8"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(G,{htmlFor:"ativo",children:"Categoria Ativa"}),a.jsx(qt,{id:"ativo",checked:o.ativo,onCheckedChange:d=>i({...o,ativo:d})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),a.jsx(z,{type:"submit",children:e?"Atualizar":"Cadastrar"})]})]})}function s1e(){const{categorias:e,loading:t,deleteCategoria:r}=yj(),[n,s]=x.useState(!1),[o,i]=x.useState(),[c,l]=x.useState(null),d=p=>{i(p),s(!0)},u=async()=>{c&&(await r(c),l(null))},f=p=>({revenda:"Revenda",uso_profissional:"Uso Profissional",consumo:"Consumo"})[p],h=p=>({revenda:"default",uso_profissional:"secondary",consumo:"outline"})[p];return t?a.jsx("div",{children:"Carregando categorias..."}):n?a.jsxs(L,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:o?"Editar Categoria":"Nova Categoria"}),a.jsx(a1e,{categoria:o,onSuccess:()=>{s(!1),i(void 0)},onCancel:()=>{s(!1),i(void 0)}})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Categorias de Produtos"}),a.jsxs(z,{onClick:()=>s(!0),children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),e.length===0?a.jsxs(L,{className:"p-8 text-center",children:[a.jsx(Fd,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma categoria cadastrada. Crie categorias para organizar seus produtos!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(p=>a.jsxs(L,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.cor}}),a.jsx("h3",{className:"font-semibold",children:p.nome})]}),!p.ativo&&a.jsx(ce,{variant:"outline",children:"Inativa"})]}),a.jsx(ce,{variant:h(p.tipo),className:"mb-3",children:f(p.tipo)}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>d(p),className:"flex-1",children:[a.jsx(Qn,{className:"h-4 w-4 mr-1"}),"Editar"]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l(p.id),className:"flex-1",children:[a.jsx(gr,{className:"h-4 w-4 mr-1"}),"Excluir"]})]})]},p.id))}),a.jsx(sa,{open:!!c,onOpenChange:()=>l(null),children:a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsx($n,{children:"Confirmar excluso"}),a.jsx(Mn,{children:"Tem certeza que deseja excluir esta categoria? Os produtos associados no sero excludos, mas perdero a referncia  categoria."})]}),a.jsxs(Tn,{children:[a.jsx(oa,{children:"Cancelar"}),a.jsx(Dn,{onClick:u,children:"Excluir"})]})]})})]})}function o1e({onSuccess:e}){const{createVenda:t}=pu(),{produtos:r}=xu(),{clientes:n}=Yd(),[s,o]=x.useState(""),[i,c]=x.useState(new Date().toISOString().split("T")[0]),[l,d]=x.useState(""),[u,f]=x.useState(""),[h,p]=x.useState([{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}]),v=r.filter(j=>j.categoria==="revenda"&&j.ativo),m=()=>{p([...h,{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}])},g=j=>{p(h.filter((N,S)=>S!==j))},y=(j,N,S)=>{const _=[...h];if(_[j]={..._[j],[N]:S},N==="produto_id"){const C=r.find(E=>E.id===S);C&&(_[j].valor_unitario=C.preco_venda)}(N==="quantidade"||N==="valor_unitario")&&(_[j].valor_total=_[j].quantidade*_[j].valor_unitario),p(_)},b=()=>h.reduce((j,N)=>j+N.valor_total,0),w=async j=>{if(j.preventDefault(),h.some(N=>!N.produto_id)){alert("Selecione um produto para cada item");return}try{await t({cliente_id:s||void 0,data_venda:i,forma_pagamento:l||void 0,observacoes:u||void 0,itens:h}),e()}catch(N){console.error("Erro ao registrar venda:",N)}};return a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs(L,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Informaes da Venda"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(G,{children:"Cliente (opcional)"}),a.jsxs(Fe,{value:s,onValueChange:o,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione um cliente"})}),a.jsx(Ie,{children:n.map(j=>a.jsx(te,{value:j.id,children:j.nome},j.id))})]})]}),a.jsxs("div",{children:[a.jsx(G,{children:"Data da Venda"}),a.jsx(se,{type:"date",value:i,onChange:j=>c(j.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(G,{children:"Forma de Pagamento"}),a.jsxs(Fe,{value:l,onValueChange:d,children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione"})}),a.jsxs(Ie,{children:[a.jsx(te,{value:"dinheiro",children:"Dinheiro"}),a.jsx(te,{value:"pix",children:"PIX"}),a.jsx(te,{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx(te,{value:"cartao_debito",children:"Carto de Dbito"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Observaes"}),a.jsx(pr,{value:u,onChange:j=>f(j.target.value),placeholder:"Observaes sobre a venda"})]})]})]}),a.jsxs(L,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Itens da Venda"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:m,children:[a.jsx(Nr,{className:"h-4 w-4 mr-1"}),"Adicionar Item"]})]}),v.length===0&&a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:'Nenhum produto de revenda cadastrado. Cadastre produtos com a categoria "Revenda" para poder vend-los.'}),a.jsx("div",{className:"space-y-4",children:h.map((j,N)=>a.jsx(L,{className:"p-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-12 items-end",children:[a.jsxs("div",{className:"md:col-span-5",children:[a.jsx(G,{children:"Produto"}),a.jsxs(Fe,{value:j.produto_id,onValueChange:S=>y(N,"produto_id",S),children:[a.jsx(Re,{children:a.jsx(ze,{placeholder:"Selecione o produto"})}),a.jsx(Ie,{children:v.map(S=>a.jsxs(te,{value:S.id,children:[S.nome," - R$ ",S.preco_venda.toFixed(2)]},S.id))})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Quantidade"}),a.jsx(se,{type:"number",min:"0",step:"0.01",value:j.quantidade,onChange:S=>y(N,"quantidade",parseFloat(S.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Valor Unitrio"}),a.jsx(se,{type:"number",min:"0",step:"0.01",value:j.valor_unitario,onChange:S=>y(N,"valor_unitario",parseFloat(S.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(G,{children:"Total"}),a.jsx(se,{type:"number",value:j.valor_total.toFixed(2),disabled:!0})]}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>g(N),disabled:h.length===1,children:a.jsx(gr,{className:"h-4 w-4"})})})]})},N))}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"Valor Total:"}),a.jsxs("span",{children:["R$ ",b().toFixed(2)]})]})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),a.jsx(z,{type:"submit",children:"Registrar Venda"})]})]})}function i1e(){const{vendas:e,loading:t}=pu(),[r,n]=x.useState(!1);return t?a.jsx("div",{children:"Carregando vendas..."}):r?a.jsxs(L,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Registrar Nova Venda"}),a.jsx(o1e,{onSuccess:()=>n(!1)})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Vendas de Produtos"}),a.jsxs(z,{onClick:()=>n(!0),children:[a.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Nova Venda"]})]}),e.length===0?a.jsxs(L,{className:"p-8 text-center",children:[a.jsx(zP,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma venda registrada ainda."})]}):a.jsx("div",{className:"space-y-3",children:e.map(s=>a.jsx(L,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("h3",{className:"font-semibold",children:["Venda #",s.id.slice(0,8)]}),a.jsx(ce,{variant:s.status_pagamento==="pago"?"default":"secondary",children:s.status_pagamento==="pago"?"Pago":"Pendente"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("p",{children:["Data: ",Te(new Date(s.data_venda),"dd/MM/yyyy",{locale:Le})]}),s.forma_pagamento&&a.jsxs("p",{children:["Pagamento: ",s.forma_pagamento]}),s.observacoes&&a.jsx("p",{className:"mt-2",children:s.observacoes})]}),s.itens_venda&&s.itens_venda.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Itens:"}),a.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:s.itens_venda.map(o=>a.jsxs("li",{children:[o.quantidade,"x - R$ ",o.valor_unitario.toFixed(2)," = R$ ",o.valor_total.toFixed(2)]},o.id))})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",s.valor_total.toFixed(2)]})})]})},s.id))})]})}function c1e(){const[e,t]=x.useState("produtos"),{produtos:r}=xu(),{compras:n}=mu(),{vendas:s}=pu(),o={totalProdutos:r.length,produtosAtivos:r.filter(i=>i.ativo).length,estoqueTotal:r.reduce((i,c)=>i+c.estoque_atual,0),comprasRealizadas:n.length,vendasRealizadas:s.length};return a.jsxs("div",{className:"container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Produtos e Estoque"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Gerencie seus produtos, fornecedores e movimentaes de estoque"})]})}),a.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-5",children:[a.jsx(L,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg flex-shrink-0",children:a.jsx(Na,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Total de Produtos"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.totalProdutos})]})]})}),a.jsx(L,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg flex-shrink-0",children:a.jsx(Na,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Produtos Ativos"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.produtosAtivos})]})]})}),a.jsx(L,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:a.jsx(Mt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Estoque Total"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.estoqueTotal})]})]})}),a.jsx(L,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg flex-shrink-0",children:a.jsx(Cf,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Compras Realizadas"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.comprasRealizadas})]})]})}),a.jsx(L,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg flex-shrink-0",children:a.jsx(dt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Vendas Realizadas"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.vendasRealizadas})]})]})})]}),a.jsxs(da,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(Ln,{className:"w-full",children:[a.jsxs(He,{value:"produtos",className:"gap-2",children:[a.jsx(Na,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Produtos"})]}),a.jsxs(He,{value:"fornecedores",className:"gap-2",children:[a.jsx(qr,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Fornecedores"})]}),a.jsxs(He,{value:"compras",className:"gap-2",children:[a.jsx(Cf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Compras"})]}),a.jsxs(He,{value:"categorias",className:"gap-2",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Categorias"})]}),a.jsxs(He,{value:"vendas",className:"gap-2",children:[a.jsx(dt,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Vendas"})]})]}),a.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-background to-transparent pointer-events-none sm:hidden"})]}),a.jsx(Ge,{value:"produtos",className:"space-y-4",children:a.jsx(Q_e,{})}),a.jsx(Ge,{value:"fornecedores",className:"space-y-4",children:a.jsx(t1e,{})}),a.jsx(Ge,{value:"compras",className:"space-y-4",children:a.jsx(n1e,{})}),a.jsx(Ge,{value:"categorias",className:"space-y-4",children:a.jsx(s1e,{})}),a.jsx(Ge,{value:"vendas",className:"space-y-4",children:a.jsx(i1e,{})})]})]})}function l1e(){const e=Ar(),{subscription:t,isSubscriptionLoading:r,checkSubscription:n,session:s,user:o,setSubscription:i}=It(),[c,l]=x.useState(!1);x.useEffect(()=>{t?.status==="active"&&(console.log("[ASSINATURA] User has active subscription, redirecting to dashboard"),e("/",{replace:!0}))},[t,e]);const d=async()=>{if(!s){V.error("Voc precisa estar logado para assinar");return}l(!0);try{console.log("[SUBSCRIBE] Iniciando checkout...");const{data:m,error:g}=await W.functions.invoke("create-checkout");if(g){V.error("Erro ao criar sesso de checkout"),console.error(g);return}if(m?.message==="Already subscribed"&&m?.redirect){V.success("Voc j tem uma assinatura ativa!"),await n(),setTimeout(()=>e("/"),1500);return}m?.url&&(window.open(m.url,"_blank"),V.info("Complete o pagamento na janela que abriu. Seu status ser atualizado automaticamente."),setTimeout(()=>n(),5e3),setTimeout(()=>n(),1e4),setTimeout(()=>n(),2e4))}catch(m){console.error("Erro ao iniciar checkout:",m),V.error("Erro ao processar pagamento")}finally{l(!1)}},u=async()=>{l(!0);try{V.info("Verificando status da assinatura..."),await n(),V.success("Status atualizado!")}catch(m){console.error("Erro ao verificar status:",m),V.error("Erro ao verificar status")}finally{l(!1)}},f=async()=>{if(!s){V.error("Voc precisa estar logado");return}l(!0);try{const{data:m,error:g}=await W.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${s.access_token}`}});if(g){V.error("Erro ao abrir portal de gerenciamento"),console.error(g);return}m?.url&&window.open(m.url,"_blank")}catch(m){console.error("Erro ao abrir portal:",m),V.error("Erro ao abrir portal de gerenciamento")}finally{l(!1)}};if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(pa,{className:"h-8 w-8 animate-spin"})});const h=t?.subscribed,p=t?.status==="trial",v=t?.status==="expired";return t?.status,t?.status,a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:a.jsxs("div",{className:"container mx-auto py-12 px-4 max-w-5xl",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Sua Assinatura"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Gerencie seu plano e aproveite todos os recursos"})]}),h||p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(L,{className:"border-primary/20 shadow-lg",children:[a.jsx(Y,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx(Pu,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-2xl mb-1",children:p?"Perodo de Teste Grtis":"Plano Premium Ativo"}),a.jsx(Oe,{className:"text-base",children:p?"Aproveite todos os recursos sem custo":"Acesso completo a todas as funcionalidades"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ce,{className:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",children:[a.jsx(bt,{className:"h-3 w-3 mr-1"}),"Ativo"]}),a.jsxs(ce,{variant:"outline",className:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400",children:[a.jsx(bt,{className:"h-3 w-3 mr-1"}),"Cancele quando quiser"]})]})]})}),a.jsxs(B,{className:"space-y-6",children:[p&&t.trial_end_date&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:a.jsx(_a,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-900 dark:text-blue-100 mb-1",children:" Teste Grtis Ativo"}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-3",children:"Voc est aproveitando 7 dias de acesso gratuito a todos os recursos premium"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsxs("span",{className:"font-medium",children:["Termina em: ",Te(new Date(t.trial_end_date),"dd 'de' MMMM 'de' yyyy",{locale:Le})]})]})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm",children:[a.jsx("p",{className:"text-blue-900 dark:text-blue-100 font-medium mb-1",children:" Durante o Trial"}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Nenhum carto de crdito necessrio. Voc pode cancelar a qualquer momento ou deixar expirar automaticamente sem cobranas."})]})]}),!p&&t.subscription_end&&a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(Se,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Prxima renovao"}),a.jsx("p",{className:"font-semibold text-lg",children:Te(new Date(t.subscription_end),"dd 'de' MMMM 'de' yyyy",{locale:Le})})]}),a.jsx(ce,{variant:"outline",className:"text-sm",children:"R$ 20,00/ms"})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsxs("div",{className:"text-sm text-muted-foreground text-center mb-2",children:[a.jsx("p",{className:"font-medium mb-1",children:"Gerenciar sua Assinatura"}),a.jsx("p",{className:"text-xs",children:"Acesse o portal para atualizar pagamento, ver faturas ou cancelar quando quiser"})]}),a.jsx(z,{onClick:f,disabled:c,className:"w-full",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pa,{className:"mr-2 h-4 w-4 animate-spin"}),"Carregando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(So,{className:"mr-2 h-4 w-4"}),"Abrir Portal de Gerenciamento"]})})]})]})]}),p&&a.jsx(L,{className:"border-blue-200 dark:border-blue-800",children:a.jsx(B,{className:"pt-6",children:a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Acabou de assinar? Clique abaixo para atualizar seu status"}),a.jsx(z,{onClick:async()=>{l(!0),await n(),l(!1),V.success("Status atualizado!")},variant:"outline",disabled:c,className:"w-full",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pa,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Atualizar Status da Assinatura"]})})]})})}),a.jsxs(L,{className:"border-muted",children:[a.jsx(Y,{children:a.jsx(Z,{className:"text-lg",children:" Sobre o Cancelamento"})}),a.jsxs(B,{className:"space-y-3 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Cancele a qualquer momento sem multas ou taxas"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Acesso garantido at o fim do perodo j pago"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Todos os seus dados ficam salvos se quiser retornar"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Processo 100% online atravs do portal seguro do Stripe"})]})]})]}),a.jsxs(L,{children:[a.jsxs(Y,{children:[a.jsx(Z,{children:"Recursos Includos"}),a.jsx(Oe,{children:"Tudo que voc tem acesso com seu plano"})]}),a.jsx(B,{children:a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Agendamentos ilimitados"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sem limites de quantidade"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Gerenciamento de clientes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cadastro completo"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Controle financeiro"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Relatrios e anlises"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Programa de fidelidade"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recompense seus clientes"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Agendamento online"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Link personalizado"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Notificaes push"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nunca perca um compromisso"})]})]})]})})]})]}):v?a.jsxs(L,{className:"shadow-xl border-orange-200 dark:border-orange-900",children:[a.jsxs(Y,{className:"text-center pb-6",children:[a.jsx("div",{className:"mx-auto mb-4 p-3 bg-orange-100 dark:bg-orange-900/20 rounded-full w-fit",children:a.jsx(Pu,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),a.jsx(Z,{className:"text-3xl mb-2",children:"Seu teste grtis terminou"}),a.jsx(Oe,{className:"text-base",children:"Assine agora para continuar aproveitando todos os recursos"})]}),a.jsxs(B,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold mb-2",children:["R$ 20,00",a.jsx("span",{className:"text-xl font-normal text-muted-foreground",children:"/ms"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cobrado mensalmente"})]}),a.jsxs("div",{className:"space-y-3 bg-muted/50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-semibold text-center",children:"O que voc vai manter:"}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Agendamentos ilimitados"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Gerenciamento de clientes"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Controle financeiro"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Agendamento online"})]})]})]}),a.jsx(z,{onClick:d,disabled:c,className:"w-full",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pa,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Pu,{className:"mr-2 h-4 w-4"}),"Assinar Plano Premium"]})}),a.jsx(z,{onClick:u,variant:"outline",disabled:c,className:"w-full",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pa,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zr,{className:"mr-2 h-4 w-4"}),"Verificar Status"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cancele quando quiser, sem multas ou taxas"})]})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Escolha seu Plano"}),a.jsx("p",{className:"text-muted-foreground",children:"Experimente grtis por 7 dias ou assine agora"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(L,{className:"relative overflow-hidden border-2 border-primary shadow-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-primary text-primary-foreground px-4 py-1 text-sm font-bold rounded-bl-lg",children:"RECOMENDADO"}),a.jsxs(Y,{className:"pt-8",children:[a.jsx("div",{className:"mx-auto mb-4 p-3 bg-primary/10 rounded-full w-fit",children:a.jsx(_a,{className:"h-8 w-8 text-primary"})}),a.jsx(Z,{className:"text-2xl text-center",children:" 7 Dias Grtis"}),a.jsx(Oe,{className:"text-center",children:"Experimente sem compromisso"})]}),a.jsxs(B,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold mb-2",children:"R$ 0,00"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"depois R$ 20,00/ms"})]}),a.jsx("div",{className:"space-y-3",children:["Acesso total por 7 dias","Sem carto de crdito","Cancele quando quiser","Todas as funcionalidades"].map(m=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[a.jsx(bt,{className:"h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},m))}),a.jsx(z,{onClick:async()=>{if(!s?.user){V.error("Voc precisa estar logado");return}l(!0);try{console.log("[TRIAL] Iniciando checkout com trial de 7 dias..."),await d()}catch(m){console.error(m),V.error("Erro ao iniciar trial")}finally{l(!1)}},disabled:c,className:"w-full h-12 text-lg font-semibold",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pa,{className:"mr-2 h-5 w-5 animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_a,{className:"mr-2 h-5 w-5"}),"Comear Teste Grtis"]})})]})]}),a.jsxs(L,{className:"shadow-xl",children:[a.jsxs(Y,{children:[a.jsx("div",{className:"mx-auto mb-4 p-3 bg-secondary/10 rounded-full w-fit",children:a.jsx(Pu,{className:"h-8 w-8 text-primary"})}),a.jsx(Z,{className:"text-2xl text-center",children:" Assinar Agora"}),a.jsx(Oe,{className:"text-center",children:"Acesso imediato e completo"})]}),a.jsxs(B,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold mb-2",children:"R$ 20,00"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"por ms"})]}),a.jsx("div",{className:"space-y-3",children:["Agendamentos ilimitados","Gesto financeira completa","Programa de fidelidade","Suporte prioritrio"].map(m=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[a.jsx(bt,{className:"h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},m))}),a.jsx(z,{onClick:d,disabled:c,variant:"outline",className:"w-full h-12 text-lg font-semibold",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(pa,{className:"mr-2 h-5 w-5 animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(So,{className:"mr-2 h-5 w-5"}),"Assinar Agora"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cobrana mensal automtica. Cancele quando quiser."})]})]})]})]})]})})}function d1e(){const e=Ar(),[t]=Dy(),{checkSubscription:r,subscription:n}=It(),[s,o]=x.useState("checking"),[i,c]=x.useState(0),l=5;return x.useEffect(()=>{if(!t.get("session_id")){o("error");return}const u=async()=>{console.log("[CHECKOUT-SUCCESS] Verificando assinatura... tentativa",i+1);try{await r(),setTimeout(()=>{n?.subscribed?(console.log("[CHECKOUT-SUCCESS]  Assinatura confirmada!"),o("success"),setTimeout(()=>{e("/")},2e3)):i<l?c(f=>f+1):(console.log("[CHECKOUT-SUCCESS]  Max retries atingido"),o("error"))},1e3)}catch(f){console.error("[CHECKOUT-SUCCESS] Erro ao verificar:",f),i<l?c(h=>h+1):o("error")}};if(u(),i<l){const f=setInterval(u,2e3);return()=>clearInterval(f)}},[i,t,r,n,e]),s==="checking"?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 to-primary/10",children:a.jsxs(L,{className:"w-full max-w-md",children:[a.jsxs(Y,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:a.jsx(pa,{className:"h-8 w-8 animate-spin text-primary"})}),a.jsx(Z,{className:"text-2xl",children:"Processando pagamento..."}),a.jsx(Oe,{children:"Aguarde enquanto confirmamos sua assinatura"})]}),a.jsx(B,{children:a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Tentativa ",i+1," de ",l]}),a.jsx("p",{className:"mt-2",children:"Isso pode levar alguns segundos"})]})})]})}):s==="success"?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-green-50 to-green-100",children:a.jsxs(L,{className:"w-full max-w-md border-green-200",children:[a.jsxs(Y,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:a.jsx(bt,{className:"h-8 w-8 text-green-600"})}),a.jsx(Z,{className:"text-2xl text-green-900",children:"Pagamento confirmado!"}),a.jsx(Oe,{className:"text-green-700",children:"Sua assinatura foi ativada com sucesso"})]}),a.jsxs(B,{className:"text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:a.jsx("p",{className:"text-sm text-green-800",children:n?.status==="trial"?" Seu perodo de teste gratuito de 7 dias comeou!":" Sua assinatura premium est ativa!"})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecionando para o dashboard..."})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-orange-50 to-orange-100",children:a.jsxs(L,{className:"w-full max-w-md border-orange-200",children:[a.jsxs(Y,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-orange-100",children:a.jsx(bc,{className:"h-8 w-8 text-orange-600"})}),a.jsx(Z,{className:"text-2xl text-orange-900",children:"Verificao em andamento"}),a.jsx(Oe,{className:"text-orange-700",children:"No conseguimos confirmar sua assinatura ainda"})]}),a.jsxs(B,{className:"text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:a.jsx("p",{className:"text-sm text-orange-800",children:"Isso pode acontecer se o pagamento ainda est sendo processado pelo Stripe. Seu status ser atualizado automaticamente quando o pagamento for confirmado."})}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(z,{onClick:()=>e("/"),className:"w-full",children:"Ir para o Dashboard"}),a.jsx(z,{onClick:()=>e("/assinatura"),variant:"outline",className:"w-full",children:"Ver Status da Assinatura"})]})]})]})})}const fl=[{title:"Bem-vindo ao seu Sistema de Gesto!",description:"Vamos fazer um tour rpido pelas principais funcionalidades",icon:_a,features:["Gerencie seus agendamentos de forma simples","Controle completo de clientes e servios","Acompanhe seu financeiro em tempo real","Fidelize seus clientes com recompensas"]},{title:"Agendamentos e Agenda",description:"Organize seus horrios de forma profissional",icon:Se,features:["Visualizao diria, semanal e mensal","Notificaes automticas para voc e seus clientes","Agendamento online para seus clientes","Controle de confirmaes e reagendamentos"]},{title:"Clientes e Servios",description:"Mantenha tudo organizado",icon:qr,features:["Cadastro completo de clientes com histrico","Gesto de servios com preos e duraes","Cronogramas de retorno automticos","Histrico completo de atendimentos"]},{title:"Controle Financeiro",description:"Acompanhe seu faturamento",icon:dt,features:["Lanamentos de receitas e despesas","Relatrios e grficos detalhados","Controle de contas a pagar e receber","Visualizao de lucro por perodo"]},{title:"Programa de Fidelidade",description:"Fidelize e recompense seus clientes",icon:Ld,features:["Sistema de pontos por agendamento","Recompensas personalizveis","Nveis de fidelidade (Bronze, Prata, Ouro)","Aumente seu faturamento e reteno"]},{title:"Sua Assinatura",description:"Aproveite todos os benefcios",icon:Xa,features:["7 dias grtis para testar todas as funcionalidades","Apenas R$ 20,00/ms aps o perodo de teste","Sem compromisso - cancele quando quiser","Suporte e atualizaes constantes"]}];function u1e(){const[e,t]=x.useState(0),r=Ar(),n=()=>{e<fl.length-1&&t(e+1)},s=()=>{e>0&&t(e-1)},o=()=>{localStorage.setItem("onboarding-completed","true"),r("/")},i=()=>{localStorage.setItem("onboarding-completed","true"),r("/")},c=(e+1)/fl.length*100,l=fl[e],d=l.icon;return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:a.jsxs(L,{className:"w-full max-w-2xl",children:[a.jsxs(Y,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(d,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx(Z,{className:"text-2xl",children:l.title}),a.jsx(Oe,{children:l.description})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:i,children:"Pular"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Passo ",e+1," de ",fl.length]}),a.jsxs("span",{children:[Math.round(c),"%"]})]}),a.jsx(Ss,{value:c,className:"h-2"})]})]}),a.jsxs(B,{className:"space-y-6",children:[a.jsx("ul",{className:"space-y-3",children:l.features.map((u,f)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(bt,{className:"h-3 w-3 text-primary"})}),a.jsx("span",{className:"text-base",children:u})]},f))}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(z,{variant:"outline",onClick:s,disabled:e===0,className:"flex-1",children:[a.jsx(Id,{className:"mr-2 h-4 w-4"}),"Anterior"]}),e===fl.length-1?a.jsxs(z,{onClick:o,className:"flex-1",children:["Comear a usar",a.jsx(bt,{className:"ml-2 h-4 w-4"})]}):a.jsxs(z,{onClick:n,className:"flex-1",children:["Prximo",a.jsx(gi,{className:"ml-2 h-4 w-4"})]})]})]})]})})}const f1e=Ys({email:ut().email("E-mail invlido"),senha:ut().min(1,"Senha  obrigatria")}),h1e=()=>{const e=Ar(),[t]=Dy(),r=t.get("redirect")||"/",{signIn:n}=It(),[s,o]=x.useState(""),[i,c]=x.useState(!1),{register:l,handleSubmit:d,formState:{errors:u}}=Rs({resolver:Is(f1e)}),f=async h=>{c(!0),o("");try{const{error:p}=await n(h.email,h.senha);p?o("E-mail ou senha incorretos"):e(r)}catch{o("Erro ao fazer login. Tente novamente.")}finally{c(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-responsive",children:a.jsxs(L,{className:"w-full max-w-md mx-auto",children:[a.jsxs(Y,{className:"space-responsive text-center p-responsive",children:[a.jsx(Z,{className:"text-responsive-xl font-bold",children:"Fazer Login"}),a.jsx(Oe,{className:"text-responsive-sm",children:"Entre com suas credenciais para acessar o sistema"})]}),a.jsx(B,{className:"p-responsive",children:a.jsxs("form",{onSubmit:d(f),className:"space-responsive",children:[s&&a.jsx(Jr,{variant:"destructive",children:a.jsx(Qr,{className:"text-responsive-sm",children:s})}),a.jsxs("div",{className:"space-responsive-sm",children:[a.jsx(G,{htmlFor:"email",className:"text-responsive-sm",children:"E-mail"}),a.jsx(se,{id:"email",type:"email",placeholder:"seu@email.com",...l("email"),disabled:i,className:"btn-touch text-responsive-sm"}),u.email&&a.jsx("p",{className:"text-responsive-xs text-destructive",children:u.email.message})]}),a.jsxs("div",{className:"space-responsive-sm",children:[a.jsx(G,{htmlFor:"senha",className:"text-responsive-sm",children:"Senha"}),a.jsx(se,{id:"senha",type:"password",placeholder:"Sua senha",...l("senha"),disabled:i,className:"btn-touch text-responsive-sm"}),u.senha&&a.jsx("p",{className:"text-responsive-xs text-destructive",children:u.senha.message})]}),a.jsx(z,{type:"submit",className:"w-full btn-touch text-responsive-sm",disabled:i,children:i?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center space-responsive-sm",children:[a.jsx(ki,{to:"/esqueci-senha",className:"text-responsive-xs text-muted-foreground hover:text-primary underline",children:"Esqueci minha senha"}),a.jsxs("div",{className:"text-responsive-xs text-muted-foreground",children:["No tem uma conta?"," ",a.jsx(ki,{to:"/cadastro",className:"text-primary hover:underline font-medium",children:"Cadastre-se aqui"})]})]})]})})]})})},m1e=Ys({nome_personalizado_app:ut().min(1,"Nome da profissional/salo  obrigatrio"),nome_completo:ut().min(1,"Nome completo  obrigatrio"),email:ut().email("E-mail invlido"),telefone:ut().min(10,"Telefone deve ter pelo menos 10 dgitos"),tema_preferencia:_o(["feminino","masculino"]),senha:ut().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmar_senha:ut().min(1,"Confirmao de senha  obrigatria")}).refine(e=>e.senha===e.confirmar_senha,{message:"Senhas no coincidem",path:["confirmar_senha"]}),p1e=()=>{const e=Ar(),{signUp:t}=It(),[r,n]=x.useState(""),[s,o]=x.useState(!1),[i,c]=x.useState("trial"),{register:l,handleSubmit:d,formState:{errors:u},watch:f,setValue:h}=Rs({resolver:Is(m1e),defaultValues:{tema_preferencia:"feminino"}}),p=f("tema_preferencia");x.useEffect(()=>{p&&(console.log("Aplicando tema preview:",p),document.documentElement.setAttribute("data-theme",p),localStorage.setItem("app-theme",p))},[p]);const v=async m=>{o(!0),n("");try{const{error:g}=await t(m.email,m.senha,{nome_completo:m.nome_completo,nome_personalizado_app:m.nome_personalizado_app,telefone:m.telefone,tema_preferencia:m.tema_preferencia},i);g?n(g.message||"Erro ao criar conta"):i==="trial"?(await new Promise(y=>setTimeout(y,800)),e("/")):e("/login?redirect=/assinatura")}catch(g){n(g.message||"Erro ao criar conta. Tente novamente.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:a.jsxs(L,{className:"w-full max-w-md",children:[a.jsxs(Y,{className:"space-y-1 text-center",children:[a.jsx(Z,{className:"text-2xl font-bold",children:"Criar Conta"}),a.jsx(Oe,{children:"Cadastre-se para comear a usar o sistema"})]}),a.jsx(B,{children:a.jsxs("form",{onSubmit:d(v),className:"space-y-4",children:[r&&a.jsx(Jr,{variant:"destructive",children:a.jsx(Qr,{children:r})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-base",children:"Escolha seu plano *"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{className:"flex flex-col cursor-pointer",onClick:()=>!s&&c("trial"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${i==="trial"?"border-primary shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-semibold text-lg mb-1",children:"7 Dias Grtis"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Sem necessidade de carto"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso completo por 7 dias"})]}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${i==="trial"?"bg-primary border-primary":"border-border"}`})]})}),a.jsx("div",{className:"flex flex-col cursor-pointer",onClick:()=>!s&&c("paid"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${i==="paid"?"border-primary shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-semibold text-lg mb-1",children:"Assinar Agora"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"R$ 20,00/ms"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cobrana recorrente"})]}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${i==="paid"?"bg-primary border-primary":"border-border"}`})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome_personalizado_app",children:"Nome da Profissional / Nome do Salo *"}),a.jsx(se,{id:"nome_personalizado_app",placeholder:"Ex: Camila Hair Studio",...l("nome_personalizado_app"),disabled:s}),u.nome_personalizado_app&&a.jsx("p",{className:"text-sm text-destructive",children:u.nome_personalizado_app.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"nome_completo",children:"Nome Completo da Responsvel *"}),a.jsx(se,{id:"nome_completo",placeholder:"Ex: Camila Lopes",...l("nome_completo"),disabled:s}),u.nome_completo&&a.jsx("p",{className:"text-sm text-destructive",children:u.nome_completo.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"email",children:"E-mail *"}),a.jsx(se,{id:"email",type:"email",placeholder:"seu@email.com",...l("email"),disabled:s}),u.email&&a.jsx("p",{className:"text-sm text-destructive",children:u.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"telefone",children:"Telefone com DDD *"}),a.jsx(se,{id:"telefone",placeholder:"(11) 99999-9999",...l("telefone"),disabled:s}),u.telefone&&a.jsx("p",{className:"text-sm text-destructive",children:u.telefone.message})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(G,{className:"text-base",children:"Escolha o Esquema de Cores do App *"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta escolha definir as cores de todo o aplicativo"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{className:"flex flex-col cursor-pointer group",onClick:()=>!s&&h("tema_preferencia","feminino"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${p==="feminino"?"border-[hsl(267,83%,58%)] shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(267 83% 58%), hsl(320 85% 75%))"}}),a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(320 85% 75%), hsl(267 83% 58%))"}})]}),a.jsx("p",{className:"text-center font-semibold text-lg mb-1",children:"Feminino"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Lils e Rosa"}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${p==="feminino"?"bg-[hsl(267,83%,58%)] border-[hsl(267,83%,58%)]":"border-border"}`})]})}),a.jsx("div",{className:"flex flex-col cursor-pointer group",onClick:()=>!s&&h("tema_preferencia","masculino"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${p==="masculino"?"border-[hsl(217,91%,60%)] shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(217 91% 60%), hsl(220 60% 50%))"}}),a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(220 60% 50%), hsl(217 91% 60%))"}})]}),a.jsx("p",{className:"text-center font-semibold text-lg mb-1",children:"Masculino"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Azul e Cinza"}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${p==="masculino"?"bg-[hsl(217,91%,60%)] border-[hsl(217,91%,60%)]":"border-border"}`})]})})]}),u.tema_preferencia&&a.jsx("p",{className:"text-sm text-destructive",children:u.tema_preferencia.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"senha",children:"Senha *"}),a.jsx(se,{id:"senha",type:"password",placeholder:"Mnimo 6 caracteres",...l("senha"),disabled:s}),u.senha&&a.jsx("p",{className:"text-sm text-destructive",children:u.senha.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"confirmar_senha",children:"Confirmar Senha *"}),a.jsx(se,{id:"confirmar_senha",type:"password",placeholder:"Digite a senha novamente",...l("confirmar_senha"),disabled:s}),u.confirmar_senha&&a.jsx("p",{className:"text-sm text-destructive",children:u.confirmar_senha.message})]}),a.jsx(z,{type:"submit",className:"w-full",disabled:s,children:s?"Criando conta...":i==="trial"?"Comear Teste Grtis":"Criar Conta e Assinar"}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:["J tem uma conta?"," ",a.jsx(ki,{to:"/login",className:"text-primary hover:underline font-medium",children:"Faa login aqui"})]})})]})})]})})},IC={soundEnabled:!0,visualEnabled:!0,autoHide:!0,hideDelay:1e4,soundType:"notification"},bj=()=>{const{usuario:e}=It(),[t,r]=x.useState(()=>{const g=localStorage.getItem("notification-settings");if(g){const y=JSON.parse(g);return{...IC,...y}}return IC}),[n,s]=x.useState([]),[o,i]=x.useState(new Date().toISOString()),c=x.useRef(null),l=x.useRef(new Set);x.useEffect(()=>{if(t.soundEnabled){const g=t.soundType||"notification",y=g==="notification"?"notification":g;c.current=new Audio(`/sounds/${y}.mp3`),c.current.volume=.5,c.current.preload="auto"}return()=>{c.current&&(c.current=null)}},[t.soundEnabled,t.soundType]),x.useEffect(()=>{localStorage.setItem("notification-settings",JSON.stringify(t))},[t]);const d=x.useCallback(async()=>{if(!(!t.soundEnabled||!c.current))try{c.current.currentTime=0,await c.current.play()}catch(g){console.log("No foi possvel reproduzir som de notificao:",g)}},[t.soundEnabled]),u=x.useCallback(g=>{if(!e||!t.visualEnabled||l.current.has(g.id))return;const y={...g,shown:!1};s(b=>[y,...b.slice(0,2)]),l.current.add(g.id),d(),V.success(`Novo Agendamento! ${g.clienteNome} - ${g.servicoNome}`),t.autoHide&&setTimeout(()=>{f(g.id)},t.hideDelay)},[e,t,d]),f=x.useCallback(g=>{s(y=>y.filter(b=>b.id!==g))},[]),h=x.useCallback(()=>{s([])},[]),p=x.useCallback(g=>{r(y=>({...y,...g}))},[]),v=x.useCallback(g=>{if(!e)return;const y=g.filter(b=>{if(b.userId!==e.id)return!1;const w=new Date(b.createdAt),j=new Date(o);return w>j&&!l.current.has(b.id)});y.length>0&&(y.forEach(b=>{const w=b.origem||"manual";u({id:b.id,clienteNome:b.clienteNome,servicoNome:b.servicoNome,data:b.data,horario:b.hora,origem:w,criadoEm:b.createdAt})}),i(new Date().toISOString()))},[e,o,u]),m=x.useCallback(async()=>"Notification"in window?await Notification.requestPermission()==="granted":!1,[]);return{notifications:n,settings:t,addNotification:u,removeNotification:f,clearAllNotifications:h,updateSettings:p,checkForNewAgendamentos:v,requestNotificationPermission:m,playNotificationSound:d}},yR=()=>{const{usuario:e}=It(),{isSubscribed:t}=Gp(),r=x.useCallback(async f=>{if(!(!e||!t))try{const h=new Date,p=f.programadaPara.getTime()-h.getTime();if(p<=0){await s(f);return}if(p<=24*60*60*1e3){setTimeout(async()=>{await s(f)},p);const v=n();v.push({...f,programadaPara:f.programadaPara.toISOString()}),localStorage.setItem(`scheduled-notifications-${e.id}`,JSON.stringify(v))}else{const v=n();v.push({...f,programadaPara:f.programadaPara.toISOString()}),localStorage.setItem(`scheduled-notifications-${e.id}`,JSON.stringify(v))}}catch(h){console.error("Erro ao agendar notificao:",h)}},[e,t]),n=x.useCallback(()=>{if(!e)return[];const f=localStorage.getItem(`scheduled-notifications-${e.id}`);return f?JSON.parse(f):[]},[e]),s=x.useCallback(async f=>{if(t)try{if("serviceWorker"in navigator){const h=await navigator.serviceWorker.ready,p={body:f.mensagem,icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png",tag:`${f.tipo}-${f.id}`,data:{...f.dados,notificationId:f.id,tipo:f.tipo,timestamp:Date.now()}};await h.showNotification(f.titulo,p),o(f.id)}}catch(h){console.error("Erro ao enviar notificao:",h)}},[t]),o=x.useCallback(f=>{if(!e)return;const p=n().filter(v=>v.id!==f);localStorage.setItem(`scheduled-notifications-${e.id}`,JSON.stringify(p))},[e,n]),i=x.useCallback(async()=>{if(!e||!t)return;const f=n(),h=new Date;for(const p of f){const v=new Date(p.programadaPara);v<=h&&await s({...p,programadaPara:v})}},[e,t,n,s]),c=x.useCallback(async(f,h=60)=>{const p=new Date(`${f.data}T${f.hora}`),v=new Date(p.getTime()-h*60*1e3);await r({id:`reminder-${f.id}`,tipo:"lembrete_agendamento",titulo:"Lembrete de Agendamento",mensagem:`${f.clienteNome} tem agendamento em ${h} minutos - ${f.servicoNome}`,programadaPara:v,dados:{agendamentoId:f.id,clienteNome:f.clienteNome,servicoNome:f.servicoNome,data:f.data,horario:f.hora}})},[r]),l=x.useCallback(async(f,h=7)=>{const p=new Date(f.dataVencimento),v=new Date(p.getTime()-h*24*60*60*1e3);await r({id:`expense-${f.id}`,tipo:"despesa_fixa",titulo:"Lembrete de Despesa Fixa",mensagem:`${f.descricao} vence em ${h} dias - R$ ${f.valor.toFixed(2)}`,programadaPara:v,dados:{contaFixaId:f.id,descricao:f.descricao,valor:f.valor,dataVencimento:f.dataVencimento,diasRestantes:h}})},[r]),d=x.useCallback(async f=>{await s({id:`new-appointment-${f.id}`,tipo:"novo_agendamento",titulo:"Novo Agendamento!",mensagem:`${f.clienteNome} agendou ${f.servicoNome} para ${f.data} s ${f.hora}`,programadaPara:new Date,dados:{agendamentoId:f.id,clienteNome:f.clienteNome,servicoNome:f.servicoNome,data:f.data,horario:f.hora,origem:f.origem||"manual"}})},[s]),u=x.useCallback(async f=>{await s({id:`service-completed-${f.id}`,tipo:"servico_finalizado",titulo:"Servio Finalizado",mensagem:`Servio de ${f.servicoNome} para ${f.clienteNome} foi finalizado`,programadaPara:new Date,dados:{agendamentoId:f.id,clienteNome:f.clienteNome,servicoNome:f.servicoNome,valor:f.valor}})},[s]);return x.useEffect(()=>{const f=setInterval(i,3e5);return()=>clearInterval(f)},[i]),{scheduleNotification:r,scheduleAppointmentReminder:c,scheduleExpenseReminder:l,notifyNewAppointment:d,notifyServiceCompleted:u,checkPendingNotifications:i,getScheduledNotifications:n,removeScheduledNotification:o}},bR=()=>{const e=Gd();return x.useMemo(()=>{if(!e.configuracaoHorarios||!e.configuracaoNotificacoes||!e.configuracaoBackup)return{...e,configuracoes:null,updateConfiguracoes:async()=>null,isHorarioDisponivel:()=>!1,getHorariosDisponiveis:()=>[],exportarDados:async()=>{},enviarBackupPorEmail:async()=>!1};const r={id:"supabase-config",userId:e.configuracaoHorarios[0]?.user_id||"",horarios:{diasAtivos:{domingo:e.configuracaoHorarios.find(n=>n.dia_semana===0)?.ativo||!1,segunda:e.configuracaoHorarios.find(n=>n.dia_semana===1)?.ativo||!1,terca:e.configuracaoHorarios.find(n=>n.dia_semana===2)?.ativo||!1,quarta:e.configuracaoHorarios.find(n=>n.dia_semana===3)?.ativo||!1,quinta:e.configuracaoHorarios.find(n=>n.dia_semana===4)?.ativo||!1,sexta:e.configuracaoHorarios.find(n=>n.dia_semana===5)?.ativo||!1,sabado:e.configuracaoHorarios.find(n=>n.dia_semana===6)?.ativo||!1},horarioExpediente:{inicio:e.configuracaoHorarios.find(n=>n.ativo)?.horario_abertura||"08:00",termino:e.configuracaoHorarios.find(n=>n.ativo)?.horario_fechamento||"18:00"},intervaloAlmoco:{inicio:e.configuracaoHorarios.find(n=>n.intervalo_inicio)?.intervalo_inicio||"12:00",termino:e.configuracaoHorarios.find(n=>n.intervalo_fim)?.intervalo_fim||"13:00"},intervalosPersonalizados:[]},notificacoes:{push:{ativo:e.configuracaoNotificacoes.notificacoes_push},novosAgendamentos:{visual:!0,sonoro:e.configuracaoNotificacoes.notificacoes_som,push:e.configuracaoNotificacoes.notificacoes_push,som:"notification"},lembretesAgendamento:{ativo:!0,antecedencia:e.configuracaoNotificacoes.lembrete_agendamento_minutos,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},retornoCronograma:{ativo:!0,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},despesasFixas:{ativo:!0,antecedencia:e.configuracaoNotificacoes.lembrete_contas_fixas_dias,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},servicoFinalizado:{ativo:!0,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},tempoAntecedencia:e.configuracaoNotificacoes.lembrete_agendamento_minutos},backup:{backupAutomatico:e.configuracaoBackup.backup_automatico,emailBackup:e.configuracaoBackup.email_backup||"",diasSemanaBackup:[0],ultimoBackup:e.configuracaoBackup.ultimo_backup},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...e,configuracoes:r,updateConfiguracoes:async n=>(n.notificacoes&&await e.salvarNotificacoes({notificacoes_push:n.notificacoes.push?.ativo||!1,notificacoes_som:n.notificacoes.novosAgendamentos?.sonoro||!1,lembrete_agendamento_minutos:n.notificacoes.lembretesAgendamento?.antecedencia||60}),n.backup&&await e.salvarBackup({backup_automatico:n.backup.backupAutomatico||!1,email_backup:n.backup.emailBackup||""}),r),isHorarioDisponivel:e.verificarDisponibilidade,getHorariosDisponiveis:(n,s=60)=>e.getHorariosDisponiveisDia(n,s),exportarDados:async()=>{console.log("Export de dados no implementado para Supabase ainda")},enviarBackupPorEmail:async n=>(console.log("Envio por email no implementado ainda"),!1)}},[e.configuracaoHorarios,e.configuracaoNotificacoes,e.configuracaoBackup,e.loading])},g1e=()=>{const{playNotificationSound:e}=bj(),{isSubscribed:t}=Gp(),{notifyNewAppointment:r,notifyServiceCompleted:n,scheduleAppointmentReminder:s}=yR(),{configuracoes:o}=bR(),i=x.useRef(null),c=x.useCallback(async f=>{if(f)try{const h=f==="notification"?"notification":f;(!i.current||i.current.src!==`/sounds/${h}.mp3`)&&(i.current=new Audio(`/sounds/${h}.mp3`),i.current.volume=.7,i.current.preload="auto"),i.current.currentTime=0,await i.current.play()}catch(h){console.log("Erro ao reproduzir som:",h)}},[]),l=x.useCallback(async f=>{if(!o?.notificacoes)return;const h=o.notificacoes.novosAgendamentos;if(h.visual&&Xt({title:"Novo Agendamento!",description:`${f.clienteNome} agendou ${f.servicoNome} para ${f.data} s ${f.hora}`,duration:5e3}),h.sonoro&&await c(h.som),h.push&&t&&await r(f),o.notificacoes.lembretesAgendamento.ativo){const p=o.notificacoes.lembretesAgendamento.antecedencia;await s(f,p)}},[o,e,t,r,s]),d=x.useCallback(async f=>{if(!o?.notificacoes?.servicoFinalizado?.ativo)return;const h=o.notificacoes.servicoFinalizado;Xt({title:"Servio Finalizado",description:`${f.servicoNome} para ${f.clienteNome} foi concludo`,duration:3e3}),h.sonoro&&await c("notification2"),h.push&&t&&await n(f)},[o,e,t,n]),u=x.useCallback(async f=>{if(!o?.notificacoes?.despesasFixas?.ativo)return;const h=o.notificacoes.despesasFixas,p=Math.ceil((new Date(f.dataVencimento).getTime()-Date.now())/(1e3*60*60*24));Xt({title:"Lembrete de Despesa",description:`${f.descricao} vence em ${p} dias - R$ ${f.valor.toFixed(2)}`,duration:8e3}),h.sonoro&&await c("notification3")},[o,e]);return{handleNewAppointment:l,handleServiceCompleted:d,handleExpenseReminder:u}};function v1e(){const{notifications:e,removeNotification:t,clearAllNotifications:r}=bj(),n=c=>{window.location.href=c},s=c=>{const l={online:{text:"Online",variant:"default",class:"bg-green-500/10 text-green-700 dark:text-green-400"},cronograma:{text:"Automtico",variant:"secondary",class:"bg-blue-500/10 text-blue-700 dark:text-blue-400"},manual:{text:"Manual",variant:"outline",class:"bg-gray-500/10 text-gray-700 dark:text-gray-400"}};return l[c]||l.manual},o=c=>new Date(c).toLocaleDateString("pt-BR"),i=()=>{n("/agendamentos"),r()};return e.length===0?null:a.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm animate-fade-in",children:a.jsxs(Jr,{className:"bg-gradient-to-r from-primary/10 to-accent/10 border-primary/30 shadow-elegant backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-5 w-5 text-primary animate-pulse"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground",children:e.length===1?"Novo Agendamento!":"Novos Agendamentos!"}),a.jsxs(Qr,{className:"text-muted-foreground",children:[e.length," novo(s) agendamento(s) recebido(s)"]})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"mt-3 space-y-2 max-h-60 overflow-y-auto",children:e.map(c=>{const l=s(c.origem);return a.jsx(L,{className:"border-primary/20 hover:bg-primary/5 transition-colors",children:a.jsx(B,{className:"p-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:c.clienteNome}),a.jsx(ce,{variant:l.variant,className:`text-xs ${l.class}`,children:l.text})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(un,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c.servicoNome})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:o(c.data)}),a.jsx(at,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c.horario})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(c.id),className:"h-6 w-6 p-0 ml-2",children:a.jsx(Vt,{className:"h-3 w-3"})})]})})},c.id)})}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:i,children:[a.jsx(um,{className:"h-3 w-3 mr-1"}),"Ver Agendamentos"]}),a.jsx(z,{variant:"default",size:"sm",className:"flex-1 text-xs h-7 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90",onClick:r,children:"Marcar como Visto"})]})]})})}const x1e=x.createContext(void 0),y1e=({children:e})=>{const{checkForNewAgendamentos:t}=bj();Gp();const{scheduleAppointmentReminder:r,notifyNewAppointment:n,notifyServiceCompleted:s,checkPendingNotifications:o}=yR(),{handleNewAppointment:i,handleServiceCompleted:c,handleExpenseReminder:l}=g1e(),{configuracoes:d}=bR();x.useEffect(()=>{const f=setInterval(()=>{o()},3e5);return()=>clearInterval(f)},[o]);const u={checkForNewAgendamentos:t,scheduleAppointmentReminder:r,notifyNewAppointment:n,notifyServiceCompleted:s,handleNewAppointment:i,handleServiceCompleted:c,handleExpenseReminder:l};return a.jsxs(x1e.Provider,{value:u,children:[e,a.jsx(v1e,{})]})};function b1e(){const{user:e}=It(),{configuracaoBackup:t}=Gd(),[r,n]=x.useState(!1),[s,o]=x.useState(0);x.useEffect(()=>{if(!e?.id||!t?.backup_automatico)return;(()=>{const d=new Date;let u=!1;if(!t.ultimo_backup)u=!0,o(0);else{const h=new Date(t.ultimo_backup),p=Math.floor((d.getTime()-h.getTime())/(1e3*60*60*24));switch(o(p),t.frequencia_backup){case"diario":u=p>=1;break;case"semanal":u=p>=7;break;case"mensal":u=p>=30;break}}const f=sessionStorage.getItem("backup_prompt_shown");u&&!f&&(n(!0),sessionStorage.setItem("backup_prompt_shown","true"))})()},[e?.id,t]);const i=()=>{n(!1)},c=()=>{n(!1),window.location.href="/configuracoes?tab=backup"};return r?a.jsx(sa,{open:r,onOpenChange:n,children:a.jsxs(En,{children:[a.jsxs(On,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center",children:a.jsx(cr,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsx($n,{className:"text-xl",children:"Hora de Fazer Backup!"})]}),a.jsxs(Mn,{className:"space-y-3 text-base",children:[s===0?a.jsx("p",{children:"Voc ainda no realizou nenhum backup dos seus dados."}):a.jsxs("p",{children:["J se passaram ",a.jsxs("strong",{children:[s," dias"]})," desde o seu ltimo backup."]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Sf,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Proteo dos seus dados"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fazer backups regulares protege suas informaes de clientes, agendamentos e dados financeiros."})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recomendamos fazer o backup ",t?.frequencia_backup==="diario"?"diariamente":t?.frequencia_backup==="semanal"?"semanalmente":"mensalmente","."]})]})]}),a.jsxs(Tn,{className:"flex-col sm:flex-row gap-2",children:[a.jsx("button",{onClick:i,className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 w-full sm:w-auto",children:"Lembrar Depois"}),a.jsxs(Dn,{onClick:c,className:"w-full sm:w-auto",children:[a.jsx(Sf,{className:"h-4 w-4 mr-2"}),"Fazer Backup Agora"]})]})]})}):null}const j1e=new WR,w1e=()=>a.jsx(GR,{client:j1e,children:a.jsx(WI,{basename:"/lilac-luxe-salon-100/",children:a.jsx(IL,{children:a.jsx(y1e,{children:a.jsx(oF,{children:a.jsxs("div",{id:"app-container",children:[a.jsx(b1e,{}),a.jsx(RL,{position:"top-right"}),a.jsxs(II,{children:[a.jsx(Ot,{path:"/login",element:a.jsx(h1e,{})}),a.jsx(Ot,{path:"/cadastro",element:a.jsx(p1e,{})}),a.jsx(Ot,{path:"/onboarding",element:a.jsx(vr,{children:a.jsx(u1e,{})})}),a.jsx(Ot,{path:"/ai-consultor",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(DS,{})})})}),a.jsx(Ot,{path:"/agendamento-online",element:a.jsx(rv,{})}),a.jsx(Ot,{path:"/agendamento-publico",element:a.jsx(rv,{})}),a.jsx(Ot,{path:"/agendar",element:a.jsx(rv,{})}),a.jsx(Ot,{path:"/",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(she,{})})})}),a.jsx(Ot,{path:"/consultor",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(DS,{})})})}),a.jsx(Ot,{path:"/minha-agenda",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(KNe,{})})})}),a.jsx(Ot,{path:"/clientes",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(W0e,{})})})}),a.jsx(Ot,{path:"/servicos",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(Nje,{})})})}),a.jsx(Ot,{path:"/cronogramas",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(Eje,{})})})}),a.jsx(Ot,{path:"/financeiro",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(vwe,{})})})}),a.jsx(Ot,{path:"/flor-ai",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(U_e,{})})})}),a.jsx(Ot,{path:"/agendamentos",element:a.jsx(wf,{to:"/minha-agenda",replace:!0})}),a.jsx(Ot,{path:"/agenda",element:a.jsx(wf,{to:"/minha-agenda",replace:!0})}),a.jsx(Ot,{path:"/configuracoes",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(y_e,{})})})}),a.jsx(Ot,{path:"/auditoria",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(V_e,{})})})}),a.jsx(Ot,{path:"/marketing",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(X_e,{})})})}),a.jsx(Ot,{path:"/produtos",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(c1e,{})})})}),a.jsx(Ot,{path:"/assinatura",element:a.jsx(vr,{children:a.jsx(Gr,{children:a.jsx(l1e,{})})})}),a.jsx(Ot,{path:"/checkout-success",element:a.jsx(vr,{children:a.jsx(d1e,{})})}),a.jsx(Ot,{path:"*",element:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 to-secondary/5",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Pgina no encontrada"}),a.jsx(ki,{to:"/",className:"text-primary hover:underline",children:"Voltar ao incio"})]})})})]})]})})})})})}),jR=document.getElementById("root");if(!jR)throw new Error("Failed to find the root element");zC(jR).render(a.jsx(w1e,{}));export{ze as A,z as B,bt as C,Ie as D,te as E,I3 as F,Jr as G,bc as H,U3 as I,V as J,Qr as K,G as L,G3 as M,So as N,Id as O,ke as P,gi as Q,Fe as S,pr as T,Vr as U,R1e as Z,Ea as a,ia as b,le as c,ge as d,kr as e,Z0 as f,ub as g,Q as h,v_e as i,ns as j,hm as k,at as l,ut as m,oj as n,Ys as o,BNe as p,L as q,Y as r,W as s,Se as t,Ve as u,Z as v,Oe as w,B as x,se as y,Re as z};
