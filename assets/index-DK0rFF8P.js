const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AgendamentoOnlineForm-CAzUP-Ji.js","assets/react-vendor-lX9dz28M.js"])))=>i.map(i=>d[i]);
import{r as Au,a as x,j as a,R as MC,g as xR,c as br,b as k,d as DC,e as yt}from"./react-vendor-lX9dz28M.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var RC,pw=Au;RC=pw.createRoot,pw.hydrateRoot;var qh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hh=typeof window>"u"||"Deno"in globalThis;function In(){}function yR(e,t){return typeof e=="function"?e(t):e}function bR(e){return typeof e=="number"&&e>=0&&e!==1/0}function wR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gw(e,t){return typeof e=="function"?e(t):e}function jR(e,t){return typeof e=="function"?e(t):e}function vw(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:c}=e;if(i){if(n){if(t.queryHash!==wy(i,t.options))return!1}else if(!Tl(t.queryKey,i))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||o&&!o(t))}function xw(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Ol(t.options.mutationKey)!==Ol(o))return!1}else if(!Tl(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function wy(e,t){return(t?.queryKeyHashFn||Ol)(e)}function Ol(e){return JSON.stringify(e,(t,r)=>Gg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Tl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Tl(e[r],t[r])):!1}function IC(e,t){if(e===t)return e;const r=yw(e)&&yw(t);if(r||Gg(e)&&Gg(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,c=r?[]:{};let l=0;for(let u=0;u<i;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(c[d]=void 0,l++):(c[d]=IC(e[d],t[d]),c[d]===e[d]&&e[d]!==void 0&&l++)}return s===i&&l===s?e:c}return t}function yw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gg(e){if(!bw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!bw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function bw(e){return Object.prototype.toString.call(e)==="[object Object]"}function NR(e){return new Promise(t=>{setTimeout(t,e)})}function _R(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?IC(e,t):t}function SR(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function CR(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var jy=Symbol();function LC(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===jy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var PR=class extends qh{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Hh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},FC=new PR,AR=class extends qh{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Hh&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},hf=new AR;function kR(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function ER(e){return Math.min(1e3*2**e,3e4)}function zC(e){return(e??"online")==="online"?hf.isOnline():!0}var BC=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Bp(e){return e instanceof BC}function VC(e){let t=!1,r=0,n=!1,s;const o=kR(),i=m=>{n||(h(new BC(m)),e.abort?.())},c=()=>{t=!0},l=()=>{t=!1},u=()=>FC.isFocused()&&(e.networkMode==="always"||hf.isOnline())&&e.canRun(),d=()=>zC(e.networkMode)&&e.canRun(),f=m=>{n||(n=!0,e.onSuccess?.(m),s?.(),o.resolve(m))},h=m=>{n||(n=!0,e.onError?.(m),s?.(),o.reject(m))},p=()=>new Promise(m=>{s=g=>{(n||u())&&m(g)},e.onPause?.()}).then(()=>{s=void 0,n||e.onContinue?.()}),v=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(y){m=Promise.reject(y)}Promise.resolve(m).then(f).catch(y=>{if(n)return;const b=e.retry??(Hh?0:3),w=e.retryDelay??ER,j=typeof w=="function"?w(r,y):w,N=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(t||!N){h(y);return}r++,e.onFail?.(r,y),NR(j).then(()=>u()?void 0:p()).then(()=>{t?h(y):v()})})};return{promise:o,cancel:i,continue:()=>(s?.(),o),cancelRetry:c,continueRetry:l,canStart:d,start:()=>(d()?v():p().then(v),o)}}function OR(){let e=[],t=0,r=c=>{c()},n=c=>{c()},s=c=>setTimeout(c,0);const o=c=>{t?e.push(c):s(()=>{r(c)})},i=()=>{const c=e;e=[],c.length&&s(()=>{n(()=>{c.forEach(l=>{r(l)})})})};return{batch:c=>{let l;t++;try{l=c()}finally{t--,t||i()}return l},batchCalls:c=>(...l)=>{o(()=>{c(...l)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var Tr=OR(),UC=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bR(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hh?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},TR=class extends UC{#e;#t;#r;#n;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=MR(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=_R(this.state.data,e,this.options);return this.#a({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>jR(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!wR(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(l=>l.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const c=LC(this.options,t),l={queryKey:this.queryKey,meta:this.meta};return n(l),this.#s=!1,this.options.persister?this.options.persister(c,l,this):c(l)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta});const i=c=>{Bp(c)&&c.silent||this.#a({type:"error",error:c}),Bp(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=VC({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(l){i(l);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:i,onFail:(c,l)=>{this.#a({type:"failed",failureCount:c,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#a(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$R(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return Bp(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Tr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function $R(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:zC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MR(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var DR=class extends qh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,s=t.queryHash??wy(n,t);let o=this.get(s);return o||(o=new TR({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>vw(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>vw(e,r)):t}notify(e){Tr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Tr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Tr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},RR=class extends UC{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||IR(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=VC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",r=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,e,this.state.context,this),await this.options.onSuccess?.(n,e,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,e,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,e,this.state.context,this),await this.options.onError?.(n,e,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,e,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Tr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function IR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var LR=class extends qh{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,r){const n=new RR({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){const t=md(e),r=this.#e.get(t)??[];r.push(e),this.#e.set(t,r),this.notify({type:"added",mutation:e})}remove(e){const t=md(e);if(this.#e.has(t)){const r=this.#e.get(t)?.filter(n=>n!==e);r&&(r.length===0?this.#e.delete(t):this.#e.set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(md(e))?.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(md(e))?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Tr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(r=>xw(t,r))}findAll(e={}){return this.getAll().filter(t=>xw(e,t))}notify(e){Tr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Tr.batch(()=>Promise.all(e.map(t=>t.continue().catch(In))))}};function md(e){return e.options.scope?.id??String(e.mutationId)}function ww(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},l=0;const u=async()=>{let d=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},h=LC(t.options,t.fetchOptions),p=async(v,m,g)=>{if(d)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const y={queryKey:t.queryKey,pageParam:m,direction:g?"backward":"forward",meta:t.options.meta};f(y);const b=await h(y),{maxPages:w}=t.options,j=g?CR:SR;return{pages:j(v.pages,b,w),pageParams:j(v.pageParams,m,w)}};if(s&&o.length){const v=s==="backward",m=v?FR:jw,g={pages:o,pageParams:i},y=m(n,g);c=await p(g,y,v)}else{const v=e??o.length;do{const m=l===0?i[0]??n.initialPageParam:jw(n,c);if(l>0&&m==null)break;c=await p(c,m),l++}while(l<v)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function jw(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function FR(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var zR=class{#e;#t;#r;#n;#o;#s;#a;#i;constructor(e={}){this.#e=e.queryCache||new DR,this.#t=e.mutationCache||new LR,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=FC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=hf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=this.#e.build(this,r);return e.revalidateIfStale&&n.isStaleByTime(gw(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(n.queryHash)?.state.data,i=yR(t,o);if(i!==void 0)return this.#e.build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Tr.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Tr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e,n={type:"active",...e};return Tr.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Tr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(In).catch(In)}invalidateQueries(e={},t={}){return Tr.batch(()=>{if(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:t?.cancelRefetch??!0},n=Tr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(In)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(In)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(gw(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(In).catch(In)}fetchInfiniteQuery(e){return e.behavior=ww(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(In).catch(In)}ensureInfiniteQueryData(e){return e.behavior=ww(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ol(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let r={};return t.forEach(n=>{Tl(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){this.#o.set(Ol(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let r={};return t.forEach(n=>{Tl(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===jy&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},BR=x.createContext(void 0),VR=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(BR.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}var ys;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ys||(ys={}));const Nw="popstate";function UR(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:c}=n.location;return Kg("",{pathname:o,search:i,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:mf(s)}return qR(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WR(){return Math.random().toString(36).substr(2,8)}function _w(e,t){return{usr:e.state,key:e.key,idx:t}}function Kg(e,t,r,n){return r===void 0&&(r=null),$l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oc(t):t,{state:r,key:t&&t.key||n||WR()})}function mf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,c=ys.Pop,l=null,u=d();u==null&&(u=0,i.replaceState($l({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){c=ys.Pop;let g=d(),y=g==null?null:g-u;u=g,l&&l({action:c,location:m.location,delta:y})}function h(g,y){c=ys.Push;let b=Kg(m.location,g,y);u=d()+1;let w=_w(b,u),j=m.createHref(b);try{i.pushState(w,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(j)}o&&l&&l({action:c,location:m.location,delta:1})}function p(g,y){c=ys.Replace;let b=Kg(m.location,g,y);u=d();let w=_w(b,u),j=m.createHref(b);i.replaceState(w,"",j),o&&l&&l({action:c,location:m.location,delta:0})}function v(g){let y=s.location.origin!=="null"?s.location.origin:s.location.href,b=typeof g=="string"?g:mf(g);return b=b.replace(/ $/,"%20"),Ht(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return c},get location(){return e(s,i)},listen(g){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Nw,f),l=g,()=>{s.removeEventListener(Nw,f),l=null}},createHref(g){return t(s,g)},createURL:v,encodeLocation(g){let y=v(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(g){return i.go(g)}};return m}var Sw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sw||(Sw={}));function HR(e,t,r){return r===void 0&&(r="/"),GR(e,t,r)}function GR(e,t,r,n){let s=typeof t=="string"?oc(t):t,o=Ny(s.pathname||"/",r);if(o==null)return null;let i=qC(e);KR(i);let c=null;for(let l=0;c==null&&l<i.length;++l){let u=oI(o);c=nI(i[l],u)}return c}function qC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,c)=>{let l={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ns([n,l.relativePath]),d=r.concat(l);o.children&&o.children.length>0&&(Ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qC(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:tI(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,i);else for(let l of HC(o.path))s(o,i,l)}),t}function HC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=HC(n.join("/")),c=[];return c.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&c.push(...i),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function KR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rI(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const YR=/^:[\w-]+$/,ZR=3,XR=2,JR=1,QR=10,eI=-2,Cw=e=>e==="*";function tI(e,t){let r=e.split("/"),n=r.length;return r.some(Cw)&&(n+=eI),t&&(n+=XR),r.filter(s=>!Cw(s)).reduce((s,o)=>s+(YR.test(o)?ZR:o===""?JR:QR),n)}function rI(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function nI(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let c=0;c<n.length;++c){let l=n[c],u=c===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=aI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),h=l.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Ns([o,f.pathname]),pathnameBase:uI(Ns([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ns([o,f.pathnameBase]))}return i}function aI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sI(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=c[f]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const v=c[f];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function sI(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),WC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function oI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return WC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ny(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function iI(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?oc(e):e;return{pathname:r?r.startsWith("/")?r:cI(r,t):t,search:dI(n),hash:fI(s)}}function cI(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lI(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _y(e,t){let r=lI(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=oc(e):(s=$l({},e),Ht(!s.pathname||!s.pathname.includes("?"),Vp("?","pathname","search",s)),Ht(!s.pathname||!s.pathname.includes("#"),Vp("#","pathname","hash",s)),Ht(!s.search||!s.search.includes("#"),Vp("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,c;if(i==null)c=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}c=f>=0?t[f]:"/"}let l=iI(s,c),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ns=e=>e.join("/").replace(/\/\/+/g,"/"),uI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const GC=["post","put","patch","delete"];new Set(GC);const mI=["get",...GC];new Set(mI);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}const Cy=x.createContext(null),pI=x.createContext(null),Os=x.createContext(null),Gh=x.createContext(null),Ts=x.createContext({outlet:null,matches:[],isDataRoute:!1}),KC=x.createContext(null);function gI(e,t){let{relative:r}=t===void 0?{}:t;ic()||Ht(!1);let{basename:n,navigator:s}=x.useContext(Os),{hash:o,pathname:i,search:c}=ZC(e,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:Ns([n,i])),s.createHref({pathname:l,search:c,hash:o})}function ic(){return x.useContext(Gh)!=null}function $s(){return ic()||Ht(!1),x.useContext(Gh).location}function YC(e){x.useContext(Os).static||x.useLayoutEffect(e)}function fn(){let{isDataRoute:e}=x.useContext(Ts);return e?kI():vI()}function vI(){ic()||Ht(!1);let e=x.useContext(Cy),{basename:t,future:r,navigator:n}=x.useContext(Os),{matches:s}=x.useContext(Ts),{pathname:o}=$s(),i=JSON.stringify(_y(s,r.v7_relativeSplatPath)),c=x.useRef(!1);return YC(()=>{c.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let f=Sy(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ns([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function ZC(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Os),{matches:s}=x.useContext(Ts),{pathname:o}=$s(),i=JSON.stringify(_y(s,n.v7_relativeSplatPath));return x.useMemo(()=>Sy(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function xI(e,t){return yI(e,t)}function yI(e,t,r,n){ic()||Ht(!1);let{navigator:s}=x.useContext(Os),{matches:o}=x.useContext(Ts),i=o[o.length-1],c=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=$s(),d;if(t){var f;let g=typeof t=="string"?oc(t):t;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||Ht(!1),d=g}else d=u;let h=d.pathname||"/",p=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=HR(e,{pathname:p}),m=_I(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Ns([l,s.encodeLocation?s.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Ns([l,s.encodeLocation?s.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,r,n);return t&&m?x.createElement(Gh.Provider,{value:{location:Ml({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ys.Pop}},m):m}function bI(){let e=AI(),t=hI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const wI=x.createElement(bI,null);class jI extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Ts.Provider,{value:this.props.routeContext},x.createElement(KC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NI(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Cy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ts.Provider,{value:t},n)}function _I(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let d=i.findIndex(f=>f.route.id&&c?.[f.route.id]!==void 0);d>=0||Ht(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let p,v=!1,m=null,g=null;r&&(p=c&&f.route.id?c[f.route.id]:void 0,m=f.route.errorElement||wI,l&&(u<0&&h===0?(EI("route-fallback"),v=!0,g=null):u===h&&(v=!0,g=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),b=()=>{let w;return p?w=m:v?w=g:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(NI,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(jI,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var XC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(XC||{}),JC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(JC||{});function SI(e){let t=x.useContext(Cy);return t||Ht(!1),t}function CI(e){let t=x.useContext(pI);return t||Ht(!1),t}function PI(e){let t=x.useContext(Ts);return t||Ht(!1),t}function QC(e){let t=PI(),r=t.matches[t.matches.length-1];return r.route.id||Ht(!1),r.route.id}function AI(){var e;let t=x.useContext(KC),r=CI(),n=QC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function kI(){let{router:e}=SI(XC.UseNavigateStable),t=QC(JC.UseNavigateStable),r=x.useRef(!1);return YC(()=>{r.current=!0}),x.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ml({fromRouteId:t},o)))},[e,t])}const Pw={};function EI(e,t,r){Pw[e]||(Pw[e]=!0)}function pf(e){let{to:t,replace:r,state:n,relative:s}=e;ic()||Ht(!1);let{future:o,static:i}=x.useContext(Os),{matches:c}=x.useContext(Ts),{pathname:l}=$s(),u=fn(),d=Sy(t,_y(c,o.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function Mt(e){Ht(!1)}function OI(e){let{basename:t="/",children:r=null,location:n,navigationType:s=ys.Pop,navigator:o,static:i=!1,future:c}=e;ic()&&Ht(!1);let l=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:l,navigator:o,static:i,future:Ml({v7_relativeSplatPath:!1},c)}),[l,c,o,i]);typeof n=="string"&&(n=oc(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:v="default"}=n,m=x.useMemo(()=>{let g=Ny(d,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:p,key:v},navigationType:s}},[l,d,f,h,p,v,s]);return m==null?null:x.createElement(Os.Provider,{value:u},x.createElement(Gh.Provider,{children:r,value:m}))}function TI(e){let{children:t,location:r}=e;return xI(Yg(t),r)}new Promise(()=>{});function Yg(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let o=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Yg(n.props.children,o));return}n.type!==Mt&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Yg(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(this,arguments)}function $I(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function MI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function DI(e,t){return e.button===0&&(!t||t==="_self")&&!MI(e)}function Xg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function RI(e,t){let r=Xg(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}const II=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LI="6";try{window.__reactRouterVersion=LI}catch{}const FI="startTransition",Aw=MC[FI];function zI(e){let{basename:t,children:r,future:n,window:s}=e,o=x.useRef();o.current==null&&(o.current=UR({window:s,v5Compat:!0}));let i=o.current,[c,l]=x.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&Aw?Aw(()=>l(f)):l(f)},[l,u]);return x.useLayoutEffect(()=>i.listen(d),[i,d]),x.createElement(OI,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:i,future:n})}const BI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ni=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:c,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,h=$I(t,II),{basename:p}=x.useContext(Os),v,m=!1;if(typeof u=="string"&&VI.test(u)&&(v=u,BI))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=Ny(j.pathname,p);j.origin===w.origin&&N!=null?u=N+j.search+j.hash:m=!0}catch{}let g=gI(u,{relative:s}),y=UI(u,{replace:i,state:c,target:l,preventScrollReset:d,relative:s,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return x.createElement("a",Zg({},h,{href:v||g,onClick:m||o?n:b,ref:r,target:l}))});var kw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kw||(kw={}));var Ew;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ew||(Ew={}));function UI(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:c}=t===void 0?{}:t,l=fn(),u=$s(),d=ZC(e,{relative:i});return x.useCallback(f=>{if(DI(f,r)){f.preventDefault();let h=n!==void 0?n:mf(u)===mf(d);l(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:c})}},[u,l,d,n,s,r,e,o,i,c])}function Py(e){let t=x.useRef(Xg(e)),r=x.useRef(!1),n=$s(),s=x.useMemo(()=>RI(n.search,r.current?null:t.current),[n.search]),o=fn(),i=x.useCallback((c,l)=>{const u=Xg(typeof c=="function"?c(s):c);r.current=!0,o("?"+u,l)},[o,s]);return[s,i]}const WI="modulepreload",qI=function(e){return"/lilac-luxe-salon-100/"+e},Ow={},cc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=i?.nonce||i?.getAttribute("nonce");s=Promise.allSettled(r.map(l=>{if(l=qI(l),l in Ow)return;Ow[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":WI,u||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return s.then(i=>{for(const c of i||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})},HI=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cc(async()=>{const{default:n}=await Promise.resolve().then(()=>lc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Ay extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GI extends Ay{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Tw extends Ay{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $w extends Ay{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Jg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Jg||(Jg={}));var KI=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};class YI{constructor(t,{headers:r={},customFetch:n,region:s=Jg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=HI(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return KI(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let c={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(c["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(c["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(c["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:d}).catch(m=>{throw new GI(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Tw(f);if(!f.ok)throw new $w(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof $w||s instanceof Tw?s.context:void 0}}})}}var Vr={},ky={},Kh={},ku={},Yh={},Zh={},ZI=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_i=ZI();const XI=_i.fetch,eP=_i.fetch.bind(_i),tP=_i.Headers,JI=_i.Request,QI=_i.Response,lc=Object.freeze(Object.defineProperty({__proto__:null,Headers:tP,Request:JI,Response:QI,default:eP,fetch:XI},Symbol.toStringTag,{value:"Module"})),e4=xR(lc);var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});let t4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xh.default=t4;var rP=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zh,"__esModule",{value:!0});const r4=rP(e4),n4=rP(Xh);let a4=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=r4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,c,l;let u=null,d=null,f=null,h=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),g=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");m&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,p="OK")}catch{o.status===404&&m===""?(h=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u?.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new n4.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,c,l;return{error:{message:`${(i=o?.name)!==null&&i!==void 0?i:"FetchError"}: ${o?.message}`,details:`${(c=o?.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Zh.default=a4;var s4=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yh,"__esModule",{value:!0});const o4=s4(Zh);let i4=class extends o4.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",c=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var c;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yh.default=i4;var c4=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ku,"__esModule",{value:!0});const l4=c4(Yh);let u4=class extends l4.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ku.default=u4;var d4=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kh,"__esModule",{value:!0});const qc=d4(ku);let f4=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new qc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(i.length>0){const c=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",c.join(","))}}return new qc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new qc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new qc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Kh.default=f4;var Jh={},Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.version=void 0;Qh.version="0.0.0-automated";Object.defineProperty(Jh,"__esModule",{value:!0});Jh.DEFAULT_HEADERS=void 0;const h4=Qh;Jh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${h4.version}`};var nP=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ky,"__esModule",{value:!0});const m4=nP(Kh),p4=nP(ku),g4=Jh;let v4=class aP{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},g4.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new m4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aP(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const c=new URL(`${this.url}/rpc/${t}`);let l;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{c.searchParams.append(d,f)})):(i="POST",l=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new p4.default({method:i,url:c,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ky.default=v4;var uc=br&&br.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.PostgrestError=Vr.PostgrestBuilder=Vr.PostgrestTransformBuilder=Vr.PostgrestFilterBuilder=Vr.PostgrestQueryBuilder=Vr.PostgrestClient=void 0;const sP=uc(ky);Vr.PostgrestClient=sP.default;const oP=uc(Kh);Vr.PostgrestQueryBuilder=oP.default;const iP=uc(ku);Vr.PostgrestFilterBuilder=iP.default;const cP=uc(Yh);Vr.PostgrestTransformBuilder=cP.default;const lP=uc(Zh);Vr.PostgrestBuilder=lP.default;const uP=uc(Xh);Vr.PostgrestError=uP.default;var x4=Vr.default={PostgrestClient:sP.default,PostgrestQueryBuilder:oP.default,PostgrestFilterBuilder:iP.default,PostgrestTransformBuilder:cP.default,PostgrestBuilder:lP.default,PostgrestError:uP.default};const{PostgrestClient:y4,PostgrestQueryBuilder:v1e,PostgrestFilterBuilder:x1e,PostgrestTransformBuilder:y1e,PostgrestBuilder:b1e,PostgrestError:w1e}=x4;class b4{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const w4="2.15.1",j4=`realtime-js/${w4}`,N4="1.0.0",Qg=1e4,_4=1e3,S4=100;var hl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(hl||(hl={}));var rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rr||(rr={}));var Ln;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ln||(Ln={}));var ev;(function(e){e.websocket="websocket"})(ev||(ev={}));var no;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(no||(no={}));class C4{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const c=n.decode(t.slice(i,i+s));i=i+s;const l=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:c,event:l,payload:u}}}class dP{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Nt||(Nt={}));const Mw=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=P4(i,e,t,s),o),{})},P4=(e,t,r,n)=>{const s=t.find(c=>c.name===e),o=s?.type,i=r[e];return o&&!n.includes(o)?fP(o,i):tv(i)},fP=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return O4(t,r)}switch(e){case Nt.bool:return A4(t);case Nt.float4:case Nt.float8:case Nt.int2:case Nt.int4:case Nt.int8:case Nt.numeric:case Nt.oid:return k4(t);case Nt.json:case Nt.jsonb:return E4(t);case Nt.timestamp:return T4(t);case Nt.abstime:case Nt.date:case Nt.daterange:case Nt.int4range:case Nt.int8range:case Nt.money:case Nt.reltime:case Nt.text:case Nt.time:case Nt.timestamptz:case Nt.timetz:case Nt.tsrange:case Nt.tstzrange:return tv(t);default:return tv(t)}},tv=e=>e,A4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},k4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},E4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},O4=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(c=>fP(t,c))}return e},T4=e=>typeof e=="string"?e.replace(" ","T"):e,hP=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Up{constructor(t,r,n={},s=Qg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dw||(Dw={}));class ml{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ml.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=ml.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ml.syncDiff(this.state,s,o,i),c())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),c={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),v=d.filter(g=>p.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(c[u]=v),m.length>0&&(l[u]=m)}else c[u]=d}),this.syncDiff(o,{joins:c,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(c,l)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),d.length>0){const f=t[c].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[c].unshift(...h)}n(c,d,l)}),this.map(i,(c,l)=>{let u=t[c];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[c]=u,s(c,u,l),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rw||(Rw={}));var pl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(pl||(pl={}));var Ia;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ia||(Ia={}));class Ey{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Up(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new dP(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ml(this),this.broadcastEndpointURL=hP(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:o,presence:i,private:c}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[pl.PRESENCE]&&this.bindings[pl.PRESENCE].length>0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},i),{enabled:u}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(Ia.CHANNEL_ERROR,h)),this._onClose(()=>t?.(Ia.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var p;if(this.socket.setAuth(),h===void 0){t?.(Ia.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(p=v?.length)!==null&&p!==void 0?p:0,g=[];for(let y=0;y<m;y++){const b=v[y],{filter:{event:w,schema:j,table:N,filter:S}}=b,_=h&&h[y];if(_&&_.event===w&&_.schema===j&&_.table===N&&_.filter===S)g.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=rr.errored,t?.(Ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ia.SUBSCRIBED);return}}).receive("error",h=>{this.state=rr.errored,t?.(Ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(Ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rr.joined&&t===pl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,c,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(i=this.params)===null||i===void 0?void 0:i.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Up(this,Ln.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Up(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>S4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=Ln;if(n&&[c,l,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,m,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=p.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,m,g,y,b,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,N=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((m=r.ids)===null||m===void 0?void 0:m.includes(j))&&(N==="*"||N?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const j=(b=(y=p?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return j==="*"||j===((w=r?.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:y,type:b,errors:w}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:y,eventType:b,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ey.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ln.close,{},t)}_onError(t){this._on(Ln.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Mw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Mw(t.columns,t.old_record)),r}}const Iw=()=>{},pd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$4=[1e3,2e3,5e3,1e4],M4=1e4,D4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R4{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qg,this.transport=null,this.heartbeatIntervalMs=pd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iw,this.ref=0,this.reconnectTimer=null,this.logger=Iw,this.conn=null,this.sendBuffer=[],this.serializer=new C4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...i)=>cc(async()=>{const{default:c}=await Promise.resolve().then(()=>lc);return{default:c}},void 0).then(({default:c})=>c(...i)).catch(c=>{throw new Error(`Failed to load @supabase/node-fetch: ${c.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...i)=>o(...i)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ev.websocket}`,this.httpEndpoint=hP(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:N4}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hl.connecting:return no.Connecting;case hl.open:return no.Open;case hl.closing:return no.Closing;default:return no.Closed}}isConnected(){return this.connectionState()===no.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Ey(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(_4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:i}=r,c=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${c}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ln.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([D4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:j4};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ln.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new dP(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,i,c,l,u;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:Qg,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:pd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t?.accessToken)!==null&&i!==void 0?i:null,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:d=>$4[d-1]||M4,this.encode=(l=t?.encode)!==null&&l!==void 0?l:(d,f)=>f(JSON.stringify(d)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Oy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class I4 extends Oy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rv extends Oy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var L4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const mP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cc(async()=>{const{default:n}=await Promise.resolve().then(()=>lc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},F4=()=>L4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cc(()=>Promise.resolve().then(()=>lc),void 0)).Response:Response}),nv=e=>{if(Array.isArray(e))return e.map(r=>nv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=nv(n)}),t},z4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var $o=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const Wp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B4=(e,t,r)=>$o(void 0,void 0,void 0,function*(){const n=yield F4();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{const o=e.status||500,i=s?.statusCode||o+"";t(new I4(Wp(s),o,i))}).catch(s=>{t(new rv(Wp(s),s))}):t(new rv(Wp(e),e))}),V4=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!n?s:(z4(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(n)):s.body=n,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Eu(e,t,r,n,s,o){return $o(this,void 0,void 0,function*(){return new Promise((i,c)=>{e(r,V4(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>B4(l,c,n))})})}function gf(e,t,r,n){return $o(this,void 0,void 0,function*(){return Eu(e,"GET",t,r,n)})}function sa(e,t,r,n,s){return $o(this,void 0,void 0,function*(){return Eu(e,"POST",t,n,s,r)})}function av(e,t,r,n,s){return $o(this,void 0,void 0,function*(){return Eu(e,"PUT",t,n,s,r)})}function U4(e,t,r,n){return $o(this,void 0,void 0,function*(){return Eu(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function pP(e,t,r,n,s){return $o(this,void 0,void 0,function*(){return Eu(e,"DELETE",t,n,s,r)})}var Pr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const W4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q4{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=mP(s)}uploadOrUpdate(t,r,n,s){return Pr(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Lw),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,c["cache-control"]=`max-age=${i.cacheControl}`,c["content-type"]=i.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?av:sa)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:c},i?.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(ar(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Pr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),c=new URL(this.url+`/object/upload/sign/${i}`);c.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Lw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield av(this.fetch,c.toString(),l,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(ar(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield sa(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),c=i.searchParams.get("token");if(!c)throw new Oy("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:c},error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}update(t,r,n){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Pr(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield sa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Pr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield sa(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Pr(this,void 0,void 0,function*(){try{const s=yield sa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}download(t,r){return Pr(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),i=o?`?${o}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield gf(this.fetch,`${this.url}/${s}/${c}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ar(c))return{data:null,error:c};throw c}})}info(t){return Pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield gf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:nv(n),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}exists(t){return Pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield U4(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ar(n)&&n instanceof rv){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const c=typeof r?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(r?.transform||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return Pr(this,void 0,void 0,function*(){try{return{data:yield pP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}list(t,r,n){return Pr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},W4),r),{prefix:t||""});return{data:yield sa(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ar(s))return{data:null,error:s};throw s}})}listV2(t,r){return Pr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield sa(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const H4="2.11.0",G4={"X-Client-Info":`storage-js/${H4}`};var Go=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};class K4{constructor(t,r={},n,s){const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},G4),r),this.fetch=mP(n)}listBuckets(){return Go(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ar(t))return{data:null,error:t};throw t}})}getBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Go(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Go(this,void 0,void 0,function*(){try{return{data:yield av(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ar(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Go(this,void 0,void 0,function*(){try{return{data:yield pP(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ar(r))return{data:null,error:r};throw r}})}}class Y4 extends K4{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new q4(this.url,this.headers,t,this.fetch)}}const Z4="2.55.0";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const X4={"X-Client-Info":`supabase-js-${cl}/${Z4}`},J4={headers:X4},Q4={schema:"public"},e5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t5={};var r5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};const n5=e=>{let t;return e?t=e:typeof fetch>"u"?t=eP:t=fetch,(...r)=>t(...r)},a5=()=>typeof Headers>"u"?tP:Headers,s5=(e,t,r)=>{const n=n5(r),s=a5();return(o,i)=>r5(void 0,void 0,void 0,function*(){var c;const l=(c=yield t())!==null&&c!==void 0?c:e;let u=new s(i?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var o5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};function i5(e){return e.endsWith("/")?e:e+"/"}function c5(e,t){var r,n;const{db:s,auth:o,realtime:i,global:c}=e,{db:l,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),c),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>o5(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const gP="2.71.1",ii=30*1e3,sv=3,qp=sv*ii,l5="http://localhost:9999",u5="supabase.auth.token",d5={"X-Client-Info":`gotrue-js/${gP}`},ov="X-Supabase-Api-Version",vP={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},f5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,h5=10*60*1e3;class Ty extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function qe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class m5 extends Ty{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function p5(e){return qe(e)&&e.name==="AuthApiError"}class xP extends Ty{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ms extends Ty{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class hs extends Ms{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function g5(e){return qe(e)&&e.name==="AuthSessionMissingError"}class gd extends Ms{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vd extends Ms{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xd extends Ms{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v5(e){return qe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Fw extends Ms{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iv extends Ms{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Hp(e){return qe(e)&&e.name==="AuthRetryableFetchError"}class zw extends Ms{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cv extends Ms{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bw=` 	
\r=`.split(""),x5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bw.length;t+=1)e[Bw[t].charCodeAt(0)]=-2;for(let t=0;t<vf.length;t+=1)e[vf[t].charCodeAt(0)]=t;return e})();function Vw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vf[n]),t.queuedBits-=6}}function yP(e,t,r){const n=x5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Uw(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{w5(i,n,r)};for(let i=0;i<e.length;i+=1)yP(e.charCodeAt(i),s,o);return t.join("")}function y5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function b5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}y5(n,t)}}function w5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function j5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yP(e.charCodeAt(s),r,n);return new Uint8Array(t)}function N5(e){const t=[];return b5(e,r=>t.push(r)),new Uint8Array(t)}function _5(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Vw(s,r,n)),Vw(null,r,n),t.join("")}function S5(e){return Math.round(Date.now()/1e3)+e}function C5(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dn=()=>typeof window<"u"&&typeof document<"u",Hs={tested:!1,writable:!1},bP=()=>{if(!Dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Hs.tested)return Hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Hs.tested=!0,Hs.writable=!0}catch{Hs.tested=!0,Hs.writable=!1}return Hs.writable};function P5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const wP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>cc(async()=>{const{default:n}=await Promise.resolve().then(()=>lc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},A5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ci=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Gs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ls=async(e,t)=>{await e.removeItem(t)};class em{constructor(){this.promise=new em.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}em.promiseConstructor=Promise;function Gp(e){const t=e.split(".");if(t.length!==3)throw new cv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!f5.test(t[n]))throw new cv("JWT not in base64url format");return{header:JSON.parse(Uw(t[0])),payload:JSON.parse(Uw(t[1])),signature:j5(t[2]),raw:{header:t[0],payload:t[1]}}}async function k5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E5(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function O5(e){return("0"+e.toString(16)).substr(-2)}function T5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,O5).join("")}async function $5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function M5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ko(e,t,r=!1){const n=T5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ci(e,`${t}-code-verifier`,s);const o=await M5(n);return[o,n===o?"plain":"s256"]}const D5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function R5(e){const t=e.headers.get(ov);if(!t||!t.match(D5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function I5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function L5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const F5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yo(e){if(!F5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ww(e){return JSON.parse(JSON.stringify(e))}var z5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),B5=[502,503,504];async function qw(e){var t;if(!A5(e))throw new iv(Xs(e),0);if(B5.includes(e.status))throw new iv(Xs(e),e.status);let r;try{r=await e.json()}catch(o){throw new xP(Xs(o),o)}let n;const s=R5(e);if(s&&s.getTime()>=vP["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zw(Xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new hs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new zw(Xs(r),e.status,r.weak_password.reasons);throw new m5(Xs(r),e.status||500,n)}const V5=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function nt(e,t,r,n){var s;const o=Object.assign({},n?.headers);o[ov]||(o[ov]=vP["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(i.redirect_to=n.redirectTo);const c=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await U5(e,t,r+c,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function U5(e,t,r,n,s,o){const i=V5(t,n,s,o);let c;try{c=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new iv(Xs(l),0)}if(c.ok||await qw(c),n?.noResolveJson)return c;try{return await c.json()}catch(l){await qw(l)}}function Ra(e){var t;let r=null;G5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=S5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Hw(e){const t=Ra(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function W5(e){return{data:e,error:null}}function q5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=z5(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:c,user:l},error:null}}function H5(e){return e}function G5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yp=["global","local","others"];var K5=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Y5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=wP(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Yp[0]){if(Yp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yp.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vs})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=K5(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:q5,redirectTo:r?.redirectTo})}catch(r){if(qe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vs})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:H5});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);u[`${g}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(qe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Yo(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vs})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yo(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vs})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yo(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vs})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yo(t.userId);try{const{data:r,error:n}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yo(t.userId),Yo(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}}function Gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Z5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Zo={debug:!!(globalThis&&bP()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jP extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class X5 extends jP{}async function J5(e,t,r){Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Zo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new X5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Zo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Z5();const Q5={url:l5,storageKey:u5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:d5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kw(e,t,r){return await r()}const Xo={};class Dl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dl.nextInstanceID,Dl.nextInstanceID+=1,this.instanceID>0&&Dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Q5),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Y5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=wP(s.fetch),this.lock=s.lock||Kw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=J5:this.lock=Kw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:bP()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),Dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Xo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xo[this.storageKey]=Object.assign(Object.assign({},Xo[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gP}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=P5(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Dn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),v5(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",c),await this._saveSession(i),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return qe(r)?{error:r}:{error:new xP("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ra}),{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Ko(this.storage,this.storageKey)),o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:d,password:f,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:v},xform:Ra})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h?.data)!==null&&n!==void 0?n:{},channel:(s=h?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ra})}else throw new vd("You must provide either an email or phone number and a password");const{data:i,error:c}=o;if(c||!i)return{data:{user:null,session:null},error:c};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(qe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:c}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Hw})}else if("phone"in t){const{phone:o,password:i,options:c}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Hw})}else throw new vd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,i,c,l,u,d,f,h,p;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:g,wallet:y,statement:b,options:w}=t;let j;if(Dn())if(typeof y=="object")j=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const N=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),b?{statement:b}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)v=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),m=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(n=w?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w?.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:y}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_5(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ra});if(y)throw y;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new gd}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:y})}catch(g){if(qe(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ra});if(await ls(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new gd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(qe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,c=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ra}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:c,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ko(this.storage,this.storageKey));const{error:f}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:d}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(i=l?.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new vd("You must provide either an email or phone number.")}catch(c){if(qe(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:c}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ra});if(c)throw c;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Ko(this.storage,this.storageKey)),await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:W5})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new hs;const{error:s}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(qe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:c}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:i?.message_id},error:c}}throw new vd("You must provide either an email or phone number and a type")}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Gs(this.userStorage,this.storageKey+"-user");i?.user?t.user=i.user:t.user=Kp()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vs}):await this._useSession(async r=>{var n,s,o;const{data:i,error:c}=r;if(c)throw c;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:vs})})}catch(r){if(qe(r))return g5(r)&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new hs;const i=s.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await Ko(this.storage,this.storageKey));const{data:u,error:d}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:i.access_token,xform:vs});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hs;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Gp(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(qe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:c}=r;if(c)throw c;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new hs;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(qe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Dn())throw new xd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Fw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fw("No code detected.");const{data:b,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:c,expires_at:l,token_type:u}=t;if(!o||!c||!i||!u)throw new xd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(c);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=ii&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:g}=await this._getUser(o);if(g)throw g;const y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(qe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Gs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:c}=await this.admin.signOut(i,t);if(c&&!(p5(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=C5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ko(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(qe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,c,l,u,d;const{data:f,error:h}=o;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Dn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(qe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E5(async s=>(s>0&&await k5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ra})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Hp(o)&&Date.now()+i-n<ii})}catch(n){if(this._debug(r,"error",n),qe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Gs(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ci(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i?.user)!==null&&t!==void 0?t:Kp()}else if(s&&!s.user&&!s.user){const i=await Gs(this.storage,this.storageKey+"-user");i&&i?.user?(s.user=i.user,await ls(this.storage,this.storageKey+"-user"),await ci(this.storage,this.storageKey,s)):s.user=Kp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qp;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${qp}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Hp(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:c}=await this._getUser(s.access_token);!c&&i?.user?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new em;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new hs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={session:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),qe(o)){const i={session:null,error:o};return Hp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ci(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Ww(s);await ci(this.storage,this.storageKey,o)}else{const s=Ww(r);await ci(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ls(this.storage,this.storageKey),await ls(this.storage,this.storageKey+"-code-verifier"),await ls(this.storage,this.storageKey+"-user"),this.userStorage&&await ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ii);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ii);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ii}ms, refresh threshold is ${sv} ticks`),s<=sv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jP)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Ko(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(c.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:c}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:c})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(qe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Gp(s.access_token);let c=null;i.aal&&(c=i.aal);let l=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+h5>s)return n;const{data:o,error:i}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:o,signature:i,raw:{header:c,payload:l}}=Gp(n);r?.allowExpired||I5(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:s,signature:i},error:null}}const d=L5(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,N5(`${c}.${l}`)))throw new cv("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}}Dl.nextInstanceID=0;const eL=Dl;class tL extends eL{constructor(t){super(t)}}var rL=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function c(d){try{u(n.next(d))}catch(f){i(f)}}function l(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(c,l)}u((n=n.apply(e,t||[])).next())})};class nL{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=i5(t),l=new URL(c);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Q4,realtime:t5,auth:Object.assign(Object.assign({},e5),{storageKey:u}),global:J4},f=c5(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=s5(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new y4(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new Y4(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new YI(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return rL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:c,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:c,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new R4(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const aL=(e,t,r)=>new nL(e,t,r);function sL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}sL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oL="https://dfwepnzwktjyhvfmpuxo.supabase.co",iL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRmd2Vwbnp3a3RqeWh2Zm1wdXhvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU1NzE4NzQsImV4cCI6MjA3MTE0Nzg3NH0.9BR-N9tSzHetSL50Dsalwb-q_dNHfdQBp32Y9qIXlag",W=aL(oL,iL,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});var cL=e=>{switch(e){case"success":return dL;case"info":return hL;case"warning":return fL;case"error":return mL;default:return null}},lL=Array(12).fill(0),uL=({visible:e})=>k.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},k.createElement("div",{className:"sonner-spinner"},lL.map((t,r)=>k.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),dL=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fL=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hL=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mL=k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},k.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pL=()=>{let[e,t]=k.useState(document.hidden);return k.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},lv=1,gL=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:lv++,o=this.toasts.find(c=>c.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:i,title:r}):c):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(xL(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,c=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:c})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,c=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:c})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,c=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:c})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=t?.id||lv++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Qr=new gL,vL=(e,t)=>{let r=t?.id||lv++;return Qr.addToast({title:e,...t,id:r}),r},xL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",yL=vL,bL=()=>Qr.toasts,B=Object.assign(yL,{success:Qr.success,info:Qr.info,warning:Qr.warning,error:Qr.error,custom:Qr.custom,message:Qr.message,promise:Qr.promise,dismiss:Qr.dismiss,loading:Qr.loading},{getHistory:bL});function wL(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}wL(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yd(e){return e.label!==void 0}var jL=3,NL="32px",_L=4e3,SL=356,CL=14,PL=20,AL=200;function kL(...e){return e.filter(Boolean).join(" ")}var EL=e=>{var t,r,n,s,o,i,c,l,u,d;let{invert:f,toast:h,unstyled:p,interacting:v,setHeights:m,visibleToasts:g,heights:y,index:b,toasts:w,expanded:j,removeToast:N,defaultRichColors:S,closeButton:_,style:P,cancelButtonStyle:E,actionButtonStyle:$,className:A="",descriptionClassName:C="",duration:O,position:T,gap:I,loadingIcon:R,expandByDefault:D,classNames:M,icons:V,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:K,cn:te}=e,[ce,_e]=k.useState(!1),[Ze,Ee]=k.useState(!1),[le,Re]=k.useState(!1),[oe,me]=k.useState(!1),[be,Y]=k.useState(0),[Xe,he]=k.useState(0),Ve=k.useRef(null),Ae=k.useRef(null),Je=b===0,fr=b+1<=g,$t=h.type,L=h.dismissible!==!1,q=h.className||"",G=h.descriptionClassName||"",ve=k.useMemo(()=>y.findIndex(Ue=>Ue.toastId===h.id)||0,[y,h.id]),pe=k.useMemo(()=>{var Ue;return(Ue=h.closeButton)!=null?Ue:_},[h.closeButton,_]),de=k.useMemo(()=>h.duration||O||_L,[h.duration,O]),je=k.useRef(0),ot=k.useRef(0),ht=k.useRef(0),er=k.useRef(null),[qs,ra]=T.split("-"),fd=k.useMemo(()=>y.reduce((Ue,kt,jt)=>jt>=ve?Ue:Ue+kt.height,0),[y,ve]),Ho=pL(),Uc=h.invert||f,Wc=$t==="loading";ot.current=k.useMemo(()=>ve*I+fd,[ve,fd]),k.useEffect(()=>{_e(!0)},[]),k.useLayoutEffect(()=>{if(!ce)return;let Ue=Ae.current,kt=Ue.style.height;Ue.style.height="auto";let jt=Ue.getBoundingClientRect().height;Ue.style.height=kt,he(jt),m(na=>na.find(aa=>aa.toastId===h.id)?na.map(aa=>aa.toastId===h.id?{...aa,height:jt}:aa):[{toastId:h.id,height:jt,position:h.position},...na])},[ce,h.title,h.description,m,h.id]);let $n=k.useCallback(()=>{Ee(!0),Y(ot.current),m(Ue=>Ue.filter(kt=>kt.toastId!==h.id)),setTimeout(()=>{N(h)},AL)},[h,N,m,ot]);k.useEffect(()=>{if(h.promise&&$t==="loading"||h.duration===1/0||h.type==="loading")return;let Ue,kt=de;return j||v||K&&Ho?(()=>{if(ht.current<je.current){let jt=new Date().getTime()-je.current;kt=kt-jt}ht.current=new Date().getTime()})():kt!==1/0&&(je.current=new Date().getTime(),Ue=setTimeout(()=>{var jt;(jt=h.onAutoClose)==null||jt.call(h,h),$n()},kt)),()=>clearTimeout(Ue)},[j,v,D,h,de,$n,h.promise,$t,K,Ho]),k.useEffect(()=>{let Ue=Ae.current;if(Ue){let kt=Ue.getBoundingClientRect().height;return he(kt),m(jt=>[{toastId:h.id,height:kt,position:h.position},...jt]),()=>m(jt=>jt.filter(na=>na.toastId!==h.id))}},[m,h.id]),k.useEffect(()=>{h.delete&&$n()},[$n,h.delete]);function zp(){return V!=null&&V.loading?k.createElement("div",{className:"sonner-loader","data-visible":$t==="loading"},V.loading):R?k.createElement("div",{className:"sonner-loader","data-visible":$t==="loading"},R):k.createElement(uL,{visible:$t==="loading"})}return k.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ae,className:te(A,q,M?.toast,(t=h?.classNames)==null?void 0:t.toast,M?.default,M?.[$t],(r=h?.classNames)==null?void 0:r[$t]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:S,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":ce,"data-promise":!!h.promise,"data-removed":Ze,"data-visible":fr,"data-y-position":qs,"data-x-position":ra,"data-index":b,"data-front":Je,"data-swiping":le,"data-dismissible":L,"data-type":$t,"data-invert":Uc,"data-swipe-out":oe,"data-expanded":!!(j||D&&ce),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${Ze?be:ot.current}px`,"--initial-height":D?"auto":`${Xe}px`,...P,...h.style},onPointerDown:Ue=>{Wc||!L||(Ve.current=new Date,Y(ot.current),Ue.target.setPointerCapture(Ue.pointerId),Ue.target.tagName!=="BUTTON"&&(Re(!0),er.current={x:Ue.clientX,y:Ue.clientY}))},onPointerUp:()=>{var Ue,kt,jt,na;if(oe||!L)return;er.current=null;let aa=Number(((Ue=Ae.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount").replace("px",""))||0),hd=new Date().getTime()-((kt=Ve.current)==null?void 0:kt.getTime()),vR=Math.abs(aa)/hd;if(Math.abs(aa)>=PL||vR>.11){Y(ot.current),(jt=h.onDismiss)==null||jt.call(h,h),$n(),me(!0);return}(na=Ae.current)==null||na.style.setProperty("--swipe-amount","0px"),Re(!1)},onPointerMove:Ue=>{var kt;if(!er.current||!L)return;let jt=Ue.clientY-er.current.y,na=Ue.clientX-er.current.x,aa=(qs==="top"?Math.min:Math.max)(0,jt),hd=Ue.pointerType==="touch"?10:2;Math.abs(aa)>hd?(kt=Ae.current)==null||kt.style.setProperty("--swipe-amount",`${jt}px`):Math.abs(na)>hd&&(er.current=null)}},pe&&!h.jsx?k.createElement("button",{"aria-label":re,"data-disabled":Wc,"data-close-button":!0,onClick:Wc||!L?()=>{}:()=>{var Ue;$n(),(Ue=h.onDismiss)==null||Ue.call(h,h)},className:te(M?.closeButton,(s=h?.classNames)==null?void 0:s.closeButton)},k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},k.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),k.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||k.isValidElement(h.title)?h.jsx||h.title:k.createElement(k.Fragment,null,$t||h.icon||h.promise?k.createElement("div",{"data-icon":"",className:te(M?.icon,(o=h?.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zp():null,h.type!=="loading"?h.icon||V?.[$t]||cL($t):null):null,k.createElement("div",{"data-content":"",className:te(M?.content,(i=h?.classNames)==null?void 0:i.content)},k.createElement("div",{"data-title":"",className:te(M?.title,(c=h?.classNames)==null?void 0:c.title)},h.title),h.description?k.createElement("div",{"data-description":"",className:te(C,G,M?.description,(l=h?.classNames)==null?void 0:l.description)},h.description):null),k.isValidElement(h.cancel)?h.cancel:h.cancel&&yd(h.cancel)?k.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Ue=>{var kt,jt;yd(h.cancel)&&L&&((jt=(kt=h.cancel).onClick)==null||jt.call(kt,Ue),$n())},className:te(M?.cancelButton,(u=h?.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,k.isValidElement(h.action)?h.action:h.action&&yd(h.action)?k.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||$,onClick:Ue=>{var kt,jt;yd(h.action)&&(Ue.defaultPrevented||((jt=(kt=h.action).onClick)==null||jt.call(kt,Ue),$n()))},className:te(M?.actionButton,(d=h?.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Yw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var OL=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:c,theme:l="light",richColors:u,duration:d,style:f,visibleToasts:h=jL,toastOptions:p,dir:v=Yw(),gap:m=CL,loadingIcon:g,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:w,cn:j=kL}=e,[N,S]=k.useState([]),_=k.useMemo(()=>Array.from(new Set([r].concat(N.filter(K=>K.position).map(K=>K.position)))),[N,r]),[P,E]=k.useState([]),[$,A]=k.useState(!1),[C,O]=k.useState(!1),[T,I]=k.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),R=k.useRef(null),D=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=k.useRef(null),V=k.useRef(!1),re=k.useCallback(K=>{var te;(te=N.find(ce=>ce.id===K.id))!=null&&te.delete||Qr.dismiss(K.id),S(ce=>ce.filter(({id:_e})=>_e!==K.id))},[N]);return k.useEffect(()=>Qr.subscribe(K=>{if(K.dismiss){S(te=>te.map(ce=>ce.id===K.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{DC.flushSync(()=>{S(te=>{let ce=te.findIndex(_e=>_e.id===K.id);return ce!==-1?[...te.slice(0,ce),{...te[ce],...K},...te.slice(ce+1)]:[K,...te]})})})}),[]),k.useEffect(()=>{if(l!=="system"){I(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:K})=>{I(K?"dark":"light")})},[l]),k.useEffect(()=>{N.length<=1&&A(!1)},[N]),k.useEffect(()=>{let K=te=>{var ce,_e;n.every(Ze=>te[Ze]||te.code===Ze)&&(A(!0),(ce=R.current)==null||ce.focus()),te.code==="Escape"&&(document.activeElement===R.current||(_e=R.current)!=null&&_e.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[n]),k.useEffect(()=>{if(R.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,V.current=!1)}},[R.current]),N.length?k.createElement("section",{"aria-label":`${b} ${D}`,tabIndex:-1},_.map((K,te)=>{var ce;let[_e,Ze]=K.split("-");return k.createElement("ol",{key:K,dir:v==="auto"?Yw():v,tabIndex:-1,ref:R,className:i,"data-sonner-toaster":!0,"data-theme":T,"data-y-position":_e,"data-x-position":Ze,style:{"--front-toast-height":`${((ce=P[0])==null?void 0:ce.height)||0}px`,"--offset":typeof c=="number"?`${c}px`:c||NL,"--width":`${SL}px`,"--gap":`${m}px`,...f},onBlur:Ee=>{V.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(V.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||V.current||(V.current=!0,M.current=Ee.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{C||A(!1)},onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},N.filter(Ee=>!Ee.position&&te===0||Ee.position===K).map((Ee,le)=>{var Re,oe;return k.createElement(EL,{key:Ee.id,icons:y,index:le,toast:Ee,defaultRichColors:u,duration:(Re=p?.duration)!=null?Re:d,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:t,visibleToasts:h,closeButton:(oe=p?.closeButton)!=null?oe:o,interacting:C,position:K,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:re,toasts:N.filter(me=>me.position==Ee.position),heights:P.filter(me=>me.position==Ee.position),setHeights:E,expandByDefault:s,gap:m,loadingIcon:g,expanded:$,pauseWhenPageIsHidden:w,cn:j})}))})):null};const NP=x.createContext(void 0),TL=({children:e})=>{const t=fn(),[r,n]=x.useState(null),[s,o]=x.useState(null),[i,c]=x.useState(null),[l,u]=x.useState(!0),[d,f]=x.useState(null),[h,p]=x.useState(!1),v=async j=>{const N=j||s,S=N?.user||r;if(!N||!S){console.log("[AUTH]  Sem sesso ou usurio, pulando verificao"),f(null);return}p(!0),console.log("[AUTH]  Iniciando verificao de assinatura para:",S.email);try{const{data:{session:_},error:P}=await W.auth.getSession();if(P||!_||!_.access_token){console.error("[AUTH]  Sesso invlida, definindo como inactive:",P),f({subscribed:!1,status:"inactive",is_trial_expired:!1}),p(!1);return}const E=_.expires_at,$=Math.floor(Date.now()/1e3);if(E&&E<$){console.error("[AUTH]  Token expirado, tentando refresh");const{data:O,error:T}=await W.auth.refreshSession();if(T||!O.session){console.error("[AUTH]  Falha no refresh, definindo como inactive"),f({subscribed:!1,status:"inactive",is_trial_expired:!1}),p(!1);return}console.log("[AUTH]  Token refreshed com sucesso")}console.log("[AUTH]  Chamando check-subscription com token vlido...");const{data:A,error:C}=await W.functions.invoke("check-subscription",{body:{}});if(C){console.error("[AUTH]  Erro ao verificar assinatura:",C),f({subscribed:!1,status:"inactive",is_trial_expired:!1}),p(!1);return}console.log("[AUTH]  Status recebido:",A),f({subscribed:A.subscribed,status:A.status,trial_days_remaining:A.trial_days_remaining,trial_end_date:A.trial_end_date,is_trial_expired:A.is_trial_expired||!1,subscription_end:A.subscription_end,product_id:A.product_id})}catch(_){console.error("[AUTH]  Exceo ao verificar assinatura:",_),f({subscribed:!1,status:"inactive",is_trial_expired:!1})}finally{p(!1)}};x.useEffect(()=>{const j=localStorage.getItem("app-theme");console.log(" [INIT] Tema armazenado localmente:",j),j&&document.documentElement.setAttribute("data-theme",j);const{data:{subscription:N}}=W.auth.onAuthStateChange((S,_)=>{console.log(" [AUTH] State changed:",S,"User ID:",_?.user?.id),o(_),n(_?.user??null),_?.user?(console.log(" [AUTH] Usurio logado, buscando perfil..."),!localStorage.getItem("onboarding-completed")&&S==="SIGNED_IN"&&setTimeout(()=>t("/onboarding"),500),setTimeout(async()=>{try{console.log(" [QUERY] Buscando usurio no banco:",_.user.id);const{data:E,error:$}=await W.from("usuarios").select("*").eq("id",_.user.id).single();if(console.log(" [QUERY] Resultado:",{userData:E,error:$}),$&&$.code!=="PGRST116"){console.error(" [ERROR] Erro ao buscar dados do usurio:",$),console.error(" [ERROR] Cdigo do erro:",$.code),console.error(" [ERROR] Mensagem:",$.message);return}if(E){const A=E;c(A);const C=A.tema_preferencia||"feminino";console.log(" [SUCCESS] Usurio carregado:",A.email),console.log(" [SUCCESS] Tema do banco de dados:",C),console.log(" [SUCCESS] Aplicando tema:",C),document.documentElement.setAttribute("data-theme",C),localStorage.setItem("app-theme",C),console.log(" [AUTH] Iniciando verificao de assinatura aps carregar usurio"),v(_)}else console.log(" [WARNING] Usurio no encontrado no banco, aplicando tema padro"),document.documentElement.setAttribute("data-theme","feminino"),localStorage.setItem("app-theme","feminino")}catch(E){console.error(" [EXCEPTION] Erro ao buscar perfil do usurio:",E),document.documentElement.setAttribute("data-theme","feminino"),localStorage.setItem("app-theme","feminino")}},0)):(c(null),console.log(" [AUTH] Sem sesso, aplicando tema padro"),document.documentElement.setAttribute("data-theme","feminino"),localStorage.setItem("app-theme","feminino")),u(!1)});return W.auth.getSession().then(({data:{session:S}})=>{S||u(!1)}),()=>N.unsubscribe()},[]);const m=async(j,N,S,_)=>{try{u(!0);const P=`${window.location.origin}/`;console.log(" [SIGNUP] Iniciando cadastro..."),console.log(" [SIGNUP] Tema selecionado:",S.tema_preferencia),console.log(" [SIGNUP] Email:",j),console.log(" [SIGNUP] Tipo de plano:",_);const{data:E,error:$}=await W.auth.signUp({email:j,password:N,options:{emailRedirectTo:P,data:{nome_completo:S.nome_completo,nome_personalizado_app:S.nome_personalizado_app||"Meu Salo",telefone:S.telefone,tema_preferencia:S.tema_preferencia||"feminino",plan_type:_||"trial"}}});if($)return console.error(" [SIGNUP] Erro no auth.signUp:",$),B.error($.message),{error:$};if(console.log(" [SIGNUP] Conta criada com sucesso! User ID:",E.user?.id),S.tema_preferencia&&(document.documentElement.setAttribute("data-theme",S.tema_preferencia),localStorage.setItem("app-theme",S.tema_preferencia)),_==="trial"&&E.user&&!$){console.log(" [SIGNUP] Fazendo login automtico para trial...");const{error:A}=await W.auth.signInWithPassword({email:j,password:N});if(A)return console.error(" [SIGNUP] Erro no login automtico:",A),B.error("Conta criada! Por favor, faa login."),{error:A};console.log(" [SIGNUP] Login automtico realizado com sucesso!"),await new Promise(C=>setTimeout(C,500)),B.success(" Conta criada! Bem-vindo ao seu trial de 7 dias!")}else B.success("Conta criada com sucesso! Faa login para continuar.");return{error:null}}catch(P){return console.error(" [SIGNUP] EXCEO GERAL no cadastro:",P),B.error("Erro inesperado no cadastro. Por favor, tente novamente."),{error:P}}finally{u(!1)}},g=async(j,N)=>{try{u(!0);const{error:S}=await W.auth.signInWithPassword({email:j,password:N});return S?(B.error(S.message),{error:S}):(B.success("Login realizado com sucesso!"),{error:null})}catch(S){return console.error("Erro no login:",S),{error:S}}finally{u(!1)}},y=async()=>{try{u(!0),await W.auth.signOut(),n(null),o(null),c(null),B.success("Logout realizado com sucesso!")}catch(j){console.error("Erro no logout:",j),B.error("Erro ao fazer logout")}finally{u(!1)}},b=async j=>{if(!r)return{error:new Error("Usurio no autenticado")};try{u(!0);const{data:N,error:S}=await W.from("usuarios").update(j).eq("id",r.id).select().single();return S?(B.error("Erro ao atualizar perfil"),{error:S}):(c(N),j.tema_preferencia&&(console.log("Aplicando novo tema:",j.tema_preferencia),document.documentElement.setAttribute("data-theme",j.tema_preferencia),localStorage.setItem("app-theme",j.tema_preferencia)),B.success("Perfil atualizado com sucesso!"),{error:null})}catch(N){return console.error("Erro ao atualizar perfil:",N),{error:N}}finally{u(!1)}},w=!!s;return a.jsx(NP.Provider,{value:{user:r,session:s,usuario:i,isLoading:l,isAuthenticated:w,subscription:d,isSubscriptionLoading:h,setSubscription:f,checkSubscription:v,signUp:m,signIn:g,signOut:y,updateProfile:b},children:e})},Lt=()=>{const e=x.useContext(NP);if(e===void 0)throw new Error("useSupabaseAuth deve ser usado dentro de SupabaseAuthProvider");return e},Ar=({children:e})=>{const{isAuthenticated:t,isLoading:r,subscription:n,isSubscriptionLoading:s}=Lt();if(r||s)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(!t)return a.jsx(pf,{to:"/login",replace:!0});const o=["/assinatura","/onboarding","/checkout-success"],i=window.location.pathname;if(o.includes(i))return a.jsx(a.Fragment,{children:e});const c=n?.status==="trial"&&!n?.is_trial_expired,l=n?.status==="active",u=c||l;return console.log("[PROTECTED-ROUTE] Access check:",{pathname:i,hasAccess:u,subscriptionStatus:n?.status,isTrialExpired:n?.is_trial_expired,trialDaysRemaining:n?.trial_days_remaining,subscribed:n?.subscribed}),u?a.jsx(a.Fragment,{children:e}):(console.log("[PROTECTED-ROUTE]  Acesso negado, redirecionando para /assinatura"),a.jsx(pf,{to:"/assinatura",replace:!0}))},tm=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(!1),[s,o]=x.useState(!1),[i,c]=x.useState(typeof navigator<"u"?!navigator.onLine:!1),[l,u]=x.useState(!1);return x.useEffect(()=>{(()=>{try{const b=window.matchMedia("(display-mode: standalone)").matches,w=window.navigator.standalone===!0;o(b||w)}catch(b){console.warn("Erro ao verificar se est instalado:",b)}})();const v=b=>{try{b.preventDefault(),t(b),n(!0)}catch(w){console.warn("Erro no handleBeforeInstallPrompt:",w)}},m=()=>{try{o(!0),n(!1),t(null)}catch(b){console.warn("Erro no handleAppInstalled:",b)}},g=()=>{try{c(!1)}catch(b){console.warn("Erro no handleOnline:",b)}},y=()=>{try{c(!0)}catch(b){console.warn("Erro no handleOffline:",b)}};try{window.addEventListener("beforeinstallprompt",v),window.addEventListener("appinstalled",m),window.addEventListener("online",g),window.addEventListener("offline",y)}catch(b){console.warn("Erro ao registrar event listeners:",b)}if("serviceWorker"in navigator){navigator.serviceWorker.ready.then(b=>{console.log("Service Worker verificado no usePWA:",b.scope),b.addEventListener("updatefound",()=>{const w=b.installing;w&&w.addEventListener("statechange",()=>{if(w.state==="installed"&&navigator.serviceWorker.controller)try{u(!0)}catch(j){console.warn("Erro ao atualizar hasUpdate:",j)}})})}).catch(b=>{console.log("Erro ao acessar Service Worker:",b)});try{navigator.serviceWorker.addEventListener("message",b=>{if(b.data&&b.data.type==="UPDATE_AVAILABLE")try{u(!0)}catch(w){console.warn("Erro ao processar mensagem do Service Worker:",w)}})}catch(b){console.warn("Erro ao adicionar listener de mensagens:",b)}}return()=>{try{window.removeEventListener("beforeinstallprompt",v),window.removeEventListener("appinstalled",m),window.removeEventListener("online",g),window.removeEventListener("offline",y)}catch(b){console.warn("Erro ao remover event listeners:",b)}}},[]),{isInstallable:r,isInstalled:s,isOffline:i,hasUpdate:l,installApp:async()=>{if(!e)return!1;try{return await e.prompt(),(await e.userChoice).outcome==="accepted"?(n(!1),t(null),!0):!1}catch(p){return console.error("Erro ao instalar o app:",p),!1}},updateApp:()=>{try{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(p=>{p&&p.waiting&&(p.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())})}catch(p){console.error("Erro ao atualizar o app:",p)}},dismissInstall:()=>{try{n(!1),t(null)}catch(p){console.error("Erro ao dispensar instalao:",p)}}}};function $L(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function rm(...e){return t=>e.forEach(r=>$L(r,t))}function Be(...e){return x.useCallback(rm(...e),e)}var Lr=x.forwardRef((e,t)=>{const{children:r,...n}=e,s=x.Children.toArray(r),o=s.find(ML);if(o){const i=o.props.children,c=s.map(l=>l===o?x.Children.count(i)>1?x.Children.only(null):x.isValidElement(i)?i.props.children:null:l);return a.jsx(uv,{...n,ref:t,children:x.isValidElement(i)?x.cloneElement(i,void 0,c):null})}return a.jsx(uv,{...n,ref:t,children:r})});Lr.displayName="Slot";var uv=x.forwardRef((e,t)=>{const{children:r,...n}=e;if(x.isValidElement(r)){const s=RL(r);return x.cloneElement(r,{...DL(n,r.props),ref:t?rm(t,s):s})}return x.Children.count(r)>1?x.Children.only(null):null});uv.displayName="SlotClone";var $y=({children:e})=>a.jsx(a.Fragment,{children:e});function ML(e){return x.isValidElement(e)&&e.type===$y}function DL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...c)=>{o(...c),s(...c)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function RL(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _P(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=_P(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=_P(e))&&(n&&(n+=" "),n+=t);return n}const Zw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Xw=We,dc=(e,t)=>r=>{var n;if(t?.variants==null)return Xw(e,r?.class,r?.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r?.[u],f=o?.[u];if(d===null)return null;const h=Zw(d)||Zw(f);return s[u][h]}),c=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...o,...c}[m]):{...o,...c}[m]===g})?[...u,f,h]:u},[]);return Xw(e,i,l,r?.class,r?.className)},My="-",IL=e=>{const t=FL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const c=i.split(My);return c[0]===""&&c.length!==1&&c.shift(),SP(c,t)||LL(i)},getConflictingClassGroupIds:(i,c)=>{const l=r[i]||[];return c&&n[i]?[...l,...n[i]]:l}}},SP=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?SP(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(My);return t.validators.find(({validator:i})=>i(o))?.classGroupId},Jw=/^\[(.+)\]$/,LL=e=>{if(Jw.test(e)){const t=Jw.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FL=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return BL(Object.entries(e.classGroups),r).forEach(([o,i])=>{dv(i,n,o,t)}),n},dv=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Qw(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(zL(s)){dv(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{dv(i,Qw(t,o),r,n)})})},Qw=(e,t)=>{let r=e;return t.split(My).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},zL=e=>e.isThemeGetter,BL=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,c])=>[t+i,c])):o);return[r,s]}):e,VL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},CP="!",UL=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=c=>{const l=[];let u=0,d=0,f;for(let g=0;g<c.length;g++){let y=c[g];if(u===0){if(y===s&&(n||c.slice(g,g+o)===t)){l.push(c.slice(d,g)),d=g+o;continue}if(y==="/"){f=g;continue}}y==="["?u++:y==="]"&&u--}const h=l.length===0?c:c.substring(d),p=h.startsWith(CP),v=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:m}};return r?c=>r({className:c,parseClassName:i}):i},WL=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},qL=e=>({cache:VL(e.cacheSize),parseClassName:UL(e),...IL(e)}),HL=/\s+/,GL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(HL);let c="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,m=n(v?h.substring(0,p):h);if(!m){if(!v){c=u+(c.length>0?" "+c:c);continue}if(m=n(h),!m){c=u+(c.length>0?" "+c:c);continue}v=!1}const g=WL(d).join(":"),y=f?g+CP:g,b=y+m;if(o.includes(b))continue;o.push(b);const w=s(m,v);for(let j=0;j<w.length;++j){const N=w[j];o.push(y+N)}c=u+(c.length>0?" "+c:c)}return c};function KL(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=PP(t))&&(n&&(n+=" "),n+=r);return n}const PP=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=PP(e[n]))&&(r&&(r+=" "),r+=t);return r};function YL(e,...t){let r,n,s,o=i;function i(l){const u=t.reduce((d,f)=>f(d),e());return r=qL(u),n=r.cache.get,s=r.cache.set,o=c,c(l)}function c(l){const u=n(l);if(u)return u;const d=GL(l,r);return s(l,d),d}return function(){return o(KL.apply(null,arguments))}}const Et=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},AP=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZL=/^\d+\/\d+$/,XL=new Set(["px","full","screen"]),JL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ta=e=>mi(e)||XL.has(e)||ZL.test(e),us=e=>fc(e,"length",uF),mi=e=>!!e&&!Number.isNaN(Number(e)),Zp=e=>fc(e,"number",mi),Hc=e=>!!e&&Number.isInteger(Number(e)),nF=e=>e.endsWith("%")&&mi(e.slice(0,-1)),Ke=e=>AP.test(e),ds=e=>JL.test(e),aF=new Set(["length","size","percentage"]),sF=e=>fc(e,aF,kP),oF=e=>fc(e,"position",kP),iF=new Set(["image","url"]),cF=e=>fc(e,iF,fF),lF=e=>fc(e,"",dF),Gc=()=>!0,fc=(e,t,r)=>{const n=AP.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},uF=e=>QL.test(e)&&!eF.test(e),kP=()=>!1,dF=e=>tF.test(e),fF=e=>rF.test(e),hF=()=>{const e=Et("colors"),t=Et("spacing"),r=Et("blur"),n=Et("brightness"),s=Et("borderColor"),o=Et("borderRadius"),i=Et("borderSpacing"),c=Et("borderWidth"),l=Et("contrast"),u=Et("grayscale"),d=Et("hueRotate"),f=Et("invert"),h=Et("gap"),p=Et("gradientColorStops"),v=Et("gradientColorStopPositions"),m=Et("inset"),g=Et("margin"),y=Et("opacity"),b=Et("padding"),w=Et("saturate"),j=Et("scale"),N=Et("sepia"),S=Et("skew"),_=Et("space"),P=Et("translate"),E=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ke,t],C=()=>[Ke,t],O=()=>["",Ta,us],T=()=>["auto",mi,Ke],I=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Ke],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[mi,Ke];return{cacheSize:500,separator:":",theme:{colors:[Gc],spacing:[Ta,us],blur:["none","",ds,Ke],brightness:K(),borderColor:[e],borderRadius:["none","","full",ds,Ke],borderSpacing:C(),borderWidth:O(),contrast:K(),grayscale:V(),hueRotate:K(),invert:V(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[nF,us],inset:A(),margin:A(),opacity:K(),padding:C(),saturate:K(),scale:K(),sepia:V(),skew:K(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[ds]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...I(),Ke]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hc,Ke]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Hc,Ke]}],"grid-cols":[{"grid-cols":[Gc]}],"col-start-end":[{col:["auto",{span:["full",Hc,Ke]},Ke]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Gc]}],"row-start-end":[{row:["auto",{span:[Hc,Ke]},Ke]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,t]}],"min-w":[{"min-w":[Ke,t,"min","max","fit"]}],"max-w":[{"max-w":[Ke,t,"none","full","min","max","fit","prose",{screen:[ds]},ds]}],h:[{h:[Ke,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ds,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zp]}],"font-family":[{font:[Gc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",mi,Zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ta,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ta,us]}],"underline-offset":[{"underline-offset":["auto",Ta,Ke]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...I(),oF]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sF]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cF]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Ta,Ke]}],"outline-w":[{outline:[Ta,us]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ta,us]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ds,lF]}],"shadow-color":[{shadow:[Gc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ds,Ke]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Hc,Ke]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ta,us,Zp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mF=YL(hF);function J(...e){return mF(We(e))}function Er(e){return typeof e=="string"?e:new Date(e).toISOString().split("T")[0]}function pF(e){if(e instanceof Date)return e;if(typeof e=="string"){const[t,r,n]=e.split("-").map(Number);return new Date(t,(r||1)-1,n||1)}return new Date(e)}function li(e){const[t,r]=e.split(":").map(Number);return t*60+r}function EP(e,t,r,n){return e<n&&r<t}const Si=dc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-responsive-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 btn-touch touch-action-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 active:scale-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 active:scale-95",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground active:scale-95",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground active:scale-95",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 sm:h-10 px-4 py-2 text-base sm:text-sm",sm:"h-10 sm:h-9 rounded-md px-3 text-sm",lg:"h-12 sm:h-11 rounded-md px-8 text-base",icon:"h-11 w-11 sm:h-10 sm:w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?Lr:"button";return a.jsx(i,{className:J(Si({variant:t,size:r,className:e})),ref:o,...s})});z.displayName="Button";const F=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));F.displayName="Card";const ne=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-6",e),...t}));ne.displayName="CardHeader";const ae=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));ae.displayName="CardTitle";const He=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));He.displayName="CardDescription";const U=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-6 pt-0",e),...t}));U.displayName="CardContent";const gF=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-6 pt-0",e),...t}));gF.displayName="CardFooter";const vF=dc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ue({className:e,variant:t,...r}){return a.jsx("div",{className:J(vF({variant:t}),e),...r})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OP=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...c},l)=>x.createElement("svg",{ref:l,...yF,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:OP("lucide",s),...c},[...i.map(([u,d])=>x.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(e,t)=>{const r=x.forwardRef(({className:n,...s},o)=>x.createElement(bF,{ref:o,iconNode:t,className:OP(`lucide-${xF(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=se("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=se("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=se("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=se("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=se("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=se("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=se("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=se("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=se("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=se("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=se("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=se("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=se("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=se("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=se("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=se("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=se("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=se("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=se("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=se("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=se("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=se("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=se("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=se("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=se("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=se("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=se("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=se("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=se("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=se("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=se("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=se("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=se("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),IP=({variant:e="banner",showDismiss:t=!0})=>{const{isInstallable:r,installApp:n,dismissInstall:s}=tm(),{usuario:o}=Lt(),[i,c]=x.useState(!1),[l,u]=x.useState(!1);if(!r||l)return null;const d=async()=>{c(!0),await n()&&u(!0),c(!1)},f=()=>{u(!0),s()},h=o?.nome_personalizado_app||"Sistema do Salo";return e==="banner"?a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-primary text-primary-foreground p-3 shadow-lg",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ma,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:["Instale o ",h]}),a.jsx("p",{className:"text-sm opacity-90",children:"Acesso rpido direto da tela inicial"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{onClick:d,disabled:i,variant:"secondary",size:"sm",children:i?"Instalando...":"Instalar"}),t&&a.jsx(z,{onClick:f,variant:"ghost",size:"sm",className:"text-primary-foreground hover:bg-primary-foreground/20",children:a.jsx(Vt,{className:"h-4 w-4"})})]})]})}):e==="floating"?a.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:a.jsxs(F,{className:"w-80 shadow-xl",children:[a.jsxs(ne,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-5 w-5 text-primary"}),a.jsx(ae,{className:"text-lg",children:"Instalar App"})]}),t&&a.jsx(z,{onClick:f,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsxs(He,{children:["Instale o ",h," para acesso rpido"]})]}),a.jsxs(U,{className:"pt-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsxs(ue,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(mv,{className:"h-3 w-3"}),"Mobile"]}),a.jsxs(ue,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(QF,{className:"h-3 w-3"}),"Tablet"]}),a.jsxs(ue,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(tj,{className:"h-3 w-3"}),"Desktop"]})]}),a.jsx(z,{onClick:d,disabled:i,className:"w-full",children:i?"Instalando...":"Instalar Agora"})]})]})}):a.jsxs(F,{className:"border-primary/20 bg-primary/5",children:[a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(ma,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsxs(ae,{className:"text-lg",children:["Instalar ",h]}),a.jsx(He,{children:"Tenha acesso rpido direto da sua tela inicial"})]})]}),t&&a.jsx(z,{onClick:f,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]})}),a.jsx(U,{className:"pt-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(mv,{className:"h-3 w-3"}),"Mobile"]}),a.jsxs(ue,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(tj,{className:"h-3 w-3"}),"Desktop"]})]}),a.jsx(z,{onClick:d,disabled:i,size:"sm",children:i?"Instalando...":"Instalar"})]})})]})},t3=({variant:e="floating",showDismiss:t=!0})=>{const{hasUpdate:r,updateApp:n}=tm(),[s,o]=x.useState(!1),[i,c]=x.useState(!1);if(!r||i)return null;const l=()=>{o(!0),n()},u=()=>{c(!0)};return e==="banner"?a.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-info text-info-foreground p-3 shadow-lg",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(la,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Nova verso disponvel"}),a.jsx("p",{className:"text-sm opacity-90",children:"Atualize para a verso mais recente"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{onClick:l,disabled:s,variant:"secondary",size:"sm",children:s?"Atualizando...":"Atualizar"}),t&&a.jsx(z,{onClick:u,variant:"ghost",size:"sm",className:"hover:bg-primary/20",children:a.jsx(Vt,{className:"h-4 w-4"})})]})]})}):e==="floating"?a.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:a.jsxs(F,{className:"w-80 shadow-xl border-info/20 bg-info/5",children:[a.jsxs(ne,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(la,{className:"h-5 w-5 text-info"}),a.jsx(ae,{className:"text-lg",children:"Atualizao"})]}),t&&a.jsx(z,{onClick:u,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsx(He,{children:"Nova verso disponvel com melhorias e correes"})]}),a.jsx(U,{className:"pt-0",children:a.jsx(z,{onClick:l,disabled:s,className:"w-full",children:s?"Atualizando...":"Atualizar Agora"})})]})}):a.jsxs(F,{className:"border-info/20 bg-info/5",children:[a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-info/10 flex items-center justify-center",children:a.jsx(la,{className:"h-5 w-5 text-info"})}),a.jsxs("div",{children:[a.jsx(ae,{className:"text-lg",children:"Nova Verso Disponvel"}),a.jsx(He,{children:"Atualize para ter acesso s ltimas melhorias"})]})]}),t&&a.jsx(z,{onClick:u,variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]})}),a.jsx(U,{className:"pt-0",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(z,{onClick:l,disabled:s,size:"sm",children:s?"Atualizando...":"Atualizar"})})})]})},r3=({position:e="top",variant:t="badge"})=>{const{isOffline:r}=tm(),[n,s]=x.useState(!1),[o,i]=x.useState(!1);return x.useEffect(()=>{if(o&&!r){s(!0);const c=setTimeout(()=>{s(!1)},3e3);return()=>clearTimeout(c)}i(r)},[r,o]),t==="banner"?r?a.jsx("div",{className:`fixed left-0 right-0 z-40 bg-warning text-warning-foreground p-2 ${e==="top"?"top-0":"bottom-0"}`,children:a.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(sj,{className:"h-4 w-4"}),"Voc est offline. Algumas funcionalidades podem estar limitadas."]})}):n?a.jsx("div",{className:`fixed left-0 right-0 z-40 bg-success text-success-foreground p-2 ${e==="top"?"top-0":"bottom-0"}`,children:a.jsxs("div",{className:"container mx-auto flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(oj,{className:"h-4 w-4"}),"Conexo restaurada!"]})}):null:r?a.jsxs(ue,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(sj,{className:"h-3 w-3"}),"Offline"]}):n?a.jsxs(ue,{className:"flex items-center gap-1 bg-success text-success-foreground",children:[a.jsx(oj,{className:"h-3 w-3"}),"Online"]}):null},n3=x.createContext(void 0),a3=({children:e,showInstallPrompt:t=!0,showUpdatePrompt:r=!0,showOfflineIndicator:n=!0})=>{const s=tm();return a.jsxs(n3.Provider,{value:s,children:[e,t&&a.jsx(IP,{variant:"floating"}),r&&a.jsx(t3,{}),n&&a.jsx(r3,{variant:"banner"})]})},Jp=768;function LP(){const[e,t]=x.useState(!1);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Jp-1}px)`),n=()=>t(window.innerWidth<Jp);return r.addEventListener("change",n),t(window.innerWidth<Jp),()=>r.removeEventListener("change",n)},[]),e}const ee=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-11 sm:h-10 w-full rounded-md border border-input bg-background px-3 sm:px-4 py-2 text-base sm:text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",e),ref:n,...r}));ee.displayName="Input";var s3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pe=s3.reduce((e,t)=>{const r=x.forwardRef((n,s)=>{const{asChild:o,...i}=n,c=o?Lr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function FP(e,t){e&&Au.flushSync(()=>e.dispatchEvent(t))}var o3="Separator",ij="horizontal",i3=["horizontal","vertical"],zP=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=ij,...s}=e,o=c3(n)?n:ij,c=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(Pe.div,{"data-orientation":o,...c,...s,ref:t})});zP.displayName=o3;function c3(e){return i3.includes(e)}var BP=zP;const Ba=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(BP,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Ba.displayName=BP.displayName;function fe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e?.(s),r===!1||!s.defaultPrevented)return t?.(s)}}function l3(e,t){const r=x.createContext(t),n=o=>{const{children:i,...c}=o,l=x.useMemo(()=>c,Object.values(c));return a.jsx(r.Provider,{value:l,children:i})};n.displayName=e+"Provider";function s(o){const i=x.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Qn(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];const u=f=>{const{scope:h,children:p,...v}=f,m=h?.[e]?.[l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})};u.displayName=o+"Provider";function d(f,h){const p=h?.[e]?.[l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,u3(s,...t)]}function u3(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var jr=globalThis?.document?x.useLayoutEffect:()=>{},d3=MC.useId||(()=>{}),f3=0;function xn(e){const[t,r]=x.useState(d3());return jr(()=>{r(n=>n??String(f3++))},[e]),e||(t?`radix-${t}`:"")}function or(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function wa({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=h3({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,c=or(r),l=x.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&c(f)}else s(u)},[o,e,s,c]);return[i,l]}function h3({defaultProp:e,onChange:t}){const r=x.useState(e),[n]=r,s=x.useRef(n),o=or(t);return x.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}function m3(e,t=globalThis?.document){const r=or(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var p3="DismissableLayer",gv="dismissableLayer.update",g3="dismissableLayer.pointerDownOutside",v3="dismissableLayer.focusOutside",cj,VP=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),pc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:c,...l}=e,u=x.useContext(VP),[d,f]=x.useState(null),h=d?.ownerDocument??globalThis?.document,[,p]=x.useState({}),v=Be(t,_=>f(_)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(g),b=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=b>=y,N=b3(_=>{const P=_.target,E=[...u.branches].some($=>$.contains(P));!j||E||(s?.(_),i?.(_),_.defaultPrevented||c?.())},h),S=w3(_=>{const P=_.target;[...u.branches].some($=>$.contains(P))||(o?.(_),i?.(_),_.defaultPrevented||c?.())},h);return m3(_=>{b===u.layers.size-1&&(n?.(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cj=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lj(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=cj)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lj())},[d,u]),x.useEffect(()=>{const _=()=>p({});return document.addEventListener(gv,_),()=>document.removeEventListener(gv,_)},[]),a.jsx(Pe.div,{...l,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,N.onPointerDownCapture)})});pc.displayName=p3;var x3="DismissableLayerBranch",y3=x.forwardRef((e,t)=>{const r=x.useContext(VP),n=x.useRef(null),s=Be(t,n);return x.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Pe.div,{...e,ref:s})});y3.displayName=x3;function b3(e,t=globalThis?.document){const r=or(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let l=function(){UP(g3,r,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function w3(e,t=globalThis?.document){const r=or(e),n=x.useRef(!1);return x.useEffect(()=>{const s=o=>{o.target&&!n.current&&UP(v3,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lj(){const e=new CustomEvent(gv);document.dispatchEvent(e)}function UP(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?FP(s,o):s.dispatchEvent(o)}var Qp="focusScope.autoFocusOnMount",eg="focusScope.autoFocusOnUnmount",uj={bubbles:!1,cancelable:!0},j3="FocusScope",Du=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[c,l]=x.useState(null),u=or(s),d=or(o),f=x.useRef(null),h=Be(t,m=>l(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!c)return;const j=w.target;c.contains(j)?f.current=j:ms(f.current,{select:!0})},g=function(w){if(p.paused||!c)return;const j=w.relatedTarget;j!==null&&(c.contains(j)||ms(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ms(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(y);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,c,p.paused]),x.useEffect(()=>{if(c){fj.add(p);const m=document.activeElement;if(!c.contains(m)){const y=new CustomEvent(Qp,uj);c.addEventListener(Qp,u),c.dispatchEvent(y),y.defaultPrevented||(N3(A3(WP(c)),{select:!0}),document.activeElement===m&&ms(c))}return()=>{c.removeEventListener(Qp,u),setTimeout(()=>{const y=new CustomEvent(eg,uj);c.addEventListener(eg,d),c.dispatchEvent(y),y.defaultPrevented||ms(m??document.body,{select:!0}),c.removeEventListener(eg,d),fj.remove(p)},0)}}},[c,u,d,p]);const v=x.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,y=document.activeElement;if(g&&y){const b=m.currentTarget,[w,j]=_3(b);w&&j?!m.shiftKey&&y===j?(m.preventDefault(),r&&ms(w,{select:!0})):m.shiftKey&&y===w&&(m.preventDefault(),r&&ms(j,{select:!0})):y===b&&m.preventDefault()}},[r,n,p.paused]);return a.jsx(Pe.div,{tabIndex:-1,...i,ref:h,onKeyDown:v})});Du.displayName=j3;function N3(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ms(n,{select:t}),document.activeElement!==r)return}function _3(e){const t=WP(e),r=dj(t,e),n=dj(t.reverse(),e);return[r,n]}function WP(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function dj(e,t){for(const r of e)if(!S3(r,{upTo:t}))return r}function S3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C3(e){return e instanceof HTMLInputElement&&"select"in e}function ms(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&C3(e)&&t&&e.select()}}var fj=P3();function P3(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=hj(e,t),e.unshift(t)},remove(t){e=hj(e,t),e[0]?.resume()}}}function hj(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function A3(e){return e.filter(t=>t.tagName!=="A")}var k3="Portal",Ru=x.forwardRef((e,t)=>{const{container:r,...n}=e,[s,o]=x.useState(!1);jr(()=>o(!0),[]);const i=r||s&&globalThis?.document?.body;return i?DC.createPortal(a.jsx(Pe.div,{...n,ref:t}),i):null});Ru.displayName=k3;function E3(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Cr=e=>{const{present:t,children:r}=e,n=O3(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),o=Be(n.ref,T3(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:o}):null};Cr.displayName="Presence";function O3(e){const[t,r]=x.useState(),n=x.useRef({}),s=x.useRef(e),o=x.useRef("none"),i=e?"mounted":"unmounted",[c,l]=E3(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=wd(n.current);o.current=c==="mounted"?u:"none"},[c]),jr(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,p=wd(u);e?l("MOUNT"):p==="none"||u?.display==="none"?l("UNMOUNT"):l(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=wd(n.current).includes(p.animationName);if(p.target===t&&m&&(l("ANIMATION_END"),!s.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(o.current=wd(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function wd(e){return e?.animationName||"none"}function T3(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tg=0;function im(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mj()),document.body.insertAdjacentElement("beforeend",e[1]??mj()),tg++,()=>{tg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tg--}},[])}function mj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oa=function(){return oa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},oa.apply(this,arguments)};function qP(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function $3(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Zd="right-scroll-bar-position",Xd="width-before-scroll-bar",M3="with-scroll-bars-hidden",D3="--removed-body-scroll-bar-size";function rg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function R3(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var I3=typeof window<"u"?x.useLayoutEffect:x.useEffect,pj=new WeakMap;function L3(e,t){var r=R3(null,function(n){return e.forEach(function(s){return rg(s,n)})});return I3(function(){var n=pj.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(c){o.has(c)||rg(c,null)}),o.forEach(function(c){s.has(c)||rg(c,i)})}pj.set(r,e)},[e]),r}function F3(e){return e}function z3(e,t){t===void 0&&(t=F3);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(c){return c!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(c){return o(c)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var c=r;r=[],c.forEach(o),i=r}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function B3(e){e===void 0&&(e={});var t=z3(null);return t.options=oa({async:!0,ssr:!1},e),t}var HP=function(e){var t=e.sideCar,r=qP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,oa({},r))};HP.isSideCarExport=!0;function V3(e,t){return e.useMedium(t),HP}var GP=B3(),ng=function(){},cm=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:ng,onWheelCapture:ng,onTouchMoveCapture:ng}),s=n[0],o=n[1],i=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,v=e.inert,m=e.allowPinchZoom,g=e.as,y=g===void 0?"div":g,b=e.gapMode,w=qP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,N=L3([r,t]),S=oa(oa({},w),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:GP,removeScrollBar:u,shards:f,noIsolation:p,inert:v,setCallbacks:o,allowPinchZoom:!!m,lockRef:r,gapMode:b}),i?x.cloneElement(x.Children.only(c),oa(oa({},S),{ref:N})):x.createElement(y,oa({},S,{className:l,ref:N}),c))});cm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cm.classNames={fullWidth:Xd,zeroRight:Zd};var U3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=U3();return t&&e.setAttribute("nonce",t),e}function q3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function H3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var G3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=W3())&&(q3(t,r),H3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},K3=function(){var e=G3();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},KP=function(){var e=K3(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},Y3={left:0,top:0,right:0,gap:0},ag=function(e){return parseInt(e||"",10)||0},Z3=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ag(r),ag(n),ag(s)]},X3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Y3;var t=Z3(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},J3=KP(),gi="data-scroll-locked",Q3=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(M3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(gi,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Zd,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Xd,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Zd," .").concat(Zd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(gi,`] {
    `).concat(D3,": ").concat(c,`px;
  }
`)},gj=function(){var e=parseInt(document.body.getAttribute(gi)||"0",10);return isFinite(e)?e:0},e6=function(){x.useEffect(function(){return document.body.setAttribute(gi,(gj()+1).toString()),function(){var e=gj()-1;e<=0?document.body.removeAttribute(gi):document.body.setAttribute(gi,e.toString())}},[])},t6=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;e6();var o=x.useMemo(function(){return X3(s)},[s]);return x.createElement(J3,{styles:Q3(o,!t,s,r?"":"!important")})},vv=!1;if(typeof window<"u")try{var jd=Object.defineProperty({},"passive",{get:function(){return vv=!0,!0}});window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{vv=!1}var Jo=vv?{passive:!1}:!1,r6=function(e){return e.tagName==="TEXTAREA"},YP=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!r6(e)&&r[t]==="visible")},n6=function(e){return YP(e,"overflowY")},a6=function(e){return YP(e,"overflowX")},vj=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=ZP(e,n);if(s){var o=XP(e,n),i=o[1],c=o[2];if(i>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},s6=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},o6=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ZP=function(e,t){return e==="v"?n6(t):a6(t)},XP=function(e,t){return e==="v"?s6(t):o6(t)},i6=function(e,t){return e==="h"&&t==="rtl"?-1:1},c6=function(e,t,r,n,s){var o=i6(e,window.getComputedStyle(t).direction),i=o*n,c=r.target,l=t.contains(c),u=!1,d=i>0,f=0,h=0;do{var p=XP(e,c),v=p[0],m=p[1],g=p[2],y=m-g-o*v;(v||y)&&ZP(e,c)&&(f+=y,h+=v),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Nd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xj=function(e){return[e.deltaX,e.deltaY]},yj=function(e){return e&&"current"in e?e.current:e},l6=function(e,t){return e[0]===t[0]&&e[1]===t[1]},u6=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},d6=0,Qo=[];function f6(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(d6++)[0],o=x.useState(KP)[0],i=x.useRef(e);x.useEffect(function(){i.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=$3([e.lockRef.current],(e.shards||[]).map(yj),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var y=Nd(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-y[0],j="deltaY"in m?m.deltaY:b[1]-y[1],N,S=m.target,_=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in m&&_==="h"&&S.type==="range")return!1;var P=vj(_,S);if(!P)return!0;if(P?N=_:(N=_==="v"?"h":"v",P=vj(_,S)),!P)return!1;if(!n.current&&"changedTouches"in m&&(w||j)&&(n.current=N),!N)return!0;var E=n.current||N;return c6(E,g,m,E==="h"?w:j)},[]),l=x.useCallback(function(m){var g=m;if(!(!Qo.length||Qo[Qo.length-1]!==o)){var y="deltaY"in g?xj(g):Nd(g),b=t.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&l6(N.delta,y)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(i.current.shards||[]).map(yj).filter(Boolean).filter(function(N){return N.contains(g.target)}),j=w.length>0?c(g,w[0]):!i.current.noIsolation;j&&g.cancelable&&g.preventDefault()}}},[]),u=x.useCallback(function(m,g,y,b){var w={name:m,delta:g,target:y,should:b,shadowParent:h6(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=x.useCallback(function(m){r.current=Nd(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,xj(m),m.target,c(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,Nd(m),m.target,c(m,e.lockRef.current))},[]);x.useEffect(function(){return Qo.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Jo),document.addEventListener("touchmove",l,Jo),document.addEventListener("touchstart",d,Jo),function(){Qo=Qo.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Jo),document.removeEventListener("touchmove",l,Jo),document.removeEventListener("touchstart",d,Jo)}},[]);var p=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(o,{styles:u6(s)}):null,p?x.createElement(t6,{gapMode:e.gapMode}):null)}function h6(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const m6=V3(GP,f6);var Iu=x.forwardRef(function(e,t){return x.createElement(cm,oa({},e,{ref:t,sideCar:m6}))});Iu.classNames=cm.classNames;var p6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ei=new WeakMap,_d=new WeakMap,Sd={},sg=0,JP=function(e){return e&&(e.host||JP(e.parentNode))},g6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=JP(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},v6=function(e,t,r,n){var s=g6(t,Array.isArray(e)?e:[e]);Sd[r]||(Sd[r]=new WeakMap);var o=Sd[r],i=[],c=new Set,l=new Set(s),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(c.has(h))d(h);else try{var p=h.getAttribute(n),v=p!==null&&p!=="false",m=(ei.get(h)||0)+1,g=(o.get(h)||0)+1;ei.set(h,m),o.set(h,g),i.push(h),m===1&&v&&_d.set(h,!0),g===1&&h.setAttribute(r,"true"),v||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),c.clear(),sg++,function(){i.forEach(function(f){var h=ei.get(f)-1,p=o.get(f)-1;ei.set(f,h),o.set(f,p),h||(_d.has(f)||f.removeAttribute(n),_d.delete(f)),p||f.removeAttribute(r)}),sg--,sg||(ei=new WeakMap,ei=new WeakMap,_d=new WeakMap,Sd={})}},lm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=p6(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),v6(n,s,r,"aria-hidden")):function(){return null}},Ly="Dialog",[QP,Fy]=Qn(Ly),[x6,ea]=QP(Ly),zy=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,c=x.useRef(null),l=x.useRef(null),[u=!1,d]=wa({prop:n,defaultProp:s,onChange:o});return a.jsx(x6,{scope:t,triggerRef:c,contentRef:l,contentId:xn(),titleId:xn(),descriptionId:xn(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};zy.displayName=Ly;var eA="DialogTrigger",By=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ea(eA,r),o=Be(t,s.triggerRef);return a.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Zy(s.open),...n,ref:o,onClick:fe(e.onClick,s.onOpenToggle)})});By.displayName=eA;var Vy="DialogPortal",[y6,tA]=QP(Vy,{forceMount:void 0}),Uy=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=ea(Vy,t);return a.jsx(y6,{scope:t,forceMount:r,children:x.Children.map(n,i=>a.jsx(Cr,{present:r||o.open,children:a.jsx(Ru,{asChild:!0,container:s,children:i})}))})};Uy.displayName=Vy;var wf="DialogOverlay",Wy=x.forwardRef((e,t)=>{const r=tA(wf,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=ea(wf,e.__scopeDialog);return o.modal?a.jsx(Cr,{present:n||o.open,children:a.jsx(b6,{...s,ref:t})}):null});Wy.displayName=wf;var b6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ea(wf,r);return a.jsx(Iu,{as:Lr,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Pe.div,{"data-state":Zy(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),bo="DialogContent",qy=x.forwardRef((e,t)=>{const r=tA(bo,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=ea(bo,e.__scopeDialog);return a.jsx(Cr,{present:n||o.open,children:o.modal?a.jsx(w6,{...s,ref:t}):a.jsx(j6,{...s,ref:t})})});qy.displayName=bo;var w6=x.forwardRef((e,t)=>{const r=ea(bo,e.__scopeDialog),n=x.useRef(null),s=Be(t,r.contentRef,n);return x.useEffect(()=>{const o=n.current;if(o)return lm(o)},[]),a.jsx(rA,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&o.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault())})}),j6=x.forwardRef((e,t)=>{const r=ea(bo,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(rA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),rA=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,c=ea(bo,r),l=x.useRef(null),u=Be(t,l);return im(),a.jsxs(a.Fragment,{children:[a.jsx(Du,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(pc,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Zy(c.open),...i,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(N6,{titleId:c.titleId}),a.jsx(S6,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Hy="DialogTitle",Gy=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ea(Hy,r);return a.jsx(Pe.h2,{id:s.titleId,...n,ref:t})});Gy.displayName=Hy;var nA="DialogDescription",Ky=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ea(nA,r);return a.jsx(Pe.p,{id:s.descriptionId,...n,ref:t})});Ky.displayName=nA;var aA="DialogClose",Yy=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=ea(aA,r);return a.jsx(Pe.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>s.onOpenChange(!1))})});Yy.displayName=aA;function Zy(e){return e?"open":"closed"}var sA="DialogTitleWarning",[oA,iA]=l3(sA,{contentName:bo,titleName:Hy,docsSlug:"dialog"}),N6=({titleId:e})=>{const t=iA(sA),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},_6="DialogDescriptionWarning",S6=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iA(_6).contentName}}.`;return x.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},um=zy,dm=By,fm=Uy,gc=Wy,vc=qy,xc=Gy,yc=Ky,Lu=Yy;const C6=Object.freeze(Object.defineProperty({__proto__:null,Close:Lu,Content:vc,Description:yc,Dialog:zy,DialogClose:Yy,DialogContent:qy,DialogDescription:Ky,DialogOverlay:Wy,DialogPortal:Uy,DialogTitle:Gy,DialogTrigger:By,Overlay:gc,Portal:fm,Root:um,Title:xc,Trigger:dm,WarningProvider:oA,createDialogScope:Fy},Symbol.toStringTag,{value:"Module"})),cA=um,P6=dm,A6=fm,lA=x.forwardRef(({className:e,...t},r)=>a.jsx(gc,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));lA.displayName=gc.displayName;const k6=dc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Xy=x.forwardRef(({side:e="right",className:t,children:r,...n},s)=>a.jsxs(A6,{children:[a.jsx(lA,{}),a.jsxs(vc,{ref:s,className:J(k6({side:e}),t),...n,children:[r,a.jsxs(Lu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Vt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xy.displayName=vc.displayName;const uA=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});uA.displayName="SheetHeader";const dA=x.forwardRef(({className:e,...t},r)=>a.jsx(xc,{ref:r,className:J("text-lg font-semibold text-foreground",e),...t}));dA.displayName=xc.displayName;const E6=x.forwardRef(({className:e,...t},r)=>a.jsx(yc,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));E6.displayName=yc.displayName;function bj({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const O6=["top","right","bottom","left"],Ss=Math.min,rn=Math.max,jf=Math.round,Cd=Math.floor,Cs=e=>({x:e,y:e}),T6={left:"right",right:"left",bottom:"top",top:"bottom"},$6={start:"end",end:"start"};function xv(e,t,r){return rn(e,Ss(t,r))}function Qa(e,t){return typeof e=="function"?e(t):e}function es(e){return e.split("-")[0]}function bc(e){return e.split("-")[1]}function Jy(e){return e==="x"?"y":"x"}function Qy(e){return e==="y"?"height":"width"}function Ps(e){return["top","bottom"].includes(es(e))?"y":"x"}function eb(e){return Jy(Ps(e))}function M6(e,t,r){r===void 0&&(r=!1);const n=bc(e),s=eb(e),o=Qy(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Nf(i)),[i,Nf(i)]}function D6(e){const t=Nf(e);return[yv(e),t,yv(t)]}function yv(e){return e.replace(/start|end/g,t=>$6[t])}function R6(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function I6(e,t,r,n){const s=bc(e);let o=R6(es(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(yv)))),o}function Nf(e){return e.replace(/left|right|bottom|top/g,t=>T6[t])}function L6(e){return{top:0,right:0,bottom:0,left:0,...e}}function fA(e){return typeof e!="number"?L6(e):{top:e,right:e,bottom:e,left:e}}function _f(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function wj(e,t,r){let{reference:n,floating:s}=e;const o=Ps(t),i=eb(t),c=Qy(i),l=es(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[c]/2-s[c]/2;let p;switch(l){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(bc(t)){case"start":p[i]-=h*(r&&u?-1:1);break;case"end":p[i]+=h*(r&&u?-1:1);break}return p}const F6=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,c=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=wj(u,n,l),h=n,p={},v=0;for(let m=0;m<c.length;m++){const{name:g,fn:y}=c[m],{x:b,y:w,data:j,reset:N}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=b??d,f=w??f,p={...p,[g]:{...p[g],...j}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:d,y:f}=wj(u,h,l)),m=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Rl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Qa(t,e),v=fA(p),g=c[h?f==="floating"?"reference":"floating":f],y=_f(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(g)))==null||r?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=_f(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-N.top+v.top)/j.y,bottom:(N.bottom-y.bottom+v.bottom)/j.y,left:(y.left-N.left+v.left)/j.x,right:(N.right-y.right+v.right)/j.x}}const z6=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=Qa(e,t)||{};if(u==null)return{};const f=fA(d),h={x:r,y:n},p=eb(s),v=Qy(p),m=await i.getDimensions(u),g=p==="y",y=g?"top":"left",b=g?"bottom":"right",w=g?"clientHeight":"clientWidth",j=o.reference[v]+o.reference[p]-h[p]-o.floating[v],N=h[p]-o.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=S?S[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=c.floating[w]||o.floating[v]);const P=j/2-N/2,E=_/2-m[v]/2-1,$=Ss(f[y],E),A=Ss(f[b],E),C=$,O=_-m[v]-A,T=_/2-m[v]/2+P,I=xv(C,T,O),R=!l.arrow&&bc(s)!=null&&T!==I&&o.reference[v]/2-(T<C?$:A)-m[v]/2<0,D=R?T<C?T-C:T-O:0;return{[p]:h[p]+D,data:{[p]:I,centerOffset:T-I-D,...R&&{alignmentOffset:D}},reset:R}}}),B6=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Qa(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=es(s),b=Ps(c),w=es(c)===c,j=await(l.isRTL==null?void 0:l.isRTL(u.floating)),N=h||(w||!m?[Nf(c)]:D6(c)),S=v!=="none";!h&&S&&N.push(...I6(c,m,v,j));const _=[c,...N],P=await Rl(t,g),E=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&E.push(P[y]),f){const T=M6(s,i,j);E.push(P[T[0]],P[T[1]])}if($=[...$,{placement:s,overflows:E}],!E.every(T=>T<=0)){var A,C;const T=(((A=o.flip)==null?void 0:A.index)||0)+1,I=_[T];if(I)return{data:{index:T,overflows:$},reset:{placement:I}};let R=(C=$.filter(D=>D.overflows[0]<=0).sort((D,M)=>D.overflows[1]-M.overflows[1])[0])==null?void 0:C.placement;if(!R)switch(p){case"bestFit":{var O;const D=(O=$.filter(M=>{if(S){const V=Ps(M.placement);return V===b||V==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(V=>V>0).reduce((V,re)=>V+re,0)]).sort((M,V)=>M[1]-V[1])[0])==null?void 0:O[0];D&&(R=D);break}case"initialPlacement":R=c;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function jj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Nj(e){return O6.some(t=>e[t]>=0)}const V6=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=Qa(e,t);switch(n){case"referenceHidden":{const o=await Rl(t,{...s,elementContext:"reference"}),i=jj(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Nj(i)}}}case"escaped":{const o=await Rl(t,{...s,altBoundary:!0}),i=jj(o,r.floating);return{data:{escapedOffsets:i,escaped:Nj(i)}}}default:return{}}}}};async function U6(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=es(r),c=bc(r),l=Ps(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&l?-1:1,f=Qa(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(p=c==="end"?v*-1:v),l?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const W6=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:c}=t,l=await U6(t,e);return i===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},q6=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:c={fn:g=>{let{x:y,y:b}=g;return{x:y,y:b}}},...l}=Qa(e,t),u={x:r,y:n},d=await Rl(t,l),f=Ps(es(s)),h=Jy(f);let p=u[h],v=u[f];if(o){const g=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=p+d[g],w=p-d[y];p=xv(b,p,w)}if(i){const g=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+d[g],w=v-d[y];v=xv(b,v,w)}const m=c.fn({...t,[h]:p,[f]:v});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:o,[f]:i}}}}}},H6=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=Qa(e,t),d={x:r,y:n},f=Ps(s),h=Jy(f);let p=d[h],v=d[f];const m=Qa(c,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=h==="y"?"height":"width",j=o.reference[h]-o.floating[w]+g.mainAxis,N=o.reference[h]+o.reference[w]-g.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var y,b;const w=h==="y"?"width":"height",j=["top","left"].includes(es(s)),N=o.reference[f]-o.floating[w]+(j&&((y=i.offset)==null?void 0:y[f])||0)+(j?0:g.crossAxis),S=o.reference[f]+o.reference[w]+(j?0:((b=i.offset)==null?void 0:b[f])||0)-(j?g.crossAxis:0);v<N?v=N:v>S&&(v=S)}return{[h]:p,[f]:v}}}},G6=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:c}=t,{apply:l=()=>{},...u}=Qa(e,t),d=await Rl(t,u),f=es(s),h=bc(s),p=Ps(s)==="y",{width:v,height:m}=o.floating;let g,y;f==="top"||f==="bottom"?(g=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(c.floating))?"start":"end")?"left":"right"):(y=f,g=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,w=v-d.left-d.right,j=Ss(m-d[g],b),N=Ss(v-d[y],w),S=!t.middlewareData.shift;let _=j,P=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(_=b),S&&!h){const $=rn(d.left,0),A=rn(d.right,0),C=rn(d.top,0),O=rn(d.bottom,0);p?P=v-2*($!==0||A!==0?$+A:rn(d.left,d.right)):_=m-2*(C!==0||O!==0?C+O:rn(d.top,d.bottom))}await l({...t,availableWidth:P,availableHeight:_});const E=await i.getDimensions(c.floating);return v!==E.width||m!==E.height?{reset:{rects:!0}}:{}}}};function hm(){return typeof window<"u"}function wc(e){return hA(e)?(e.nodeName||"").toLowerCase():"#document"}function sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ca(e){var t;return(t=(hA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hA(e){return hm()?e instanceof Node||e instanceof sn(e).Node:!1}function Gn(e){return hm()?e instanceof Element||e instanceof sn(e).Element:!1}function ja(e){return hm()?e instanceof HTMLElement||e instanceof sn(e).HTMLElement:!1}function _j(e){return!hm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof sn(e).ShadowRoot}function Fu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function K6(e){return["table","td","th"].includes(wc(e))}function mm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function tb(e){const t=rb(),r=Gn(e)?Kn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Y6(e){let t=As(e);for(;ja(t)&&!Pi(t);){if(tb(t))return t;if(mm(t))return null;t=As(t)}return null}function rb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pi(e){return["html","body","#document"].includes(wc(e))}function Kn(e){return sn(e).getComputedStyle(e)}function pm(e){return Gn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function As(e){if(wc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||_j(e)&&e.host||Ca(e);return _j(t)?t.host:t}function mA(e){const t=As(e);return Pi(t)?e.ownerDocument?e.ownerDocument.body:e.body:ja(t)&&Fu(t)?t:mA(t)}function Il(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=mA(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=sn(s);if(o){const c=bv(i);return t.concat(i,i.visualViewport||[],Fu(s)?s:[],c&&r?Il(c):[])}return t.concat(s,Il(s,[],r))}function bv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pA(e){const t=Kn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ja(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,c=jf(r)!==o||jf(n)!==i;return c&&(r=o,n=i),{width:r,height:n,$:c}}function nb(e){return Gn(e)?e:e.contextElement}function vi(e){const t=nb(e);if(!ja(t))return Cs(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=pA(t);let i=(o?jf(r.width):r.width)/n,c=(o?jf(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!c||!Number.isFinite(c))&&(c=1),{x:i,y:c}}const Z6=Cs(0);function gA(e){const t=sn(e);return!rb()||!t.visualViewport?Z6:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function X6(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==sn(e)?!1:t}function wo(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=nb(e);let i=Cs(1);t&&(n?Gn(n)&&(i=vi(n)):i=vi(e));const c=X6(o,r,n)?gA(o):Cs(0);let l=(s.left+c.x)/i.x,u=(s.top+c.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=sn(o),p=n&&Gn(n)?sn(n):n;let v=h,m=bv(v);for(;m&&n&&p!==v;){const g=vi(m),y=m.getBoundingClientRect(),b=Kn(m),w=y.left+(m.clientLeft+parseFloat(b.paddingLeft))*g.x,j=y.top+(m.clientTop+parseFloat(b.paddingTop))*g.y;l*=g.x,u*=g.y,d*=g.x,f*=g.y,l+=w,u+=j,v=sn(m),m=bv(v)}}return _f({width:d,height:f,x:l,y:u})}function J6(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Ca(n),c=t?mm(t.floating):!1;if(n===i||c&&o)return r;let l={scrollLeft:0,scrollTop:0},u=Cs(1);const d=Cs(0),f=ja(n);if((f||!f&&!o)&&((wc(n)!=="body"||Fu(i))&&(l=pm(n)),ja(n))){const h=wo(n);u=vi(n),d.x=h.x+n.clientLeft,d.y=h.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x,y:r.y*u.y-l.scrollTop*u.y+d.y}}function Q6(e){return Array.from(e.getClientRects())}function wv(e,t){const r=pm(e).scrollLeft;return t?t.left+r:wo(Ca(e)).left+r}function ez(e){const t=Ca(e),r=pm(e),n=e.ownerDocument.body,s=rn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=rn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+wv(e);const c=-r.scrollTop;return Kn(n).direction==="rtl"&&(i+=rn(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:c}}function tz(e,t){const r=sn(e),n=Ca(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,c=0,l=0;if(s){o=s.width,i=s.height;const u=rb();(!u||u&&t==="fixed")&&(c=s.offsetLeft,l=s.offsetTop)}return{width:o,height:i,x:c,y:l}}function rz(e,t){const r=wo(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=ja(e)?vi(e):Cs(1),i=e.clientWidth*o.x,c=e.clientHeight*o.y,l=s*o.x,u=n*o.y;return{width:i,height:c,x:l,y:u}}function Sj(e,t,r){let n;if(t==="viewport")n=tz(e,r);else if(t==="document")n=ez(Ca(e));else if(Gn(t))n=rz(t,r);else{const s=gA(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return _f(n)}function vA(e,t){const r=As(e);return r===t||!Gn(r)||Pi(r)?!1:Kn(r).position==="fixed"||vA(r,t)}function nz(e,t){const r=t.get(e);if(r)return r;let n=Il(e,[],!1).filter(c=>Gn(c)&&wc(c)!=="body"),s=null;const o=Kn(e).position==="fixed";let i=o?As(e):e;for(;Gn(i)&&!Pi(i);){const c=Kn(i),l=tb(i);!l&&c.position==="fixed"&&(s=null),(o?!l&&!s:!l&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fu(i)&&!l&&vA(e,i))?n=n.filter(d=>d!==i):s=c,i=As(i)}return t.set(e,n),n}function az(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?mm(t)?[]:nz(t,this._c):[].concat(r),n],c=i[0],l=i.reduce((u,d)=>{const f=Sj(t,d,s);return u.top=rn(f.top,u.top),u.right=Ss(f.right,u.right),u.bottom=Ss(f.bottom,u.bottom),u.left=rn(f.left,u.left),u},Sj(t,c,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sz(e){const{width:t,height:r}=pA(e);return{width:t,height:r}}function oz(e,t,r){const n=ja(t),s=Ca(t),o=r==="fixed",i=wo(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const l=Cs(0);if(n||!n&&!o)if((wc(t)!=="body"||Fu(s))&&(c=pm(t)),n){const p=wo(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else s&&(l.x=wv(s));let u=0,d=0;if(s&&!n&&!o){const p=s.getBoundingClientRect();d=p.top+c.scrollTop,u=p.left+c.scrollLeft-wv(s,p)}const f=i.left+c.scrollLeft-l.x-u,h=i.top+c.scrollTop-l.y-d;return{x:f,y:h,width:i.width,height:i.height}}function og(e){return Kn(e).position==="static"}function Cj(e,t){if(!ja(e)||Kn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ca(e)===r&&(r=r.ownerDocument.body),r}function xA(e,t){const r=sn(e);if(mm(e))return r;if(!ja(e)){let s=As(e);for(;s&&!Pi(s);){if(Gn(s)&&!og(s))return s;s=As(s)}return r}let n=Cj(e,t);for(;n&&K6(n)&&og(n);)n=Cj(n,t);return n&&Pi(n)&&og(n)&&!tb(n)?r:n||Y6(e)||r}const iz=async function(e){const t=this.getOffsetParent||xA,r=this.getDimensions,n=await r(e.floating);return{reference:oz(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function cz(e){return Kn(e).direction==="rtl"}const lz={convertOffsetParentRelativeRectToViewportRelativeRect:J6,getDocumentElement:Ca,getClippingRect:az,getOffsetParent:xA,getElementRects:iz,getClientRects:Q6,getDimensions:sz,getScale:vi,isElement:Gn,isRTL:cz};function uz(e,t){let r=null,n;const s=Ca(e);function o(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function i(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(c||t(),!f||!h)return;const p=Cd(d),v=Cd(s.clientWidth-(u+f)),m=Cd(s.clientHeight-(d+h)),g=Cd(u),b={rootMargin:-p+"px "+-v+"px "+-m+"px "+-g+"px",threshold:rn(0,Ss(1,l))||1};let w=!0;function j(N){const S=N[0].intersectionRatio;if(S!==l){if(!w)return i();S?i(!1,S):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return i(!0),o}function dz(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=nb(e),d=s||o?[...u?Il(u):[],...Il(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const f=u&&c?uz(u,r):null;let h=-1,p=null;i&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!l&&p.observe(u),p.observe(t));let v,m=l?wo(e):null;l&&g();function g(){const y=wo(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&r(),m=y,v=requestAnimationFrame(g)}return r(),()=>{var y;d.forEach(b=>{s&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),f?.(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const fz=W6,hz=q6,mz=B6,pz=G6,gz=V6,Pj=z6,vz=H6,xz=(e,t,r)=>{const n=new Map,s={platform:lz,...r},o={...s.platform,_c:n};return F6(e,t,{...s,platform:o})};var Jd=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Sf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sf(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Sf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function yA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Aj(e,t){const r=yA(e);return Math.round(t*r)/r}function ig(e){const t=x.useRef(e);return Jd(()=>{t.current=e}),t}function yz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Sf(h,n)||p(n);const[v,m]=x.useState(null),[g,y]=x.useState(null),b=x.useCallback(M=>{M!==S.current&&(S.current=M,m(M))},[]),w=x.useCallback(M=>{M!==_.current&&(_.current=M,y(M))},[]),j=o||v,N=i||g,S=x.useRef(null),_=x.useRef(null),P=x.useRef(d),E=l!=null,$=ig(l),A=ig(s),C=ig(u),O=x.useCallback(()=>{if(!S.current||!_.current)return;const M={placement:t,strategy:r,middleware:h};A.current&&(M.platform=A.current),xz(S.current,_.current,M).then(V=>{const re={...V,isPositioned:C.current!==!1};T.current&&!Sf(P.current,re)&&(P.current=re,Au.flushSync(()=>{f(re)}))})},[h,t,r,A,C]);Jd(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const T=x.useRef(!1);Jd(()=>(T.current=!0,()=>{T.current=!1}),[]),Jd(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if($.current)return $.current(j,N,O);O()}},[j,N,O,$,E]);const I=x.useMemo(()=>({reference:S,floating:_,setReference:b,setFloating:w}),[b,w]),R=x.useMemo(()=>({reference:j,floating:N}),[j,N]),D=x.useMemo(()=>{const M={position:r,left:0,top:0};if(!R.floating)return M;const V=Aj(R.floating,d.x),re=Aj(R.floating,d.y);return c?{...M,transform:"translate("+V+"px, "+re+"px)",...yA(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:re}},[r,c,R.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:O,refs:I,elements:R,floatingStyles:D}),[d,O,I,R,D])}const bz=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pj({element:n.current,padding:s}).fn(r):{}:n?Pj({element:n,padding:s}).fn(r):{}}}},wz=(e,t)=>({...fz(e),options:[e,t]}),jz=(e,t)=>({...hz(e),options:[e,t]}),Nz=(e,t)=>({...vz(e),options:[e,t]}),_z=(e,t)=>({...mz(e),options:[e,t]}),Sz=(e,t)=>({...pz(e),options:[e,t]}),Cz=(e,t)=>({...gz(e),options:[e,t]}),Pz=(e,t)=>({...bz(e),options:[e,t]});var Az="Arrow",bA=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(Pe.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});bA.displayName=Az;var kz=bA;function Ez(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function d(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,Oz(s,...t)]}function Oz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function ab(e){const[t,r]=x.useState(void 0);return jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,c;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,c=u.blockSize}else i=e.offsetWidth,c=e.offsetHeight;r({width:i,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var sb="Popper",[wA,Ds]=Ez(sb),[Tz,jA]=wA(sb),NA=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(Tz,{scope:t,anchor:n,onAnchorChange:s,children:r})};NA.displayName=sb;var _A="PopperAnchor",SA=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=jA(_A,r),i=x.useRef(null),c=Be(t,i);return x.useEffect(()=>{o.onAnchorChange(n?.current||i.current)}),n?null:a.jsx(Pe.div,{...s,ref:c})});SA.displayName=_A;var ob="PopperContent",[$z,Mz]=wA(ob),CA=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:v,...m}=e,g=jA(ob,r),[y,b]=x.useState(null),w=Be(t,le=>b(le)),[j,N]=x.useState(null),S=ab(j),_=S?.width??0,P=S?.height??0,E=n+(o!=="center"?"-"+o:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],C=A.length>0,O={padding:$,boundary:A.filter(Rz),altBoundary:C},{refs:T,floatingStyles:I,placement:R,isPositioned:D,middlewareData:M}=yz({strategy:"fixed",placement:E,whileElementsMounted:(...le)=>dz(...le,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[wz({mainAxis:s+P,alignmentAxis:i}),l&&jz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Nz():void 0,...O}),l&&_z({...O}),Sz({...O,apply:({elements:le,rects:Re,availableWidth:oe,availableHeight:me})=>{const{width:be,height:Y}=Re.reference,Xe=le.floating.style;Xe.setProperty("--radix-popper-available-width",`${oe}px`),Xe.setProperty("--radix-popper-available-height",`${me}px`),Xe.setProperty("--radix-popper-anchor-width",`${be}px`),Xe.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),j&&Pz({element:j,padding:c}),Iz({arrowWidth:_,arrowHeight:P}),h&&Cz({strategy:"referenceHidden",...O})]}),[V,re]=kA(R),K=or(v);jr(()=>{D&&K?.()},[D,K]);const te=M.arrow?.x,ce=M.arrow?.y,_e=M.arrow?.centerOffset!==0,[Ze,Ee]=x.useState();return jr(()=>{y&&Ee(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...I,transform:D?I.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ze,"--radix-popper-transform-origin":[M.transformOrigin?.x,M.transformOrigin?.y].join(" "),...M.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx($z,{scope:r,placedSide:V,onArrowChange:N,arrowX:te,arrowY:ce,shouldHideArrow:_e,children:a.jsx(Pe.div,{"data-side":V,"data-align":re,...m,ref:w,style:{...m.style,animation:D?void 0:"none"}})})})});CA.displayName=ob;var PA="PopperArrow",Dz={top:"bottom",right:"left",bottom:"top",left:"right"},AA=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=Mz(PA,n),i=Dz[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(kz,{...s,ref:r,style:{...s.style,display:"block"}})})});AA.displayName=PA;function Rz(e){return e!==null}var Iz=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,c=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=kA(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(s.arrow?.x??0)+c/2,p=(s.arrow?.y??0)+l/2;let v="",m="";return u==="bottom"?(v=i?f:`${h}px`,m=`${-l}px`):u==="top"?(v=i?f:`${h}px`,m=`${n.floating.height+l}px`):u==="right"?(v=`${-l}px`,m=i?f:`${p}px`):u==="left"&&(v=`${n.floating.width+l}px`,m=i?f:`${p}px`),{data:{x:v,y:m}}}});function kA(e){const[t,r="center"]=e.split("-");return[t,r]}var gm=NA,zu=SA,vm=CA,xm=AA,Lz="VisuallyHidden",ib=x.forwardRef((e,t)=>a.jsx(Pe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ib.displayName=Lz;var Fz=ib,[ym]=Qn("Tooltip",[Ds]),bm=Ds(),zz="TooltipProvider",jv="tooltip.open",[j1e,cb]=ym(zz),wm="Tooltip",[Bz,jm]=ym(wm),EA=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:c}=e,l=cb(wm,e.__scopeTooltip),u=bm(t),[d,f]=x.useState(null),h=xn(),p=x.useRef(0),v=i??l.disableHoverableContent,m=c??l.delayDuration,g=x.useRef(!1),[y=!1,b]=wa({prop:n,defaultProp:s,onChange:_=>{_?(l.onOpen(),document.dispatchEvent(new CustomEvent(jv))):l.onClose(),o?.(_)}}),w=x.useMemo(()=>y?g.current?"delayed-open":"instant-open":"closed",[y]),j=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,b(!0)},[b]),N=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b(!1)},[b]),S=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,b(!0),p.current=0},m)},[m,b]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),a.jsx(gm,{...u,children:a.jsx(Bz,{scope:t,contentId:h,open:y,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{l.isOpenDelayed?S():j()},[l.isOpenDelayed,S,j]),onTriggerLeave:x.useCallback(()=>{v?N():(window.clearTimeout(p.current),p.current=0)},[N,v]),onOpen:j,onClose:N,disableHoverableContent:v,children:r})})};EA.displayName=wm;var Nv="TooltipTrigger",OA=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=jm(Nv,r),o=cb(Nv,r),i=bm(r),c=x.useRef(null),l=Be(t,c,s.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(zu,{asChild:!0,...i,children:a.jsx(Pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:fe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:fe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:fe(e.onBlur,s.onClose),onClick:fe(e.onClick,s.onClose)})})});OA.displayName=Nv;var Vz="TooltipPortal",[N1e,Uz]=ym(Vz,{forceMount:void 0}),Ai="TooltipContent",TA=x.forwardRef((e,t)=>{const r=Uz(Ai,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=jm(Ai,e.__scopeTooltip);return a.jsx(Cr,{present:n||i.open,children:i.disableHoverableContent?a.jsx($A,{side:s,...o,ref:t}):a.jsx(Wz,{side:s,...o,ref:t})})}),Wz=x.forwardRef((e,t)=>{const r=jm(Ai,e.__scopeTooltip),n=cb(Ai,e.__scopeTooltip),s=x.useRef(null),o=Be(t,s),[i,c]=x.useState(null),{trigger:l,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{c(null),f(!1)},[f]),p=x.useCallback((v,m)=>{const g=v.currentTarget,y={x:v.clientX,y:v.clientY},b=Kz(y,g.getBoundingClientRect()),w=Yz(y,b),j=Zz(m.getBoundingClientRect()),N=Jz([...w,...j]);c(N),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(l&&d){const v=g=>p(g,d),m=g=>p(g,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",m)}}},[l,d,p,h]),x.useEffect(()=>{if(i){const v=m=>{const g=m.target,y={x:m.clientX,y:m.clientY},b=l?.contains(g)||d?.contains(g),w=!Xz(y,i);b?h():w&&(h(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,u,h]),a.jsx($A,{...e,ref:o})}),[qz,Hz]=ym(wm,{isInside:!1}),$A=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...c}=e,l=jm(Ai,r),u=bm(r),{onClose:d}=l;return x.useEffect(()=>(document.addEventListener(jv,d),()=>document.removeEventListener(jv,d)),[d]),x.useEffect(()=>{if(l.trigger){const f=h=>{h.target?.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),a.jsx(pc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(vm,{"data-state":l.stateAttribute,...u,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx($y,{children:n}),a.jsx(qz,{scope:r,isInside:!0,children:a.jsx(Fz,{id:l.contentId,role:"tooltip",children:s||n})})]})})});TA.displayName=Ai;var MA="TooltipArrow",Gz=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=bm(r);return Hz(MA,r).isInside?null:a.jsx(xm,{...s,...n,ref:t})});Gz.displayName=MA;function Kz(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Yz(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Zz(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function Xz(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o].x,l=t[o].y,u=t[i].x,d=t[i].y;l>n!=d>n&&r<(u-c)*(n-l)/(d-l)+c&&(s=!s)}return s}function Jz(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Qz(t)}function Qz(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var eB=EA,tB=OA,DA=TA;const rB=eB,nB=tB,RA=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(DA,{ref:n,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));RA.displayName=DA.displayName;const aB="sidebar:state",sB=60*60*24*7,oB="16rem",iB="18rem",cB="3rem",lB="b",IA=k.createContext(null);function Bu(){const e=k.useContext(IA);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const LA=k.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:s,children:o,...i},c)=>{const l=LP(),[u,d]=k.useState(!1),[f,h]=k.useState(e),p=t??f,v=k.useCallback(b=>{const w=typeof b=="function"?b(p):b;r?r(w):h(w),document.cookie=`${aB}=${w}; path=/; max-age=${sB}`},[r,p]),m=k.useCallback(()=>l?d(b=>!b):v(b=>!b),[l,v,d]);k.useEffect(()=>{const b=w=>{w.key===lB&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),m())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[m]);const g=p?"expanded":"collapsed",y=k.useMemo(()=>({state:g,open:p,setOpen:v,isMobile:l,openMobile:u,setOpenMobile:d,toggleSidebar:m}),[g,p,v,l,u,d,m]);return a.jsx(IA.Provider,{value:y,children:a.jsx("div",{style:{"--sidebar-width":oB,"--sidebar-width-icon":cB,...s},className:J("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:c,...i,children:o})})});LA.displayName="SidebarProvider";const FA=k.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:s,...o},i)=>{const{isMobile:c,state:l,openMobile:u,setOpenMobile:d}=Bu();return r==="none"?a.jsx("div",{className:J("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:i,...o,children:s}):c?a.jsx(cA,{open:u,onOpenChange:d,...o,children:a.jsx(Xy,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":iB},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:J("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:J("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});FA.displayName="Sidebar";const zA=k.forwardRef(({className:e,onClick:t,...r},n)=>{const{toggleSidebar:s}=Bu();return a.jsxs(z,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:J("h-7 w-7",e),onClick:o=>{t?.(o),s()},...r,children:[a.jsx(KF,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});zA.displayName="SidebarTrigger";const uB=k.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:n}=Bu();return a.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:J("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});uB.displayName="SidebarRail";const dB=k.forwardRef(({className:e,...t},r)=>a.jsx("main",{ref:r,className:J("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));dB.displayName="SidebarInset";const fB=k.forwardRef(({className:e,...t},r)=>a.jsx(ee,{ref:r,"data-sidebar":"input",className:J("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));fB.displayName="SidebarInput";const BA=k.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"header",className:J("flex flex-col gap-2 p-2",e),...t}));BA.displayName="SidebarHeader";const VA=k.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"footer",className:J("flex flex-col gap-2 p-2",e),...t}));VA.displayName="SidebarFooter";const hB=k.forwardRef(({className:e,...t},r)=>a.jsx(Ba,{ref:r,"data-sidebar":"separator",className:J("mx-2 w-auto bg-sidebar-border",e),...t}));hB.displayName="SidebarSeparator";const UA=k.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"content",className:J("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));UA.displayName="SidebarContent";const _v=k.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group",className:J("relative flex w-full min-w-0 flex-col p-2",e),...t}));_v.displayName="SidebarGroup";const Sv=k.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Lr:"div";return a.jsx(s,{ref:n,"data-sidebar":"group-label",className:J("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});Sv.displayName="SidebarGroupLabel";const mB=k.forwardRef(({className:e,asChild:t=!1,...r},n)=>{const s=t?Lr:"button";return a.jsx(s,{ref:n,"data-sidebar":"group-action",className:J("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});mB.displayName="SidebarGroupAction";const Cv=k.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"group-content",className:J("w-full text-sm",e),...t}));Cv.displayName="SidebarGroupContent";const Qd=k.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu",className:J("flex w-full min-w-0 flex-col gap-1",e),...t}));Qd.displayName="SidebarMenu";const ef=k.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,"data-sidebar":"menu-item",className:J("group/menu-item relative",e),...t}));ef.displayName="SidebarMenuItem";const pB=dc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),tf=k.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:s,className:o,...i},c)=>{const l=e?Lr:"button",{isMobile:u,state:d}=Bu(),f=a.jsx(l,{ref:c,"data-sidebar":"menu-button","data-size":n,"data-active":t,className:J(pB({variant:r,size:n}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(rB,{children:[a.jsx(nB,{asChild:!0,children:f}),a.jsx(RA,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):f});tf.displayName="SidebarMenuButton";const gB=k.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...n},s)=>{const o=t?Lr:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:J("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...n})});gB.displayName="SidebarMenuAction";const vB=k.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:J("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));vB.displayName="SidebarMenuBadge";const xB=k.forwardRef(({className:e,showIcon:t=!1,...r},n)=>{const s=k.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:J("rounded-md h-8 flex gap-2 px-2 items-center",e),...r,children:[t&&a.jsx(bj,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(bj,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});xB.displayName="SidebarMenuSkeleton";const yB=k.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:J("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));yB.displayName="SidebarMenuSub";const bB=k.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));bB.displayName="SidebarMenuSubItem";const wB=k.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:n,...s},o)=>{const i=e?Lr:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:J("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...s})});wB.displayName="SidebarMenuSubButton";const jB=[{title:"Dashboard",href:"/dashboard",icon:FF},{title:"Agendamentos",href:"/agendamentos",icon:Se},{title:"Cronogramas",href:"/cronogramas",icon:it},{title:"Clientes",href:"/clientes",icon:ba},{title:"Servios",href:"/servicos",icon:an},{title:"Produtos",href:"/produtos",icon:pi},{title:"Financeiro",href:"/financeiro",icon:ut},{title:"Auditoria & Insights",href:"/auditoria",icon:DP},{title:"Configuraes",href:"/configuracoes",icon:om}];function NB(){const{state:e,setOpen:t,open:r}=Bu(),n=LP(),s=$s(),{usuario:o,signOut:i}=Lt(),c=s.pathname,l=d=>c===d,u=()=>{n&&t(!1)};return a.jsxs(FA,{className:"border-r border-border/50 bg-card/80 backdrop-blur-xl transition-all duration-300 ease-in-out",collapsible:"icon",variant:"sidebar",children:[a.jsx(BA,{className:"border-b border-border/50",children:a.jsxs("div",{className:"flex items-center gap-2 p-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light flex-shrink-0",children:a.jsx(za,{className:"h-4 w-4 text-primary-foreground"})}),e==="expanded"&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h2",{className:"text-sm font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent truncate",children:o?.nome_personalizado_app||"Sistema"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:o?.nome_completo})]})]})}),a.jsxs(UA,{children:[a.jsxs(_v,{children:[a.jsx(Sv,{children:"Navegao"}),a.jsx(Cv,{children:a.jsx(Qd,{children:jB.map(d=>{const f=d.icon,h=l(d.href);return a.jsx(ef,{children:a.jsx(tf,{asChild:!0,isActive:h,className:"data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary data-[active=true]:to-lilac-primary data-[active=true]:text-primary-foreground",children:a.jsxs(Ni,{to:d.href,className:"flex items-center gap-2",onClick:u,children:[a.jsx(f,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:d.title})]})})},d.href)})})})]}),a.jsxs(_v,{children:[a.jsx(Sv,{children:"Links Externos"}),a.jsx(Cv,{children:a.jsx(Qd,{children:a.jsx(ef,{children:a.jsx(tf,{asChild:!0,children:a.jsxs(Ni,{to:"/agendamento-online",target:"_blank",className:"flex items-center gap-2 text-primary",children:[a.jsx(Dy,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Agendamento Online"})]})})})})})]})]}),a.jsx(VA,{className:"border-t border-border/50",children:a.jsx(Qd,{children:a.jsx(ef,{children:a.jsxs(tf,{onClick:i,className:"text-destructive hover:text-destructive hover:bg-destructive/5",children:[a.jsx(qF,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Sair"})]})})})})]})}const _B=dc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bn=x.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:J(_B({variant:t}),e),...r}));bn.displayName="Alert";const SB=x.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:J("mb-1 font-medium leading-none tracking-tight",e),...t}));SB.displayName="AlertTitle";const wn=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("text-sm [&_p]:leading-relaxed",e),...t}));wn.displayName="AlertDescription";const CB=()=>{const{subscription:e}=Lt(),t=fn();if(!e||e.status!=="trial")return null;const r=e.trial_days_remaining||0,n=()=>r<=2?"destructive":"default",s=()=>r===1?" ltimo dia do teste grtis!":r===0?" Seu teste grtis termina hoje!":` Voc tem ${r} dias restantes de teste grtis`;return a.jsx(bn,{variant:n(),className:"mb-4 border-2",children:a.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(it,{className:"h-5 w-5"}),a.jsx(wn,{className:"font-medium",children:s()})]}),a.jsxs(z,{onClick:()=>t("/assinatura"),size:"sm",variant:r<=2?"default":"outline",className:"gap-2",children:[a.jsx(vo,{className:"h-4 w-4"}),"Assinar Agora - R$ 20/ms"]})]})})},PB=()=>{const{subscription:e}=Lt(),t=fn();return x.useEffect(()=>{e?.is_trial_expired&&e?.status!=="active"&&window.location.pathname!=="/assinatura"&&(console.log("[TRIAL-STATUS] Trial expired, redirecting to subscription page"),t("/assinatura",{replace:!0}))},[e,t]),null},AB=[{title:"Dashboard",href:"/"},{title:"Consultor IA",href:"/consultor"},{title:"Agendamentos",href:"/agendamentos"},{title:"Clientes",href:"/clientes"},{title:"Servios",href:"/servicos"},{title:"Cronogramas",href:"/cronogramas"},{title:"Agenda",href:"/agenda"},{title:"Financeiro",href:"/financeiro"},{title:"Marketing",href:"/marketing"},{title:"Auditoria",href:"/auditoria"},{title:"Configuraes",href:"/configuracoes"}];function kB({children:e}){const t=$s();return a.jsxs(LA,{children:[a.jsx(PB,{}),a.jsxs("div",{className:"min-h-screen flex w-full bg-gradient-to-br from-background via-lilac-lighter to-background",children:[a.jsx(NB,{}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[a.jsxs("header",{className:"sticky top-0 z-30 flex h-14 xs:h-16 items-center gap-2 xs:gap-4 bg-card/80 backdrop-blur-xl border-b border-border/50 p-responsive-sm",children:[a.jsx(zA,{className:"btn-touch flex-shrink-0"}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsx("h1",{className:"text-responsive-lg font-semibold text-foreground truncate",children:AB.find(r=>r.href===t.pathname)?.title||"Dashboard"})}),a.jsx(z,{variant:"outline",size:"sm",asChild:!0,className:"gap-1 xs:gap-2 border-primary/20 text-primary hover:bg-primary/5 btn-touch flex-shrink-0 text-responsive-xs",children:a.jsxs("a",{href:"/agendamento-online",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Se,{className:"h-3 w-3 xs:h-4 xs:w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden xs:inline",children:"Agendamento Online"}),a.jsx("span",{className:"xs:hidden",children:"Online"}),a.jsx(Dy,{className:"h-2 w-2 xs:h-3 xs:w-3 flex-shrink-0"})]})})]}),a.jsx("main",{className:"flex-1 p-responsive overflow-auto",children:a.jsxs("div",{className:"container-responsive max-w-none",children:[a.jsx(CB,{}),e]})})]})]})]})}function Yr({children:e}){return a.jsx(kB,{children:e})}function EB(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function d(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,OB(s,...t)]}function OB(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var lb="Progress",ub=100,[TB]=EB(lb),[$B,MB]=TB(lb),WA=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:o=DB,...i}=e;(s||s===0)&&!kj(s)&&console.error(RB(`${s}`,"Progress"));const c=kj(s)?s:ub;n!==null&&!Ej(n,c)&&console.error(IB(`${n}`,"Progress"));const l=Ej(n,c)?n:null,u=Cf(l)?o(l,c):void 0;return a.jsx($B,{scope:r,value:l,max:c,children:a.jsx(Pe.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":Cf(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":GA(l,c),"data-value":l??void 0,"data-max":c,...i,ref:t})})});WA.displayName=lb;var qA="ProgressIndicator",HA=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=MB(qA,r);return a.jsx(Pe.div,{"data-state":GA(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});HA.displayName=qA;function DB(e,t){return`${Math.round(e/t*100)}%`}function GA(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Cf(e){return typeof e=="number"}function kj(e){return Cf(e)&&!isNaN(e)&&e>0}function Ej(e,t){return Cf(e)&&!isNaN(e)&&e<=t&&e>=0}function RB(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ub}\`.`}function IB(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ub} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KA=WA,LB=HA;const db=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(KA,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(LB,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));db.displayName=KA.displayName;const Vu=()=>{const{user:e}=Lt(),[t,r]=x.useState([]),[n,s]=x.useState(null),[o,i]=x.useState(null),[c,l]=x.useState(!0),u=async()=>{if(e?.id)try{const{data:w,error:j}=await W.from("configuracoes_horarios").select("*").eq("user_id",e.id).order("dia_semana");if(j)throw j;r(w||[])}catch(w){console.error("Erro ao buscar configuraes de horrios:",w),B.error("Erro ao carregar configuraes de horrios")}},d=async()=>{if(e?.id)try{const{data:w,error:j}=await W.from("configuracoes_notificacoes").select("*").eq("user_id",e.id).single();if(j&&j.code!=="PGRST116")throw j;s(w)}catch(w){console.error("Erro ao buscar configuraes de notificaes:",w),B.error("Erro ao carregar configuraes de notificaes")}},f=async()=>{if(e?.id)try{const{data:w,error:j}=await W.from("configuracoes_backup").select("*").eq("user_id",e.id).single();if(j&&j.code!=="PGRST116")throw j;i(w)}catch(w){console.error("Erro ao buscar configuraes de backup:",w),B.error("Erro ao carregar configuraes de backup")}},h=async w=>{if(e?.id)try{const j={...w,user_id:e.id,dia_semana:w.dia_semana,horario_abertura:w.horario_abertura,horario_fechamento:w.horario_fechamento},{data:N,error:S}=await W.from("configuracoes_horarios").upsert(j).select();if(S)throw S;return await u(),B.success("Configurao de horrio salva com sucesso!"),N}catch(j){throw console.error("Erro ao salvar configurao de horrio:",j),B.error("Erro ao salvar configurao de horrio"),j}},p=async w=>{if(e?.id)try{const{data:j,error:N}=await W.from("configuracoes_notificacoes").upsert({...w,user_id:e.id}).select();if(N)throw N;return await d(),B.success("Configuraes de notificaes salvas com sucesso!"),j}catch(j){throw console.error("Erro ao salvar configuraes de notificaes:",j),B.error("Erro ao salvar configuraes de notificaes"),j}},v=async w=>{if(e?.id)try{const{data:j,error:N}=await W.from("configuracoes_backup").upsert({...w,user_id:e.id},{onConflict:"user_id"}).select();if(N)throw N;return await f(),B.success("Configuraes de backup salvas com sucesso!"),j}catch(j){throw console.error("Erro ao salvar configuraes de backup:",j),B.error("Erro ao salvar configuraes de backup"),j}},m=async w=>{try{const{error:j}=await W.from("configuracoes_horarios").delete().eq("id",w);if(j)throw j;await u(),B.success("Configurao de horrio removida com sucesso!")}catch(j){throw console.error("Erro ao deletar configurao de horrio:",j),B.error("Erro ao remover configurao de horrio"),j}},g=w=>t.find(j=>j.dia_semana===w),y=(w,j)=>{const N=g(w);if(!N||!N.ativo)return!1;const[S,_]=j.split(":").map(Number),[P,E]=N.horario_abertura.split(":").map(Number),[$,A]=N.horario_fechamento.split(":").map(Number),C=S*60+_,O=P*60+E,T=$*60+A;if(C<O||C>=T)return!1;if(N.intervalo_inicio&&N.intervalo_fim){const[I,R]=N.intervalo_inicio.split(":").map(Number),[D,M]=N.intervalo_fim.split(":").map(Number),V=I*60+R,re=D*60+M;if(C>=V&&C<re)return!1}return!0},b=(w,j=60)=>{const N=g(w);if(!N||!N.ativo)return[];const S=[],[_,P]=N.horario_abertura.split(":").map(Number),[E,$]=N.horario_fechamento.split(":").map(Number),A=_*60+P,C=E*60+$,O=30;for(let T=A;T+j<=C;T+=O){const I=Math.floor(T/60),R=T%60,D=`${I.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`;y(w,D)&&S.push(D)}return S};return x.useEffect(()=>{if(e?.id){(async()=>{l(!0),await Promise.all([u(),d(),f()]),l(!1)})();const j=W.channel("configuracoes_horarios_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_horarios",filter:`user_id=eq.${e.id}`},()=>{u()}).subscribe(),N=W.channel("configuracoes_notificacoes_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_notificacoes",filter:`user_id=eq.${e.id}`},()=>{d()}).subscribe(),S=W.channel("configuracoes_backup_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_backup",filter:`user_id=eq.${e.id}`},()=>{f()}).subscribe();return()=>{W.removeChannel(j),W.removeChannel(N),W.removeChannel(S)}}},[e?.id]),{configuracaoHorarios:t,configuracaoNotificacoes:n,configuracaoBackup:o,loading:c,salvarHorario:h,salvarNotificacoes:p,salvarBackup:v,deletarHorario:m,buscarHorariosPorDia:g,verificarDisponibilidade:y,getHorariosDisponiveisDia:b,refetch:()=>{u(),d(),f()}}};function YA(){const{user:e}=Lt();Vu();const[t,r]=x.useState([]),[n,s]=x.useState([]),[o,i]=x.useState(!1),[c,l]=x.useState({}),[u,d]=x.useState(1),[f]=x.useState(10),h=async(A,C)=>{if(!e)return!1;try{const O=C.includes(":")?C:`${C}:00`,{data:T,error:I}=await W.rpc("buscar_horarios_com_multiplos_intervalos",{data_selecionada:A,user_id_param:e.id,duracao_servico:30});return I?(console.error("Erro ao verificar disponibilidade:",I),!1):T?.some(R=>{const D=R.horario,M=D?D.substring(0,5):"";return(D===O||M===C)&&R.disponivel===!0})||!1}catch(O){return console.error("Erro ao verificar disponibilidade:",O),!1}},p=async()=>{if(!e)return[];try{const{data:A,error:C}=await W.from("agendamentos").select("*").eq("user_id",e.id).order("data").order("hora");return C?(console.error("Erro ao carregar agendamentos regulares:",C),[]):(A||[]).map(O=>({id:O.id,clienteId:O.cliente_id,clienteNome:"Cliente",servicoId:O.servico_id,servicoNome:"Servio",data:O.data,hora:O.hora,duracao:O.duracao,valor:parseFloat(O.valor?.toString()||"0"),valorPago:parseFloat(O.valor_pago?.toString()||"0"),valorDevido:parseFloat(O.valor_devido?.toString()||"0"),formaPagamento:O.forma_pagamento||"fiado",statusPagamento:O.status_pagamento||"em_aberto",status:O.status||"agendado",origem:O.origem||"manual",origem_cronograma:!1,confirmado:O.confirmado,observacoes:O.observacoes||void 0,createdAt:O.created_at,updatedAt:O.updated_at}))}catch(A){return console.error("Erro ao carregar agendamentos regulares:",A),[]}},v=async()=>{try{const{data:A,error:C}=await W.from("agendamentos_online").select("*").in("status",["pendente","confirmado"]).order("created_at",{ascending:!1});return C?(console.error("Erro ao carregar agendamentos online:",C),[]):(A||[]).map(O=>({id:O.id,nome_completo:O.nome_completo,email:O.email,telefone:O.telefone,servico_id:O.servico_id,data:O.data,horario:O.horario,observacoes:O.observacoes,status:O.status,valor:parseFloat(O.valor?.toString()||"0"),duracao:O.duracao,created_at:O.created_at,updated_at:O.updated_at}))}catch(A){return console.error("Erro ao carregar agendamentos online:",A),[]}},m=A=>({id:`online_${A.id}`,clienteId:"",clienteNome:A.nome_completo,servicoId:A.servico_id,servicoNome:"Servio Online",data:A.data,hora:A.horario,duracao:A.duracao,valor:A.valor,valorPago:0,valorDevido:A.valor,formaPagamento:"fiado",statusPagamento:"em_aberto",status:(A.status==="confirmado","agendado"),origem:"online",origem_cronograma:!1,confirmado:A.status==="confirmado",observacoes:A.observacoes,createdAt:A.created_at,updatedAt:A.updated_at}),g=async()=>{i(!0);try{const[A,C]=await Promise.all([p(),v()]);r(A),s(C)}catch(A){console.error("Erro ao carregar agendamentos:",A),B.error("Erro ao carregar agendamentos")}finally{i(!1)}},y=x.useMemo(()=>{const A=n.map(m);return[...t,...A]},[t,n]);x.useEffect(()=>{g();const A=W.channel("agendamentos-online-changes").on("postgres_changes",{event:"*",schema:"public",table:"agendamentos_online"},()=>{g()}).subscribe(),C=W.channel("agendamentos-regular-changes").on("postgres_changes",{event:"*",schema:"public",table:"agendamentos",filter:e?`user_id=eq.${e.id}`:void 0},()=>{g()}).subscribe();return()=>{W.removeChannel(A),W.removeChannel(C)}},[e]);const b=x.useMemo(()=>{let A=[...y];if(!c.data){const C=new Date,O=c.periodo??"mes_atual",I=(()=>{if(O==="mes_anterior"){const R=C.getMonth()===0?C.getFullYear()-1:C.getFullYear(),D=C.getMonth()===0?11:C.getMonth()-1,M=new Date(R,D,1),V=new Date(R,D+1,0);return{inicio:M,fim:V}}if(O==="proximo_mes"){const R=C.getMonth()===11?C.getFullYear()+1:C.getFullYear(),D=C.getMonth()===11?0:C.getMonth()+1,M=new Date(R,D,1),V=new Date(R,D+1,0);return{inicio:M,fim:V}}if(O==="mes_atual"){const R=new Date(C.getFullYear(),C.getMonth(),1),D=new Date(C.getFullYear(),C.getMonth()+1,0);return{inicio:R,fim:D}}return null})();if(I){const{inicio:R,fim:D}=I;A=A.filter(M=>{const V=new Date(M.data);return V>=R&&V<=D})}}return c.data&&(A=A.filter(C=>C.data===c.data)),c.status&&(A=A.filter(C=>C.status===c.status)),c.statusPagamento&&(A=A.filter(C=>C.statusPagamento===c.statusPagamento)),c.clienteId&&(A=A.filter(C=>C.clienteId===c.clienteId)),c.origem&&(A=A.filter(C=>C.origem===c.origem)),A.sort((C,O)=>{const T=new Date(`${C.data}T${C.hora}`),I=new Date(`${O.data}T${O.hora}`);return T.getTime()-I.getTime()}),A},[y,c]),w=Math.ceil(b.length/f),j=x.useMemo(()=>{const A=(u-1)*f,C=A+f;return b.slice(A,C)},[b,u,f]),N=async A=>{if(!e)return B.error("Usurio no autenticado"),!1;i(!0);try{const{data:C,error:O}=await W.rpc("converter_agendamento_online",{agendamento_online_id:A,user_id:e.id});return O?(console.error("Erro ao converter agendamento:",O),B.error("Erro ao converter agendamento"),!1):(await g(),B.success("Agendamento convertido com sucesso!"),!0)}catch(C){return console.error("Erro ao converter agendamento:",C),B.error("Erro ao converter agendamento"),!1}finally{i(!1)}},S=async A=>{i(!0);try{const{error:C}=await W.from("agendamentos_online").update({status:"confirmado"}).eq("id",A);return C?(console.error("Erro ao confirmar agendamento:",C),B.error("Erro ao confirmar agendamento"),!1):(await g(),B.success("Agendamento confirmado!"),!0)}catch(C){return console.error("Erro ao confirmar agendamento:",C),B.error("Erro ao confirmar agendamento"),!1}finally{i(!1)}},_=async A=>{if(!e)return B.error("Usurio no autenticado"),!1;if(!await h(A.data,A.hora))return B.error("Horrio no disponvel para agendamento"),!1;i(!0);try{const{data:O,error:T}=await W.from("agendamentos").insert({user_id:e.id,cliente_id:A.clienteId,servico_id:A.servicoId,data:A.data,hora:A.hora,duracao:A.duracao,valor:A.valor,valor_pago:A.valorPago||0,valor_devido:A.valorDevido||A.valor,forma_pagamento:A.formaPagamento||"fiado",status_pagamento:A.statusPagamento||"em_aberto",status:A.status||"agendado",origem:A.origem||"manual",confirmado:A.confirmado??!1,observacoes:A.observacoes||null}).select().single();return T?(console.error("Erro ao criar agendamento:",T),B.error("Erro ao criar agendamento"),!1):(await g(),B.success("Agendamento criado com sucesso!"),!0)}catch(O){return console.error("Erro ao criar agendamento:",O),B.error("Erro ao criar agendamento"),!1}finally{i(!1)}},P=async(A,C)=>{if(!e)return B.error("Usurio no autenticado"),!1;if(A.startsWith("online_")){const O=A.replace("online_","");return await S(O)}i(!0);try{const O={};C.clienteId!==void 0&&(O.cliente_id=C.clienteId),C.servicoId!==void 0&&(O.servico_id=C.servicoId),C.data!==void 0&&(O.data=C.data),C.hora!==void 0&&(O.hora=C.hora),C.duracao!==void 0&&(O.duracao=C.duracao),C.valor!==void 0&&(O.valor=C.valor),C.valorPago!==void 0&&(O.valor_pago=C.valorPago),C.valorDevido!==void 0&&(O.valor_devido=C.valorDevido),C.formaPagamento!==void 0&&(O.forma_pagamento=C.formaPagamento),C.statusPagamento!==void 0&&(O.status_pagamento=C.statusPagamento),C.status!==void 0&&(O.status=C.status),C.origem!==void 0&&(O.origem=C.origem),C.confirmado!==void 0&&(O.confirmado=C.confirmado),C.observacoes!==void 0&&(O.observacoes=C.observacoes||null);const{error:T}=await W.from("agendamentos").update(O).eq("id",A).eq("user_id",e.id);return T?(console.error("Erro ao atualizar agendamento:",T),B.error("Erro ao atualizar agendamento"),!1):(await g(),B.success("Agendamento atualizado com sucesso!"),!0)}catch(O){return console.error("Erro ao atualizar agendamento:",O),B.error("Erro ao atualizar agendamento"),!1}finally{i(!1)}},E=async A=>{if(!e)return B.error("Usurio no autenticado"),!1;if(A.startsWith("online_")){const C=A.replace("online_","");i(!0);try{console.log(" Executando delete de agendamento online no Supabase...",C);const{error:O}=await W.from("agendamentos_online").delete().eq("id",C);return O?(console.error(" Erro do Supabase ao excluir agendamento online:",O),B.error("Erro ao excluir agendamento online: "+O.message),!1):(console.log(" Agendamento online excludo com sucesso no banco"),await g(),B.success("Agendamento online excludo com sucesso!"),!0)}catch(O){return console.error(" Erro ao excluir agendamento online:",O),B.error("Erro ao excluir agendamento online"),!1}finally{i(!1)}}i(!0);try{console.log(" Executando delete de agendamento no Supabase...",A);const{error:C}=await W.from("agendamentos").delete().eq("id",A).eq("user_id",e.id);return C?(console.error(" Erro do Supabase ao excluir agendamento:",C),B.error("Erro ao excluir agendamento: "+C.message),!1):(console.log(" Agendamento excludo com sucesso no banco"),await g(),B.success("Agendamento excludo com sucesso!"),!0)}catch(C){return console.error(" Erro ao excluir agendamento:",C),B.error("Erro ao excluir agendamento"),!1}finally{i(!1)}};return{loading:o,agendamentos:j,agendamentosFiltrados:b,todosAgendamentos:y,filtros:c,setFiltros:l,paginaAtual:u,setPaginaAtual:d,totalPaginas:w,criarAgendamento:_,atualizarAgendamento:P,excluirAgendamento:E,cancelarAgendamento:async A=>A.startsWith("online_")?await E(A):await P(A,{status:"cancelado"}),recarregar:g,converterAgendamentoOnlineParaRegular:N,confirmarAgendamentoOnline:S,verificarHorarioDisponivel:h}}function Nm(){const{user:e}=Lt(),[t,r]=x.useState([]),[n,s]=x.useState(!1),[o,i]=x.useState({ordenacao:"nome",direcao:"asc"}),c=async()=>{if(e){s(!0);try{const{data:p,error:v}=await W.from("servicos").select("*").eq("user_id",e.id).order("nome");if(v){console.error("Erro ao carregar servios:",v),B.error("Erro ao carregar servios");return}const m=(p||[]).map(g=>({id:g.id,nome:g.nome,valor:parseFloat(g.valor.toString()),duracao:g.duracao,descricao:g.descricao||void 0,observacoes:g.observacoes||void 0,createdAt:g.created_at,updatedAt:g.updated_at}));r(m)}catch(p){console.error("Erro ao carregar servios:",p),B.error("Erro ao carregar servios")}finally{s(!1)}}};x.useEffect(()=>{c()},[e]);const l=x.useMemo(()=>{let p=[...t];if(o.busca){const v=o.busca.toLowerCase();p=p.filter(m=>m.nome.toLowerCase().includes(v)||m.descricao?.toLowerCase().includes(v))}return o.ordenacao&&p.sort((v,m)=>{const g=o.ordenacao;let y=v[g],b=m[g];return typeof y=="string"&&(y=y.toLowerCase(),b=b.toLowerCase()),o.direcao==="desc"?b>y?1:b<y?-1:0:y>b?1:y<b?-1:0}),p},[t,o]);return{loading:n,servicos:l,todosServicos:t,filtros:o,setFiltros:i,criarServico:async p=>{if(!e)return B.error("Usurio no autenticado"),!1;if(!p.nome.trim())return B.error("Nome do servio  obrigatrio"),!1;if(p.valor<=0||p.duracao<=0)return B.error("Valor e durao devem ser maiores que zero"),!1;if(t.find(m=>m.nome.toLowerCase()===p.nome.toLowerCase()))return B.error("J existe um servio com este nome"),!1;s(!0);try{const{data:m,error:g}=await W.from("servicos").insert({user_id:e.id,nome:p.nome,valor:p.valor,duracao:p.duracao,descricao:p.descricao||null,observacoes:p.observacoes||null}).select().single();if(g)return console.error("Erro ao criar servio:",g),B.error("Erro ao criar servio"),!1;const y={id:m.id,nome:m.nome,valor:parseFloat(m.valor.toString()),duracao:m.duracao,descricao:m.descricao||void 0,observacoes:m.observacoes||void 0,createdAt:m.created_at,updatedAt:m.updated_at};return r(b=>[...b,y]),B.success("Servio criado com sucesso!"),!0}catch(m){return console.error("Erro ao criar servio:",m),B.error("Erro ao criar servio"),!1}finally{s(!1)}},atualizarServico:async(p,v)=>{if(!e)return B.error("Usurio no autenticado"),!1;if(v.nome!==void 0&&!v.nome.trim())return B.error("Nome do servio  obrigatrio"),!1;if(v.valor!==void 0&&v.valor<=0)return B.error("Valor deve ser maior que zero"),!1;if(v.duracao!==void 0&&v.duracao<=0)return B.error("Durao deve ser maior que zero"),!1;s(!0);try{const m={};v.nome!==void 0&&(m.nome=v.nome),v.valor!==void 0&&(m.valor=v.valor),v.duracao!==void 0&&(m.duracao=v.duracao),v.descricao!==void 0&&(m.descricao=v.descricao||null),v.observacoes!==void 0&&(m.observacoes=v.observacoes||null);const{data:g,error:y}=await W.from("servicos").update(m).eq("id",p).eq("user_id",e.id).select().single();if(y)return console.error("Erro ao atualizar servio:",y),B.error("Erro ao atualizar servio"),!1;const b={id:g.id,nome:g.nome,valor:parseFloat(g.valor.toString()),duracao:g.duracao,descricao:g.descricao||void 0,observacoes:g.observacoes||void 0,createdAt:g.created_at,updatedAt:g.updated_at};return r(w=>w.map(j=>j.id===p?b:j)),B.success("Servio atualizado com sucesso!"),!0}catch(m){return console.error("Erro ao atualizar servio:",m),B.error("Erro ao atualizar servio"),!1}finally{s(!1)}},excluirServico:async p=>{if(!e)return B.error("Usurio no autenticado"),!1;s(!0);try{console.log(" Iniciando excluso de servio:",p,"Usurio:",e.id);const{data:v,error:m}=await W.rpc("test_delete_permissions",{table_name:"servicos",record_id:p});if(m)console.error(" Erro ao verificar permisses:",m);else{console.log(" Verificao de permisses:",v);const w=v;if(w&&typeof w=="object"&&!w.can_delete){if(!w.record_exists)return B.error("Servio no encontrado"),!1;if(!w.user_owns_record)return B.error("Voc no tem permisso para excluir este servio"),!1}}const{data:g,error:y}=await W.from("agendamentos_online").select("id, nome_completo").eq("servico_id",p);y&&console.error(" Erro ao verificar agendamentos online:",y);const{error:b}=await W.from("servicos").delete().eq("id",p).eq("user_id",e.id);return b?(console.error(" Erro do Supabase ao excluir servio:",b),B.error("Erro ao excluir servio: "+b.message),!1):(console.log(" Servio excludo com sucesso no banco"),g&&g.length>0?B.success(`Servio excludo com sucesso! ${g.length} agendamento(s) online foram atualizados.`):B.success("Servio excludo com sucesso!"),r(w=>{const j=w.filter(N=>N.id!==p);return console.log(" Lista de servios atualizada:",j.length,"servios"),j}),!0)}catch(v){return console.error("Erro ao excluir servio:",v),B.error("Erro ao excluir servio"),!1}finally{s(!1)}},obterServicoPorId:p=>t.find(v=>v.id===p),recarregar:c}}function jc(){const{user:e}=Lt(),[t,r]=x.useState([]),[n,s]=x.useState(!1),o=async()=>{if(e){s(!0);try{await W.rpc("associar_clientes_agendamento_online",{p_user_id:e.id});const{data:d,error:f}=await W.from("clientes").select("*").eq("user_id",e.id).order("nome");if(f){console.error("Erro ao carregar clientes:",f),B.error("Erro ao carregar clientes");return}const h=(d||[]).map(p=>({id:p.id,nome:p.nome,nomeCompleto:p.nome,telefone:p.telefone,email:p.email||void 0,endereco:p.endereco||void 0,dataNascimento:p.data_nascimento||void 0,observacoes:p.observacoes||void 0,historicoServicos:Array.isArray(p.historico_servicos)?p.historico_servicos:[],servicoFrequente:void 0,ultimaVisita:void 0,createdAt:p.created_at,updatedAt:p.updated_at}));r(h)}catch(d){console.error("Erro ao carregar clientes:",d),B.error("Erro ao carregar clientes")}finally{s(!1)}}};return x.useEffect(()=>{o()},[e]),{loading:n,clientes:t,criarCliente:async d=>{if(!e)return B.error("Usurio no autenticado"),!1;const f=d.nome||d.nomeCompleto;if(!f?.trim())return B.error("Nome do cliente  obrigatrio"),!1;if(!d.telefone?.trim())return B.error("Telefone do cliente  obrigatrio"),!1;if(t.find(p=>p.nome?.toLowerCase()===f.toLowerCase()))return B.error("J existe um cliente com este nome"),!1;s(!0);try{const{data:p,error:v}=await W.from("clientes").insert({user_id:e.id,nome:f,telefone:d.telefone,email:d.email||null,endereco:d.endereco||null,data_nascimento:d.dataNascimento||null,observacoes:d.observacoes||null,historico_servicos:[]}).select().single();if(v)return console.error("Erro ao criar cliente:",v),B.error("Erro ao criar cliente"),!1;const m={id:p.id,nome:p.nome,nomeCompleto:p.nome,telefone:p.telefone,email:p.email||void 0,endereco:p.endereco||void 0,dataNascimento:p.data_nascimento||void 0,observacoes:p.observacoes||void 0,historicoServicos:p.historico_servicos||[],servicoFrequente:void 0,ultimaVisita:void 0,createdAt:p.created_at,updatedAt:p.updated_at};return r(g=>[...g,m]),B.success("Cliente criado com sucesso!"),!0}catch(p){return console.error("Erro ao criar cliente:",p),B.error("Erro ao criar cliente"),!1}finally{s(!1)}},atualizarCliente:async(d,f)=>{if(!e)return B.error("Usurio no autenticado"),!1;s(!0);try{const h={};f.nome!==void 0&&(h.nome=f.nome),f.nomeCompleto!==void 0&&(h.nome=f.nomeCompleto),f.telefone!==void 0&&(h.telefone=f.telefone),f.email!==void 0&&(h.email=f.email||null),f.endereco!==void 0&&(h.endereco=f.endereco||null),f.dataNascimento!==void 0&&(h.data_nascimento=f.dataNascimento||null),f.observacoes!==void 0&&(h.observacoes=f.observacoes||null),f.historicoServicos!==void 0&&(h.historico_servicos=f.historicoServicos);const{data:p,error:v}=await W.from("clientes").update(h).eq("id",d).eq("user_id",e.id).select().single();if(v)return console.error("Erro ao atualizar cliente:",v),B.error("Erro ao atualizar cliente"),!1;const m={id:p.id,nome:p.nome,nomeCompleto:p.nome,telefone:p.telefone,email:p.email||void 0,endereco:p.endereco||void 0,dataNascimento:p.data_nascimento||void 0,observacoes:p.observacoes||void 0,historicoServicos:p.historico_servicos||[],servicoFrequente:void 0,ultimaVisita:void 0,createdAt:p.created_at,updatedAt:p.updated_at};return r(g=>g.map(y=>y.id===d?m:y)),B.success("Cliente atualizado com sucesso!"),!0}catch(h){return console.error("Erro ao atualizar cliente:",h),B.error("Erro ao atualizar cliente"),!1}finally{s(!1)}},excluirCliente:async d=>{if(console.log(" Iniciando excluso do cliente:",d),!e)return console.error(" Usurio no autenticado"),B.error("Usurio no autenticado"),!1;console.log(" Usurio autenticado:",e.id),s(!0);try{console.log(" Executando delete no Supabase...");const{error:f}=await W.from("clientes").delete().eq("id",d).eq("user_id",e.id);return f?(console.error(" Erro do Supabase ao excluir cliente:",f),B.error("Erro ao excluir cliente: "+f.message),!1):(console.log(" Cliente excludo com sucesso no banco"),r(h=>{const p=h.filter(v=>v.id!==d);return console.log(" Lista atualizada:",p.length,"clientes"),p}),B.success("Cliente excludo com sucesso!"),!0)}catch(f){return console.error("Erro ao excluir cliente:",f),B.error("Erro ao excluir cliente"),!1}finally{s(!1)}},obterClienteComEstatisticas:d=>t.find(f=>f.id===d),recarregar:o}}function Io(){const e=YA(),{todosServicos:t}=Nm(),{clientes:r}=jc(),n=x.useMemo(()=>(e.todosAgendamentos||[]).map(d=>{const f=r.find(p=>p.id===d.clienteId),h=t.find(p=>p.id===d.servicoId);return{...d,clienteNome:f?.nome||f?.nomeCompleto||d.clienteNome||"Cliente no encontrado",servicoNome:h?.nome||d.servicoNome||"Servio no encontrado",servicoValor:h?.valor||d.valor||0,servicoDuracao:h?.duracao||d.duracao||30,clienteEmail:f?.email||"",clienteTelefone:f?.telefone||"",servicoDescricao:h?.descricao||""}}),[e.todosAgendamentos,r,t]),s=u=>u.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),o=x.useMemo(()=>{let d=(e.agendamentosFiltrados||[]).map(h=>{const p=r.find(m=>m.id===h.clienteId),v=t.find(m=>m.id===h.servicoId);return{...h,clienteNome:p?.nome||p?.nomeCompleto||h.clienteNome||"Cliente no encontrado",servicoNome:v?.nome||h.servicoNome||"Servio no encontrado",servicoValor:v?.valor||h.valor||0,servicoDuracao:v?.duracao||h.duracao||30,clienteEmail:p?.email||"",clienteTelefone:p?.telefone||"",servicoDescricao:v?.descricao||""}});const f=e.filtros?.busca;if(f&&f.trim()){const h=s(f).split(/\s+/).filter(Boolean);d=d.filter(p=>{const v=s(`${p.clienteNome} ${p.servicoNome} ${p.clienteTelefone}`);return h.every(m=>v.includes(m))})}return d},[e.agendamentosFiltrados,e.filtros?.busca,r,t]);return{...e,todosAgendamentos:n,agendamentosFiltrados:o,clientes:r,servicos:t,verificarConflito:(u,d)=>{if(!u.data||!u.hora||!u.duracao)return!1;const f=new Date(`${u.data}T${u.hora}`),h=new Date(f.getTime()+u.duracao*6e4);return e.todosAgendamentos.some(p=>{if(p.id===d||p.data!==u.data)return!1;const v=new Date(`${p.data}T${p.hora}`),m=new Date(v.getTime()+p.duracao*6e4);return f>=v&&f<m||h>v&&h<=m||f<=v&&h>=m})},criarAgendamento:async u=>{const d=t.find(p=>p.id===u.servicoId);if(!d)return console.error("Servio no encontrado"),!1;if(!await e.verificarHorarioDisponivel?.(u.data,u.hora))return console.error("Horrio no est disponvel nas configuraes de trabalho"),!1;const h={...u,duracao:d.duracao,valor:u.valor||d.valor,valorPago:u.valorPago||0,valorDevido:u.valorDevido||u.valor||d.valor,formaPagamento:u.formaPagamento||"fiado",statusPagamento:u.statusPagamento||"em_aberto",status:u.status||"agendado",origem:u.origem||"manual",confirmado:u.confirmado??!1};return await e.criarAgendamento(h)},adicionarAgendamentosCronograma:()=>{console.log("Agendamentos de cronograma so criados automaticamente")},verificarHorarioDisponivel:e.verificarHorarioDisponivel}}const FB=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!1),[s,o]=x.useState(null),i=async()=>{try{n(!0);const{data:v,error:m}=await W.from("lancamentos").select("*").order("data",{ascending:!1});if(m)throw m;const g=(v||[]).map(y=>({id:y.id,tipo:y.tipo,valor:Number(y.valor),data:new Date(y.data),descricao:y.descricao,categoria:y.categoria,origemId:y.origem_id,origemTipo:y.origem_tipo,clienteId:y.cliente_id,created_at:new Date(y.created_at),updated_at:new Date(y.updated_at)}));t(g)}catch(v){o(v instanceof Error?v.message:"Erro ao carregar lanamentos")}finally{n(!1)}},c=async v=>{try{const{data:m}=await W.auth.getUser();if(!m.user)throw new Error("Usurio no autenticado");const{data:g,error:y}=await W.from("lancamentos").insert({user_id:m.user.id,tipo:v.tipo,valor:v.valor,data:v.data.toISOString().split("T")[0],descricao:v.descricao,categoria:v.categoria,origem_id:v.origemId,origem_tipo:v.origemTipo,cliente_id:v.clienteId}).select().single();if(y)throw y;return await i(),g}catch(m){throw o(m instanceof Error?m.message:"Erro ao criar lanamento"),m}},l=async(v,m)=>{try{const g={};m.tipo&&(g.tipo=m.tipo),m.valor!==void 0&&(g.valor=m.valor),m.data&&(g.data=m.data.toISOString().split("T")[0]),m.descricao&&(g.descricao=m.descricao),m.categoria!==void 0&&(g.categoria=m.categoria),m.origemId!==void 0&&(g.origem_id=m.origemId),m.origemTipo!==void 0&&(g.origem_tipo=m.origemTipo),m.clienteId!==void 0&&(g.cliente_id=m.clienteId);const{error:y}=await W.from("lancamentos").update(g).eq("id",v);if(y)throw y;await i()}catch(g){throw o(g instanceof Error?g.message:"Erro ao atualizar lanamento"),g}},u=async v=>{try{const{error:m}=await W.from("lancamentos").delete().eq("id",v);if(m)throw m;await i()}catch(m){throw o(m instanceof Error?m.message:"Erro ao deletar lanamento"),m}},d=v=>e.filter(m=>{if(v.tipo&&v.tipo!=="todos"&&m.tipo!==v.tipo||v.categoria&&m.categoria!==v.categoria||v.dataInicio&&m.data<v.dataInicio||v.dataFim&&m.data>v.dataFim)return!1;if(v.mes!==void 0&&v.ano!==void 0){const g=m.data.getMonth(),y=m.data.getFullYear();if(g!==v.mes||y!==v.ano)return!1}return!0}),f=()=>{const v=new Date,m=new Date(v.getFullYear(),v.getMonth(),1),g=new Date(v.getFullYear(),v.getMonth()+1,0),y=e.filter(j=>{const N=new Date(j.data);return N>=m&&N<=g}),b=y.filter(j=>j.tipo==="entrada").reduce((j,N)=>j+N.valor,0),w=y.filter(j=>j.tipo==="saida").reduce((j,N)=>j+N.valor,0);return{totalEntradas:b,totalSaidas:w,lucro:b-w,valorEmAberto:0,contasAPagar:0}},h=async(v,m,g,y)=>c({tipo:"entrada",valor:m,data:new Date,descricao:y,categoria:"Servios",origemId:v,origemTipo:"agendamento",clienteId:g}),p=async(v,m,g,y)=>c({tipo:"saida",valor:m,data:new Date,descricao:g,categoria:y||"Contas Fixas",origemId:v,origemTipo:"conta_fixa"});return x.useEffect(()=>{i();const v=W.channel("lancamentos-realtime").on("postgres_changes",{event:"*",schema:"public",table:"lancamentos"},()=>{i()}).subscribe();return()=>{W.removeChannel(v)}},[]),{lancamentos:e,loading:r,error:s,createLancamento:c,updateLancamento:l,deleteLancamento:u,filterLancamentos:d,calculateResumoFinanceiro:f,createLancamentoFromAgendamento:h,createLancamentoFromContaFixa:p,loadLancamentos:i}},ZA=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,o]=x.useState(!1),[i,c]=x.useState(null),l=async()=>{try{o(!0);const{data:v,error:m}=await W.from("contas_fixas").select("*").order("created_at",{ascending:!1});if(m)throw m;const g=(v||[]).map(y=>({id:y.id,nome:y.nome,valor:Number(y.valor),dataVencimento:y.data_vencimento,categoria:y.categoria,status:y.status,observacoes:y.observacoes,repetir:y.repetir,frequencia:y.frequencia,proximoVencimento:y.proximo_vencimento,ativa:y.ativa,created_at:new Date(y.created_at),updated_at:new Date(y.updated_at)}));t(g)}catch(v){c(v instanceof Error?v.message:"Erro ao carregar contas fixas")}finally{o(!1)}},u=async()=>{try{const{data:v,error:m}=await W.from("categorias_financeiras").select("*").order("nome");if(m)throw m;const g=(v||[]).map(y=>({id:y.id,nome:y.nome,tipo:y.tipo,cor:y.cor,created_at:new Date(y.created_at),updated_at:new Date(y.updated_at)}));n(g)}catch(v){c(v instanceof Error?v.message:"Erro ao carregar categorias")}},d=async v=>{try{const{data:m}=await W.auth.getUser();if(!m.user)throw new Error("Usurio no autenticado");const g=new Date;let y=new Date(g.getFullYear(),g.getMonth(),v.dataVencimento);y<=g&&y.setMonth(y.getMonth()+1);const{data:b,error:w}=await W.from("contas_fixas").insert({user_id:m.user.id,nome:v.nome,valor:v.valor,data_vencimento:v.dataVencimento,categoria:v.categoria,observacoes:v.observacoes,repetir:v.repetir,frequencia:v.frequencia,proximo_vencimento:y.toISOString().split("T")[0],ativa:v.ativa??!0}).select().single();if(w)throw w;return await l(),b}catch(m){throw c(m instanceof Error?m.message:"Erro ao criar conta fixa"),m}},f=async(v,m)=>{try{const g={};m.nome&&(g.nome=m.nome),m.valor!==void 0&&(g.valor=m.valor),m.dataVencimento!==void 0&&(g.data_vencimento=m.dataVencimento),m.categoria&&(g.categoria=m.categoria),m.status&&(g.status=m.status),m.observacoes!==void 0&&(g.observacoes=m.observacoes),m.repetir!==void 0&&(g.repetir=m.repetir),m.frequencia&&(g.frequencia=m.frequencia),m.proximoVencimento&&(g.proximo_vencimento=m.proximoVencimento),m.ativa!==void 0&&(g.ativa=m.ativa);const{error:y}=await W.from("contas_fixas").update(g).eq("id",v);if(y)throw y;await l()}catch(g){throw c(g instanceof Error?g.message:"Erro ao atualizar conta fixa"),g}},h=async v=>{try{const{error:m}=await W.from("contas_fixas").delete().eq("id",v);if(m)throw m;await l()}catch(m){throw c(m instanceof Error?m.message:"Erro ao deletar conta fixa"),m}},p=async v=>{try{const{data:m}=await W.auth.getUser();if(!m.user)throw new Error("Usurio no autenticado");const{data:g,error:y}=await W.from("categorias_financeiras").insert({user_id:m.user.id,nome:v.nome,tipo:v.tipo,cor:v.cor}).select().single();if(y)throw y;return await u(),g}catch(m){throw c(m instanceof Error?m.message:"Erro ao criar categoria"),m}};return x.useEffect(()=>{l(),u();const v=W.channel("contas-fixas-realtime").on("postgres_changes",{event:"*",schema:"public",table:"contas_fixas"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"categorias_financeiras"},()=>{u()}).subscribe();return()=>{W.removeChannel(v)}},[]),{contasFixas:e,categorias:r,loading:s,error:i,createContaFixa:d,updateContaFixa:f,deleteContaFixa:h,createCategoria:p,loadContasFixas:l,loadCategorias:u}};function fb(){const[e,t]=x.useState({}),r=FB(),{categorias:n}=ZA(),s=r.filterLancamentos(e),o=x.useMemo(()=>r.calculateResumoFinanceiro(),[r]);return{...r,lancamentos:s,filtros:e,setFiltros:t,resumoFinanceiro:o,categorias:n,criarLancamento:r.createLancamento,atualizarLancamento:r.updateLancamento,removerLancamento:r.deleteLancamento,adicionarLancamento:r.createLancamento,calcularResumo:r.calculateResumoFinanceiro,criarLancamentoDeAgendamento:r.createLancamentoFromAgendamento,criarLancamentoDeContaFixa:r.createLancamentoFromContaFixa,recarregar:r.loadLancamentos}}var zB=Array.isArray,Gr=zB,BB=typeof br=="object"&&br&&br.Object===Object&&br,XA=BB,VB=XA,UB=typeof self=="object"&&self&&self.Object===Object&&self,WB=VB||UB||Function("return this")(),Pa=WB,qB=Pa,HB=qB.Symbol,Uu=HB,Oj=Uu,JA=Object.prototype,GB=JA.hasOwnProperty,KB=JA.toString,Kc=Oj?Oj.toStringTag:void 0;function YB(e){var t=GB.call(e,Kc),r=e[Kc];try{e[Kc]=void 0;var n=!0}catch{}var s=KB.call(e);return n&&(t?e[Kc]=r:delete e[Kc]),s}var ZB=YB,XB=Object.prototype,JB=XB.toString;function QB(e){return JB.call(e)}var e8=QB,Tj=Uu,t8=ZB,r8=e8,n8="[object Null]",a8="[object Undefined]",$j=Tj?Tj.toStringTag:void 0;function s8(e){return e==null?e===void 0?a8:n8:$j&&$j in Object(e)?t8(e):r8(e)}var as=s8;function o8(e){return e!=null&&typeof e=="object"}var ss=o8,i8=as,c8=ss,l8="[object Symbol]";function u8(e){return typeof e=="symbol"||c8(e)&&i8(e)==l8}var Nc=u8,d8=Gr,f8=Nc,h8=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m8=/^\w*$/;function p8(e,t){if(d8(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||f8(e)?!0:m8.test(e)||!h8.test(e)||t!=null&&e in Object(t)}var hb=p8;function g8(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Rs=g8;const _c=yt(Rs);var v8=as,x8=Rs,y8="[object AsyncFunction]",b8="[object Function]",w8="[object GeneratorFunction]",j8="[object Proxy]";function N8(e){if(!x8(e))return!1;var t=v8(e);return t==b8||t==w8||t==y8||t==j8}var mb=N8;const $e=yt(mb);var _8=Pa,S8=_8["__core-js_shared__"],C8=S8,cg=C8,Mj=function(){var e=/[^.]+$/.exec(cg&&cg.keys&&cg.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function P8(e){return!!Mj&&Mj in e}var A8=P8,k8=Function.prototype,E8=k8.toString;function O8(e){if(e!=null){try{return E8.call(e)}catch{}try{return e+""}catch{}}return""}var QA=O8,T8=mb,$8=A8,M8=Rs,D8=QA,R8=/[\\^$.*+?()[\]{}|]/g,I8=/^\[object .+?Constructor\]$/,L8=Function.prototype,F8=Object.prototype,z8=L8.toString,B8=F8.hasOwnProperty,V8=RegExp("^"+z8.call(B8).replace(R8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function U8(e){if(!M8(e)||$8(e))return!1;var t=T8(e)?V8:I8;return t.test(D8(e))}var W8=U8;function q8(e,t){return e?.[t]}var H8=q8,G8=W8,K8=H8;function Y8(e,t){var r=K8(e,t);return G8(r)?r:void 0}var Lo=Y8,Z8=Lo,X8=Z8(Object,"create"),_m=X8,Dj=_m;function J8(){this.__data__=Dj?Dj(null):{},this.size=0}var Q8=J8;function eV(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var tV=eV,rV=_m,nV="__lodash_hash_undefined__",aV=Object.prototype,sV=aV.hasOwnProperty;function oV(e){var t=this.__data__;if(rV){var r=t[e];return r===nV?void 0:r}return sV.call(t,e)?t[e]:void 0}var iV=oV,cV=_m,lV=Object.prototype,uV=lV.hasOwnProperty;function dV(e){var t=this.__data__;return cV?t[e]!==void 0:uV.call(t,e)}var fV=dV,hV=_m,mV="__lodash_hash_undefined__";function pV(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=hV&&t===void 0?mV:t,this}var gV=pV,vV=Q8,xV=tV,yV=iV,bV=fV,wV=gV;function Sc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sc.prototype.clear=vV;Sc.prototype.delete=xV;Sc.prototype.get=yV;Sc.prototype.has=bV;Sc.prototype.set=wV;var jV=Sc;function NV(){this.__data__=[],this.size=0}var _V=NV;function SV(e,t){return e===t||e!==e&&t!==t}var pb=SV,CV=pb;function PV(e,t){for(var r=e.length;r--;)if(CV(e[r][0],t))return r;return-1}var Sm=PV,AV=Sm,kV=Array.prototype,EV=kV.splice;function OV(e){var t=this.__data__,r=AV(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():EV.call(t,r,1),--this.size,!0}var TV=OV,$V=Sm;function MV(e){var t=this.__data__,r=$V(t,e);return r<0?void 0:t[r][1]}var DV=MV,RV=Sm;function IV(e){return RV(this.__data__,e)>-1}var LV=IV,FV=Sm;function zV(e,t){var r=this.__data__,n=FV(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var BV=zV,VV=_V,UV=TV,WV=DV,qV=LV,HV=BV;function Cc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Cc.prototype.clear=VV;Cc.prototype.delete=UV;Cc.prototype.get=WV;Cc.prototype.has=qV;Cc.prototype.set=HV;var Cm=Cc,GV=Lo,KV=Pa,YV=GV(KV,"Map"),gb=YV,Rj=jV,ZV=Cm,XV=gb;function JV(){this.size=0,this.__data__={hash:new Rj,map:new(XV||ZV),string:new Rj}}var QV=JV;function eU(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var tU=eU,rU=tU;function nU(e,t){var r=e.__data__;return rU(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Pm=nU,aU=Pm;function sU(e){var t=aU(this,e).delete(e);return this.size-=t?1:0,t}var oU=sU,iU=Pm;function cU(e){return iU(this,e).get(e)}var lU=cU,uU=Pm;function dU(e){return uU(this,e).has(e)}var fU=dU,hU=Pm;function mU(e,t){var r=hU(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var pU=mU,gU=QV,vU=oU,xU=lU,yU=fU,bU=pU;function Pc(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Pc.prototype.clear=gU;Pc.prototype.delete=vU;Pc.prototype.get=xU;Pc.prototype.has=yU;Pc.prototype.set=bU;var vb=Pc,e2=vb,wU="Expected a function";function xb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wU);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var i=e.apply(this,n);return r.cache=o.set(s,i)||o,i};return r.cache=new(xb.Cache||e2),r}xb.Cache=e2;var t2=xb;const jU=yt(t2);var NU=t2,_U=500;function SU(e){var t=NU(e,function(n){return r.size===_U&&r.clear(),n}),r=t.cache;return t}var CU=SU,PU=CU,AU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kU=/\\(\\)?/g,EU=PU(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(AU,function(r,n,s,o){t.push(s?o.replace(kU,"$1"):n||r)}),t}),OU=EU;function TU(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var yb=TU,Ij=Uu,$U=yb,MU=Gr,DU=Nc,Lj=Ij?Ij.prototype:void 0,Fj=Lj?Lj.toString:void 0;function r2(e){if(typeof e=="string")return e;if(MU(e))return $U(e,r2)+"";if(DU(e))return Fj?Fj.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var RU=r2,IU=RU;function LU(e){return e==null?"":IU(e)}var n2=LU,FU=Gr,zU=hb,BU=OU,VU=n2;function UU(e,t){return FU(e)?e:zU(e,t)?[e]:BU(VU(e))}var a2=UU,WU=Nc;function qU(e){if(typeof e=="string"||WU(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Am=qU,HU=a2,GU=Am;function KU(e,t){t=HU(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[GU(t[r++])];return r&&r==n?e:void 0}var bb=KU,YU=bb;function ZU(e,t,r){var n=e==null?void 0:YU(e,t);return n===void 0?r:n}var s2=ZU;const on=yt(s2);function XU(e){return e==null}var JU=XU;const ze=yt(JU);var QU=as,e9=Gr,t9=ss,r9="[object String]";function n9(e){return typeof e=="string"||!e9(e)&&t9(e)&&QU(e)==r9}var a9=n9;const Wu=yt(a9);var o2={exports:{}},vt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb=Symbol.for("react.element"),jb=Symbol.for("react.portal"),km=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),Tm=Symbol.for("react.provider"),$m=Symbol.for("react.context"),s9=Symbol.for("react.server_context"),Mm=Symbol.for("react.forward_ref"),Dm=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),o9=Symbol.for("react.offscreen"),i2;i2=Symbol.for("react.module.reference");function En(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wb:switch(e=e.type,e){case km:case Om:case Em:case Dm:case Rm:return e;default:switch(e=e&&e.$$typeof,e){case s9:case $m:case Mm:case Lm:case Im:case Tm:return e;default:return t}}case jb:return t}}}vt.ContextConsumer=$m;vt.ContextProvider=Tm;vt.Element=wb;vt.ForwardRef=Mm;vt.Fragment=km;vt.Lazy=Lm;vt.Memo=Im;vt.Portal=jb;vt.Profiler=Om;vt.StrictMode=Em;vt.Suspense=Dm;vt.SuspenseList=Rm;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(e){return En(e)===$m};vt.isContextProvider=function(e){return En(e)===Tm};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wb};vt.isForwardRef=function(e){return En(e)===Mm};vt.isFragment=function(e){return En(e)===km};vt.isLazy=function(e){return En(e)===Lm};vt.isMemo=function(e){return En(e)===Im};vt.isPortal=function(e){return En(e)===jb};vt.isProfiler=function(e){return En(e)===Om};vt.isStrictMode=function(e){return En(e)===Em};vt.isSuspense=function(e){return En(e)===Dm};vt.isSuspenseList=function(e){return En(e)===Rm};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===km||e===Om||e===Em||e===Dm||e===Rm||e===o9||typeof e=="object"&&e!==null&&(e.$$typeof===Lm||e.$$typeof===Im||e.$$typeof===Tm||e.$$typeof===$m||e.$$typeof===Mm||e.$$typeof===i2||e.getModuleId!==void 0)};vt.typeOf=En;o2.exports=vt;var c2=o2.exports,i9=as,c9=ss,l9="[object Number]";function u9(e){return typeof e=="number"||c9(e)&&i9(e)==l9}var l2=u9;const d9=yt(l2);var f9=l2;function h9(e){return f9(e)&&e!=+e}var m9=h9;const Ac=yt(m9);var $r=function(t){return t===0?0:t>0?1:-1},so=function(t){return Wu(t)&&t.indexOf("%")===t.length-1},ie=function(t){return d9(t)&&!Ac(t)},ir=function(t){return ie(t)||Wu(t)},p9=0,Fo=function(t){var r=++p9;return"".concat(t||"").concat(r)},Mr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&!Wu(t))return n;var o;if(so(t)){var i=t.indexOf("%");o=r*parseFloat(t.slice(0,i))/100}else o=+t;return Ac(o)&&(o=n),s&&o>r&&(o=r),o},xs=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},g9=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},sr=function(t,r){return ie(t)&&ie(r)?function(n){return t+n*(r-t)}:function(){return r}};function Pf(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):on(n,t))===r})}function xi(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}var v9=["viewBox","children"],x9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zj=["points","pathLength"],lg={svg:v9,polygon:zj,polyline:zj},Nb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Af=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!_c(n))return null;var s={};return Object.keys(n).forEach(function(o){Nb.includes(o)&&(s[o]=r||function(i){return n[o](n,i)})}),s},y9=function(t,r,n){return function(s){return t(r,n,s),null}},jo=function(t,r,n){if(!_c(t)||Pv(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(o){var i=t[o];Nb.includes(o)&&typeof i=="function"&&(s||(s={}),s[o]=y9(i,r,n))}),s},b9=["children"],w9=["children"];function Bj(e,t){if(e==null)return{};var r=j9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Av(e){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(e)}var Vj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ga=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Uj=null,ug=null,_b=function e(t){if(t===Uj&&Array.isArray(ug))return ug;var r=[];return x.Children.forEach(t,function(n){ze(n)||(c2.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),ug=r,Uj=t,r};function cn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Ga(s)}):n=[Ga(t)],_b(e).forEach(function(s){var o=on(s,"type.displayName")||on(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}function en(e,t){var r=cn(e,t);return r&&r[0]}var Wj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!ie(n)||n<=0||!ie(s)||s<=0)},N9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_9=function(t){return t&&t.type&&Wu(t.type)&&N9.indexOf(t.type)>=0},u2=function(t){return t&&Av(t)==="object"&&"clipDot"in t},S9=function(t,r,n,s){var o,i=(o=lg?.[s])!==null&&o!==void 0?o:[];return!$e(t)&&(s&&i.includes(r)||x9.includes(r))||n&&Nb.includes(r)},Ne=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!_c(s))return null;var o={};return Object.keys(s).forEach(function(i){var c;S9((c=s)===null||c===void 0?void 0:c[i],i,r,n)&&(o[i]=s[i])}),o},kv=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return qj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var o=t[s],i=r[s];if(Array.isArray(o)||Array.isArray(i)){if(!e(o,i))return!1}else if(!qj(o,i))return!1}return!0},qj=function(t,r){if(ze(t)&&ze(r))return!0;if(!ze(t)&&!ze(r)){var n=t.props||{},s=n.children,o=Bj(n,b9),i=r.props||{},c=i.children,l=Bj(i,w9);return s&&c?xi(o,l)&&kv(s,c):!s&&!c?xi(o,l):!1}return!1},Hj=function(t,r){var n=[],s={};return _b(t).forEach(function(o,i){if(_9(o))n.push(o);else if(o){var c=Ga(o.type),l=r[c]||{},u=l.handler,d=l.once;if(u&&(!d||!s[c])){var f=u(o,c,i);n.push(f),s[c]=!0}}}),n},C9=function(t){var r=t&&t.type;return r&&Vj[r]?Vj[r]:null},P9=function(t,r){return _b(r).indexOf(t)},A9=["children","width","height","viewBox","className","style","title","desc"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ev.apply(this,arguments)}function k9(e,t){if(e==null)return{};var r=E9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ov(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,o=e.className,i=e.style,c=e.title,l=e.desc,u=k9(e,A9),d=s||{width:r,height:n,x:0,y:0},f=We("recharts-surface",o);return k.createElement("svg",Ev({},Ne(u,!0,"svg"),{className:f,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,c),k.createElement("desc",null,l),t)}var O9=["children","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(this,arguments)}function T9(e,t){if(e==null)return{};var r=$9(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $9(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var st=k.forwardRef(function(e,t){var r=e.children,n=e.className,s=T9(e,O9),o=We("recharts-layer",n);return k.createElement("g",Tv({className:o},Ne(s,!0),{ref:t}),r)}),qn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]};function M9(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(s);++n<s;)o[n]=e[n+t];return o}var D9=M9,R9=D9;function I9(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:R9(e,t,r)}var L9=I9,F9="\\ud800-\\udfff",z9="\\u0300-\\u036f",B9="\\ufe20-\\ufe2f",V9="\\u20d0-\\u20ff",U9=z9+B9+V9,W9="\\ufe0e\\ufe0f",q9="\\u200d",H9=RegExp("["+q9+F9+U9+W9+"]");function G9(e){return H9.test(e)}var d2=G9;function K9(e){return e.split("")}var Y9=K9,f2="\\ud800-\\udfff",Z9="\\u0300-\\u036f",X9="\\ufe20-\\ufe2f",J9="\\u20d0-\\u20ff",Q9=Z9+X9+J9,eW="\\ufe0e\\ufe0f",tW="["+f2+"]",$v="["+Q9+"]",Mv="\\ud83c[\\udffb-\\udfff]",rW="(?:"+$v+"|"+Mv+")",h2="[^"+f2+"]",m2="(?:\\ud83c[\\udde6-\\uddff]){2}",p2="[\\ud800-\\udbff][\\udc00-\\udfff]",nW="\\u200d",g2=rW+"?",v2="["+eW+"]?",aW="(?:"+nW+"(?:"+[h2,m2,p2].join("|")+")"+v2+g2+")*",sW=v2+g2+aW,oW="(?:"+[h2+$v+"?",$v,m2,p2,tW].join("|")+")",iW=RegExp(Mv+"(?="+Mv+")|"+oW+sW,"g");function cW(e){return e.match(iW)||[]}var lW=cW,uW=Y9,dW=d2,fW=lW;function hW(e){return dW(e)?fW(e):uW(e)}var mW=hW,pW=L9,gW=d2,vW=mW,xW=n2;function yW(e){return function(t){t=xW(t);var r=gW(t)?vW(t):void 0,n=r?r[0]:t.charAt(0),s=r?pW(r,1).join(""):t.slice(1);return n[e]()+s}}var bW=yW,wW=bW,jW=wW("toUpperCase"),NW=jW;const Fm=yt(NW);function St(e){return function(){return e}}const x2=Math.cos,kf=Math.sin,ta=Math.sqrt,Ef=Math.PI,zm=2*Ef,Dv=Math.PI,Rv=2*Dv,Js=1e-6,_W=Rv-Js;function y2(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function SW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y2;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class CW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y2:SW(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,i){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+i}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let i=this._x1,c=this._y1,l=n-t,u=s-r,d=i-t,f=c-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Js)if(!(Math.abs(f*l-u*d)>Js)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,v=s-c,m=l*l+u*u,g=p*p+v*v,y=Math.sqrt(m),b=Math.sqrt(h),w=o*Math.tan((Dv-Math.acos((m+h-g)/(2*y*b)))/2),j=w/b,N=w/y;Math.abs(j-1)>Js&&this._append`L${t+j*d},${r+j*f}`,this._append`A${o},${o},0,0,${+(f*p>d*v)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,s,o,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),l=n*Math.sin(s),u=t+c,d=r+l,f=1^i,h=i?s-o:o-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Js||Math.abs(this._y1-d)>Js)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Rv+Rv),h>_W?this._append`A${n},${n},0,1,${f},${t-c},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Js&&this._append`A${n},${n},0,${+(h>=Dv)},${f},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Sb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new CW(t)}function Cb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function b2(e){this._context=e}b2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Bm(e){return new b2(e)}function w2(e){return e[0]}function j2(e){return e[1]}function N2(e,t){var r=St(!0),n=null,s=Bm,o=null,i=Sb(c);e=typeof e=="function"?e:e===void 0?w2:St(e),t=typeof t=="function"?t:t===void 0?j2:St(t);function c(l){var u,d=(l=Cb(l)).length,f,h=!1,p;for(n==null&&(o=s(p=i())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(f,u,l),+t(f,u,l));if(p)return o=null,p+""||null}return c.x=function(l){return arguments.length?(e=typeof l=="function"?l:St(+l),c):e},c.y=function(l){return arguments.length?(t=typeof l=="function"?l:St(+l),c):t},c.defined=function(l){return arguments.length?(r=typeof l=="function"?l:St(!!l),c):r},c.curve=function(l){return arguments.length?(s=l,n!=null&&(o=s(n)),c):s},c.context=function(l){return arguments.length?(l==null?n=o=null:o=s(n=l),c):n},c}function Pd(e,t,r){var n=null,s=St(!0),o=null,i=Bm,c=null,l=Sb(u);e=typeof e=="function"?e:e===void 0?w2:St(+e),t=typeof t=="function"?t:St(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?j2:St(+r);function u(f){var h,p,v,m=(f=Cb(f)).length,g,y=!1,b,w=new Array(m),j=new Array(m);for(o==null&&(c=i(b=l())),h=0;h<=m;++h){if(!(h<m&&s(g=f[h],h,f))===y)if(y=!y)p=h,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),v=h-1;v>=p;--v)c.point(w[v],j[v]);c.lineEnd(),c.areaEnd()}y&&(w[h]=+e(g,h,f),j[h]=+t(g,h,f),c.point(n?+n(g,h,f):w[h],r?+r(g,h,f):j[h]))}if(b)return c=null,b+""||null}function d(){return N2().defined(s).curve(i).context(o)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:St(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:St(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:St(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:St(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:St(!!f),u):s},u.curve=function(f){return arguments.length?(i=f,o!=null&&(c=i(o)),u):i},u.context=function(f){return arguments.length?(f==null?o=c=null:c=i(o=f),u):o},u}class _2{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PW(e){return new _2(e,!0)}function AW(e){return new _2(e,!1)}const Pb={draw(e,t){const r=ta(t/Ef);e.moveTo(r,0),e.arc(0,0,r,0,zm)}},kW={draw(e,t){const r=ta(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},S2=ta(1/3),EW=S2*2,OW={draw(e,t){const r=ta(t/EW),n=r*S2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},TW={draw(e,t){const r=ta(t),n=-r/2;e.rect(n,n,r,r)}},$W=.8908130915292852,C2=kf(Ef/10)/kf(7*Ef/10),MW=kf(zm/10)*C2,DW=-x2(zm/10)*C2,RW={draw(e,t){const r=ta(t*$W),n=MW*r,s=DW*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const i=zm*o/5,c=x2(i),l=kf(i);e.lineTo(l*r,-c*r),e.lineTo(c*n-l*s,l*n+c*s)}e.closePath()}},dg=ta(3),IW={draw(e,t){const r=-ta(t/(dg*3));e.moveTo(0,r*2),e.lineTo(-dg*r,-r),e.lineTo(dg*r,-r),e.closePath()}},hn=-.5,mn=ta(3)/2,Iv=1/ta(12),LW=(Iv/2+1)*3,FW={draw(e,t){const r=ta(t/LW),n=r/2,s=r*Iv,o=n,i=r*Iv+r,c=-o,l=i;e.moveTo(n,s),e.lineTo(o,i),e.lineTo(c,l),e.lineTo(hn*n-mn*s,mn*n+hn*s),e.lineTo(hn*o-mn*i,mn*o+hn*i),e.lineTo(hn*c-mn*l,mn*c+hn*l),e.lineTo(hn*n+mn*s,hn*s-mn*n),e.lineTo(hn*o+mn*i,hn*i-mn*o),e.lineTo(hn*c+mn*l,hn*l-mn*c),e.closePath()}};function zW(e,t){let r=null,n=Sb(s);e=typeof e=="function"?e:St(e||Pb),t=typeof t=="function"?t:St(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:St(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:St(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function Of(){}function Tf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function P2(e){this._context=e}P2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BW(e){return new P2(e)}function A2(e){this._context=e}A2.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VW(e){return new A2(e)}function k2(e){this._context=e}k2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Tf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UW(e){return new k2(e)}function E2(e){this._context=e}E2.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function WW(e){return new E2(e)}function Gj(e){return e<0?-1:1}function Kj(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),c=(o*s+i*n)/(n+s);return(Gj(o)+Gj(i))*Math.min(Math.abs(o),Math.abs(i),.5*Math.abs(c))||0}function Yj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fg(e,t,r){var n=e._x0,s=e._y0,o=e._x1,i=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,s+c*t,o-c,i-c*r,o,i)}function $f(e){this._context=e}$f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,Yj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,Yj(this,r=Kj(this,e,t)),r);break;default:fg(this,this._t0,r=Kj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function O2(e){this._context=new T2(e)}(O2.prototype=Object.create($f.prototype)).point=function(e,t){$f.prototype.point.call(this,t,e)};function T2(e){this._context=e}T2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function qW(e){return new $f(e)}function HW(e){return new O2(e)}function $2(e){this._context=e}$2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zj(e),s=Zj(t),o=0,i=1;i<r;++o,++i)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zj(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),i=new Array(r);for(s[0]=0,o[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,i[t]-=n*i[t-1];for(s[r-1]=i[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(i[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function GW(e){return new $2(e)}function Vm(e,t){this._context=e,this._t=t}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function KW(e){return new Vm(e,.5)}function YW(e){return new Vm(e,0)}function ZW(e){return new Vm(e,1)}function ki(e,t){if((i=e.length)>1)for(var r=1,n,s,o=e[t[0]],i,c=o.length;r<i;++r)for(s=o,o=e[t[r]],n=0;n<c;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Lv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function XW(e,t){return e[t]}function JW(e){const t=[];return t.key=e,t}function QW(){var e=St([]),t=Lv,r=ki,n=XW;function s(o){var i=Array.from(e.apply(this,arguments),JW),c,l=i.length,u=-1,d;for(const f of o)for(c=0,++u;c<l;++c)(i[c][u]=[0,+n(f,i[c].key,u,o)]).data=f;for(c=0,d=Cb(t(i));c<l;++c)i[d[c]].index=c;return r(i,d),i}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:St(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:St(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Lv:typeof o=="function"?o:St(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??ki,s):r},s}function eq(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,i;s<o;++s){for(i=r=0;r<n;++r)i+=e[r][s][1]||0;if(i)for(r=0;r<n;++r)e[r][s][1]/=i}ki(e,t)}}function tq(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var i=0,c=0;i<s;++i)c+=e[i][r][1]||0;n[r][1]+=n[r][0]=-c/2}ki(e,t)}}function rq(e,t){if(!(!((i=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,i;n<o;++n){for(var c=0,l=0,u=0;c<i;++c){for(var d=e[t[c]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,v=0;v<c;++v){var m=e[t[v]],g=m[n][1]||0,y=m[n-1][1]||0;p+=g-y}l+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,l&&(r-=u/l)}s[n-1][1]+=s[n-1][0]=r,ki(e,t)}}function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}var nq=["type","size","sizeType"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(this,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aq(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=oq(e,"string");return Ll(t)=="symbol"?t:t+""}function oq(e,t){if(Ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ll(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iq(e,t){if(e==null)return{};var r=cq(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cq(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M2={symbolCircle:Pb,symbolCross:kW,symbolDiamond:OW,symbolSquare:TW,symbolStar:RW,symbolTriangle:IW,symbolWye:FW},lq=Math.PI/180,uq=function(t){var r="symbol".concat(Fm(t));return M2[r]||Pb},dq=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*lq;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fq=function(t,r){M2["symbol".concat(Fm(t))]=r},Ab=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,o=s===void 0?64:s,i=t.sizeType,c=i===void 0?"area":i,l=iq(t,nq),u=Jj(Jj({},l),{},{type:n,size:o,sizeType:c}),d=function(){var g=uq(n),y=zW().type(g).size(dq(o,c,n));return y()},f=u.className,h=u.cx,p=u.cy,v=Ne(u,!0);return h===+h&&p===+p&&o===+o?k.createElement("path",Fv({},v,{className:We("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};Ab.registerSymbol=fq;function Ei(e){"@babel/helpers - typeof";return Ei=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ei(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(this,arguments)}function Qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qj(Object(r),!0).forEach(function(n){Fl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R2(n.key),n)}}function gq(e,t,r){return t&&pq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vq(e,t,r){return t=Mf(t),xq(e,D2()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function xq(e,t){if(t&&(Ei(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yq(e)}function yq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D2=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function bq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}function Bv(e,t){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Bv(e,t)}function Fl(e,t,r){return t=R2(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2(e){var t=wq(e,"string");return Ei(t)=="symbol"?t:t+""}function wq(e,t){if(Ei(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ei(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pn=32,kb=function(e){function t(){return mq(this,t),vq(this,t,arguments)}return bq(t,e),gq(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,o=pn/2,i=pn/6,c=pn/3,l=n.inactive?s:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:pn,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(pn,"M").concat(2*c,",").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(pn/8,"h").concat(pn,"v").concat(pn*3/4,"h").concat(-pn,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=hq({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(Ab,{fill:l,cx:o,cy:o,size:pn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,o=s.payload,i=s.iconSize,c=s.layout,l=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:pn,height:pn},f={display:c==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,v){var m=p.formatter||l,g=We(Fl(Fl({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=$e(p.value)?null:p.value;qn(!$e(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return k.createElement("li",zv({className:g,style:f,key:"legend-item-".concat(v)},jo(n.props,p,v)),k.createElement(Ov,{width:i,height:i,viewBox:d,style:h},n.renderIcon(p)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,p,v):y))})}},{key:"render",value:function(){var n=this.props,s=n.payload,o=n.layout,i=n.align;if(!s||!s.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?i:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(x.PureComponent);Fl(kb,"displayName","Legend");Fl(kb,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jq=Cm;function Nq(){this.__data__=new jq,this.size=0}var _q=Nq;function Sq(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Cq=Sq;function Pq(e){return this.__data__.get(e)}var Aq=Pq;function kq(e){return this.__data__.has(e)}var Eq=kq,Oq=Cm,Tq=gb,$q=vb,Mq=200;function Dq(e,t){var r=this.__data__;if(r instanceof Oq){var n=r.__data__;if(!Tq||n.length<Mq-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $q(n)}return r.set(e,t),this.size=r.size,this}var Rq=Dq,Iq=Cm,Lq=_q,Fq=Cq,zq=Aq,Bq=Eq,Vq=Rq;function kc(e){var t=this.__data__=new Iq(e);this.size=t.size}kc.prototype.clear=Lq;kc.prototype.delete=Fq;kc.prototype.get=zq;kc.prototype.has=Bq;kc.prototype.set=Vq;var I2=kc,Uq="__lodash_hash_undefined__";function Wq(e){return this.__data__.set(e,Uq),this}var qq=Wq;function Hq(e){return this.__data__.has(e)}var Gq=Hq,Kq=vb,Yq=qq,Zq=Gq;function Df(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kq;++t<r;)this.add(e[t])}Df.prototype.add=Df.prototype.push=Yq;Df.prototype.has=Zq;var L2=Df;function Xq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var F2=Xq;function Jq(e,t){return e.has(t)}var z2=Jq,Qq=L2,e7=F2,t7=z2,r7=1,n7=2;function a7(e,t,r,n,s,o){var i=r&r7,c=e.length,l=t.length;if(c!=l&&!(i&&l>c))return!1;var u=o.get(e),d=o.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&n7?new Qq:void 0;for(o.set(e,t),o.set(t,e);++f<c;){var v=e[f],m=t[f];if(n)var g=i?n(m,v,f,t,e,o):n(v,m,f,e,t,o);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!e7(t,function(y,b){if(!t7(p,b)&&(v===y||s(v,y,r,n,o)))return p.push(b)})){h=!1;break}}else if(!(v===m||s(v,m,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var B2=a7,s7=Pa,o7=s7.Uint8Array,i7=o7;function c7(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var l7=c7;function u7(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Eb=u7,eN=Uu,tN=i7,d7=pb,f7=B2,h7=l7,m7=Eb,p7=1,g7=2,v7="[object Boolean]",x7="[object Date]",y7="[object Error]",b7="[object Map]",w7="[object Number]",j7="[object RegExp]",N7="[object Set]",_7="[object String]",S7="[object Symbol]",C7="[object ArrayBuffer]",P7="[object DataView]",rN=eN?eN.prototype:void 0,hg=rN?rN.valueOf:void 0;function A7(e,t,r,n,s,o,i){switch(r){case P7:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C7:return!(e.byteLength!=t.byteLength||!o(new tN(e),new tN(t)));case v7:case x7:case w7:return d7(+e,+t);case y7:return e.name==t.name&&e.message==t.message;case j7:case _7:return e==t+"";case b7:var c=h7;case N7:var l=n&p7;if(c||(c=m7),e.size!=t.size&&!l)return!1;var u=i.get(e);if(u)return u==t;n|=g7,i.set(e,t);var d=f7(c(e),c(t),n,s,o,i);return i.delete(e),d;case S7:if(hg)return hg.call(e)==hg.call(t)}return!1}var k7=A7;function E7(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var V2=E7,O7=V2,T7=Gr;function $7(e,t,r){var n=t(e);return T7(e)?n:O7(n,r(e))}var M7=$7;function D7(e,t){for(var r=-1,n=e==null?0:e.length,s=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[s++]=i)}return o}var R7=D7;function I7(){return[]}var L7=I7,F7=R7,z7=L7,B7=Object.prototype,V7=B7.propertyIsEnumerable,nN=Object.getOwnPropertySymbols,U7=nN?function(e){return e==null?[]:(e=Object(e),F7(nN(e),function(t){return V7.call(e,t)}))}:z7,W7=U7;function q7(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var H7=q7,G7=as,K7=ss,Y7="[object Arguments]";function Z7(e){return K7(e)&&G7(e)==Y7}var X7=Z7,aN=X7,J7=ss,U2=Object.prototype,Q7=U2.hasOwnProperty,eH=U2.propertyIsEnumerable,tH=aN(function(){return arguments}())?aN:function(e){return J7(e)&&Q7.call(e,"callee")&&!eH.call(e,"callee")},Ob=tH,Rf={exports:{}};function rH(){return!1}var nH=rH;Rf.exports;(function(e,t){var r=Pa,n=nH,s=t&&!t.nodeType&&t,o=s&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===s,c=i?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Rf,Rf.exports);var W2=Rf.exports,aH=9007199254740991,sH=/^(?:0|[1-9]\d*)$/;function oH(e,t){var r=typeof e;return t=t??aH,!!t&&(r=="number"||r!="symbol"&&sH.test(e))&&e>-1&&e%1==0&&e<t}var Tb=oH,iH=9007199254740991;function cH(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iH}var $b=cH,lH=as,uH=$b,dH=ss,fH="[object Arguments]",hH="[object Array]",mH="[object Boolean]",pH="[object Date]",gH="[object Error]",vH="[object Function]",xH="[object Map]",yH="[object Number]",bH="[object Object]",wH="[object RegExp]",jH="[object Set]",NH="[object String]",_H="[object WeakMap]",SH="[object ArrayBuffer]",CH="[object DataView]",PH="[object Float32Array]",AH="[object Float64Array]",kH="[object Int8Array]",EH="[object Int16Array]",OH="[object Int32Array]",TH="[object Uint8Array]",$H="[object Uint8ClampedArray]",MH="[object Uint16Array]",DH="[object Uint32Array]",Ot={};Ot[PH]=Ot[AH]=Ot[kH]=Ot[EH]=Ot[OH]=Ot[TH]=Ot[$H]=Ot[MH]=Ot[DH]=!0;Ot[fH]=Ot[hH]=Ot[SH]=Ot[mH]=Ot[CH]=Ot[pH]=Ot[gH]=Ot[vH]=Ot[xH]=Ot[yH]=Ot[bH]=Ot[wH]=Ot[jH]=Ot[NH]=Ot[_H]=!1;function RH(e){return dH(e)&&uH(e.length)&&!!Ot[lH(e)]}var IH=RH;function LH(e){return function(t){return e(t)}}var q2=LH,If={exports:{}};If.exports;(function(e,t){var r=XA,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===n,i=o&&r.process,c=function(){try{var l=s&&s.require&&s.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();e.exports=c})(If,If.exports);var FH=If.exports,zH=IH,BH=q2,sN=FH,oN=sN&&sN.isTypedArray,VH=oN?BH(oN):zH,H2=VH,UH=H7,WH=Ob,qH=Gr,HH=W2,GH=Tb,KH=H2,YH=Object.prototype,ZH=YH.hasOwnProperty;function XH(e,t){var r=qH(e),n=!r&&WH(e),s=!r&&!n&&HH(e),o=!r&&!n&&!s&&KH(e),i=r||n||s||o,c=i?UH(e.length,String):[],l=c.length;for(var u in e)(t||ZH.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||GH(u,l)))&&c.push(u);return c}var JH=XH,QH=Object.prototype;function eG(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||QH;return e===r}var tG=eG;function rG(e,t){return function(r){return e(t(r))}}var G2=rG,nG=G2,aG=nG(Object.keys,Object),sG=aG,oG=tG,iG=sG,cG=Object.prototype,lG=cG.hasOwnProperty;function uG(e){if(!oG(e))return iG(e);var t=[];for(var r in Object(e))lG.call(e,r)&&r!="constructor"&&t.push(r);return t}var dG=uG,fG=mb,hG=$b;function mG(e){return e!=null&&hG(e.length)&&!fG(e)}var qu=mG,pG=JH,gG=dG,vG=qu;function xG(e){return vG(e)?pG(e):gG(e)}var Um=xG,yG=M7,bG=W7,wG=Um;function jG(e){return yG(e,wG,bG)}var NG=jG,iN=NG,_G=1,SG=Object.prototype,CG=SG.hasOwnProperty;function PG(e,t,r,n,s,o){var i=r&_G,c=iN(e),l=c.length,u=iN(t),d=u.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var h=c[f];if(!(i?h in t:CG.call(t,h)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);for(var g=i;++f<l;){h=c[f];var y=e[h],b=t[h];if(n)var w=i?n(b,y,h,t,e,o):n(y,b,h,e,t,o);if(!(w===void 0?y===b||s(y,b,r,n,o):w)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var j=e.constructor,N=t.constructor;j!=N&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof N=="function"&&N instanceof N)&&(m=!1)}return o.delete(e),o.delete(t),m}var AG=PG,kG=Lo,EG=Pa,OG=kG(EG,"DataView"),TG=OG,$G=Lo,MG=Pa,DG=$G(MG,"Promise"),RG=DG,IG=Lo,LG=Pa,FG=IG(LG,"Set"),K2=FG,zG=Lo,BG=Pa,VG=zG(BG,"WeakMap"),UG=VG,Vv=TG,Uv=gb,Wv=RG,qv=K2,Hv=UG,Y2=as,Ec=QA,cN="[object Map]",WG="[object Object]",lN="[object Promise]",uN="[object Set]",dN="[object WeakMap]",fN="[object DataView]",qG=Ec(Vv),HG=Ec(Uv),GG=Ec(Wv),KG=Ec(qv),YG=Ec(Hv),Qs=Y2;(Vv&&Qs(new Vv(new ArrayBuffer(1)))!=fN||Uv&&Qs(new Uv)!=cN||Wv&&Qs(Wv.resolve())!=lN||qv&&Qs(new qv)!=uN||Hv&&Qs(new Hv)!=dN)&&(Qs=function(e){var t=Y2(e),r=t==WG?e.constructor:void 0,n=r?Ec(r):"";if(n)switch(n){case qG:return fN;case HG:return cN;case GG:return lN;case KG:return uN;case YG:return dN}return t});var ZG=Qs,mg=I2,XG=B2,JG=k7,QG=AG,hN=ZG,mN=Gr,pN=W2,eK=H2,tK=1,gN="[object Arguments]",vN="[object Array]",Ad="[object Object]",rK=Object.prototype,xN=rK.hasOwnProperty;function nK(e,t,r,n,s,o){var i=mN(e),c=mN(t),l=i?vN:hN(e),u=c?vN:hN(t);l=l==gN?Ad:l,u=u==gN?Ad:u;var d=l==Ad,f=u==Ad,h=l==u;if(h&&pN(e)){if(!pN(t))return!1;i=!0,d=!1}if(h&&!d)return o||(o=new mg),i||eK(e)?XG(e,t,r,n,s,o):JG(e,t,l,r,n,s,o);if(!(r&tK)){var p=d&&xN.call(e,"__wrapped__"),v=f&&xN.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new mg),s(m,g,r,n,o)}}return h?(o||(o=new mg),QG(e,t,r,n,s,o)):!1}var aK=nK,sK=aK,yN=ss;function Z2(e,t,r,n,s){return e===t?!0:e==null||t==null||!yN(e)&&!yN(t)?e!==e&&t!==t:sK(e,t,r,n,Z2,s)}var Mb=Z2,oK=I2,iK=Mb,cK=1,lK=2;function uK(e,t,r,n){var s=r.length,o=s,i=!n;if(e==null)return!o;for(e=Object(e);s--;){var c=r[s];if(i&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){c=r[s];var l=c[0],u=e[l],d=c[1];if(i&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new oK;if(n)var h=n(u,d,l,e,t,f);if(!(h===void 0?iK(d,u,cK|lK,n,f):h))return!1}}return!0}var dK=uK,fK=Rs;function hK(e){return e===e&&!fK(e)}var X2=hK,mK=X2,pK=Um;function gK(e){for(var t=pK(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,mK(s)]}return t}var vK=gK;function xK(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var J2=xK,yK=dK,bK=vK,wK=J2;function jK(e){var t=bK(e);return t.length==1&&t[0][2]?wK(t[0][0],t[0][1]):function(r){return r===e||yK(r,e,t)}}var NK=jK;function _K(e,t){return e!=null&&t in Object(e)}var SK=_K,CK=a2,PK=Ob,AK=Gr,kK=Tb,EK=$b,OK=Am;function TK(e,t,r){t=CK(t,e);for(var n=-1,s=t.length,o=!1;++n<s;){var i=OK(t[n]);if(!(o=e!=null&&r(e,i)))break;e=e[i]}return o||++n!=s?o:(s=e==null?0:e.length,!!s&&EK(s)&&kK(i,s)&&(AK(e)||PK(e)))}var $K=TK,MK=SK,DK=$K;function RK(e,t){return e!=null&&DK(e,t,MK)}var IK=RK,LK=Mb,FK=s2,zK=IK,BK=hb,VK=X2,UK=J2,WK=Am,qK=1,HK=2;function GK(e,t){return BK(e)&&VK(t)?UK(WK(e),t):function(r){var n=FK(r,e);return n===void 0&&n===t?zK(r,e):LK(t,n,qK|HK)}}var KK=GK;function YK(e){return e}var Oc=YK;function ZK(e){return function(t){return t?.[e]}}var XK=ZK,JK=bb;function QK(e){return function(t){return JK(t,e)}}var eY=QK,tY=XK,rY=eY,nY=hb,aY=Am;function sY(e){return nY(e)?tY(aY(e)):rY(e)}var oY=sY,iY=NK,cY=KK,lY=Oc,uY=Gr,dY=oY;function fY(e){return typeof e=="function"?e:e==null?lY:typeof e=="object"?uY(e)?cY(e[0],e[1]):iY(e):dY(e)}var Aa=fY;function hY(e,t,r,n){for(var s=e.length,o=r+(n?1:-1);n?o--:++o<s;)if(t(e[o],o,e))return o;return-1}var Q2=hY;function mY(e){return e!==e}var pY=mY;function gY(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var vY=gY,xY=Q2,yY=pY,bY=vY;function wY(e,t,r){return t===t?bY(e,t,r):xY(e,yY,r)}var jY=wY,NY=jY;function _Y(e,t){var r=e==null?0:e.length;return!!r&&NY(e,t,0)>-1}var SY=_Y;function CY(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var PY=CY;function AY(){}var kY=AY,pg=K2,EY=kY,OY=Eb,TY=1/0,$Y=pg&&1/OY(new pg([,-0]))[1]==TY?function(e){return new pg(e)}:EY,MY=$Y,DY=L2,RY=SY,IY=PY,LY=z2,FY=MY,zY=Eb,BY=200;function VY(e,t,r){var n=-1,s=RY,o=e.length,i=!0,c=[],l=c;if(r)i=!1,s=IY;else if(o>=BY){var u=t?null:FY(e);if(u)return zY(u);i=!1,s=LY,l=new DY}else l=t?[]:c;e:for(;++n<o;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,i&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),c.push(d)}else s(l,f,r)||(l!==c&&l.push(f),c.push(d))}return c}var UY=VY,WY=Aa,qY=UY;function HY(e,t){return e&&e.length?qY(e,WY(t)):[]}var GY=HY;const bN=yt(GY);function ek(e,t,r){return t===!0?bN(e,r):$e(t)?bN(e,t):e}function Oi(e){"@babel/helpers - typeof";return Oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oi(e)}var KY=["ref"];function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Wm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rk(n.key),n)}}function ZY(e,t,r){return t&&jN(e.prototype,t),r&&jN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XY(e,t,r){return t=Lf(t),JY(e,tk()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function JY(e,t){if(t&&(Oi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(e)}function QY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function eZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gv(e,t)}function Gv(e,t){return Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gv(e,t)}function Wm(e,t,r){return t=rk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e){var t=tZ(e,"string");return Oi(t)=="symbol"?t:t+""}function tZ(e,t){if(Oi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Oi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rZ(e,t){if(e==null)return{};var r=nZ(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aZ(e){return e.value}function sZ(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=rZ(t,KY);return k.createElement(kb,r)}var NN=1,pa=function(e){function t(){var r;YY(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=XY(this,t,[].concat(s)),Wm(r,"lastBoundingBox",{width:-1,height:-1}),r}return eZ(t,e),ZY(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>NN||Math.abs(s.height-this.lastBoundingBox.height)>NN)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$a({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,o=s.layout,i=s.align,c=s.verticalAlign,l=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(i==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=i==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=c==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return $a($a({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,o=s.content,i=s.width,c=s.height,l=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=$a($a({position:"absolute",width:i||"auto",height:c||"auto"},this.getDefaultPosition(l)),l);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},sZ(o,$a($a({},this.props),{},{payload:ek(d,u,aZ)})))}}],[{key:"getWithHeight",value:function(n,s){var o=$a($a({},this.defaultProps),n.props),i=o.layout;return i==="vertical"&&ie(n.props.height)?{height:n.props.height}:i==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);Wm(pa,"displayName","Legend");Wm(pa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _N=Uu,oZ=Ob,iZ=Gr,SN=_N?_N.isConcatSpreadable:void 0;function cZ(e){return iZ(e)||oZ(e)||!!(SN&&e&&e[SN])}var lZ=cZ,uZ=V2,dZ=lZ;function nk(e,t,r,n,s){var o=-1,i=e.length;for(r||(r=dZ),s||(s=[]);++o<i;){var c=e[o];t>0&&r(c)?t>1?nk(c,t-1,r,n,s):uZ(s,c):n||(s[s.length]=c)}return s}var ak=nk;function fZ(e){return function(t,r,n){for(var s=-1,o=Object(t),i=n(t),c=i.length;c--;){var l=i[e?c:++s];if(r(o[l],l,o)===!1)break}return t}}var hZ=fZ,mZ=hZ,pZ=mZ(),gZ=pZ,vZ=gZ,xZ=Um;function yZ(e,t){return e&&vZ(e,t,xZ)}var sk=yZ,bZ=qu;function wZ(e,t){return function(r,n){if(r==null)return r;if(!bZ(r))return e(r,n);for(var s=r.length,o=t?s:-1,i=Object(r);(t?o--:++o<s)&&n(i[o],o,i)!==!1;);return r}}var jZ=wZ,NZ=sk,_Z=jZ,SZ=_Z(NZ),Db=SZ,CZ=Db,PZ=qu;function AZ(e,t){var r=-1,n=PZ(e)?Array(e.length):[];return CZ(e,function(s,o,i){n[++r]=t(s,o,i)}),n}var ok=AZ;function kZ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var EZ=kZ,CN=Nc;function OZ(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,o=CN(e),i=t!==void 0,c=t===null,l=t===t,u=CN(t);if(!c&&!u&&!o&&e>t||o&&i&&l&&!c&&!u||n&&i&&l||!r&&l||!s)return 1;if(!n&&!o&&!u&&e<t||u&&r&&s&&!n&&!o||c&&r&&s||!i&&s||!l)return-1}return 0}var TZ=OZ,$Z=TZ;function MZ(e,t,r){for(var n=-1,s=e.criteria,o=t.criteria,i=s.length,c=r.length;++n<i;){var l=$Z(s[n],o[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var DZ=MZ,gg=yb,RZ=bb,IZ=Aa,LZ=ok,FZ=EZ,zZ=q2,BZ=DZ,VZ=Oc,UZ=Gr;function WZ(e,t,r){t.length?t=gg(t,function(o){return UZ(o)?function(i){return RZ(i,o.length===1?o[0]:o)}:o}):t=[VZ];var n=-1;t=gg(t,zZ(IZ));var s=LZ(e,function(o,i,c){var l=gg(t,function(u){return u(o)});return{criteria:l,index:++n,value:o}});return FZ(s,function(o,i){return BZ(o,i,r)})}var qZ=WZ;function HZ(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var GZ=HZ,KZ=GZ,PN=Math.max;function YZ(e,t,r){return t=PN(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,o=PN(n.length-t,0),i=Array(o);++s<o;)i[s]=n[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=n[s];return c[t]=r(i),KZ(e,this,c)}}var ZZ=YZ;function XZ(e){return function(){return e}}var JZ=XZ,QZ=Lo,eX=function(){try{var e=QZ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ik=eX,tX=JZ,AN=ik,rX=Oc,nX=AN?function(e,t){return AN(e,"toString",{configurable:!0,enumerable:!1,value:tX(t),writable:!0})}:rX,aX=nX,sX=800,oX=16,iX=Date.now;function cX(e){var t=0,r=0;return function(){var n=iX(),s=oX-(n-r);if(r=n,s>0){if(++t>=sX)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var lX=cX,uX=aX,dX=lX,fX=dX(uX),hX=fX,mX=Oc,pX=ZZ,gX=hX;function vX(e,t){return gX(pX(e,t,mX),e+"")}var xX=vX,yX=pb,bX=qu,wX=Tb,jX=Rs;function NX(e,t,r){if(!jX(r))return!1;var n=typeof t;return(n=="number"?bX(r)&&wX(t,r.length):n=="string"&&t in r)?yX(r[t],e):!1}var qm=NX,_X=ak,SX=qZ,CX=xX,kN=qm,PX=CX(function(e,t){if(e==null)return[];var r=t.length;return r>1&&kN(e,t[0],t[1])?t=[]:r>2&&kN(t[0],t[1],t[2])&&(t=[t[0]]),SX(e,_X(t,1),[])}),AX=PX;const Rb=yt(AX);function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kv.apply(this,arguments)}function kX(e,t){return $X(e)||TX(e,t)||OX(e,t)||EX()}function EX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OX(e,t){if(e){if(typeof e=="string")return EN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EN(e,t)}}function EN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TX(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function $X(e){if(Array.isArray(e))return e}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){MX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MX(e,t,r){return t=DX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=RX(e,"string");return zl(t)=="symbol"?t:t+""}function RX(e,t){if(zl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IX(e){return Array.isArray(e)&&ir(e[0])&&ir(e[1])?e.join(" ~ "):e}var LX=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,o=s===void 0?{}:s,i=t.itemStyle,c=i===void 0?{}:i,l=t.labelStyle,u=l===void 0?{}:l,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,m=t.label,g=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(d&&d.length){var C={padding:0,margin:0},O=(h?Rb(d,h):d).map(function(T,I){if(T.type==="none")return null;var R=vg({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},c),D=T.formatter||f||IX,M=T.value,V=T.name,re=M,K=V;if(D&&re!=null&&K!=null){var te=D(M,V,T,I,d);if(Array.isArray(te)){var ce=kX(te,2);re=ce[0],K=ce[1]}else re=te}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:R},ir(K)?k.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ir(K)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},re),k.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:C},O)}return null},j=vg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),N=vg({margin:0},u),S=!ze(m),_=S?m:"",P=We("recharts-default-tooltip",p),E=We("recharts-tooltip-label",v);S&&g&&d!==void 0&&d!==null&&(_=g(m,d));var $=b?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Kv({className:P,style:j},$),k.createElement("p",{className:E,style:N},k.isValidElement(_)?_:"".concat(_)),w())};function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function kd(e,t,r){return t=FX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=zX(e,"string");return Bl(t)=="symbol"?t:t+""}function zX(e,t){if(Bl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yc="recharts-tooltip-wrapper",BX={visibility:"hidden"};function VX(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return We(Yc,kd(kd(kd(kd({},"".concat(Yc,"-right"),ie(r)&&t&&ie(t.x)&&r>=t.x),"".concat(Yc,"-left"),ie(r)&&t&&ie(t.x)&&r<t.x),"".concat(Yc,"-bottom"),ie(n)&&t&&ie(t.y)&&n>=t.y),"".concat(Yc,"-top"),ie(n)&&t&&ie(t.y)&&n<t.y))}function TN(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,o=e.position,i=e.reverseDirection,c=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(o&&ie(o[n]))return o[n];var d=r[n]-c-s,f=r[n]+s;if(t[n])return i[n]?d:f;if(i[n]){var h=d,p=l[n];return h<p?Math.max(f,l[n]):Math.max(d,l[n])}var v=f+c,m=l[n]+u;return v>m?Math.max(d,l[n]):Math.max(f,l[n])}function UX(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function WX(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,o=e.reverseDirection,i=e.tooltipBox,c=e.useTranslate3d,l=e.viewBox,u,d,f;return i.height>0&&i.width>0&&r?(d=TN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=TN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),u=UX({translateX:d,translateY:f,useTranslate3d:c})):u=BX,{cssProperties:u,cssClasses:VX({translateX:d,translateY:f,coordinate:r})}}function Ti(e){"@babel/helpers - typeof";return Ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ti(e)}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){Zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HX(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lk(n.key),n)}}function GX(e,t,r){return t&&HX(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KX(e,t,r){return t=Ff(t),YX(e,ck()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function YX(e,t){if(t&&(Ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZX(e)}function ZX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ck(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ck=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function XX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yv(e,t)}function Yv(e,t){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yv(e,t)}function Zv(e,t,r){return t=lk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lk(e){var t=JX(e,"string");return Ti(t)=="symbol"?t:t+""}function JX(e,t){if(Ti(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ti(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DN=1,QX=function(e){function t(){var r;qX(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=KX(this,t,[].concat(s)),Zv(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Zv(r,"handleKeyDown",function(i){if(i.key==="Escape"){var c,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&c!==void 0?c:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return XX(t,e),GX(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>DN||Math.abs(n.height-this.state.lastBoundingBox.height)>DN)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,p=s.offset,v=s.position,m=s.reverseDirection,g=s.useTranslate3d,y=s.viewBox,b=s.wrapperStyle,w=WX({allowEscapeViewBox:i,coordinate:d,offsetTopLeft:p,position:v,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:y}),j=w.cssClasses,N=w.cssProperties,S=MN(MN({transition:h&&o?"transform ".concat(c,"ms ").concat(l):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return k.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(P){n.wrapperNode=P}},u)}}])}(x.PureComponent),eJ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Is={isSsr:eJ()};function $i(e){"@babel/helpers - typeof";return $i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$i(e)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){Ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rJ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dk(n.key),n)}}function nJ(e,t,r){return t&&rJ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aJ(e,t,r){return t=zf(t),sJ(e,uk()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function sJ(e,t){if(t&&($i(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oJ(e)}function oJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uk=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function iJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xv(e,t)}function Xv(e,t){return Xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xv(e,t)}function Ib(e,t,r){return t=dk(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dk(e){var t=cJ(e,"string");return $i(t)=="symbol"?t:t+""}function cJ(e,t){if($i(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($i(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lJ(e){return e.dataKey}function uJ(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(LX,t)}var xr=function(e){function t(){return tJ(this,t),aJ(this,t,arguments)}return iJ(t,e),nJ(t,[{key:"render",value:function(){var n=this,s=this.props,o=s.active,i=s.allowEscapeViewBox,c=s.animationDuration,l=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,p=s.offset,v=s.payload,m=s.payloadUniqBy,g=s.position,y=s.reverseDirection,b=s.useTranslate3d,w=s.viewBox,j=s.wrapperStyle,N=v??[];f&&N.length&&(N=ek(v.filter(function(_){return _.value!=null&&(_.hide!==!0||n.props.includeHidden)}),m,lJ));var S=N.length>0;return k.createElement(QX,{allowEscapeViewBox:i,animationDuration:c,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:j},uJ(u,IN(IN({},this.props),{},{payload:N})))}}])}(x.PureComponent);Ib(xr,"displayName","Tooltip");Ib(xr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Is.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dJ=Pa,fJ=function(){return dJ.Date.now()},hJ=fJ,mJ=/\s/;function pJ(e){for(var t=e.length;t--&&mJ.test(e.charAt(t)););return t}var gJ=pJ,vJ=gJ,xJ=/^\s+/;function yJ(e){return e&&e.slice(0,vJ(e)+1).replace(xJ,"")}var bJ=yJ,wJ=bJ,LN=Rs,jJ=Nc,FN=NaN,NJ=/^[-+]0x[0-9a-f]+$/i,_J=/^0b[01]+$/i,SJ=/^0o[0-7]+$/i,CJ=parseInt;function PJ(e){if(typeof e=="number")return e;if(jJ(e))return FN;if(LN(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=LN(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=wJ(e);var r=_J.test(e);return r||SJ.test(e)?CJ(e.slice(2),r?2:8):NJ.test(e)?FN:+e}var fk=PJ,AJ=Rs,xg=hJ,zN=fk,kJ="Expected a function",EJ=Math.max,OJ=Math.min;function TJ(e,t,r){var n,s,o,i,c,l,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(kJ);t=zN(t)||0,AJ(r)&&(d=!!r.leading,f="maxWait"in r,o=f?EJ(zN(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(S){var _=n,P=s;return n=s=void 0,u=S,i=e.apply(P,_),i}function v(S){return u=S,c=setTimeout(y,t),d?p(S):i}function m(S){var _=S-l,P=S-u,E=t-_;return f?OJ(E,o-P):E}function g(S){var _=S-l,P=S-u;return l===void 0||_>=t||_<0||f&&P>=o}function y(){var S=xg();if(g(S))return b(S);c=setTimeout(y,m(S))}function b(S){return c=void 0,h&&n?p(S):(n=s=void 0,i)}function w(){c!==void 0&&clearTimeout(c),u=0,n=l=s=c=void 0}function j(){return c===void 0?i:b(xg())}function N(){var S=xg(),_=g(S);if(n=arguments,s=this,l=S,_){if(c===void 0)return v(l);if(f)return clearTimeout(c),c=setTimeout(y,t),p(l)}return c===void 0&&(c=setTimeout(y,t)),i}return N.cancel=w,N.flush=j,N}var $J=TJ,MJ=$J,DJ=Rs,RJ="Expected a function";function IJ(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(RJ);return DJ(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),MJ(e,t,{leading:n,maxWait:t,trailing:s})}var LJ=IJ;const hk=yt(LJ);function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){FJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FJ(e,t,r){return t=zJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zJ(e){var t=BJ(e,"string");return Vl(t)=="symbol"?t:t+""}function BJ(e,t){if(Vl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e,t){return HJ(e)||qJ(e,t)||WJ(e,t)||UJ()}function UJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WJ(e,t){if(e){if(typeof e=="string")return VN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VN(e,t)}}function VN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qJ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function HJ(e){if(Array.isArray(e))return e}var oo=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,o=e.width,i=o===void 0?"100%":o,c=e.height,l=c===void 0?"100%":c,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,m=v===void 0?0:v,g=e.id,y=e.className,b=e.onResize,w=e.style,j=w===void 0?{}:w,N=x.useRef(null),S=x.useRef();S.current=b,x.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var _=x.useState({containerWidth:s.width,containerHeight:s.height}),P=VJ(_,2),E=P[0],$=P[1],A=x.useCallback(function(O,T){$(function(I){var R=Math.round(O),D=Math.round(T);return I.containerWidth===R&&I.containerHeight===D?I:{containerWidth:R,containerHeight:D}})},[]);x.useEffect(function(){var O=function(V){var re,K=V[0].contentRect,te=K.width,ce=K.height;A(te,ce),(re=S.current)===null||re===void 0||re.call(S,te,ce)};m>0&&(O=hk(O,m,{trailing:!0,leading:!1}));var T=new ResizeObserver(O),I=N.current.getBoundingClientRect(),R=I.width,D=I.height;return A(R,D),T.observe(N.current),function(){T.disconnect()}},[A,m]);var C=x.useMemo(function(){var O=E.containerWidth,T=E.containerHeight;if(O<0||T<0)return null;qn(so(i)||so(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,l),qn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=so(i)?O:i,R=so(l)?T:l;r&&r>0&&(I?R=I/r:R&&(I=R*r),h&&R>h&&(R=h)),qn(I>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,R,i,l,d,f,r);var D=!Array.isArray(p)&&Ga(p.type).endsWith("Chart");return k.Children.map(p,function(M){return c2.isElement(M)?x.cloneElement(M,Ed({width:I,height:R},D?{style:Ed({height:"100%",width:"100%",maxHeight:R,maxWidth:I},M.props.style)}:{})):M})},[r,p,l,h,f,d,E,i]);return k.createElement("div",{id:g?"".concat(g):void 0,className:We("recharts-responsive-container",y),style:Ed(Ed({},j),{},{width:i,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:N},C)}),Mi=function(t){return null};Mi.displayName="Cell";function Ul(e){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ul(e)}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){GJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GJ(e,t,r){return t=KJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=YJ(e,"string");return Ul(t)=="symbol"?t:t+""}function YJ(e,t){if(Ul(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ul(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ti={widthCache:{},cacheCount:0},ZJ=2e3,XJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WN="recharts_measurement_span";function JJ(e){var t=Jv({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Is.isSsr)return{width:0,height:0};var n=JJ(r),s=JSON.stringify({text:t,copyStyle:n});if(ti.widthCache[s])return ti.widthCache[s];try{var o=document.getElementById(WN);o||(o=document.createElement("span"),o.setAttribute("id",WN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var i=Jv(Jv({},XJ),n);Object.assign(o.style,i),o.textContent="".concat(t);var c=o.getBoundingClientRect(),l={width:c.width,height:c.height};return ti.widthCache[s]=l,++ti.cacheCount>ZJ&&(ti.cacheCount=0,ti.widthCache={}),l}catch{return{width:0,height:0}}},QJ=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Bf(e,t){return nQ(e)||rQ(e,t)||tQ(e,t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function nQ(e){if(Array.isArray(e))return e}function aQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oQ(n.key),n)}}function sQ(e,t,r){return t&&HN(e.prototype,t),r&&HN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oQ(e){var t=iQ(e,"string");return Wl(t)=="symbol"?t:t+""}function iQ(e,t){if(Wl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,KN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},uQ=Object.keys(mk),ui="NaN";function dQ(e,t){return e*mk[t]}var Od=function(){function e(t,r){aQ(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!cQ.test(r)&&(this.num=NaN,this.unit=""),uQ.includes(r)&&(this.num=dQ(t,r),this.unit="px")}return sQ(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=lQ.exec(r))!==null&&n!==void 0?n:[],o=Bf(s,3),i=o[1],c=o[2];return new e(parseFloat(i),c??"")}}])}();function pk(e){if(e.includes(ui))return ui;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=GN.exec(t))!==null&&r!==void 0?r:[],s=Bf(n,4),o=s[1],i=s[2],c=s[3],l=Od.parse(o??""),u=Od.parse(c??""),d=i==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ui;t=t.replace(GN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=KN.exec(t))!==null&&f!==void 0?f:[],p=Bf(h,4),v=p[1],m=p[2],g=p[3],y=Od.parse(v??""),b=Od.parse(g??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return ui;t=t.replace(KN,w.toString())}return t}var YN=/\(([^()]*)\)/;function fQ(e){for(var t=e;t.includes("(");){var r=YN.exec(t),n=Bf(r,2),s=n[1];t=t.replace(YN,pk(s))}return t}function hQ(e){var t=e.replace(/\s+/g,"");return t=fQ(t),t=pk(t),t}function mQ(e){try{return hQ(e)}catch{return ui}}function yg(e){var t=mQ(e.slice(5,-1));return t===ui?"":t}var pQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],gQ=["dx","dy","angle","className","breakAll"];function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(this,arguments)}function ZN(e,t){if(e==null)return{};var r=vQ(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XN(e,t){return wQ(e)||bQ(e,t)||yQ(e,t)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(e,t){if(e){if(typeof e=="string")return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function wQ(e){if(Array.isArray(e))return e}var gk=/[ \f\n\r\t\v\u2028\u2029]+/,vk=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var o=[];ze(r)||(n?o=r.toString().split(""):o=r.toString().split(gk));var i=o.map(function(l){return{word:l,width:xl(l,s).width}}),c=n?0:xl("",s).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}},jQ=function(t,r,n,s,o){var i=t.maxLines,c=t.children,l=t.style,u=t.breakAll,d=ie(i),f=c,h=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce(function(R,D){var M=D.word,V=D.width,re=R[R.length-1];if(re&&(s==null||o||re.width+V+n<Number(s)))re.words.push(M),re.width+=V+n;else{var K={words:[M],width:V};R.push(K)}return R},[])},p=h(r),v=function(I){return I.reduce(function(R,D){return R.width>D.width?R:D})};if(!d)return p;for(var m="",g=function(I){var R=f.slice(0,I),D=vk({breakAll:u,style:l,children:R+m}).wordsWithComputedWidth,M=h(D),V=M.length>i||v(M).width>Number(s);return[V,M]},y=0,b=f.length-1,w=0,j;y<=b&&w<=f.length-1;){var N=Math.floor((y+b)/2),S=N-1,_=g(S),P=XN(_,2),E=P[0],$=P[1],A=g(N),C=XN(A,1),O=C[0];if(!E&&!O&&(y=N+1),E&&O&&(b=N-1),!E&&O){j=$;break}w++}return j||p},QN=function(t){var r=ze(t)?[]:t.toString().split(gk);return[{words:r}]},NQ=function(t){var r=t.width,n=t.scaleToFit,s=t.children,o=t.style,i=t.breakAll,c=t.maxLines;if((r||n)&&!Is.isSsr){var l,u,d=vk({breakAll:i,children:s,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return QN(s);return jQ({breakAll:i,children:s,maxLines:c,style:o},l,u,r,n)}return QN(s)},e_="#808080",No=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,i=t.lineHeight,c=i===void 0?"1em":i,l=t.capHeight,u=l===void 0?"0.71em":l,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,m=v===void 0?"end":v,g=t.fill,y=g===void 0?e_:g,b=ZN(t,pQ),w=x.useMemo(function(){return NQ({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),j=b.dx,N=b.dy,S=b.angle,_=b.className,P=b.breakAll,E=ZN(b,gQ);if(!ir(n)||!ir(o))return null;var $=n+(ie(j)?j:0),A=o+(ie(N)?N:0),C;switch(m){case"start":C=yg("calc(".concat(u,")"));break;case"middle":C=yg("calc(".concat((w.length-1)/2," * -").concat(c," + (").concat(u," / 2))"));break;default:C=yg("calc(".concat(w.length-1," * -").concat(c,")"));break}var O=[];if(f){var T=w[0].width,I=b.width;O.push("scale(".concat((ie(I)?I/T:1)/T,")"))}return S&&O.push("rotate(".concat(S,", ").concat($,", ").concat(A,")")),O.length&&(E.transform=O.join(" ")),k.createElement("text",Qv({},Ne(E,!0),{x:$,y:A,className:We("recharts-text",_),textAnchor:p,fill:y.includes("url")?e_:y}),w.map(function(R,D){var M=R.words.join(P?"":" ");return k.createElement("tspan",{x:$,dy:D===0?C:c,key:"".concat(M,"-").concat(D)},M)}))};function _s(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _Q(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lb(e){let t,r,n;e.length!==2?(t=_s,r=(c,l)=>_s(e(c),l),n=(c,l)=>e(c)-l):(t=e===_s||e===_Q?e:SQ,r=e,n=e);function s(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(c,l,u=0,d=c.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(c[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function i(c,l,u=0,d=c.length){const f=s(c,l,u,d-1);return f>u&&n(c[f-1],l)>-n(c[f],l)?f-1:f}return{left:s,center:i,right:o}}function SQ(){return 0}function xk(e){return e===null?NaN:+e}function*CQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const PQ=Lb(_s),Hu=PQ.right;Lb(xk).center;class t_ extends Map{constructor(t,r=EQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(r_(this,t))}has(t){return super.has(r_(this,t))}set(t,r){return super.set(AQ(this,t),r)}delete(t){return super.delete(kQ(this,t))}}function r_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function AQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function kQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function EQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function OQ(e=_s){if(e===_s)return yk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TQ=Math.sqrt(50),$Q=Math.sqrt(10),MQ=Math.sqrt(2);function Vf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),i=o>=TQ?10:o>=$Q?5:o>=MQ?2:1;let c,l,u;return s<0?(u=Math.pow(10,-s)/i,c=Math.round(e*u),l=Math.round(t*u),c/u<e&&++c,l/u>t&&--l,u=-u):(u=Math.pow(10,s)*i,c=Math.round(e/u),l=Math.round(t/u),c*u<e&&++c,l*u>t&&--l),l<c&&.5<=r&&r<2?Vf(e,t,r*2):[c,l,u]}function ex(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,i]=n?Vf(t,e,r):Vf(e,t,r);if(!(o>=s))return[];const c=o-s+1,l=new Array(c);if(n)if(i<0)for(let u=0;u<c;++u)l[u]=(o-u)/-i;else for(let u=0;u<c;++u)l[u]=(o-u)*i;else if(i<0)for(let u=0;u<c;++u)l[u]=(s+u)/-i;else for(let u=0;u<c;++u)l[u]=(s+u)*i;return l}function tx(e,t,r){return t=+t,e=+e,r=+r,Vf(e,t,r)[2]}function rx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?tx(t,e,r):tx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function n_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function a_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bk(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?yk:OQ(s);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/l+h)),v=Math.min(n,Math.floor(t+(l-u)*f/l+h));bk(e,t,p,v,s)}const o=e[t];let i=r,c=n;for(Zc(e,r,t),s(e[n],o)>0&&Zc(e,r,n);i<c;){for(Zc(e,i,c),++i,--c;s(e[i],o)<0;)++i;for(;s(e[c],o)>0;)--c}s(e[r],o)===0?Zc(e,r,c):(++c,Zc(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Zc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function DQ(e,t,r){if(e=Float64Array.from(CQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return a_(e);if(t>=1)return n_(e);var n,s=(n-1)*t,o=Math.floor(s),i=n_(bk(e,o).subarray(0,o+1)),c=a_(e.subarray(o+1));return i+(c-i)*(s-o)}}function RQ(e,t,r=xk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),i=+r(e[o],o,e),c=+r(e[o+1],o+1,e);return i+(c-i)*(s-o)}}function IQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function On(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nx=Symbol("implicit");function Fb(){var e=new t_,t=[],r=[],n=nx;function s(o){let i=e.get(o);if(i===void 0){if(n!==nx)return n;e.set(o,i=t.push(o)-1)}return r[i%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new t_;for(const i of o)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Fb(t,r).unknown(n)},On.apply(s,arguments),s}function ql(){var e=Fb().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,i,c=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=s<n,v=p?s:n,m=p?n:s;o=(m-v)/Math.max(1,h-l+u*2),c&&(o=Math.floor(o)),v+=(m-v-o*(h-l))*d,i=o*(1-l),c&&(v=Math.round(v),i=Math.round(i));var g=IQ(h).map(function(y){return v+o*y});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,c=!0,f()},e.bandwidth=function(){return i},e.step=function(){return o},e.round=function(h){return arguments.length?(c=!!h,f()):c},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return ql(t(),[n,s]).round(c).paddingInner(l).paddingOuter(u).align(d)},On.apply(f(),arguments)}function wk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wk(t())},e}function yl(){return wk(ql.apply(null,arguments).paddingInner(1))}function zb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gu(){}var Hl=.7,Uf=1/Hl,yi="\\s*([+-]?\\d+)\\s*",Gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LQ=/^#([0-9a-f]{3,8})$/,FQ=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),zQ=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),BQ=new RegExp(`^rgba\\(${yi},${yi},${yi},${Gl}\\)$`),VQ=new RegExp(`^rgba\\(${ga},${ga},${ga},${Gl}\\)$`),UQ=new RegExp(`^hsl\\(${Gl},${ga},${ga}\\)$`),WQ=new RegExp(`^hsla\\(${Gl},${ga},${ga},${Gl}\\)$`),s_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zb(Gu,Kl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o_,formatHex:o_,formatHex8:qQ,formatHsl:HQ,formatRgb:i_,toString:i_});function o_(){return this.rgb().formatHex()}function qQ(){return this.rgb().formatHex8()}function HQ(){return Nk(this).formatHsl()}function i_(){return this.rgb().formatRgb()}function Kl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=LQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?c_(t):r===3?new Hr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Td(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Td(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=FQ.exec(e))?new Hr(t[1],t[2],t[3],1):(t=zQ.exec(e))?new Hr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=BQ.exec(e))?Td(t[1],t[2],t[3],t[4]):(t=VQ.exec(e))?Td(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UQ.exec(e))?d_(t[1],t[2]/100,t[3]/100,1):(t=WQ.exec(e))?d_(t[1],t[2]/100,t[3]/100,t[4]):s_.hasOwnProperty(e)?c_(s_[e]):e==="transparent"?new Hr(NaN,NaN,NaN,0):null}function c_(e){return new Hr(e>>16&255,e>>8&255,e&255,1)}function Td(e,t,r,n){return n<=0&&(e=t=r=NaN),new Hr(e,t,r,n)}function GQ(e){return e instanceof Gu||(e=Kl(e)),e?(e=e.rgb(),new Hr(e.r,e.g,e.b,e.opacity)):new Hr}function ax(e,t,r,n){return arguments.length===1?GQ(e):new Hr(e,t,r,n??1)}function Hr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zb(Hr,ax,jk(Gu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Hr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hl:Math.pow(Hl,e),new Hr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hr(ho(this.r),ho(this.g),ho(this.b),Wf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:l_,formatHex:l_,formatHex8:KQ,formatRgb:u_,toString:u_}));function l_(){return`#${io(this.r)}${io(this.g)}${io(this.b)}`}function KQ(){return`#${io(this.r)}${io(this.g)}${io(this.b)}${io((isNaN(this.opacity)?1:this.opacity)*255)}`}function u_(){const e=Wf(this.opacity);return`${e===1?"rgb(":"rgba("}${ho(this.r)}, ${ho(this.g)}, ${ho(this.b)}${e===1?")":`, ${e})`}`}function Wf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ho(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function io(e){return e=ho(e),(e<16?"0":"")+e.toString(16)}function d_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Vn(e,t,r,n)}function Nk(e){if(e instanceof Vn)return new Vn(e.h,e.s,e.l,e.opacity);if(e instanceof Gu||(e=Kl(e)),!e)return new Vn;if(e instanceof Vn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,c=o-s,l=(o+s)/2;return c?(t===o?i=(r-n)/c+(r<n)*6:r===o?i=(n-t)/c+2:i=(t-r)/c+4,c/=l<.5?o+s:2-o-s,i*=60):c=l>0&&l<1?0:i,new Vn(i,c,l,e.opacity)}function YQ(e,t,r,n){return arguments.length===1?Nk(e):new Vn(e,t,r,n??1)}function Vn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zb(Vn,YQ,jk(Gu,{brighter(e){return e=e==null?Uf:Math.pow(Uf,e),new Vn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hl:Math.pow(Hl,e),new Vn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Hr(bg(e>=240?e-240:e+120,s,n),bg(e,s,n),bg(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Vn(f_(this.h),$d(this.s),$d(this.l),Wf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wf(this.opacity);return`${e===1?"hsl(":"hsla("}${f_(this.h)}, ${$d(this.s)*100}%, ${$d(this.l)*100}%${e===1?")":`, ${e})`}`}}));function f_(e){return e=(e||0)%360,e<0?e+360:e}function $d(e){return Math.max(0,Math.min(1,e||0))}function bg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Bb=e=>()=>e;function ZQ(e,t){return function(r){return e+r*t}}function XQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function JQ(e){return(e=+e)==1?_k:function(t,r){return r-t?XQ(t,r,e):Bb(isNaN(t)?r:t)}}function _k(e,t){var r=t-e;return r?ZQ(e,r):Bb(isNaN(e)?t:e)}const h_=function e(t){var r=JQ(t);function n(s,o){var i=r((s=ax(s)).r,(o=ax(o)).r),c=r(s.g,o.g),l=r(s.b,o.b),u=_k(s.opacity,o.opacity);return function(d){return s.r=i(d),s.g=c(d),s.b=l(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function QQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function eee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),i;for(i=0;i<n;++i)s[i]=Tc(e[i],t[i]);for(;i<r;++i)o[i]=t[i];return function(c){for(i=0;i<n;++i)o[i]=s[i](c);return o}}function ree(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function nee(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Tc(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var sx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wg=new RegExp(sx.source,"g");function aee(e){return function(){return e}}function see(e){return function(t){return e(t)+""}}function oee(e,t){var r=sx.lastIndex=wg.lastIndex=0,n,s,o,i=-1,c=[],l=[];for(e=e+"",t=t+"";(n=sx.exec(e))&&(s=wg.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),c[i]?c[i]+=o:c[++i]=o),(n=n[0])===(s=s[0])?c[i]?c[i]+=s:c[++i]=s:(c[++i]=null,l.push({i,x:qf(n,s)})),r=wg.lastIndex;return r<t.length&&(o=t.slice(r),c[i]?c[i]+=o:c[++i]=o),c.length<2?l[0]?see(l[0].x):aee(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)c[(f=l[d]).i]=f.x(u);return c.join("")})}function Tc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Bb(t):(r==="number"?qf:r==="string"?(n=Kl(t))?(t=n,h_):oee:t instanceof Kl?h_:t instanceof Date?ree:eee(t)?QQ:Array.isArray(t)?tee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nee:qf)(e,t)}function Vb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function iee(e,t){t===void 0&&(t=e,e=Tc);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(i){var c=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return o[c](i-c)}}function cee(e){return function(){return e}}function Hf(e){return+e}var m_=[0,1];function Dr(e){return e}function ox(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:cee(isNaN(t)?NaN:.5)}function lee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uee(e,t,r){var n=e[0],s=e[1],o=t[0],i=t[1];return s<n?(n=ox(s,n),o=r(i,o)):(n=ox(n,s),o=r(o,i)),function(c){return o(n(c))}}function dee(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=ox(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(c){var l=Hu(e,c,1,n)-1;return o[l](s[l](c))}}function Ku(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hm(){var e=m_,t=m_,r=Tc,n,s,o,i=Dr,c,l,u;function d(){var h=Math.min(e.length,t.length);return i!==Dr&&(i=lee(e[0],e[h-1])),c=h>2?dee:uee,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=c(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(s((u||(u=c(t,e.map(n),qf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Vb,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Dr,d()):i!==Dr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return n=h,s=p,d()}}function Ub(){return Hm()(Dr,Dr)}function fee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Di(e){return e=Gf(Math.abs(e)),e?e[1]:NaN}function hee(e,t){return function(r,n){for(var s=r.length,o=[],i=0,c=e[0],l=0;s>0&&c>0&&(l+c+1>n&&(c=Math.max(1,n-l)),o.push(r.substring(s-=c,s+c)),!((l+=c+1)>n));)c=e[i=(i+1)%e.length];return o.reverse().join(t)}}function mee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var pee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yl(e){if(!(t=pee.exec(e)))throw new Error("invalid format: "+e);var t;return new Wb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yl.prototype=Wb.prototype;function Wb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function gee(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var Sk;function vee(e,t){var r=Gf(e,t);if(!r)return e+"";var n=r[0],s=r[1],o=s-(Sk=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=n.length;return o===i?n:o>i?n+new Array(o-i+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Gf(e,Math.max(0,t+o-1))[0]}function p_(e,t){var r=Gf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const g_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:fee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p_(e*100,t),r:p_,s:vee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v_(e){return e}var x_=Array.prototype.map,y_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xee(e){var t=e.grouping===void 0||e.thousands===void 0?v_:hee(x_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?v_:mee(x_.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Yl(f);var h=f.fill,p=f.align,v=f.sign,m=f.symbol,g=f.zero,y=f.width,b=f.comma,w=f.precision,j=f.trim,N=f.type;N==="n"?(b=!0,N="g"):g_[N]||(w===void 0&&(w=12),j=!0,N="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",_=m==="$"?n:/[%p]/.test(N)?i:"",P=g_[N],E=/[defgprs%]/.test(N);w=w===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(A){var C=S,O=_,T,I,R;if(N==="c")O=P(A)+O,A="";else{A=+A;var D=A<0||1/A<0;if(A=isNaN(A)?l:P(Math.abs(A),w),j&&(A=gee(A)),D&&+A==0&&v!=="+"&&(D=!1),C=(D?v==="("?v:c:v==="-"||v==="("?"":v)+C,O=(N==="s"?y_[8+Sk/3]:"")+O+(D&&v==="("?")":""),E){for(T=-1,I=A.length;++T<I;)if(R=A.charCodeAt(T),48>R||R>57){O=(R===46?s+A.slice(T+1):A.slice(T))+O,A=A.slice(0,T);break}}}b&&!g&&(A=t(A,1/0));var M=C.length+A.length+O.length,V=M<y?new Array(y-M+1).join(h):"";switch(b&&g&&(A=t(V+A,V.length?y-O.length:1/0),V=""),p){case"<":A=C+A+O+V;break;case"=":A=C+V+A+O;break;case"^":A=V.slice(0,M=V.length>>1)+C+A+O+V.slice(M);break;default:A=V+C+A+O;break}return o(A)}return $.toString=function(){return f+""},$}function d(f,h){var p=u((f=Yl(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Di(h)/3)))*3,m=Math.pow(10,-v),g=y_[8+v/3];return function(y){return p(m*y)+g}}return{format:u,formatPrefix:d}}var Md,qb,Ck;yee({thousands:",",grouping:[3],currency:["$",""]});function yee(e){return Md=xee(e),qb=Md.format,Ck=Md.formatPrefix,Md}function bee(e){return Math.max(0,-Di(Math.abs(e)))}function wee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Di(t)/3)))*3-Di(Math.abs(e)))}function jee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Di(t)-Di(e))+1}function Pk(e,t,r,n){var s=rx(e,t,r),o;switch(n=Yl(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=wee(s,i))&&(n.precision=o),Ck(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=jee(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=bee(s))&&(n.precision=o-(n.type==="%")*2);break}}return qb(n)}function Ls(e){var t=e.domain;return e.ticks=function(r){var n=t();return ex(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return Pk(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,i=n[s],c=n[o],l,u,d=10;for(c<i&&(u=i,i=c,c=u,u=s,s=o,o=u);d-- >0;){if(u=tx(i,c,r),u===l)return n[s]=i,n[o]=c,t(n);if(u>0)i=Math.floor(i/u)*u,c=Math.ceil(c/u)*u;else if(u<0)i=Math.ceil(i*u)/u,c=Math.floor(c*u)/u;else break;l=u}return e},e}function Kf(){var e=Ub();return e.copy=function(){return Ku(e,Kf())},On.apply(e,arguments),Ls(e)}function Ak(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Ak(e).unknown(t)},e=arguments.length?Array.from(e,Hf):[0,1],Ls(r)}function kk(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],i;return o<s&&(i=r,r=n,n=i,i=s,s=o,o=i),e[r]=t.floor(s),e[n]=t.ceil(o),e}function b_(e){return Math.log(e)}function w_(e){return Math.exp(e)}function Nee(e){return-Math.log(-e)}function _ee(e){return-Math.exp(-e)}function See(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Cee(e){return e===10?See:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function j_(e){return(t,r)=>-e(-t,r)}function Hb(e){const t=e(b_,w_),r=t.domain;let n=10,s,o;function i(){return s=Pee(n),o=Cee(n),r()[0]<0?(s=j_(s),o=j_(o),e(Nee,_ee)):e(b_,w_),t}return t.base=function(c){return arguments.length?(n=+c,i()):n},t.domain=function(c){return arguments.length?(r(c),i()):r()},t.ticks=c=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),p=s(d),v,m;const g=c==null?10:+c;let y=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(m=h<0?v/o(-h):v*o(h),!(m<u)){if(m>d)break;y.push(m)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(m=h>0?v/o(-h):v*o(h),!(m<u)){if(m>d)break;y.push(m)}y.length*2<g&&(y=ex(u,d,g))}else y=ex(h,p,Math.min(p-h,g)).map(o);return f?y.reverse():y},t.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Yl(l)).precision==null&&(l.trim=!0),l=qb(l)),c===1/0)return l;const u=Math.max(1,n*c/t.ticks().length);return d=>{let f=d/o(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(kk(r(),{floor:c=>o(Math.floor(s(c))),ceil:c=>o(Math.ceil(s(c)))})),t}function Ek(){const e=Hb(Hm()).domain([1,10]);return e.copy=()=>Ku(e,Ek()).base(e.base()),On.apply(e,arguments),e}function N_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function __(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Gb(e){var t=1,r=e(N_(t),__(t));return r.constant=function(n){return arguments.length?e(N_(t=+n),__(t)):t},Ls(r)}function Ok(){var e=Gb(Hm());return e.copy=function(){return Ku(e,Ok()).constant(e.constant())},On.apply(e,arguments)}function S_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Aee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kee(e){return e<0?-e*e:e*e}function Kb(e){var t=e(Dr,Dr),r=1;function n(){return r===1?e(Dr,Dr):r===.5?e(Aee,kee):e(S_(r),S_(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Ls(t)}function Yb(){var e=Kb(Hm());return e.copy=function(){return Ku(e,Yb()).exponent(e.exponent())},On.apply(e,arguments),e}function Eee(){return Yb.apply(null,arguments).exponent(.5)}function C_(e){return Math.sign(e)*e*e}function Oee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Tk(){var e=Ub(),t=[0,1],r=!1,n;function s(o){var i=Oee(e(o));return isNaN(i)?n:r?Math.round(i):i}return s.invert=function(o){return e.invert(C_(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Hf)).map(C_)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Tk(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},On.apply(s,arguments),Ls(s)}function $k(){var e=[],t=[],r=[],n;function s(){var i=0,c=Math.max(1,t.length);for(r=new Array(c-1);++i<c;)r[i-1]=RQ(e,i/c);return o}function o(i){return i==null||isNaN(i=+i)?n:t[Hu(r,i)]}return o.invertExtent=function(i){var c=t.indexOf(i);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},o.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let c of i)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(_s),s()},o.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},o.unknown=function(i){return arguments.length?(n=i,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return $k().domain(e).range(t).unknown(n)},On.apply(o,arguments)}function Mk(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function i(l){return l!=null&&l<=l?s[Hu(n,l,0,r)]:o}function c(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,c()):[e,t]},i.range=function(l){return arguments.length?(r=(s=Array.from(l)).length-1,c()):s.slice()},i.invertExtent=function(l){var u=s.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(l){return arguments.length&&(o=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return Mk().domain([e,t]).range(s).unknown(o)},On.apply(Ls(i),arguments)}function Dk(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[Hu(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var i=t.indexOf(o);return[e[i-1],e[i]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return Dk().domain(e).range(t).unknown(r)},On.apply(s,arguments)}const jg=new Date,Ng=new Date;function cr(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const i=s(o),c=s.ceil(o);return o-i<c-o?i:c},s.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),s.range=(o,i,c)=>{const l=[];if(o=s.ceil(o),c=c==null?1:Math.floor(c),!(o<i)||!(c>0))return l;let u;do l.push(u=new Date(+o)),t(o,c),e(o);while(u<o&&o<i);return l},s.filter=o=>cr(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,c)=>{if(i>=i)if(c<0)for(;++c<=0;)for(;t(i,-1),!o(i););else for(;--c>=0;)for(;t(i,1),!o(i););}),r&&(s.count=(o,i)=>(jg.setTime(+o),Ng.setTime(+i),e(jg),e(Ng),Math.floor(r(jg,Ng))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?i=>n(i)%o===0:i=>s.count(0,i)%o===0):s)),s}const Yf=cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yf);Yf.range;const Va=1e3,vn=Va*60,Ua=vn*60,ts=Ua*24,Zb=ts*7,P_=ts*30,_g=ts*365,co=cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Va)},(e,t)=>(t-e)/Va,e=>e.getUTCSeconds());co.range;const Xb=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getMinutes());Xb.range;const Jb=cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*vn)},(e,t)=>(t-e)/vn,e=>e.getUTCMinutes());Jb.range;const Qb=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Va-e.getMinutes()*vn)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getHours());Qb.range;const e0=cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCHours());e0.range;const Yu=cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*vn)/ts,e=>e.getDate()-1);Yu.range;const Gm=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ts,e=>e.getUTCDate()-1);Gm.range;const Rk=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ts,e=>Math.floor(e/ts));Rk.range;function zo(e){return cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*vn)/Zb)}const Km=zo(0),Zf=zo(1),Tee=zo(2),$ee=zo(3),Ri=zo(4),Mee=zo(5),Dee=zo(6);Km.range;Zf.range;Tee.range;$ee.range;Ri.range;Mee.range;Dee.range;function Bo(e){return cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Zb)}const Ym=Bo(0),Xf=Bo(1),Ree=Bo(2),Iee=Bo(3),Ii=Bo(4),Lee=Bo(5),Fee=Bo(6);Ym.range;Xf.range;Ree.range;Iee.range;Ii.range;Lee.range;Fee.range;const t0=cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());t0.range;const r0=cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());r0.range;const rs=cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});rs.range;const ns=cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ns.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ns.range;function Ik(e,t,r,n,s,o){const i=[[co,1,Va],[co,5,5*Va],[co,15,15*Va],[co,30,30*Va],[o,1,vn],[o,5,5*vn],[o,15,15*vn],[o,30,30*vn],[s,1,Ua],[s,3,3*Ua],[s,6,6*Ua],[s,12,12*Ua],[n,1,ts],[n,2,2*ts],[r,1,Zb],[t,1,P_],[t,3,3*P_],[e,1,_g]];function c(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:l(u,d,f),v=p?p.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,p=Lb(([,,g])=>g).right(i,h);if(p===i.length)return e.every(rx(u/_g,d/_g,f));if(p===0)return Yf.every(Math.max(rx(u,d,f),1));const[v,m]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return v.every(m)}return[c,l]}const[zee,Bee]=Ik(ns,r0,Ym,Rk,e0,Jb),[Vee,Uee]=Ik(rs,t0,Km,Yu,Qb,Xb);function Sg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Wee(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,i=e.shortDays,c=e.months,l=e.shortMonths,u=Jc(s),d=Qc(s),f=Jc(o),h=Qc(o),p=Jc(i),v=Qc(i),m=Jc(c),g=Qc(c),y=Jc(l),b=Qc(l),w={a:D,A:M,b:V,B:re,c:null,d:$_,e:$_,f:hte,g:Nte,G:Ste,H:ute,I:dte,j:fte,L:Lk,m:mte,M:pte,p:K,q:te,Q:R_,s:I_,S:gte,u:vte,U:xte,V:yte,w:bte,W:wte,x:null,X:null,y:jte,Y:_te,Z:Cte,"%":D_},j={a:ce,A:_e,b:Ze,B:Ee,c:null,d:M_,e:M_,f:Ete,g:zte,G:Vte,H:Pte,I:Ate,j:kte,L:zk,m:Ote,M:Tte,p:le,q:Re,Q:R_,s:I_,S:$te,u:Mte,U:Dte,V:Rte,w:Ite,W:Lte,x:null,X:null,y:Fte,Y:Bte,Z:Ute,"%":D_},N={a:$,A,b:C,B:O,c:T,d:O_,e:O_,f:ote,g:E_,G:k_,H:T_,I:T_,j:rte,L:ste,m:tte,M:nte,p:E,q:ete,Q:cte,s:lte,S:ate,u:Yee,U:Zee,V:Xee,w:Kee,W:Jee,x:I,X:R,y:E_,Y:k_,Z:Qee,"%":ite};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(oe,me){return function(be){var Y=[],Xe=-1,he=0,Ve=oe.length,Ae,Je,fr;for(be instanceof Date||(be=new Date(+be));++Xe<Ve;)oe.charCodeAt(Xe)===37&&(Y.push(oe.slice(he,Xe)),(Je=A_[Ae=oe.charAt(++Xe)])!=null?Ae=oe.charAt(++Xe):Je=Ae==="e"?" ":"0",(fr=me[Ae])&&(Ae=fr(be,Je)),Y.push(Ae),he=Xe+1);return Y.push(oe.slice(he,Xe)),Y.join("")}}function _(oe,me){return function(be){var Y=Xc(1900,void 0,1),Xe=P(Y,oe,be+="",0),he,Ve;if(Xe!=be.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(me&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(he=Cg(Xc(Y.y,0,1)),Ve=he.getUTCDay(),he=Ve>4||Ve===0?Xf.ceil(he):Xf(he),he=Gm.offset(he,(Y.V-1)*7),Y.y=he.getUTCFullYear(),Y.m=he.getUTCMonth(),Y.d=he.getUTCDate()+(Y.w+6)%7):(he=Sg(Xc(Y.y,0,1)),Ve=he.getDay(),he=Ve>4||Ve===0?Zf.ceil(he):Zf(he),he=Yu.offset(he,(Y.V-1)*7),Y.y=he.getFullYear(),Y.m=he.getMonth(),Y.d=he.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ve="Z"in Y?Cg(Xc(Y.y,0,1)).getUTCDay():Sg(Xc(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ve+5)%7:Y.w+Y.U*7-(Ve+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Cg(Y)):Sg(Y)}}function P(oe,me,be,Y){for(var Xe=0,he=me.length,Ve=be.length,Ae,Je;Xe<he;){if(Y>=Ve)return-1;if(Ae=me.charCodeAt(Xe++),Ae===37){if(Ae=me.charAt(Xe++),Je=N[Ae in A_?me.charAt(Xe++):Ae],!Je||(Y=Je(oe,be,Y))<0)return-1}else if(Ae!=be.charCodeAt(Y++))return-1}return Y}function E(oe,me,be){var Y=u.exec(me.slice(be));return Y?(oe.p=d.get(Y[0].toLowerCase()),be+Y[0].length):-1}function $(oe,me,be){var Y=p.exec(me.slice(be));return Y?(oe.w=v.get(Y[0].toLowerCase()),be+Y[0].length):-1}function A(oe,me,be){var Y=f.exec(me.slice(be));return Y?(oe.w=h.get(Y[0].toLowerCase()),be+Y[0].length):-1}function C(oe,me,be){var Y=y.exec(me.slice(be));return Y?(oe.m=b.get(Y[0].toLowerCase()),be+Y[0].length):-1}function O(oe,me,be){var Y=m.exec(me.slice(be));return Y?(oe.m=g.get(Y[0].toLowerCase()),be+Y[0].length):-1}function T(oe,me,be){return P(oe,t,me,be)}function I(oe,me,be){return P(oe,r,me,be)}function R(oe,me,be){return P(oe,n,me,be)}function D(oe){return i[oe.getDay()]}function M(oe){return o[oe.getDay()]}function V(oe){return l[oe.getMonth()]}function re(oe){return c[oe.getMonth()]}function K(oe){return s[+(oe.getHours()>=12)]}function te(oe){return 1+~~(oe.getMonth()/3)}function ce(oe){return i[oe.getUTCDay()]}function _e(oe){return o[oe.getUTCDay()]}function Ze(oe){return l[oe.getUTCMonth()]}function Ee(oe){return c[oe.getUTCMonth()]}function le(oe){return s[+(oe.getUTCHours()>=12)]}function Re(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=S(oe+="",w);return me.toString=function(){return oe},me},parse:function(oe){var me=_(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=S(oe+="",j);return me.toString=function(){return oe},me},utcParse:function(oe){var me=_(oe+="",!0);return me.toString=function(){return oe},me}}}var A_={"-":"",_:" ",0:"0"},dr=/^\s*\d+/,qee=/^%/,Hee=/[\\^$*+?|[\]().{}]/g;function ft(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function Gee(e){return e.replace(Hee,"\\$&")}function Jc(e){return new RegExp("^(?:"+e.map(Gee).join("|")+")","i")}function Qc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Kee(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Yee(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Zee(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Xee(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Jee(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function k_(e,t,r){var n=dr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function E_(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ete(e,t,r){var n=dr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function tte(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function O_(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function rte(e,t,r){var n=dr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function T_(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function nte(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ate(e,t,r){var n=dr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ste(e,t,r){var n=dr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ote(e,t,r){var n=dr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ite(e,t,r){var n=qee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function cte(e,t,r){var n=dr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function lte(e,t,r){var n=dr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $_(e,t){return ft(e.getDate(),t,2)}function ute(e,t){return ft(e.getHours(),t,2)}function dte(e,t){return ft(e.getHours()%12||12,t,2)}function fte(e,t){return ft(1+Yu.count(rs(e),e),t,3)}function Lk(e,t){return ft(e.getMilliseconds(),t,3)}function hte(e,t){return Lk(e,t)+"000"}function mte(e,t){return ft(e.getMonth()+1,t,2)}function pte(e,t){return ft(e.getMinutes(),t,2)}function gte(e,t){return ft(e.getSeconds(),t,2)}function vte(e){var t=e.getDay();return t===0?7:t}function xte(e,t){return ft(Km.count(rs(e)-1,e),t,2)}function Fk(e){var t=e.getDay();return t>=4||t===0?Ri(e):Ri.ceil(e)}function yte(e,t){return e=Fk(e),ft(Ri.count(rs(e),e)+(rs(e).getDay()===4),t,2)}function bte(e){return e.getDay()}function wte(e,t){return ft(Zf.count(rs(e)-1,e),t,2)}function jte(e,t){return ft(e.getFullYear()%100,t,2)}function Nte(e,t){return e=Fk(e),ft(e.getFullYear()%100,t,2)}function _te(e,t){return ft(e.getFullYear()%1e4,t,4)}function Ste(e,t){var r=e.getDay();return e=r>=4||r===0?Ri(e):Ri.ceil(e),ft(e.getFullYear()%1e4,t,4)}function Cte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ft(t/60|0,"0",2)+ft(t%60,"0",2)}function M_(e,t){return ft(e.getUTCDate(),t,2)}function Pte(e,t){return ft(e.getUTCHours(),t,2)}function Ate(e,t){return ft(e.getUTCHours()%12||12,t,2)}function kte(e,t){return ft(1+Gm.count(ns(e),e),t,3)}function zk(e,t){return ft(e.getUTCMilliseconds(),t,3)}function Ete(e,t){return zk(e,t)+"000"}function Ote(e,t){return ft(e.getUTCMonth()+1,t,2)}function Tte(e,t){return ft(e.getUTCMinutes(),t,2)}function $te(e,t){return ft(e.getUTCSeconds(),t,2)}function Mte(e){var t=e.getUTCDay();return t===0?7:t}function Dte(e,t){return ft(Ym.count(ns(e)-1,e),t,2)}function Bk(e){var t=e.getUTCDay();return t>=4||t===0?Ii(e):Ii.ceil(e)}function Rte(e,t){return e=Bk(e),ft(Ii.count(ns(e),e)+(ns(e).getUTCDay()===4),t,2)}function Ite(e){return e.getUTCDay()}function Lte(e,t){return ft(Xf.count(ns(e)-1,e),t,2)}function Fte(e,t){return ft(e.getUTCFullYear()%100,t,2)}function zte(e,t){return e=Bk(e),ft(e.getUTCFullYear()%100,t,2)}function Bte(e,t){return ft(e.getUTCFullYear()%1e4,t,4)}function Vte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ii(e):Ii.ceil(e),ft(e.getUTCFullYear()%1e4,t,4)}function Ute(){return"+0000"}function D_(){return"%"}function R_(e){return+e}function I_(e){return Math.floor(+e/1e3)}var ri,Vk,Uk;Wte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Wte(e){return ri=Wee(e),Vk=ri.format,ri.parse,Uk=ri.utcFormat,ri.utcParse,ri}function qte(e){return new Date(e)}function Hte(e){return e instanceof Date?+e:+new Date(+e)}function n0(e,t,r,n,s,o,i,c,l,u){var d=Ub(),f=d.invert,h=d.domain,p=u(".%L"),v=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),j=u("%Y");function N(S){return(l(S)<S?p:c(S)<S?v:i(S)<S?m:o(S)<S?g:n(S)<S?s(S)<S?y:b:r(S)<S?w:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Hte)):h().map(qte)},d.ticks=function(S){var _=h();return e(_[0],_[_.length-1],S??10)},d.tickFormat=function(S,_){return _==null?N:u(_)},d.nice=function(S){var _=h();return(!S||typeof S.range!="function")&&(S=t(_[0],_[_.length-1],S??10)),S?h(kk(_,S)):d},d.copy=function(){return Ku(d,n0(e,t,r,n,s,o,i,c,l,u))},d}function Gte(){return On.apply(n0(Vee,Uee,rs,t0,Km,Yu,Qb,Xb,co,Vk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kte(){return On.apply(n0(zee,Bee,ns,r0,Ym,Gm,e0,Jb,co,Uk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zm(){var e=0,t=1,r,n,s,o,i=Dr,c=!1,l;function u(f){return f==null||isNaN(f=+f)?l:i(s===0?.5:(f=(o(f)-r)*s,c?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(c=!!f,u):c},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(h){var p,v;return arguments.length?([p,v]=h,i=f(p,v),u):[i(0),i(1)]}}return u.range=d(Tc),u.rangeRound=d(Vb),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Fs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Wk(){var e=Ls(Zm()(Dr));return e.copy=function(){return Fs(e,Wk())},os.apply(e,arguments)}function qk(){var e=Hb(Zm()).domain([1,10]);return e.copy=function(){return Fs(e,qk()).base(e.base())},os.apply(e,arguments)}function Hk(){var e=Gb(Zm());return e.copy=function(){return Fs(e,Hk()).constant(e.constant())},os.apply(e,arguments)}function a0(){var e=Kb(Zm());return e.copy=function(){return Fs(e,a0()).exponent(e.exponent())},os.apply(e,arguments)}function Yte(){return a0.apply(null,arguments).exponent(.5)}function Gk(){var e=[],t=Dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(_s),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>DQ(e,o/n))},r.copy=function(){return Gk(t).domain(e)},os.apply(r,arguments)}function Xm(){var e=0,t=.5,r=1,n=1,s,o,i,c,l,u=Dr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-o)*(n*m<n*o?c:l),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,s=d(e=+e),o=d(t=+t),i=d(r=+r),c=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),n=o<s?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function v(m){return function(g){var y,b,w;return arguments.length?([y,b,w]=g,u=iee(m,[y,b,w]),p):[u(0),u(.5),u(1)]}}return p.range=v(Tc),p.rangeRound=v(Vb),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,s=m(e),o=m(t),i=m(r),c=s===o?0:.5/(o-s),l=o===i?0:.5/(i-o),n=o<s?-1:1,p}}function Kk(){var e=Ls(Xm()(Dr));return e.copy=function(){return Fs(e,Kk())},os.apply(e,arguments)}function Yk(){var e=Hb(Xm()).domain([.1,1,10]);return e.copy=function(){return Fs(e,Yk()).base(e.base())},os.apply(e,arguments)}function Zk(){var e=Gb(Xm());return e.copy=function(){return Fs(e,Zk()).constant(e.constant())},os.apply(e,arguments)}function s0(){var e=Kb(Xm());return e.copy=function(){return Fs(e,s0()).exponent(e.exponent())},os.apply(e,arguments)}function Zte(){return s0.apply(null,arguments).exponent(.5)}const L_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ql,scaleDiverging:Kk,scaleDivergingLog:Yk,scaleDivergingPow:s0,scaleDivergingSqrt:Zte,scaleDivergingSymlog:Zk,scaleIdentity:Ak,scaleImplicit:nx,scaleLinear:Kf,scaleLog:Ek,scaleOrdinal:Fb,scalePoint:yl,scalePow:Yb,scaleQuantile:$k,scaleQuantize:Mk,scaleRadial:Tk,scaleSequential:Wk,scaleSequentialLog:qk,scaleSequentialPow:a0,scaleSequentialQuantile:Gk,scaleSequentialSqrt:Yte,scaleSequentialSymlog:Hk,scaleSqrt:Eee,scaleSymlog:Ok,scaleThreshold:Dk,scaleTime:Gte,scaleUtc:Kte,tickFormat:Pk},Symbol.toStringTag,{value:"Module"}));var Xte=Nc;function Jte(e,t,r){for(var n=-1,s=e.length;++n<s;){var o=e[n],i=t(o);if(i!=null&&(c===void 0?i===i&&!Xte(i):r(i,c)))var c=i,l=o}return l}var Jm=Jte;function Qte(e,t){return e>t}var Xk=Qte,ere=Jm,tre=Xk,rre=Oc;function nre(e){return e&&e.length?ere(e,rre,tre):void 0}var are=nre;const bs=yt(are);function sre(e,t){return e<t}var Jk=sre,ore=Jm,ire=Jk,cre=Oc;function lre(e){return e&&e.length?ore(e,cre,ire):void 0}var ure=lre;const Qm=yt(ure);var dre=yb,fre=Aa,hre=ok,mre=Gr;function pre(e,t){var r=mre(e)?dre:hre;return r(e,fre(t))}var gre=pre,vre=ak,xre=gre;function yre(e,t){return vre(xre(e,t),1)}var bre=yre;const wre=yt(bre);var jre=Mb;function Nre(e,t){return jre(e,t)}var _re=Nre;const _o=yt(_re);var $c=1e9,Sre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},i0,Dt=!0,jn="[DecimalError] ",mo=jn+"Invalid argument: ",o0=jn+"Exponent out of range: ",Mc=Math.floor,eo=Math.pow,Cre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nn,lr=1e7,Tt=7,Qk=9007199254740991,Jf=Mc(Qk/Tt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Ka(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return wt(Ka(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Qt(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(nn))throw Error(jn+"NaN");if(r.s<1)throw Error(jn+(r.s?"NaN":"-Infinity"));return r.eq(nn)?new n(0):(Dt=!1,t=Ka(Zl(r,o),Zl(e,o),o),Dt=!0,wt(t,s))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rE(t,e):eE(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(jn+"NaN");return r.s?(Dt=!1,t=Ka(r,e,0,1).times(e),Dt=!0,r.minus(t)):wt(new n(r),s)};we.naturalExponential=we.exp=function(){return tE(this)};we.naturalLogarithm=we.ln=function(){return Zl(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eE(t,e):rE(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mo+e);if(t=Qt(s)+1,n=s.d.length-1,r=n*Tt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,s,o,i,c=this,l=c.constructor;if(c.s<1){if(!c.s)return new l(0);throw Error(jn+"NaN")}for(e=Qt(c),Dt=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=ua(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Mc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(s.toString()),r=l.precision,s=i=r+3;;)if(o=n,n=o.plus(Ka(c,o,i+2)).times(.5),ua(o.d).slice(0,i)===(t=ua(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&t=="4999"){if(wt(o,r+1,0),o.times(o).eq(c)){n=o;break}}else if(t!="9999")break;i+=4}return Dt=!0,wt(n,r)};we.times=we.mul=function(e){var t,r,n,s,o,i,c,l,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,i=l,l=u,u=i),o=[],i=l+u,n=i;n--;)o.push(0);for(n=u;--n>=0;){for(t=0,s=l+n;s>n;)c=o[s]+p[n]*h[s-n-1]+t,o[s--]=c%lr|0,t=c/lr|0;o[s]=(o[s]+t)%lr|0}for(;!o[--i];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Dt?wt(e,f.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Na(e,0,$c),t===void 0?t=n.rounding:Na(t,0,8),wt(r,e+Qt(r)+1,t))};we.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=So(n,!0):(Na(e,0,$c),t===void 0?t=s.rounding:Na(t,0,8),n=wt(new s(n),e+1,t),r=So(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?So(s):(Na(e,0,$c),t===void 0?t=o.rounding:Na(t,0,8),n=wt(new o(s),e+Qt(s)+1,t),r=So(n.abs(),!1,e+Qt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return wt(new t(e),Qt(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,s,o,i,c=this,l=c.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(nn);if(c=new l(c),!c.s){if(e.s<1)throw Error(jn+"Infinity");return c}if(c.eq(nn))return c;if(n=l.precision,e.eq(nn))return wt(c,n);if(t=e.e,r=e.d.length-1,i=t>=r,o=c.s,i){if((r=d<0?-d:d)<=Qk){for(s=new l(nn),t=Math.ceil(n/Tt+4),Dt=!1;r%2&&(s=s.times(c),z_(s.d,t)),r=Mc(r/2),r!==0;)c=c.times(c),z_(c.d,t);return Dt=!0,e.s<0?new l(nn).div(s):wt(s,n)}}else if(o<0)throw Error(jn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Dt=!1,s=e.times(Zl(c,n+u)),Dt=!0,s=tE(s),s.s=o,s};we.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=Qt(s),n=So(s,r<=o.toExpNeg||r>=o.toExpPos)):(Na(e,1,$c),t===void 0?t=o.rounding:Na(t,0,8),s=wt(new o(s),e,t),r=Qt(s),n=So(s,e<=r||r<=o.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Na(e,1,$c),t===void 0?t=n.rounding:Na(t,0,8)),wt(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qt(e),r=e.constructor;return So(e,t<=r.toExpNeg||t>=r.toExpPos)};function eE(e,t){var r,n,s,o,i,c,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Dt?wt(t,f):t;if(l=e.d,u=t.d,i=e.e,s=t.e,l=l.slice(),o=i-s,o){for(o<0?(n=l,o=-o,c=u.length):(n=u,s=i,c=l.length),i=Math.ceil(f/Tt),c=i>c?i+1:c+1,o>c&&(o=c,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(c=l.length,o=u.length,c-o<0&&(o=c,n=u,u=l,l=n),r=0;o;)r=(l[--o]=l[o]+u[o]+r)/lr|0,l[o]%=lr;for(r&&(l.unshift(r),++s),c=l.length;l[--c]==0;)l.pop();return t.d=l,t.e=s,Dt?wt(t,f):t}function Na(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mo+e)}function ua(e){var t,r,n,s=e.length-1,o="",i=e[0];if(s>0){for(o+=i,t=1;t<s;t++)n=e[t]+"",r=Tt-n.length,r&&(o+=gs(r)),o+=n;i=e[t],n=i+"",r=Tt-n.length,r&&(o+=gs(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return o+i}var Ka=function(){function e(n,s){var o,i=0,c=n.length;for(n=n.slice();c--;)o=n[c]*s+i,n[c]=o%lr|0,i=o/lr|0;return i&&n.unshift(i),n}function t(n,s,o,i){var c,l;if(o!=i)l=o>i?1:-1;else for(c=l=0;c<o;c++)if(n[c]!=s[c]){l=n[c]>s[c]?1:-1;break}return l}function r(n,s,o){for(var i=0;o--;)n[o]-=i,i=n[o]<s[o]?1:0,n[o]=i*lr+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,i){var c,l,u,d,f,h,p,v,m,g,y,b,w,j,N,S,_,P,E=n.constructor,$=n.s==s.s?1:-1,A=n.d,C=s.d;if(!n.s)return new E(n);if(!s.s)throw Error(jn+"Division by zero");for(l=n.e-s.e,_=C.length,N=A.length,p=new E($),v=p.d=[],u=0;C[u]==(A[u]||0);)++u;if(C[u]>(A[u]||0)&&--l,o==null?b=o=E.precision:i?b=o+(Qt(n)-Qt(s))+1:b=o,b<0)return new E(0);if(b=b/Tt+2|0,u=0,_==1)for(d=0,C=C[0],b++;(u<N||d)&&b--;u++)w=d*lr+(A[u]||0),v[u]=w/C|0,d=w%C|0;else{for(d=lr/(C[0]+1)|0,d>1&&(C=e(C,d),A=e(A,d),_=C.length,N=A.length),j=_,m=A.slice(0,_),g=m.length;g<_;)m[g++]=0;P=C.slice(),P.unshift(0),S=C[0],C[1]>=lr/2&&++S;do d=0,c=t(C,m,_,g),c<0?(y=m[0],_!=g&&(y=y*lr+(m[1]||0)),d=y/S|0,d>1?(d>=lr&&(d=lr-1),f=e(C,d),h=f.length,g=m.length,c=t(f,m,h,g),c==1&&(d--,r(f,_<h?P:C,h))):(d==0&&(c=d=1),f=C.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),c==-1&&(g=m.length,c=t(C,m,_,g),c<1&&(d++,r(m,_<g?P:C,g))),g=m.length):c===0&&(d++,m=[0]),v[u++]=d,c&&m[0]?m[g++]=A[j]||0:(m=[A[j]],g=1);while((j++<N||m[0]!==void 0)&&b--)}return v[0]||v.shift(),p.e=l,wt(p,i?o+Qt(p)+1:o)}}();function tE(e,t){var r,n,s,o,i,c,l=0,u=0,d=e.constructor,f=d.precision;if(Qt(e)>16)throw Error(o0+Qt(e));if(!e.s)return new d(nn);for(Dt=!1,c=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(eo(2,u))/Math.LN10*2+5|0,c+=n,r=s=o=new d(nn),d.precision=c;;){if(s=wt(s.times(e),c),r=r.times(++l),i=o.plus(Ka(s,r,c)),ua(i.d).slice(0,c)===ua(o.d).slice(0,c)){for(;u--;)o=wt(o.times(o),c);return d.precision=f,t==null?(Dt=!0,wt(o,f)):o}o=i}}function Qt(e){for(var t=e.e*Tt,r=e.d[0];r>=10;r/=10)t++;return t}function Pg(e,t,r){if(t>e.LN10.sd())throw Dt=!0,r&&(e.precision=r),Error(jn+"LN10 precision limit exceeded");return wt(new e(e.LN10),t)}function gs(e){for(var t="";e--;)t+="0";return t}function Zl(e,t){var r,n,s,o,i,c,l,u,d,f=1,h=10,p=e,v=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(jn+(p.s?"NaN":"-Infinity"));if(p.eq(nn))return new m(0);if(t==null?(Dt=!1,u=g):u=t,p.eq(10))return t==null&&(Dt=!0),Pg(m,u);if(u+=h,m.precision=u,r=ua(v),n=r.charAt(0),o=Qt(p),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=ua(p.d),n=r.charAt(0),f++;o=Qt(p),n>1?(p=new m("0."+r),o++):p=new m(n+"."+r.slice(1))}else return l=Pg(m,u+2,g).times(o+""),p=Zl(new m(n+"."+r.slice(1)),u-h).plus(l),m.precision=g,t==null?(Dt=!0,wt(p,g)):p;for(c=i=p=Ka(p.minus(nn),p.plus(nn),u),d=wt(p.times(p),u),s=3;;){if(i=wt(i.times(d),u),l=c.plus(Ka(i,new m(s),u)),ua(l.d).slice(0,u)===ua(c.d).slice(0,u))return c=c.times(2),o!==0&&(c=c.plus(Pg(m,u+2,g).times(o+""))),c=Ka(c,new m(f),u),m.precision=g,t==null?(Dt=!0,wt(c,g)):c;c=l,s+=2}}function F_(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Mc(r/Tt),e.d=[],n=(r+1)%Tt,r<0&&(n+=Tt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Tt;n<s;)e.d.push(+t.slice(n,n+=Tt));t=t.slice(n),n=Tt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Dt&&(e.e>Jf||e.e<-Jf))throw Error(o0+r)}else e.s=0,e.e=0,e.d=[0];return e}function wt(e,t,r){var n,s,o,i,c,l,u,d,f=e.d;for(i=1,o=f[0];o>=10;o/=10)i++;if(n=t-i,n<0)n+=Tt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Tt),o=f.length,d>=o)return e;for(u=o=f[d],i=1;o>=10;o/=10)i++;n%=Tt,s=n-Tt+i}if(r!==void 0&&(o=eo(10,i-s-1),c=u/o%10|0,l=t<0||f[d+1]!==void 0||u%o,l=r<4?(c||l)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||l||r==6&&(n>0?s>0?u/eo(10,i-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(o=Qt(e),f.length=1,t=t-o-1,f[0]=eo(10,(Tt-t%Tt)%Tt),e.e=Mc(-t/Tt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,o=1,d--):(f.length=d+1,o=eo(10,Tt-n),f[d]=s>0?(u/eo(10,i-s)%eo(10,s)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==lr&&(f[0]=1,++e.e);break}else{if(f[d]+=o,f[d]!=lr)break;f[d--]=0,o=1}for(n=f.length;f[--n]===0;)f.pop();if(Dt&&(e.e>Jf||e.e<-Jf))throw Error(o0+Qt(e));return e}function rE(e,t){var r,n,s,o,i,c,l,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Dt?wt(t,p):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),i=u-n,i){for(d=i<0,d?(r=l,i=-i,c=f.length):(r=f,n=u,c=l.length),s=Math.max(Math.ceil(p/Tt),c)+2,i>s&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for(s=l.length,c=f.length,d=s<c,d&&(c=s),s=0;s<c;s++)if(l[s]!=f[s]){d=l[s]<f[s];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),c=l.length,s=f.length-c;s>0;--s)l[c++]=0;for(s=f.length;s>i;){if(l[--s]<f[s]){for(o=s;o&&l[--o]===0;)l[o]=lr-1;--l[o],l[s]+=lr}l[s]-=f[s]}for(;l[--c]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Dt?wt(t,p):t):new h(0)}function So(e,t,r){var n,s=Qt(e),o=ua(e.d),i=o.length;return t?(r&&(n=r-i)>0?o=o.charAt(0)+"."+o.slice(1)+gs(n):i>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+gs(-s-1)+o,r&&(n=r-i)>0&&(o+=gs(n))):s>=i?(o+=gs(s+1-i),r&&(n=r-s-1)>0&&(o=o+"."+gs(n))):((n=s+1)<i&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(o+="."),o+=gs(n))),e.s<0?"-"+o:o}function z_(e,t){if(e.length>t)return e.length=t,!0}function nE(e){var t,r,n;function s(o){var i=this;if(!(i instanceof s))return new s(o);if(i.constructor=s,o instanceof s){i.s=o.s,i.e=o.e,i.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(mo+o);if(o>0)i.s=1;else if(o<0)o=-o,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(o===~~o&&o<1e7){i.e=0,i.d=[o];return}return F_(i,o.toString())}else if(typeof o!="string")throw Error(mo+o);if(o.charCodeAt(0)===45?(o=o.slice(1),i.s=-1):i.s=1,Cre.test(o))F_(i,o);else throw Error(mo+o)}if(s.prototype=we,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=nE,s.config=s.set=Pre,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Pre(e){if(!e||typeof e!="object")throw Error(jn+"Object expected");var t,r,n,s=["precision",1,$c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Mc(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(mo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mo+r+": "+n);return this}var i0=nE(Sre);nn=new i0(1);const xt=i0;function Are(e){return Tre(e)||Ore(e)||Ere(e)||kre()}function kre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ere(e,t){if(e){if(typeof e=="string")return ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(e,t)}}function Ore(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Tre(e){if(Array.isArray(e))return ix(e)}function ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var $re=function(t){return t},aE={},sE=function(t){return t===aE},B_=function(t){return function r(){return arguments.length===0||arguments.length===1&&sE(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Mre=function e(t,r){return t===1?r:B_(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];var i=s.filter(function(c){return c!==aE}).length;return i>=t?r.apply(void 0,s):e(t-i,B_(function(){for(var c=arguments.length,l=new Array(c),u=0;u<c;u++)l[u]=arguments[u];var d=s.map(function(f){return sE(f)?l.shift():f});return r.apply(void 0,Are(d).concat(l))}))})},ep=function(t){return Mre(t.length,t)},cx=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},Dre=ep(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Rre=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $re;var s=r.reverse(),o=s[0],i=s.slice(1);return function(){return i.reduce(function(c,l){return l(c)},o.apply(void 0,arguments))}},lx=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},oE=function(t){var r=null,n=null;return function(){for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r&&o.every(function(c,l){return c===r[l]})||(r=o,n=t.apply(void 0,o)),n}};function Ire(e){var t;return e===0?t=1:t=Math.floor(new xt(e).abs().log(10).toNumber())+1,t}function Lre(e,t,r){for(var n=new xt(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}var Fre=ep(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),zre=ep(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Bre=ep(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const tp={rangeStep:Lre,getDigitCount:Ire,interpolateNumber:Fre,uninterpolateNumber:zre,uninterpolateTruncation:Bre};function ux(e){return Wre(e)||Ure(e)||iE(e)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ure(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Wre(e){if(Array.isArray(e))return dx(e)}function Xl(e,t){return Gre(e)||Hre(e,t)||iE(e,t)||qre()}function qre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iE(e,t){if(e){if(typeof e=="string")return dx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dx(e,t)}}function dx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hre(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,o=void 0;try{for(var i=e[Symbol.iterator](),c;!(n=(c=i.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(l){s=!0,o=l}finally{try{!n&&i.return!=null&&i.return()}finally{if(s)throw o}}return r}}function Gre(e){if(Array.isArray(e))return e}function cE(e){var t=Xl(e,2),r=t[0],n=t[1],s=r,o=n;return r>n&&(s=n,o=r),[s,o]}function lE(e,t,r){if(e.lte(0))return new xt(0);var n=tp.getDigitCount(e.toNumber()),s=new xt(10).pow(n),o=e.div(s),i=n!==1?.05:.1,c=new xt(Math.ceil(o.div(i).toNumber())).add(r).mul(i),l=c.mul(s);return t?l:new xt(Math.ceil(l))}function Kre(e,t,r){var n=1,s=new xt(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new xt(10).pow(tp.getDigitCount(e)-1),s=new xt(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new xt(Math.floor(e)))}else e===0?s=new xt(Math.floor((t-1)/2)):r||(s=new xt(Math.floor(e)));var i=Math.floor((t-1)/2),c=Rre(Dre(function(l){return s.add(new xt(l-i).mul(n)).toNumber()}),cx);return c(0,t)}function uE(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new xt(0),tickMin:new xt(0),tickMax:new xt(0)};var o=lE(new xt(t).sub(e).div(r-1),n,s),i;e<=0&&t>=0?i=new xt(0):(i=new xt(e).add(t).div(2),i=i.sub(new xt(i).mod(o)));var c=Math.ceil(i.sub(e).div(o).toNumber()),l=Math.ceil(new xt(t).sub(i).div(o).toNumber()),u=c+l+1;return u>r?uE(e,t,r,n,s+1):(u<r&&(l=t>0?l+(r-u):l,c=t>0?c:c+(r-u)),{step:o,tickMin:i.sub(new xt(c).mul(o)),tickMax:i.add(new xt(l).mul(o))})}function Yre(e){var t=Xl(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(s,2),c=cE([r,n]),l=Xl(c,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ux(cx(0,s-1).map(function(){return 1/0}))):[].concat(ux(cx(0,s-1).map(function(){return-1/0})),[d]);return r>n?lx(f):f}if(u===d)return Kre(u,s,o);var h=uE(u,d,i,o),p=h.step,v=h.tickMin,m=h.tickMax,g=tp.rangeStep(v,m.add(new xt(.1).mul(p)),p);return r>n?lx(g):g}function Zre(e,t){var r=Xl(e,2),n=r[0],s=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=cE([n,s]),c=Xl(i,2),l=c[0],u=c[1];if(l===-1/0||u===1/0)return[n,s];if(l===u)return[l];var d=Math.max(t,2),f=lE(new xt(u).sub(l).div(d-1),o,0),h=[].concat(ux(tp.rangeStep(new xt(l),new xt(u).sub(new xt(.99).mul(f)),f)),[u]);return n>s?lx(h):h}var Xre=oE(Yre),Jre=oE(Zre),Qre="Invariant failed";function Co(e,t){throw new Error(Qre)}var ene=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function Qf(){return Qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qf.apply(this,arguments)}function tne(e,t){return sne(e)||ane(e,t)||nne(e,t)||rne()}function rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nne(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ane(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function sne(e){if(Array.isArray(e))return e}function one(e,t){if(e==null)return{};var r=ine(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ine(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hE(n.key),n)}}function une(e,t,r){return t&&lne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dne(e,t,r){return t=eh(t),fne(e,dE()?Reflect.construct(t,r||[],eh(e).constructor):t.apply(e,r))}function fne(e,t){if(t&&(Li(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hne(e)}function hne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dE=function(){return!!e})()}function eh(e){return eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eh(e)}function mne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fx(e,t)}function fx(e,t){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},fx(e,t)}function fE(e,t,r){return t=hE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hE(e){var t=pne(e,"string");return Li(t)=="symbol"?t:t+""}function pne(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Zu=function(e){function t(){return cne(this,t),dne(this,t,arguments)}return mne(t,e),une(t,[{key:"render",value:function(){var n=this.props,s=n.offset,o=n.layout,i=n.width,c=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=one(n,ene),p=Ne(h,!1);this.props.direction==="x"&&d.type!=="number"&&Co();var v=l.map(function(m){var g=u(m,c),y=g.x,b=g.y,w=g.value,j=g.errorVal;if(!j)return null;var N=[],S,_;if(Array.isArray(j)){var P=tne(j,2);S=P[0],_=P[1]}else S=_=j;if(o==="vertical"){var E=d.scale,$=b+s,A=$+i,C=$-i,O=E(w-S),T=E(w+_);N.push({x1:T,y1:A,x2:T,y2:C}),N.push({x1:O,y1:$,x2:T,y2:$}),N.push({x1:O,y1:A,x2:O,y2:C})}else if(o==="horizontal"){var I=f.scale,R=y+s,D=R-i,M=R+i,V=I(w-S),re=I(w+_);N.push({x1:D,y1:re,x2:M,y2:re}),N.push({x1:R,y1:V,x2:R,y2:re}),N.push({x1:D,y1:V,x2:M,y2:V})}return k.createElement(st,Qf({className:"recharts-errorBar",key:"bar-".concat(N.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),N.map(function(K){return k.createElement("line",Qf({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return k.createElement(st,{className:"recharts-errorBars"},v)}}])}(k.Component);fE(Zu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fE(Zu,"displayName","ErrorBar");function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return t=vne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=xne(e,"string");return Jl(t)=="symbol"?t:t+""}function xne(e,t){if(Jl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mE=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,o=t.legendContent,i=en(r,pa);if(!i)return null;var c=pa.defaultProps,l=c!==void 0?Ks(Ks({},c),i.props):{},u;return i.props&&i.props.payload?u=i.props&&i.props.payload:o==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,v=p.sectors||p.data||[];return d.concat(v.map(function(m){return{type:i.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ks(Ks({},h),f.props):{},v=p.dataKey,m=p.name,g=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||g||"square",color:c0(f),value:m||v,payload:p}}),Ks(Ks(Ks({},l),pa.getWithHeight(i,s)),{},{payload:u,item:i})};function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function W_(e){return jne(e)||wne(e)||bne(e)||yne()}function yne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(e,t){if(e){if(typeof e=="string")return hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hx(e,t)}}function wne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jne(e){if(Array.isArray(e))return hx(e)}function hx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bi(e,t,r){return t=Nne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=_ne(e,"string");return Ql(t)=="symbol"?t:t+""}function _ne(e,t){if(Ql(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ql(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qt(e,t,r){return ze(e)||ze(t)?r:ir(t)?on(e,t,r):$e(t)?t(e):r}function bl(e,t,r,n){var s=wre(e,function(c){return qt(c,t)});if(r==="number"){var o=s.filter(function(c){return ie(c)||parseFloat(c)});return o.length?[Qm(o),bs(o)]:[1/0,-1/0]}var i=n?s.filter(function(c){return!ze(c)}):s;return i.map(function(c){return ir(c)||c instanceof Date?c:""})}var Sne=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,c=(r=n?.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<c;u++){var d=u>0?s[u-1].coordinate:s[c-1].coordinate,f=s[u].coordinate,h=u>=c-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if($r(f-d)!==$r(h-f)){var v=[];if($r(h-f)===$r(l[1]-l[0])){p=h;var m=f+l[1]-l[0];v[0]=Math.min(m,(m+d)/2),v[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+l[1]-l[0];v[0]=Math.min(f,(g+f)/2),v[1]=Math.max(f,(g+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>y[0]&&t<=y[1]||t>=v[0]&&t<=v[1]){i=s[u].index;break}}else{var b=Math.min(d,h),w=Math.max(d,h);if(t>(b+f)/2&&t<=(w+f)/2){i=s[u].index;break}}}else for(var j=0;j<c;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<c-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===c-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){i=n[j].index;break}return i},c0=function(t){var r,n=t,s=n.type.displayName,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?zt(zt({},t.type.defaultProps),t.props):t.props,i=o.stroke,c=o.fill,l;switch(s){case"Line":l=i;break;case"Area":case"Radar":l=i&&i!=="none"?i:c;break;default:l=c;break}return l},Cne=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,o=s===void 0?{}:s;if(!o)return{};for(var i={},c=Object.keys(o),l=0,u=c.length;l<u;l++)for(var d=o[c[l]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var v=d[f[h]],m=v.items,g=v.cateAxisId,y=m.filter(function(_){return Ga(_.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?zt(zt({},b),y[0].props):y[0].props,j=w.barSize,N=w[g];i[N]||(i[N]=[]);var S=ze(j)?r:j;i[N].push({item:y[0],stackList:y.slice(1),barSize:ze(S)?void 0:Mr(S,n,0)})}}return i},Pne=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,o=t.sizeList,i=o===void 0?[]:o,c=t.maxBarSize,l=i.length;if(l<1)return null;var u=Mr(r,s,0,!0),d,f=[];if(i[0].barSize===+i[0].barSize){var h=!1,p=s/l,v=i.reduce(function(j,N){return j+N.barSize||0},0);v+=(l-1)*u,v>=s&&(v-=(l-1)*u,u=0),v>=s&&p>0&&(h=!0,p*=.9,v=l*p);var m=(s-v)/2>>0,g={offset:m-u,size:0};d=i.reduce(function(j,N){var S={item:N.item,position:{offset:g.offset+g.size+u,size:h?p:N.barSize}},_=[].concat(W_(j),[S]);return g=_[_.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){_.push({item:P,position:g})}),_},f)}else{var y=Mr(n,s,0,!0);s-2*y-(l-1)*u<=0&&(u=0);var b=(s-2*y-(l-1)*u)/l;b>1&&(b>>=0);var w=c===+c?Math.min(b,c):b;d=i.reduce(function(j,N,S){var _=[].concat(W_(j),[{item:N.item,position:{offset:y+(b+u)*S+(b-w)/2,size:w}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(P){_.push({item:P,position:_[_.length-1].position})}),_},f)}return d},Ane=function(t,r,n,s){var o=n.children,i=n.width,c=n.margin,l=i-(c.left||0)-(c.right||0),u=mE({children:o,legendWidth:l});if(u){var d=s||{},f=d.width,h=d.height,p=u.align,v=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&v==="middle")&&p!=="center"&&ie(t[p]))return zt(zt({},t),{},bi({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&v!=="middle"&&ie(t[v]))return zt(zt({},t),{},bi({},v,t[v]+(h||0)))}return t},kne=function(t,r,n){return ze(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pE=function(t,r,n,s,o){var i=r.props.children,c=cn(i,Zu).filter(function(u){return kne(s,o,u.props.direction)});if(c&&c.length){var l=c.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=qt(d,n);if(ze(f))return u;var h=Array.isArray(f)?[Qm(f),bs(f)]:[f,f],p=l.reduce(function(v,m){var g=qt(d,m,0),y=h[0]-Math.abs(Array.isArray(g)?g[0]:g),b=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(y,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Ene=function(t,r,n,s,o){var i=r.map(function(c){return pE(t,c,n,o,s)}).filter(function(c){return!ze(c)});return i&&i.length?i.reduce(function(c,l){return[Math.min(c[0],l[0]),Math.max(c[1],l[1])]},[1/0,-1/0]):null},gE=function(t,r,n,s,o){var i=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&pE(t,l,u,s)||bl(t,u,n,o)});if(n==="number")return i.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var c={};return i.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)c[u[d]]||(c[u[d]]=!0,l.push(u[d]));return l},[])},vE=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},xE=function(t,r,n,s){if(s)return t.map(function(l){return l.coordinate});var o,i,c=t.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(i=!0),l.coordinate});return o||c.push(r),i||c.push(n),c},Wa=function(t,r,n){if(!t)return null;var s=t.scale,o=t.duplicateDomain,i=t.type,c=t.range,l=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&i==="category"&&s.bandwidth?s.bandwidth()/l:0;if(u=t.axisType==="angleAxis"&&c?.length>=2?$r(c[0]-c[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Ac(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:o?o[f]:f,index:h,offset:u}})},Ag=new WeakMap,Dd=function(t,r){if(typeof r!="function")return t;Ag.has(t)||Ag.set(t,new WeakMap);var n=Ag.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},yE=function(t,r,n){var s=t.scale,o=t.type,i=t.layout,c=t.axisType;if(s==="auto")return i==="radial"&&c==="radiusAxis"?{scale:ql(),realScaleType:"band"}:i==="radial"&&c==="angleAxis"?{scale:Kf(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:yl(),realScaleType:"point"}:o==="category"?{scale:ql(),realScaleType:"band"}:{scale:Kf(),realScaleType:"linear"};if(Wu(s)){var l="scale".concat(Fm(s));return{scale:(L_[l]||yl)(),realScaleType:L_[l]?l:"point"}}return $e(s)?{scale:s}:{scale:yl(),realScaleType:"point"}},H_=1e-4,bE=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),o=Math.min(s[0],s[1])-H_,i=Math.max(s[0],s[1])+H_,c=t(r[0]),l=t(r[n-1]);(c<o||c>i||l<o||l>i)&&t.domain([r[0],r[n-1]])}},One=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Tne=function(t,r){if(!r||r.length!==2||!ie(r[0])||!ie(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),o=[t[0],t[1]];return(!ie(t[0])||t[0]<n)&&(o[0]=n),(!ie(t[1])||t[1]>s)&&(o[1]=s),o[0]>s&&(o[0]=s),o[1]<n&&(o[1]=n),o},$ne=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,i=0,c=0;c<r;++c){var l=Ac(t[c][n][1])?t[c][n][0]:t[c][n][1];l>=0?(t[c][n][0]=o,t[c][n][1]=o+l,o=t[c][n][1]):(t[c][n][0]=i,t[c][n][1]=i+l,i=t[c][n][1])}},Mne=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var o=0,i=0;i<r;++i){var c=Ac(t[i][n][1])?t[i][n][0]:t[i][n][1];c>=0?(t[i][n][0]=o,t[i][n][1]=o+c,o=t[i][n][1]):(t[i][n][0]=0,t[i][n][1]=0)}},Dne={sign:$ne,expand:eq,none:ki,silhouette:tq,wiggle:rq,positive:Mne},Rne=function(t,r,n){var s=r.map(function(c){return c.props.dataKey}),o=Dne[n],i=QW().keys(s).value(function(c,l){return+qt(c,l,0)}).order(Lv).offset(o);return i(t)},Ine=function(t,r,n,s,o,i){if(!t)return null;var c=i?r.reverse():r,l={},u=c.reduce(function(f,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?zt(zt({},h.type.defaultProps),h.props):h.props,m=v.stackId,g=v.hide;if(g)return f;var y=v[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(ir(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[Fo("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return zt(zt({},f),{},bi({},y,b))},l),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var y=p.stackGroups[g];return zt(zt({},m),{},bi({},g,{numericAxisId:n,cateAxisId:s,items:y.items,stackedData:Rne(t,y.items,o)}))},v)}return zt(zt({},f),{},bi({},h,p))},d)},wE=function(t,r){var n=r.realScaleType,s=r.type,o=r.tickCount,i=r.originalDomain,c=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&s==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Xre(u,o,c);return t.domain([Qm(d),bs(d)]),{niceTicks:d}}if(o&&s==="number"){var f=t.domain(),h=Jre(f,o,c);return{niceTicks:h}}return null};function th(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,o=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ze(s[t.dataKey])){var c=Pf(r,"value",s[t.dataKey]);if(c)return c.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=qt(s,ze(i)?t.dataKey:i);return ze(l)?null:t.scale(l)}var G_=function(t){var r=t.axis,n=t.ticks,s=t.offset,o=t.bandSize,i=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+s:null;var l=qt(i,r.dataKey,r.domain[c]);return ze(l)?null:r.scale(l)-o/2+s},Lne=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return s<=0&&o>=0?0:o<0?o:s}return n[0]},Fne=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?zt(zt({},t.type.defaultProps),t.props):t.props,o=s.stackId;if(ir(o)){var i=r[o];if(i){var c=i.items.indexOf(t);return c>=0?i.stackedData[c]:null}}return null},zne=function(t){return t.reduce(function(r,n){return[Qm(n.concat([r[0]]).filter(ie)),bs(n.concat([r[1]]).filter(ie))]},[1/0,-1/0])},jE=function(t,r,n){return Object.keys(t).reduce(function(s,o){var i=t[o],c=i.stackedData,l=c.reduce(function(u,d){var f=zne(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},K_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mx=function(t,r,n){if($e(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(ie(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(K_.test(t[0])){var o=+K_.exec(t[0])[1];s[0]=r[0]-o}else $e(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(ie(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Y_.test(t[1])){var i=+Y_.exec(t[1])[1];s[1]=r[1]+i}else $e(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},rh=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var o=Rb(r,function(f){return f.coordinate}),i=1/0,c=1,l=o.length;c<l;c++){var u=o[c],d=o[c-1];i=Math.min((u.coordinate||0)-(d.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},Z_=function(t,r,n){return!t||!t.length||_o(t,on(n,"type.defaultProps.domain"))?r:t},NE=function(t,r){var n=t.type.defaultProps?zt(zt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,o=n.name,i=n.unit,c=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return zt(zt({},Ne(t,!1)),{},{dataKey:s,unit:i,formatter:c,name:o||s,color:c0(t),value:qt(r,s),type:l,payload:r,chartType:u,hide:d})};function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){_E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _E(e,t,r){return t=Bne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=Vne(e,"string");return eu(t)=="symbol"?t:t+""}function Vne(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Une(e,t){return Gne(e)||Hne(e,t)||qne(e,t)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qne(e,t){if(e){if(typeof e=="string")return J_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J_(e,t)}}function J_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function Gne(e){if(Array.isArray(e))return e}var nh=Math.PI/180,Kne=function(t){return t*180/Math.PI},Ct=function(t,r,n,s){return{x:t+Math.cos(-nh*s)*n,y:r+Math.sin(-nh*s)*n}},SE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Yne=function(t,r,n,s,o){var i=t.width,c=t.height,l=t.startAngle,u=t.endAngle,d=Mr(t.cx,i,i/2),f=Mr(t.cy,c,c/2),h=SE(i,c,n),p=Mr(t.innerRadius,h,0),v=Mr(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(g,y){var b=r[y],w=b.domain,j=b.reversed,N;if(ze(b.range))s==="angleAxis"?N=[l,u]:s==="radiusAxis"&&(N=[p,v]),j&&(N=[N[1],N[0]]);else{N=b.range;var S=N,_=Une(S,2);l=_[0],u=_[1]}var P=yE(b,o),E=P.realScaleType,$=P.scale;$.domain(w).range(N),bE($);var A=wE($,La(La({},b),{},{realScaleType:E})),C=La(La(La({},b),A),{},{range:N,radius:v,realScaleType:E,scale:$,cx:d,cy:f,innerRadius:p,outerRadius:v,startAngle:l,endAngle:u});return La(La({},g),{},_E({},y,C))},{})},Zne=function(t,r){var n=t.x,s=t.y,o=r.x,i=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(s-i,2))},Xne=function(t,r){var n=t.x,s=t.y,o=r.cx,i=r.cy,c=Zne({x:n,y:s},{x:o,y:i});if(c<=0)return{radius:c};var l=(n-o)/c,u=Math.acos(l);return s>i&&(u=2*Math.PI-u),{radius:c,angle:Kne(u),angleInRadian:u}},Jne=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),o=Math.floor(n/360),i=Math.min(s,o);return{startAngle:r-i*360,endAngle:n-i*360}},Qne=function(t,r){var n=r.startAngle,s=r.endAngle,o=Math.floor(n/360),i=Math.floor(s/360),c=Math.min(o,i);return t+c*360},Q_=function(t,r){var n=t.x,s=t.y,o=Xne({x:n,y:s},r),i=o.radius,c=o.angle,l=r.innerRadius,u=r.outerRadius;if(i<l||i>u)return!1;if(i===0)return!0;var d=Jne(r),f=d.startAngle,h=d.endAngle,p=c,v;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}return v?La(La({},r),{},{radius:i,angle:Qne(p,r)}):null},CE=function(t){return!x.isValidElement(t)&&!$e(t)&&typeof t!="boolean"?t.className:""};function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}var eae=["offset"];function tae(e){return sae(e)||aae(e)||nae(e)||rae()}function rae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(e,t){if(e){if(typeof e=="string")return px(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return px(e,t)}}function aae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sae(e){if(Array.isArray(e))return px(e)}function px(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oae(e,t){if(e==null)return{};var r=iae(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function e1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e1(Object(r),!0).forEach(function(n){cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cae(e,t,r){return t=lae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lae(e){var t=uae(e,"string");return tu(t)=="symbol"?t:t+""}function uae(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}var dae=function(t){var r=t.value,n=t.formatter,s=ze(t.children)?r:t.children;return $e(n)?n(s):s},fae=function(t,r){var n=$r(r-t),s=Math.min(Math.abs(r-t),360);return n*s},hae=function(t,r,n){var s=t.position,o=t.viewBox,i=t.offset,c=t.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,v=l.endAngle,m=l.clockWise,g=(f+h)/2,y=fae(p,v),b=y>=0?1:-1,w,j;s==="insideStart"?(w=p+b*i,j=m):s==="insideEnd"?(w=v-b*i,j=!m):s==="end"&&(w=v+b*i,j=m),j=y<=0?j:!j;var N=Ct(u,d,g,w),S=Ct(u,d,g,w+(j?1:-1)*359),_="M".concat(N.x,",").concat(N.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),P=ze(t.id)?Fo("recharts-radial-line-"):t.id;return k.createElement("text",ru({},n,{dominantBaseline:"central",className:We("recharts-radial-bar-label",c)}),k.createElement("defs",null,k.createElement("path",{id:P,d:_})),k.createElement("textPath",{xlinkHref:"#".concat(P)},r))},mae=function(t){var r=t.viewBox,n=t.offset,s=t.position,o=r,i=o.cx,c=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(s==="outside"){var p=Ct(i,c,u+n,h),v=p.x,m=p.y;return{x:v,y:m,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:i,y:c,textAnchor:"middle",verticalAnchor:"end"};var g=(l+u)/2,y=Ct(i,c,g,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},pae=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,o=t.position,i=r,c=i.x,l=i.y,u=i.width,d=i.height,f=d>=0?1:-1,h=f*s,p=f>0?"end":"start",v=f>0?"start":"end",m=u>=0?1:-1,g=m*s,y=m>0?"end":"start",b=m>0?"start":"end";if(o==="top"){var w={x:c+u/2,y:l-f*s,textAnchor:"middle",verticalAnchor:p};return tr(tr({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(o==="bottom"){var j={x:c+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return tr(tr({},j),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(o==="left"){var N={x:c-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return tr(tr({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(o==="right"){var S={x:c+u+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"};return tr(tr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var _=n?{width:u,height:d}:{};return o==="insideLeft"?tr({x:c+g,y:l+d/2,textAnchor:b,verticalAnchor:"middle"},_):o==="insideRight"?tr({x:c+u-g,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},_):o==="insideTop"?tr({x:c+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},_):o==="insideBottom"?tr({x:c+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},_):o==="insideTopLeft"?tr({x:c+g,y:l+h,textAnchor:b,verticalAnchor:v},_):o==="insideTopRight"?tr({x:c+u-g,y:l+h,textAnchor:y,verticalAnchor:v},_):o==="insideBottomLeft"?tr({x:c+g,y:l+d-h,textAnchor:b,verticalAnchor:p},_):o==="insideBottomRight"?tr({x:c+u-g,y:l+d-h,textAnchor:y,verticalAnchor:p},_):_c(o)&&(ie(o.x)||so(o.x))&&(ie(o.y)||so(o.y))?tr({x:c+Mr(o.x,u),y:l+Mr(o.y,d),textAnchor:"end",verticalAnchor:"end"},_):tr({x:c+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},gae=function(t){return"cx"in t&&ie(t.cx)};function ur(e){var t=e.offset,r=t===void 0?5:t,n=oae(e,eae),s=tr({offset:r},n),o=s.viewBox,i=s.position,c=s.value,l=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!o||ze(c)&&ze(l)&&!x.isValidElement(u)&&!$e(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var p;if($e(u)){if(p=x.createElement(u,s),x.isValidElement(p))return p}else p=dae(s);var v=gae(o),m=Ne(s,!0);if(v&&(i==="insideStart"||i==="insideEnd"||i==="end"))return hae(s,p,m);var g=v?mae(s):pae(s);return k.createElement(No,ru({className:We("recharts-label",f)},m,g,{breakAll:h}),p)}ur.displayName="Label";var PE=function(t){var r=t.cx,n=t.cy,s=t.angle,o=t.startAngle,i=t.endAngle,c=t.r,l=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,v=t.left,m=t.width,g=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(ie(m)&&ie(g)){if(ie(f)&&ie(h))return{x:f,y:h,width:m,height:g};if(ie(p)&&ie(v))return{x:p,y:v,width:m,height:g}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(r)&&ie(n)?{cx:r,cy:n,startAngle:o||s||0,endAngle:i||s||0,innerRadius:u||0,outerRadius:d||l||c||0,clockWise:y}:t.viewBox?t.viewBox:{}},vae=function(t,r){return t?t===!0?k.createElement(ur,{key:"label-implicit",viewBox:r}):ir(t)?k.createElement(ur,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===ur?x.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(ur,{key:"label-implicit",content:t,viewBox:r}):$e(t)?k.createElement(ur,{key:"label-implicit",content:t,viewBox:r}):_c(t)?k.createElement(ur,ru({viewBox:r},t,{key:"label-implicit"})):null:null},xae=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,o=PE(t),i=cn(s,ur).map(function(l,u){return x.cloneElement(l,{viewBox:r||o,key:"label-".concat(u)})});if(!n)return i;var c=vae(t.label,r||o);return[c].concat(tae(i))};ur.parseViewBox=PE;ur.renderCallByParent=xae;function yae(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bae=yae;const wae=yt(bae);function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var jae=["valueAccessor"],Nae=["data","dataKey","clockWise","id","textBreakAll"];function _ae(e){return Aae(e)||Pae(e)||Cae(e)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cae(e,t){if(e){if(typeof e=="string")return gx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gx(e,t)}}function Pae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aae(e){if(Array.isArray(e))return gx(e)}function gx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ah(){return ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ah.apply(this,arguments)}function t1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t1(Object(r),!0).forEach(function(n){kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kae(e,t,r){return t=Eae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eae(e){var t=Oae(e,"string");return nu(t)=="symbol"?t:t+""}function Oae(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n1(e,t){if(e==null)return{};var r=Tae(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $ae=function(t){return Array.isArray(t.value)?wae(t.value):t.value};function va(e){var t=e.valueAccessor,r=t===void 0?$ae:t,n=n1(e,jae),s=n.data,o=n.dataKey,i=n.clockWise,c=n.id,l=n.textBreakAll,u=n1(n,Nae);return!s||!s.length?null:k.createElement(st,{className:"recharts-label-list"},s.map(function(d,f){var h=ze(o)?r(d,f):qt(d&&d.payload,o),p=ze(c)?{}:{id:"".concat(c,"-").concat(f)};return k.createElement(ur,ah({},Ne(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:ur.parseViewBox(ze(i)?d:r1(r1({},d),{},{clockWise:i})),key:"label-".concat(f),index:f}))}))}va.displayName="LabelList";function Mae(e,t){return e?e===!0?k.createElement(va,{key:"labelList-implicit",data:t}):k.isValidElement(e)||$e(e)?k.createElement(va,{key:"labelList-implicit",data:t,content:e}):_c(e)?k.createElement(va,ah({data:t},e,{key:"labelList-implicit"})):null:null}function Dae(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=cn(n,va).map(function(i,c){return x.cloneElement(i,{data:t,key:"labelList-".concat(c)})});if(!r)return s;var o=Mae(e.label,t);return[o].concat(_ae(s))}va.renderCallByParent=Dae;function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(this,arguments)}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function s1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){Rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t,r){return t=Iae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iae(e){var t=Lae(e,"string");return au(t)=="symbol"?t:t+""}function Lae(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fae=function(t,r){var n=$r(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Rd=function(t){var r=t.cx,n=t.cy,s=t.radius,o=t.angle,i=t.sign,c=t.isExternal,l=t.cornerRadius,u=t.cornerIsExternal,d=l*(c?1:-1)+s,f=Math.asin(l/d)/nh,h=u?o:o+i*f,p=Ct(r,n,d,h),v=Ct(r,n,s,h),m=u?o-i*f:o,g=Ct(r,n,d*Math.cos(f*nh),m);return{center:p,circleTangency:v,lineTangency:g,theta:f}},AE=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,i=t.startAngle,c=t.endAngle,l=Fae(i,c),u=i+l,d=Ct(r,n,o,i),f=Ct(r,n,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Ct(r,n,s,i),v=Ct(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},zae=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,o=t.outerRadius,i=t.cornerRadius,c=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=$r(d-u),h=Rd({cx:r,cy:n,radius:o,angle:u,sign:f,cornerRadius:i,cornerIsExternal:l}),p=h.circleTangency,v=h.lineTangency,m=h.theta,g=Rd({cx:r,cy:n,radius:o,angle:d,sign:-f,cornerRadius:i,cornerIsExternal:l}),y=g.circleTangency,b=g.lineTangency,w=g.theta,j=l?Math.abs(u-d):Math.abs(u-d)-m-w;if(j<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):AE({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:u,endAngle:d});var N="M ".concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(s>0){var S=Rd({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),_=S.circleTangency,P=S.lineTangency,E=S.theta,$=Rd({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=$.circleTangency,C=$.lineTangency,O=$.theta,T=l?Math.abs(u-d):Math.abs(u-d)-E-O;if(T<0&&i===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},Bae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kE=function(t){var r=s1(s1({},Bae),t),n=r.cx,s=r.cy,o=r.innerRadius,i=r.outerRadius,c=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(i<o||d===f)return null;var p=We("recharts-sector",h),v=i-o,m=Mr(c,v,0,!0),g;return m>0&&Math.abs(d-f)<360?g=zae({cx:n,cy:s,innerRadius:o,outerRadius:i,cornerRadius:Math.min(m,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):g=AE({cx:n,cy:s,innerRadius:o,outerRadius:i,startAngle:d,endAngle:f}),k.createElement("path",vx({},Ne(r,!0),{className:p,d:g,role:"img"}))};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xx.apply(this,arguments)}function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){Vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vae(e,t,r){return t=Uae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uae(e){var t=Wae(e,"string");return su(t)=="symbol"?t:t+""}function Wae(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c1={curveBasisClosed:VW,curveBasisOpen:UW,curveBasis:BW,curveBumpX:PW,curveBumpY:AW,curveLinearClosed:WW,curveLinear:Bm,curveMonotoneX:qW,curveMonotoneY:HW,curveNatural:GW,curveStep:KW,curveStepAfter:ZW,curveStepBefore:YW},Id=function(t){return t.x===+t.x&&t.y===+t.y},el=function(t){return t.x},tl=function(t){return t.y},qae=function(t,r){if($e(t))return t;var n="curve".concat(Fm(t));return(n==="curveMonotone"||n==="curveBump")&&r?c1["".concat(n).concat(r==="vertical"?"Y":"X")]:c1[n]||Bm},Hae=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,o=s===void 0?[]:s,i=t.baseLine,c=t.layout,l=t.connectNulls,u=l===void 0?!1:l,d=qae(n,c),f=u?o.filter(function(m){return Id(m)}):o,h;if(Array.isArray(i)){var p=u?i.filter(function(m){return Id(m)}):i,v=f.map(function(m,g){return i1(i1({},m),{},{base:p[g]})});return c==="vertical"?h=Pd().y(tl).x1(el).x0(function(m){return m.base.x}):h=Pd().x(el).y1(tl).y0(function(m){return m.base.y}),h.defined(Id).curve(d),h(v)}return c==="vertical"&&ie(i)?h=Pd().y(tl).x1(el).x0(i):ie(i)?h=Pd().x(el).y1(tl).y0(i):h=N2().x(el).y(tl),h.defined(Id).curve(d),h(f)},po=function(t){var r=t.className,n=t.points,s=t.path,o=t.pathRef;if((!n||!n.length)&&!s)return null;var i=n&&n.length?Hae(t):s;return k.createElement("path",xx({},Ne(t,!1),Af(t),{className:We("recharts-curve",r),d:i,ref:o}))},EE={exports:{}},Gae="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kae=Gae,Yae=Kae;function OE(){}function TE(){}TE.resetWarningCache=OE;var Zae=function(){function e(n,s,o,i,c,l){if(l!==Yae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TE,resetWarningCache:OE};return r.PropTypes=r,r};EE.exports=Zae();var Xae=EE.exports;const Ye=yt(Xae);var Jae=Object.getOwnPropertyNames,Qae=Object.getOwnPropertySymbols,ese=Object.prototype.hasOwnProperty;function l1(e,t){return function(n,s,o){return e(n,s,o)&&t(n,s,o)}}function Ld(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var o=s.cache,i=o.get(r),c=o.get(n);if(i&&c)return i===n&&c===r;o.set(r,n),o.set(n,r);var l=e(r,n,s);return o.delete(r),o.delete(n),l}}function u1(e){return Jae(e).concat(Qae(e))}var $E=Object.hasOwn||function(e,t){return ese.call(e,t)};function Dc(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var ME="_owner",d1=Object.getOwnPropertyDescriptor,f1=Object.keys;function tse(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function rse(e,t){return Dc(e.getTime(),t.getTime())}function h1(e,t,r){if(e.size!==t.size)return!1;for(var n={},s=e.entries(),o=0,i,c;(i=s.next())&&!i.done;){for(var l=t.entries(),u=!1,d=0;(c=l.next())&&!c.done;){var f=i.value,h=f[0],p=f[1],v=c.value,m=v[0],g=v[1];!u&&!n[d]&&(u=r.equals(h,m,o,d,e,t,r)&&r.equals(p,g,h,m,e,t,r))&&(n[d]=!0),d++}if(!u)return!1;o++}return!0}function nse(e,t,r){var n=f1(e),s=n.length;if(f1(t).length!==s)return!1;for(var o;s-- >0;)if(o=n[s],o===ME&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!$E(t,o)||!r.equals(e[o],t[o],o,o,e,t,r))return!1;return!0}function rl(e,t,r){var n=u1(e),s=n.length;if(u1(t).length!==s)return!1;for(var o,i,c;s-- >0;)if(o=n[s],o===ME&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!$E(t,o)||!r.equals(e[o],t[o],o,o,e,t,r)||(i=d1(e,o),c=d1(t,o),(i||c)&&(!i||!c||i.configurable!==c.configurable||i.enumerable!==c.enumerable||i.writable!==c.writable)))return!1;return!0}function ase(e,t){return Dc(e.valueOf(),t.valueOf())}function sse(e,t){return e.source===t.source&&e.flags===t.flags}function m1(e,t,r){if(e.size!==t.size)return!1;for(var n={},s=e.values(),o,i;(o=s.next())&&!o.done;){for(var c=t.values(),l=!1,u=0;(i=c.next())&&!i.done;)!l&&!n[u]&&(l=r.equals(o.value,i.value,o.value,i.value,e,t,r))&&(n[u]=!0),u++;if(!l)return!1}return!0}function ose(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var ise="[object Arguments]",cse="[object Boolean]",lse="[object Date]",use="[object Map]",dse="[object Number]",fse="[object Object]",hse="[object RegExp]",mse="[object Set]",pse="[object String]",gse=Array.isArray,p1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,g1=Object.assign,vse=Object.prototype.toString.call.bind(Object.prototype.toString);function xse(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,s=e.areObjectsEqual,o=e.arePrimitiveWrappersEqual,i=e.areRegExpsEqual,c=e.areSetsEqual,l=e.areTypedArraysEqual;return function(d,f,h){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return s(d,f,h);if(gse(d))return t(d,f,h);if(p1!=null&&p1(d))return l(d,f,h);if(p===Date)return r(d,f,h);if(p===RegExp)return i(d,f,h);if(p===Map)return n(d,f,h);if(p===Set)return c(d,f,h);var v=vse(d);return v===lse?r(d,f,h):v===hse?i(d,f,h):v===use?n(d,f,h):v===mse?c(d,f,h):v===fse?typeof d.then!="function"&&typeof f.then!="function"&&s(d,f,h):v===ise?s(d,f,h):v===cse||v===dse||v===pse?o(d,f,h):!1}}function yse(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?rl:tse,areDatesEqual:rse,areMapsEqual:n?l1(h1,rl):h1,areObjectsEqual:n?rl:nse,arePrimitiveWrappersEqual:ase,areRegExpsEqual:sse,areSetsEqual:n?l1(m1,rl):m1,areTypedArraysEqual:n?rl:ose};if(r&&(s=g1({},s,r(s))),t){var o=Ld(s.areArraysEqual),i=Ld(s.areMapsEqual),c=Ld(s.areObjectsEqual),l=Ld(s.areSetsEqual);s=g1({},s,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:c,areSetsEqual:l})}return s}function bse(e){return function(t,r,n,s,o,i,c){return e(t,r,c)}}function wse(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,o=e.strict;if(n)return function(l,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(l,u,{cache:h,equals:s,meta:p,strict:o})};if(t)return function(l,u){return r(l,u,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var i={cache:void 0,equals:s,meta:void 0,strict:o};return function(l,u){return r(l,u,i)}}var jse=zs();zs({strict:!0});zs({circular:!0});zs({circular:!0,strict:!0});zs({createInternalComparator:function(){return Dc}});zs({strict:!0,createInternalComparator:function(){return Dc}});zs({circular:!0,createInternalComparator:function(){return Dc}});zs({circular:!0,createInternalComparator:function(){return Dc},strict:!0});function zs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,o=e.strict,i=o===void 0?!1:o,c=yse(e),l=xse(c),u=n?n(l):bse(l);return wse({circular:r,comparator:l,createState:s,equals:u,strict:i})}function Nse(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function v1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(o){r<0&&(r=o),o-r>t?(e(o),r=-1):Nse(s)};requestAnimationFrame(n)}function yx(e){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(e)}function _se(e){return Ase(e)||Pse(e)||Cse(e)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cse(e,t){if(e){if(typeof e=="string")return x1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x1(e,t)}}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ase(e){if(Array.isArray(e))return e}function kse(){var e={},t=function(){return null},r=!1,n=function s(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var i=o,c=_se(i),l=c[0],u=c.slice(1);if(typeof l=="number"){v1(s.bind(null,u),l);return}s(l),v1(s.bind(null,u));return}yx(o)==="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return t=o,function(){t=function(){return null}}}}}function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(r),!0).forEach(function(n){DE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DE(e,t,r){return t=Ese(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Ose(e,"string");return ou(t)==="symbol"?t:String(t)}function Ose(e,t){if(ou(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tse=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(o){return s.includes(o)})})},$se=function(t){return t},Mse=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wl=function(t,r){return Object.keys(r).reduce(function(n,s){return b1(b1({},n),{},DE({},s,t(s,r[s])))},{})},w1=function(t,r,n){return t.map(function(s){return"".concat(Mse(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Dse(e,t){return Lse(e)||Ise(e,t)||RE(e,t)||Rse()}function Rse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ise(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function Lse(e){if(Array.isArray(e))return e}function Fse(e){return Vse(e)||Bse(e)||RE(e)||zse()}function zse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RE(e,t){if(e){if(typeof e=="string")return bx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bx(e,t)}}function Bse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vse(e){if(Array.isArray(e))return bx(e)}function bx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sh=1e-4,IE=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},LE=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},j1=function(t,r){return function(n){var s=IE(t,r);return LE(s,n)}},Use=function(t,r){return function(n){var s=IE(t,r),o=[].concat(Fse(s.map(function(i,c){return i*c}).slice(1)),[0]);return LE(o,n)}},N1=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],o=r[1],i=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,o=0,i=1,c=1;break;case"ease":s=.25,o=.1,i=.25,c=1;break;case"ease-in":s=.42,o=0,i=1,c=1;break;case"ease-out":s=.42,o=0,i=.58,c=1;break;case"ease-in-out":s=0,o=0,i=.58,c=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=Dse(u,4);s=d[0],o=d[1],i=d[2],c=d[3]}}}var f=j1(s,i),h=j1(o,c),p=Use(s,i),v=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,j=0;j<8;++j){var N=f(w)-b,S=p(w);if(Math.abs(N-b)<sh||S<sh)return h(w);w=v(w-N/S)}return h(w)};return m.isStepper=!1,m},Wse=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,o=s===void 0?8:s,i=t.dt,c=i===void 0?17:i,l=function(d,f,h){var p=-(d-f)*n,v=h*o,m=h+(p-v)*c/1e3,g=h*c/1e3+d;return Math.abs(g-f)<sh&&Math.abs(m)<sh?[f,0]:[g,m]};return l.isStepper=!0,l.dt=c,l},qse=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return N1(s);case"spring":return Wse();default:if(s.split("(")[0]==="cubic-bezier")return N1(s)}return typeof s=="function"?s:null};function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function _1(e){return Kse(e)||Gse(e)||FE(e)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kse(e){if(Array.isArray(e))return jx(e)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){wx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wx(e,t,r){return t=Yse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yse(e){var t=Zse(e,"string");return iu(t)==="symbol"?t:String(t)}function Zse(e,t){if(iu(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xse(e,t){return eoe(e)||Qse(e,t)||FE(e,t)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FE(e,t){if(e){if(typeof e=="string")return jx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jx(e,t)}}function jx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function eoe(e){if(Array.isArray(e))return e}var oh=function(t,r,n){return t+(r-t)*n},Nx=function(t){var r=t.from,n=t.to;return r!==n},toe=function e(t,r,n){var s=wl(function(o,i){if(Nx(i)){var c=t(i.from,i.to,i.velocity),l=Xse(c,2),u=l[0],d=l[1];return hr(hr({},i),{},{from:u,velocity:d})}return i},r);return n<1?wl(function(o,i){return Nx(i)?hr(hr({},i),{},{velocity:oh(i.velocity,s[o].velocity,n),from:oh(i.from,s[o].from,n)}):i},r):e(t,s,n-1)};const roe=function(e,t,r,n,s){var o=Tse(e,t),i=o.reduce(function(g,y){return hr(hr({},g),{},wx({},y,[e[y],t[y]]))},{}),c=o.reduce(function(g,y){return hr(hr({},g),{},wx({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return wl(function(y,b){return b.from},c)},p=function(){return!Object.values(c).filter(Nx).length},v=function(y){u||(u=y);var b=y-u,w=b/r.dt;c=toe(r,c,w),s(hr(hr(hr({},e),t),h())),u=y,p()||(l=requestAnimationFrame(f))},m=function(y){d||(d=y);var b=(y-d)/n,w=wl(function(N,S){return oh.apply(void 0,_1(S).concat([r(b)]))},i);if(s(hr(hr(hr({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var j=wl(function(N,S){return oh.apply(void 0,_1(S).concat([r(1)]))},i);s(hr(hr(hr({},e),t),j))}};return f=r.isStepper?v:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Fi(e){"@babel/helpers - typeof";return Fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fi(e)}var noe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aoe(e,t){if(e==null)return{};var r=soe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function soe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kg(e){return loe(e)||coe(e)||ioe(e)||ooe()}function ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(e,t){if(e){if(typeof e=="string")return _x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _x(e,t)}}function coe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function loe(e){if(Array.isArray(e))return _x(e)}function _x(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(r),!0).forEach(function(n){ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ul(e,t,r){return t=zE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function doe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zE(n.key),n)}}function foe(e,t,r){return t&&doe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zE(e){var t=hoe(e,"string");return Fi(t)==="symbol"?t:String(t)}function hoe(e,t){if(Fi(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fi(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function moe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sx(e,t)}function Sx(e,t){return Sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sx(e,t)}function poe(e){var t=goe();return function(){var n=ih(e),s;if(t){var o=ih(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return Cx(this,s)}}function Cx(e,t){if(t&&(Fi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Px(e)}function Px(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function goe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ih(e){return ih=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ih(e)}var Yn=function(e){moe(r,e);var t=poe(r);function r(n,s){var o;uoe(this,r),o=t.call(this,n,s);var i=o.props,c=i.isActive,l=i.attributeName,u=i.from,d=i.to,f=i.steps,h=i.children,p=i.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Px(o)),o.changeStyle=o.changeStyle.bind(Px(o)),!c||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Cx(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Cx(o);o.state={style:l?ul({},l,u):u}}else o.state={style:{}};return o}return foe(r,[{key:"componentDidMount",value:function(){var s=this.props,o=s.isActive,i=s.canBegin;this.mounted=!0,!(!o||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var o=this.props,i=o.isActive,c=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(c){if(!i){var p={style:l?ul({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(p);return}if(!(jse(s.to,d)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=v||u?f:s.to;if(this.state&&h){var g={style:l?ul({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(g)}this.runAnimation(Mn(Mn({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var o=this,i=s.from,c=s.to,l=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,p=roe(i,c,qse(u),l,this.changeStyle),v=function(){o.stopJSAnimation=p()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(s){var o=this,i=s.steps,c=s.begin,l=s.onAnimationStart,u=i[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,g,y){if(y===0)return m;var b=g.duration,w=g.easing,j=w===void 0?"ease":w,N=g.style,S=g.properties,_=g.onAnimationEnd,P=y>0?i[y-1]:g,E=S||Object.keys(N);if(typeof j=="function"||j==="spring")return[].concat(kg(m),[o.runJSAnimation.bind(o,{from:P.style,to:N,duration:b,easing:j}),b]);var $=w1(E,b,j),A=Mn(Mn(Mn({},P.style),N),{},{transition:$});return[].concat(kg(m),[A,b,_]).filter($se)};return this.manager.start([l].concat(kg(i.reduce(p,[d,Math.max(h,c)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=kse());var o=s.begin,i=s.duration,c=s.attributeName,l=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var m=c?ul({},c,l):l,g=w1(Object.keys(m),i,u);v.start([d,o,Mn(Mn({},m),{},{transition:g}),i,f])}},{key:"render",value:function(){var s=this.props,o=s.children;s.begin;var i=s.duration;s.attributeName,s.easing;var c=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var l=aoe(s,noe),u=x.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!c||u===0||i<=0)return o;var f=function(p){var v=p.props,m=v.style,g=m===void 0?{}:m,y=v.className,b=x.cloneElement(p,Mn(Mn({},l),{},{style:Mn(Mn({},g),d),className:y}));return b};return u===1?f(x.Children.only(o)):k.createElement("div",null,x.Children.map(o,function(h){return f(h)}))}}]),r}(x.PureComponent);Yn.displayName="Animate";Yn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yn.propTypes={from:Ye.oneOfType([Ye.object,Ye.string]),to:Ye.oneOfType([Ye.object,Ye.string]),attributeName:Ye.string,duration:Ye.number,begin:Ye.number,easing:Ye.oneOfType([Ye.string,Ye.func]),steps:Ye.arrayOf(Ye.shape({duration:Ye.number.isRequired,style:Ye.object.isRequired,easing:Ye.oneOfType([Ye.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ye.func]),properties:Ye.arrayOf("string"),onAnimationEnd:Ye.func})),children:Ye.oneOfType([Ye.node,Ye.func]),isActive:Ye.bool,canBegin:Ye.bool,onAnimationEnd:Ye.func,shouldReAnimate:Ye.bool,onAnimationStart:Ye.func,onAnimationReStart:Ye.func};Ye.object,Ye.object,Ye.object,Ye.element;Ye.object,Ye.object,Ye.object,Ye.oneOfType([Ye.array,Ye.element]),Ye.any;function cu(e){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function ch(){return ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ch.apply(this,arguments)}function voe(e,t){return woe(e)||boe(e,t)||yoe(e,t)||xoe()}function xoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yoe(e,t){if(e){if(typeof e=="string")return P1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(e,t)}}function P1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function boe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function woe(e){if(Array.isArray(e))return e}function A1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A1(Object(r),!0).forEach(function(n){joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function joe(e,t,r){return t=Noe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Noe(e){var t=_oe(e,"string");return cu(t)=="symbol"?t:t+""}function _oe(e,t){if(cu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E1=function(t,r,n,s,o){var i=Math.min(Math.abs(n)/2,Math.abs(s)/2),c=s>=0?1:-1,l=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(i>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>i?i:o[h];d="M".concat(t,",").concat(r+c*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(r)),d+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+c*f[1])),d+="L ".concat(t+n,",").concat(r+s-c*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(r+s)),d+="L ".concat(t+l*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-c*f[3])),d+="Z"}else if(i>0&&o===+o&&o>0){var v=Math.min(i,o);d="M ".concat(t,",").concat(r+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+l*v,",").concat(r,`
            L `).concat(t+n-l*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+c*v,`
            L `).concat(t+n,",").concat(r+s-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-l*v,",").concat(r+s,`
            L `).concat(t+l*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-c*v," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},Soe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,o=r.x,i=r.y,c=r.width,l=r.height;if(Math.abs(c)>0&&Math.abs(l)>0){var u=Math.min(o,o+c),d=Math.max(o,o+c),f=Math.min(i,i+l),h=Math.max(i,i+l);return n>=u&&n<=d&&s>=f&&s<=h}return!1},Coe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l0=function(t){var r=k1(k1({},Coe),t),n=x.useRef(),s=x.useState(-1),o=voe(s,2),i=o[0],c=o[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&c(j)}catch{}},[]);var l=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=We("recharts-rectangle",p);return b?k.createElement(Yn,{canBegin:i>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:m,animationEasing:v,isActive:b},function(j){var N=j.width,S=j.height,_=j.x,P=j.y;return k.createElement(Yn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:y,easing:v},k.createElement("path",ch({},Ne(r,!0),{className:w,d:E1(_,P,N,S,h),ref:n})))}):k.createElement("path",ch({},Ne(r,!0),{className:w,d:E1(l,u,d,f,h)}))},Poe=["points","className","baseLinePoints","connectNulls"];function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}function Aoe(e,t){if(e==null)return{};var r=koe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function koe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function O1(e){return $oe(e)||Toe(e)||Ooe(e)||Eoe()}function Eoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ooe(e,t){if(e){if(typeof e=="string")return Ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ax(e,t)}}function Toe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $oe(e){if(Array.isArray(e))return Ax(e)}function Ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T1=function(t){return t&&t.x===+t.x&&t.y===+t.y},Moe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){T1(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),T1(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},jl=function(t,r){var n=Moe(t);r&&(n=[n.reduce(function(o,i){return[].concat(O1(o),O1(i))},[])]);var s=n.map(function(o){return o.reduce(function(i,c,l){return"".concat(i).concat(l===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},Doe=function(t,r,n){var s=jl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(jl(r.reverse(),n).slice(1))},Roe=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,o=t.connectNulls,i=Aoe(t,Poe);if(!r||!r.length)return null;var c=We("recharts-polygon",n);if(s&&s.length){var l=i.stroke&&i.stroke!=="none",u=Doe(r,s,o);return k.createElement("g",{className:c},k.createElement("path",di({},Ne(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:u})),l?k.createElement("path",di({},Ne(i,!0),{fill:"none",d:jl(r,o)})):null,l?k.createElement("path",di({},Ne(i,!0),{fill:"none",d:jl(s,o)})):null)}var d=jl(r,o);return k.createElement("path",di({},Ne(i,!0),{fill:d.slice(-1)==="Z"?i.fill:"none",className:c,d}))};function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kx.apply(this,arguments)}var Xu=function(t){var r=t.cx,n=t.cy,s=t.r,o=t.className,i=We("recharts-dot",o);return r===+r&&n===+n&&s===+s?k.createElement("circle",kx({},Ne(t,!1),Af(t),{className:i,cx:r,cy:n,r:s})):null};function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}var Ioe=["x","y","top","left","width","height","className"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(this,arguments)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Loe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){Foe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Foe(e,t,r){return t=zoe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zoe(e){var t=Boe(e,"string");return lu(t)=="symbol"?t:t+""}function Boe(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Voe(e,t){if(e==null)return{};var r=Uoe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Uoe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Woe=function(t,r,n,s,o,i){return"M".concat(t,",").concat(o,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(n)},qoe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,o=s===void 0?0:s,i=t.top,c=i===void 0?0:i,l=t.left,u=l===void 0?0:l,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,v=t.className,m=Voe(t,Ioe),g=Loe({x:n,y:o,top:c,left:u,width:f,height:p},m);return!ie(n)||!ie(o)||!ie(f)||!ie(p)||!ie(c)||!ie(u)?null:k.createElement("path",Ex({},Ne(g,!0),{className:We("recharts-cross",v),d:Woe(n,o,f,p,c,u)}))},Hoe=Jm,Goe=Xk,Koe=Aa;function Yoe(e,t){return e&&e.length?Hoe(e,Koe(t),Goe):void 0}var Zoe=Yoe;const Xoe=yt(Zoe);var Joe=Jm,Qoe=Aa,eie=Jk;function tie(e,t){return e&&e.length?Joe(e,Qoe(t),eie):void 0}var rie=tie;const nie=yt(rie);var aie=["cx","cy","angle","ticks","axisLine"],sie=["ticks","tick","angle","tickFormatter","stroke"];function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function M1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(r),!0).forEach(function(n){rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D1(e,t){if(e==null)return{};var r=oie(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VE(n.key),n)}}function cie(e,t,r){return t&&R1(e.prototype,t),r&&R1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lie(e,t,r){return t=lh(t),uie(e,BE()?Reflect.construct(t,r||[],lh(e).constructor):t.apply(e,r))}function uie(e,t){if(t&&(zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return die(e)}function die(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BE=function(){return!!e})()}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lh(e)}function fie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ox(e,t)}function Ox(e,t){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ox(e,t)}function rp(e,t,r){return t=VE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VE(e){var t=hie(e,"string");return zi(t)=="symbol"?t:t+""}function hie(e,t){if(zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var np=function(e){function t(){return iie(this,t),lie(this,t,arguments)}return fie(t,e),cie(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,o=this.props,i=o.angle,c=o.cx,l=o.cy;return Ct(c,l,s,i)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.angle,c=n.ticks,l=Xoe(c,function(d){return d.coordinate||0}),u=nie(c,function(d){return d.coordinate||0});return{cx:s,cy:o,startAngle:i,endAngle:i,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.angle,c=n.ticks,l=n.axisLine,u=D1(n,aie),d=c.reduce(function(v,m){return[Math.min(v[0],m.coordinate),Math.max(v[1],m.coordinate)]},[1/0,-1/0]),f=Ct(s,o,d[0],i),h=Ct(s,o,d[1],i),p=Ys(Ys(Ys({},Ne(u,!1)),{},{fill:"none"},Ne(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return k.createElement("line",Nl({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,i=s.tick,c=s.angle,l=s.tickFormatter,u=s.stroke,d=D1(s,sie),f=this.getTickTextAnchor(),h=Ne(d,!1),p=Ne(i,!1),v=o.map(function(m,g){var y=n.getTickValueCoord(m),b=Ys(Ys(Ys(Ys({textAnchor:f,transform:"rotate(".concat(90-c,", ").concat(y.x,", ").concat(y.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:g},y),{},{payload:m});return k.createElement(st,Nl({className:We("recharts-polar-radius-axis-tick",CE(i)),key:"tick-".concat(m.coordinate)},jo(n.props,m,g)),t.renderTickItem(i,b,l?l(m.value,g):m.value))});return k.createElement(st,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.axisLine,i=n.tick;return!s||!s.length?null:k.createElement(st,{className:We("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),ur.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,o){var i;return k.isValidElement(n)?i=k.cloneElement(n,s):$e(n)?i=n(s):i=k.createElement(No,Nl({},s,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])}(x.PureComponent);rp(np,"displayName","PolarRadiusAxis");rp(np,"axisType","radiusAxis");rp(np,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bi(e){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bi(e)}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ao.apply(this,arguments)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WE(n.key),n)}}function pie(e,t,r){return t&&L1(e.prototype,t),r&&L1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gie(e,t,r){return t=uh(t),vie(e,UE()?Reflect.construct(t,r||[],uh(e).constructor):t.apply(e,r))}function vie(e,t){if(t&&(Bi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xie(e)}function xie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UE=function(){return!!e})()}function uh(e){return uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uh(e)}function yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tx(e,t)}function Tx(e,t){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Tx(e,t)}function ap(e,t,r){return t=WE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WE(e){var t=bie(e,"string");return Bi(t)=="symbol"?t:t+""}function bie(e,t){if(Bi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wie=Math.PI/180,F1=1e-5,sp=function(e){function t(){return mie(this,t),gie(this,t,arguments)}return yie(t,e),pie(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.cx,i=s.cy,c=s.radius,l=s.orientation,u=s.tickSize,d=u||8,f=Ct(o,i,c,n.coordinate),h=Ct(o,i,c+(l==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,o=Math.cos(-n.coordinate*wie),i;return o>F1?i=s==="outer"?"start":"end":o<-F1?i=s==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,o=n.cy,i=n.radius,c=n.axisLine,l=n.axisLineType,u=Zs(Zs({},Ne(this.props,!1)),{},{fill:"none"},Ne(c,!1));if(l==="circle")return k.createElement(Xu,ao({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:o,r:i}));var d=this.props.ticks,f=d.map(function(h){return Ct(s,o,i,h.coordinate)});return k.createElement(Roe,ao({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,o=s.ticks,i=s.tick,c=s.tickLine,l=s.tickFormatter,u=s.stroke,d=Ne(this.props,!1),f=Ne(i,!1),h=Zs(Zs({},d),{},{fill:"none"},Ne(c,!1)),p=o.map(function(v,m){var g=n.getTickLineCoord(v),y=n.getTickTextAnchor(v),b=Zs(Zs(Zs({textAnchor:y},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:v,x:g.x2,y:g.y2});return k.createElement(st,ao({className:We("recharts-polar-angle-axis-tick",CE(i)),key:"tick-".concat(v.coordinate)},jo(n.props,v,m)),c&&k.createElement("line",ao({className:"recharts-polar-angle-axis-tick-line"},h,g)),i&&t.renderTickItem(i,b,l?l(v.value,m):v.value))});return k.createElement(st,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,o=n.radius,i=n.axisLine;return o<=0||!s||!s.length?null:k.createElement(st,{className:We("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,o){var i;return k.isValidElement(n)?i=k.cloneElement(n,s):$e(n)?i=n(s):i=k.createElement(No,ao({},s,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])}(x.PureComponent);ap(sp,"displayName","PolarAngleAxis");ap(sp,"axisType","angleAxis");ap(sp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var jie=G2,Nie=jie(Object.getPrototypeOf,Object),_ie=Nie,Sie=as,Cie=_ie,Pie=ss,Aie="[object Object]",kie=Function.prototype,Eie=Object.prototype,qE=kie.toString,Oie=Eie.hasOwnProperty,Tie=qE.call(Object);function $ie(e){if(!Pie(e)||Sie(e)!=Aie)return!1;var t=Cie(e);if(t===null)return!0;var r=Oie.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&qE.call(r)==Tie}var Mie=$ie;const Die=yt(Mie);var Rie=as,Iie=ss,Lie="[object Boolean]";function Fie(e){return e===!0||e===!1||Iie(e)&&Rie(e)==Lie}var zie=Fie;const Bie=yt(zie);function uu(e){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(this,arguments)}function Vie(e,t){return Hie(e)||qie(e,t)||Wie(e,t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wie(e,t){if(e){if(typeof e=="string")return z1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z1(e,t)}}function z1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function Hie(e){if(Array.isArray(e))return e}function B1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(r),!0).forEach(function(n){Gie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t,r){return t=Kie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kie(e){var t=Yie(e,"string");return uu(t)=="symbol"?t:t+""}function Yie(e,t){if(uu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var U1=function(t,r,n,s,o){var i=n-s,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-i/2,",").concat(r+o),c+="L ".concat(t+n-i/2-s,",").concat(r+o),c+="L ".concat(t,",").concat(r," Z"),c},Zie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xie=function(t){var r=V1(V1({},Zie),t),n=x.useRef(),s=x.useState(-1),o=Vie(s,2),i=o[0],c=o[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&c(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,m=r.animationDuration,g=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=We("recharts-trapezoid",p);return y?k.createElement(Yn,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:m,animationEasing:v,isActive:y},function(w){var j=w.upperWidth,N=w.lowerWidth,S=w.height,_=w.x,P=w.y;return k.createElement(Yn,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:v},k.createElement("path",dh({},Ne(r,!0),{className:b,d:U1(_,P,j,N,S),ref:n})))}):k.createElement("g",null,k.createElement("path",dh({},Ne(r,!0),{className:b,d:U1(l,u,d,f,h)})))},Jie=["option","shapeType","propTransformer","activeClassName","isActive"];function du(e){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function Qie(e,t){if(e==null)return{};var r=ece(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ece(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W1(Object(r),!0).forEach(function(n){tce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tce(e,t,r){return t=rce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rce(e){var t=nce(e,"string");return du(t)=="symbol"?t:t+""}function nce(e,t){if(du(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ace(e,t){return fh(fh({},t),e)}function sce(e,t){return e==="symbols"}function q1(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(l0,r);case"trapezoid":return k.createElement(Xie,r);case"sector":return k.createElement(kE,r);case"symbols":if(sce(t))return k.createElement(Ab,r);break;default:return null}}function oce(e){return x.isValidElement(e)?e.props:e}function HE(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?ace:n,o=e.activeClassName,i=o===void 0?"recharts-active-shape":o,c=e.isActive,l=Qie(e,Jie),u;if(x.isValidElement(t))u=x.cloneElement(t,fh(fh({},l),oce(t)));else if($e(t))u=t(l);else if(Die(t)&&!Bie(t)){var d=s(t,l);u=k.createElement(q1,{shapeType:r,elementProps:d})}else{var f=l;u=k.createElement(q1,{shapeType:r,elementProps:f})}return c?k.createElement(st,{className:i},u):u}function op(e,t){return t!=null&&"trapezoids"in e.props}function ip(e,t){return t!=null&&"sectors"in e.props}function fu(e,t){return t!=null&&"points"in e.props}function ice(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,o=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&o}function cce(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lce(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function uce(e,t){var r;return op(e,t)?r=ice:ip(e,t)?r=cce:fu(e,t)&&(r=lce),r}function dce(e,t){var r;return op(e,t)?r="trapezoids":ip(e,t)?r="sectors":fu(e,t)&&(r="points"),r}function fce(e,t){if(op(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ip(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return fu(e,t)?t.payload:{}}function hce(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=dce(r,t),o=fce(r,t),i=n.filter(function(l,u){var d=_o(o,l),f=r.props[s].filter(function(v){var m=uce(r,t);return m(v,t)}),h=r.props[s].indexOf(f[f.length-1]),p=u===h;return d&&p}),c=n.indexOf(i[i.length-1]);return c}var rf;function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vi(e)}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(this,arguments)}function H1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H1(Object(r),!0).forEach(function(n){gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KE(n.key),n)}}function pce(e,t,r){return t&&G1(e.prototype,t),r&&G1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function gce(e,t,r){return t=hh(t),vce(e,GE()?Reflect.construct(t,r||[],hh(e).constructor):t.apply(e,r))}function vce(e,t){if(t&&(Vi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xce(e)}function xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GE=function(){return!!e})()}function hh(e){return hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hh(e)}function yce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$x(e,t)}function $x(e,t){return $x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$x(e,t)}function gn(e,t,r){return t=KE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KE(e){var t=bce(e,"string");return Vi(t)=="symbol"?t:t+""}function bce(e,t){if(Vi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ka=function(e){function t(r){var n;return mce(this,t),n=gce(this,t,[r]),gn(n,"pieRef",null),gn(n,"sectorRefs",[]),gn(n,"id",Fo("recharts-pie-")),gn(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$e(s)&&s()}),gn(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$e(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yce(t,e),pce(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,c=o.labelLine,l=o.dataKey,u=o.valueKey,d=Ne(this.props,!1),f=Ne(i,!1),h=Ne(c,!1),p=i&&i.offsetRadius||20,v=n.map(function(m,g){var y=(m.startAngle+m.endAngle)/2,b=Ct(m.cx,m.cy,m.outerRadius+p,y),w=_t(_t(_t(_t({},d),m),{},{stroke:"none"},f),{},{index:g,textAnchor:t.getTextAnchor(b.x,m.cx)},b),j=_t(_t(_t(_t({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:g,points:[Ct(m.cx,m.cy,m.outerRadius,y),b]}),N=l;return ze(l)&&ze(u)?N="value":ze(l)&&(N=u),k.createElement(st,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(g)},c&&t.renderLabelLineItem(c,j,"line"),t.renderLabelItem(i,w,qt(m,N)))});return k.createElement(st,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,o=this.props,i=o.activeShape,c=o.blendStroke,l=o.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=s.isActiveIndex(d),h=l&&s.hasActiveIndex()?l:null,p=f?i:h,v=_t(_t({},u),{},{stroke:c?u.fill:u.stroke,tabIndex:-1});return k.createElement(st,fi({ref:function(g){g&&!s.sectorRefs.includes(g)&&s.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},jo(s.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),k.createElement(HE,fi({option:p,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,o=s.sectors,i=s.isAnimationActive,c=s.animationBegin,l=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return k.createElement(Yn,{begin:c,duration:l,isActive:i,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var m=v.t,g=[],y=o&&o[0],b=y.startAngle;return o.forEach(function(w,j){var N=h&&h[j],S=j>0?on(w,"paddingAngle",0):0;if(N){var _=sr(N.endAngle-N.startAngle,w.endAngle-w.startAngle),P=_t(_t({},w),{},{startAngle:b+S,endAngle:b+_(m)+S});g.push(P),b=P.endAngle}else{var E=w.endAngle,$=w.startAngle,A=sr(0,E-$),C=A(m),O=_t(_t({},w),{},{startAngle:b+S,endAngle:b+C+S});g.push(O),b=O.endAngle}}),k.createElement(st,null,n.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[i].focus(),s.setState({sectorToFocus:i});break}case"ArrowRight":{var c=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[c].focus(),s.setState({sectorToFocus:c});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,o=n.isAnimationActive,i=this.state.prevSectors;return o&&s&&s.length&&(!i||!_o(i,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,o=s.hide,i=s.sectors,c=s.className,l=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(o||!i||!i.length||!ie(u)||!ie(d)||!ie(f)||!ie(h))return null;var m=We("recharts-pie",c);return k.createElement(st,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){n.pieRef=y}},this.renderSectors(),l&&this.renderLabels(i),ur.renderCallByParent(this.props,null,!1),(!p||v)&&va.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,o){if(k.isValidElement(n))return k.cloneElement(n,s);if($e(n))return n(s);var i=We("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return k.createElement(po,fi({},s,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(n,s,o){if(k.isValidElement(n))return k.cloneElement(n,s);var i=o;if($e(n)&&(i=n(s),k.isValidElement(i)))return i;var c=We("recharts-pie-label-text",typeof n!="boolean"&&!$e(n)?n.className:"");return k.createElement(No,fi({},s,{alignmentBaseline:"middle",className:c}),i)}}])}(x.PureComponent);rf=ka;gn(ka,"displayName","Pie");gn(ka,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Is.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});gn(ka,"parseDeltaAngle",function(e,t){var r=$r(t-e),n=Math.min(Math.abs(t-e),360);return r*n});gn(ka,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ne(e,!1),s=cn(r,Mi);return t&&t.length?t.map(function(o,i){return _t(_t(_t({payload:o},n),o),s&&s[i]&&s[i].props)}):s&&s.length?s.map(function(o){return _t(_t({},n),o.props)}):[]});gn(ka,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,o=t.height,i=SE(s,o),c=n+Mr(e.cx,s,s/2),l=r+Mr(e.cy,o,o/2),u=Mr(e.innerRadius,i,0),d=Mr(e.outerRadius,i,i*.8),f=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:c,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});gn(ka,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?_t(_t({},t.type.defaultProps),t.props):t.props,s=rf.getRealPieData(n);if(!s||!s.length)return null;var o=n.cornerRadius,i=n.startAngle,c=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=rf.parseCoordinateOfPie(n,r),m=rf.parseDeltaAngle(i,c),g=Math.abs(m),y=u;ze(u)&&ze(f)?(qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):ze(u)&&(qn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var b=s.filter(function(P){return qt(P,y,0)!==0}).length,w=(g>=360?b:b-1)*l,j=g-b*p-w,N=s.reduce(function(P,E){var $=qt(E,y,0);return P+(ie($)?$:0)},0),S;if(N>0){var _;S=s.map(function(P,E){var $=qt(P,y,0),A=qt(P,d,E),C=(ie($)?$:0)/N,O;E?O=_.endAngle+$r(m)*l*($!==0?1:0):O=i;var T=O+$r(m)*(($!==0?p:0)+C*j),I=(O+T)/2,R=(v.innerRadius+v.outerRadius)/2,D=[{name:A,value:$,payload:P,dataKey:y,type:h}],M=Ct(v.cx,v.cy,R,I);return _=_t(_t(_t({percent:C,cornerRadius:o,name:A,tooltipPayload:D,midAngle:I,middleRadius:R,tooltipPosition:M},P),v),{},{value:qt(P,y),startAngle:O,endAngle:T,payload:P,paddingAngle:$r(m)*l}),_})}return _t(_t({},v),{},{sectors:S,data:s})});var wce=Math.ceil,jce=Math.max;function Nce(e,t,r,n){for(var s=-1,o=jce(wce((t-e)/(r||1)),0),i=Array(o);o--;)i[n?o:++s]=e,e+=r;return i}var _ce=Nce,Sce=fk,K1=1/0,Cce=17976931348623157e292;function Pce(e){if(!e)return e===0?e:0;if(e=Sce(e),e===K1||e===-K1){var t=e<0?-1:1;return t*Cce}return e===e?e:0}var YE=Pce,Ace=_ce,kce=qm,Eg=YE;function Ece(e){return function(t,r,n){return n&&typeof n!="number"&&kce(t,r,n)&&(r=n=void 0),t=Eg(t),r===void 0?(r=t,t=0):r=Eg(r),n=n===void 0?t<r?1:-1:Eg(n),Ace(t,r,n,e)}}var Oce=Ece,Tce=Oce,$ce=Tce(),Mce=$ce;const mh=yt(Mce);function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function Y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y1(Object(r),!0).forEach(function(n){ZE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZE(e,t,r){return t=Dce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dce(e){var t=Rce(e,"string");return hu(t)=="symbol"?t:t+""}function Rce(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ice=["Webkit","Moz","O","ms"],Lce=function(t,r){var n=t.replace(/(\w)/,function(o){return o.toUpperCase()}),s=Ice.reduce(function(o,i){return Z1(Z1({},o),{},ZE({},i+n,r))},{});return s[t]=r,s};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ph.apply(this,arguments)}function X1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(r),!0).forEach(function(n){Jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JE(n.key),n)}}function zce(e,t,r){return t&&J1(e.prototype,t),r&&J1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bce(e,t,r){return t=gh(t),Vce(e,XE()?Reflect.construct(t,r||[],gh(e).constructor):t.apply(e,r))}function Vce(e,t){if(t&&(Ui(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uce(e)}function Uce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XE=function(){return!!e})()}function gh(e){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gh(e)}function Wce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mx(e,t)}function Mx(e,t){return Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Mx(e,t)}function Jr(e,t,r){return t=JE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JE(e){var t=qce(e,"string");return Ui(t)=="symbol"?t:t+""}function qce(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Hce=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,o=t.x,i=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=yl().domain(mh(0,l)).range([o,o+i-c]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},Q1=function(t){return t.changedTouches&&!!t.changedTouches.length},Wi=function(e){function t(r){var n;return Fce(this,t),n=Bce(this,t,[r]),Jr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Jr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Jr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,o=s.endIndex,i=s.onDragEnd,c=s.startIndex;i?.({endIndex:o,startIndex:c})}),n.detachDragEndListener()}),Jr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Jr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Jr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Jr(n,"handleSlideDragStart",function(s){var o=Q1(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Wce(t,e),zce(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,o=n.endX,i=this.state.scaleValues,c=this.props,l=c.gap,u=c.data,d=u.length-1,f=Math.min(s,o),h=Math.max(s,o),p=t.getIndexInRange(i,f),v=t.getIndexInRange(i,h);return{startIndex:p-p%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(n){var s=this.props,o=s.data,i=s.tickFormatter,c=s.dataKey,l=qt(o[n],c,n);return $e(i)?i(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,o=s.slideMoveStartX,i=s.startX,c=s.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,v=l.onChange,m=n.pageX-o;m>0?m=Math.min(m,u+d-f-c,u+d-f-i):m<0&&(m=Math.max(m,u-i,u-c));var g=this.getIndex({startX:i+m,endX:c+m});(g.startIndex!==h||g.endIndex!==p)&&v&&v(g),this.setState({startX:i+m,endX:c+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var o=Q1(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,o=s.brushMoveStartX,i=s.movingTravellerId,c=s.endX,l=s.startX,u=this.state[i],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,v=d.onChange,m=d.gap,g=d.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-o;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),y[i]=u+b;var w=this.getIndex(y),j=w.startIndex,N=w.endIndex,S=function(){var P=g.length-1;return i==="startX"&&(c>l?j%m===0:N%m===0)||c<l&&N===P||i==="endX"&&(c>l?N%m===0:j%m===0)||c>l&&N===P};this.setState(Jr(Jr({},i,u+b),"brushMoveStartX",n.pageX),function(){v&&S()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var o=this,i=this.state,c=i.scaleValues,l=i.startX,u=i.endX,d=this.state[s],f=c.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=c.length)){var p=c[h];s==="startX"&&p>=u||s==="endX"&&p<=l||this.setState(Jr({},s,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,c=n.height,l=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:l,x:s,y:o,width:i,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,c=n.height,l=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?k.cloneElement(f,{x:s,y:o,width:i,height:c,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,s){var o,i,c=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,v=l.data,m=l.startIndex,g=l.endIndex,y=Math.max(n,this.props.x),b=Og(Og({},Ne(this.props,!1)),{},{x:y,y:u,width:d,height:f}),w=p||"Min value: ".concat((o=v[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((i=v[g])===null||i===void 0?void 0:i.name);return k.createElement(st,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),c.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,s){var o=this.props,i=o.y,c=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:i,width:f,height:c})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,o=n.endIndex,i=n.y,c=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,v={pointerEvents:"none",fill:u};return k.createElement(st,{className:"recharts-brush-texts"},k.createElement(No,ph({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:i+c/2},v),this.getTextOfTick(s)),k.createElement(No,ph({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:i+c/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,s=n.data,o=n.className,i=n.children,c=n.x,l=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,m=h.isTextActive,g=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!s||!s.length||!ie(c)||!ie(l)||!ie(u)||!ie(d)||u<=0||d<=0)return null;var w=We("recharts-brush",o),j=k.Children.count(i)===1,N=Lce("userSelect","none");return k.createElement(st,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(m||g||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,o=n.y,i=n.width,c=n.height,l=n.stroke,u=Math.floor(o+c/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:s,y:o,width:i,height:c,fill:l,stroke:"none"}),k.createElement("line",{x1:s+1,y1:u,x2:s+i-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:s+1,y1:u+2,x2:s+i-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var o;return k.isValidElement(n)?o=k.cloneElement(n,s):$e(n)?o=n(s):o=t.renderDefaultTraveller(s),o}},{key:"getDerivedStateFromProps",value:function(n,s){var o=n.data,i=n.width,c=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(o!==s.prevData||u!==s.prevUpdateId)return Og({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:i},o&&o.length?Hce({data:o,width:i,x:c,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(i!==s.prevWidth||c!==s.prevX||l!==s.prevTravellerWidth)){s.scale.range([c,c+i-l]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:c,prevWidth:i,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var o=n.length,i=0,c=o-1;c-i>1;){var l=Math.floor((i+c)/2);n[l]>s?c=l:i=l}return s>=n[c]?c:i}}])}(x.PureComponent);Jr(Wi,"displayName","Brush");Jr(Wi,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Gce=Db;function Kce(e,t){var r;return Gce(e,function(n,s,o){return r=t(n,s,o),!r}),!!r}var Yce=Kce,Zce=F2,Xce=Aa,Jce=Yce,Qce=Gr,ele=qm;function tle(e,t,r){var n=Qce(e)?Zce:Jce;return r&&ele(e,t,r)&&(t=void 0),n(e,Xce(t))}var rle=tle;const nle=yt(rle);var xa=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},eS=ik;function ale(e,t,r){t=="__proto__"&&eS?eS(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var sle=ale,ole=sle,ile=sk,cle=Aa;function lle(e,t){var r={};return t=cle(t),ile(e,function(n,s,o){ole(r,s,t(n,s,o))}),r}var ule=lle;const dle=yt(ule);function fle(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hle=fle,mle=Db;function ple(e,t){var r=!0;return mle(e,function(n,s,o){return r=!!t(n,s,o),r}),r}var gle=ple,vle=hle,xle=gle,yle=Aa,ble=Gr,wle=qm;function jle(e,t,r){var n=ble(e)?vle:xle;return r&&wle(e,t,r)&&(t=void 0),n(e,yle(t))}var Nle=jle;const QE=yt(Nle);var _le=["x","y"];function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(this,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){Sle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sle(e,t,r){return t=Cle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=Ple(e,"string");return mu(t)=="symbol"?t:t+""}function Ple(e,t){if(mu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ale(e,t){if(e==null)return{};var r=kle(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ele(e,t){var r=e.x,n=e.y,s=Ale(e,_le),o="".concat(r),i=parseInt(o,10),c="".concat(n),l=parseInt(c,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return nl(nl(nl(nl(nl({},t),s),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function rS(e){return k.createElement(HE,Dx({shapeType:"rectangle",propTransformer:Ele,activeClassName:"recharts-active-bar"},e))}var Ole=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var o=typeof n=="number";return o?t(n,s):(o||Co(),r)}},Tle=["value","background"],eO;function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qi(e)}function $le(e,t){if(e==null)return{};var r=Mle(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mle(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(this,arguments)}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rO(n.key),n)}}function Rle(e,t,r){return t&&aS(e.prototype,t),r&&aS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ile(e,t,r){return t=xh(t),Lle(e,tO()?Reflect.construct(t,r||[],xh(e).constructor):t.apply(e,r))}function Lle(e,t){if(t&&(qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fle(e)}function Fle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tO=function(){return!!e})()}function xh(e){return xh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xh(e)}function zle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rx(e,t)}function Rx(e,t){return Rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Rx(e,t)}function ws(e,t,r){return t=rO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rO(e){var t=Ble(e,"string");return qi(t)=="symbol"?t:t+""}function Ble(e,t){if(qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _a=function(e){function t(){var r;Dle(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=Ile(this,t,[].concat(s)),ws(r,"state",{isAnimationFinished:!1}),ws(r,"id",Fo("recharts-bar-")),ws(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),i&&i()}),ws(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),i&&i()}),r}return zle(t,e),Rle(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,o=this.props,i=o.shape,c=o.dataKey,l=o.activeIndex,u=o.activeBar,d=Ne(this.props,!1);return n&&n.map(function(f,h){var p=h===l,v=p?u:i,m=Zt(Zt(Zt({},d),f),{},{isActive:p,option:v,index:h,dataKey:c,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return k.createElement(st,vh({className:"recharts-bar-rectangle"},jo(s.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value)}),k.createElement(rS,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,o=s.data,i=s.layout,c=s.isAnimationActive,l=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return k.createElement(Yn,{begin:l,duration:u,isActive:c,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,m=o.map(function(g,y){var b=h&&h[y];if(b){var w=sr(b.x,g.x),j=sr(b.y,g.y),N=sr(b.width,g.width),S=sr(b.height,g.height);return Zt(Zt({},g),{},{x:w(v),y:j(v),width:N(v),height:S(v)})}if(i==="horizontal"){var _=sr(0,g.height),P=_(v);return Zt(Zt({},g),{},{y:g.y+g.height-P,height:P})}var E=sr(0,g.width),$=E(v);return Zt(Zt({},g),{},{width:$})});return k.createElement(st,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,o=n.isAnimationActive,i=this.state.prevData;return o&&s&&s.length&&(!i||!_o(i,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,o=s.data,i=s.dataKey,c=s.activeIndex,l=Ne(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=$le(u,Tle);if(!f)return null;var p=Zt(Zt(Zt(Zt(Zt({},h),{},{fill:"#eee"},f),l),jo(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:i,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(rS,vh({key:"background-bar-".concat(d),option:n.props.background,isActive:d===c},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.data,c=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=cn(d,Zu);if(!f)return null;var h=u==="vertical"?i[0].height/2:i[0].width/2,p=function(g,y){var b=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:b,errorVal:qt(g,y)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return k.createElement(st,v,f.map(function(m){return k.cloneElement(m,{key:"error-bar-".concat(s,"-").concat(m.props.dataKey),data:i,xAxis:c,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,o=n.data,i=n.className,c=n.xAxis,l=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,v=n.background,m=n.id;if(s||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=We("recharts-bar",i),b=c&&c.allowDataOverflow,w=l&&l.allowDataOverflow,j=b||w,N=ze(m)?this.id:m;return k.createElement(st,{className:y},b||w?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(N)},k.createElement("rect",{x:b?u:u-f/2,y:w?d:d-h/2,width:b?f:f*2,height:w?h:h*2}))):null,k.createElement(st,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(N,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,N),(!p||g)&&va.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);eO=_a;ws(_a,"displayName","Bar");ws(_a,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Is.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ws(_a,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,o=e.xAxis,i=e.yAxis,c=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=One(n,r);if(!p)return null;var v=t.layout,m=r.type.defaultProps,g=m!==void 0?Zt(Zt({},m),r.props):r.props,y=g.dataKey,b=g.children,w=g.minPointSize,j=v==="horizontal"?i:o,N=u?j.scale.domain():null,S=Lne({numericAxis:j}),_=cn(b,Mi),P=f.map(function(E,$){var A,C,O,T,I,R;u?A=Tne(u[d+$],N):(A=qt(E,y),Array.isArray(A)||(A=[S,A]));var D=Ole(w,eO.defaultProps.minPointSize)(A[1],$);if(v==="horizontal"){var M,V=[i.scale(A[0]),i.scale(A[1])],re=V[0],K=V[1];C=G_({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:E,index:$}),O=(M=K??re)!==null&&M!==void 0?M:void 0,T=p.size;var te=re-K;if(I=Number.isNaN(te)?0:te,R={x:C,y:i.y,width:T,height:i.height},Math.abs(D)>0&&Math.abs(I)<Math.abs(D)){var ce=$r(I||D)*(Math.abs(D)-Math.abs(I));O-=ce,I+=ce}}else{var _e=[o.scale(A[0]),o.scale(A[1])],Ze=_e[0],Ee=_e[1];if(C=Ze,O=G_({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:E,index:$}),T=Ee-Ze,I=p.size,R={x:o.x,y:O,width:o.width,height:I},Math.abs(D)>0&&Math.abs(T)<Math.abs(D)){var le=$r(T||D)*(Math.abs(D)-Math.abs(T));T+=le}}return Zt(Zt(Zt({},E),{},{x:C,y:O,width:T,height:I,value:u?A:A[1],payload:E,background:R},_&&_[$]&&_[$].props),{},{tooltipPayload:[NE(r,E)],tooltipPosition:{x:C+T/2,y:O+I/2}})});return Zt({data:P,layout:v},h)});function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function Vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nO(n.key),n)}}function Ule(e,t,r){return t&&sS(e.prototype,t),r&&sS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){cp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cp(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nO(e){var t=Wle(e,"string");return pu(t)=="symbol"?t:t+""}function Wle(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aO=function(t,r,n,s,o){var i=t.width,c=t.height,l=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},h=!!en(u,_a);return d.reduce(function(p,v){var m=r[v],g=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,j=m.mirror,N=m.reversed,S="".concat(g).concat(j?"Mirror":""),_,P,E,$,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=y[1]-y[0],O=1/0,T=m.categoricalDomain.sort();if(T.forEach(function(_e,Ze){Ze>0&&(O=Math.min((_e||0)-(T[Ze-1]||0),O))}),Number.isFinite(O)){var I=O/C,R=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(_=I*R/2),m.padding==="no-gap"){var D=Mr(t.barCategoryGap,I*R),M=I*R/2;_=M-D-(M-D)/R*D}}}s==="xAxis"?P=[n.left+(w.left||0)+(_||0),n.left+n.width-(w.right||0)-(_||0)]:s==="yAxis"?P=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(_||0),n.top+n.height-(w.bottom||0)-(_||0)]:P=m.range,N&&(P=[P[1],P[0]]);var V=yE(m,o,h),re=V.scale,K=V.realScaleType;re.domain(y).range(P),bE(re);var te=wE(re,zn(zn({},m),{},{realScaleType:K}));s==="xAxis"?(A=g==="top"&&!j||g==="bottom"&&j,E=n.left,$=f[S]-A*m.height):s==="yAxis"&&(A=g==="left"&&!j||g==="right"&&j,E=f[S]-A*m.width,$=n.top);var ce=zn(zn(zn({},m),te),{},{realScaleType:K,x:E,y:$,scale:re,width:s==="xAxis"?n.width:m.width,height:s==="yAxis"?n.height:m.height});return ce.bandSize=rh(ce,te),!m.hide&&s==="xAxis"?f[S]+=(A?-1:1)*ce.height:m.hide||(f[S]+=(A?-1:1)*ce.width),zn(zn({},p),{},cp({},v,ce))},{})},sO=function(t,r){var n=t.x,s=t.y,o=r.x,i=r.y;return{x:Math.min(n,o),y:Math.min(s,i),width:Math.abs(o-n),height:Math.abs(i-s)}},qle=function(t){var r=t.x1,n=t.y1,s=t.x2,o=t.y2;return sO({x:r,y:n},{x:s,y:o})},oO=function(){function e(t){Vle(this,e),this.scale=t}return Ule(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+i}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(s){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],o=n[n.length-1];return s<=o?r>=s&&r<=o:r>=o&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();cp(oO,"EPS",1e-4);var u0=function(t){var r=Object.keys(t).reduce(function(n,s){return zn(zn({},n),{},cp({},s,oO.create(t[s])))},{});return zn(zn({},r),{},{apply:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.bandAware,c=o.position;return dle(s,function(l,u){return r[u].apply(l,{bandAware:i,position:c})})},isInRange:function(s){return QE(s,function(o,i){return r[i].isInRange(o)})}})};function Hle(e){return(e%180+180)%180}var Gle=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Hle(s),i=o*Math.PI/180,c=Math.atan(n/r),l=i>c&&i<Math.PI-c?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},Kle=Aa,Yle=qu,Zle=Um;function Xle(e){return function(t,r,n){var s=Object(t);if(!Yle(t)){var o=Kle(r);t=Zle(t),r=function(c){return o(s[c],c,s)}}var i=e(t,r,n);return i>-1?s[o?t[i]:i]:void 0}}var Jle=Xle,Qle=YE;function eue(e){var t=Qle(e),r=t%1;return t===t?r?t-r:t:0}var tue=eue,rue=Q2,nue=Aa,aue=tue,sue=Math.max;function oue(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:aue(r);return s<0&&(s=sue(n+s,0)),rue(e,nue(t),s)}var iue=oue,cue=Jle,lue=iue,uue=cue(lue),due=uue;const fue=yt(due);var hue=jU(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),d0=x.createContext(void 0),f0=x.createContext(void 0),iO=x.createContext(void 0),cO=x.createContext({}),lO=x.createContext(void 0),uO=x.createContext(0),dO=x.createContext(0),iS=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,o=r.offset,i=t.clipPathId,c=t.children,l=t.width,u=t.height,d=hue(o);return k.createElement(d0.Provider,{value:n},k.createElement(f0.Provider,{value:s},k.createElement(cO.Provider,{value:o},k.createElement(iO.Provider,{value:d},k.createElement(lO.Provider,{value:i},k.createElement(uO.Provider,{value:u},k.createElement(dO.Provider,{value:l},c)))))))},mue=function(){return x.useContext(lO)},fO=function(t){var r=x.useContext(d0);r==null&&Co();var n=r[t];return n==null&&Co(),n},pue=function(){var t=x.useContext(d0);return xs(t)},gue=function(){var t=x.useContext(f0),r=fue(t,function(n){return QE(n.domain,Number.isFinite)});return r||xs(t)},hO=function(t){var r=x.useContext(f0);r==null&&Co();var n=r[t];return n==null&&Co(),n},vue=function(){var t=x.useContext(iO);return t},xue=function(){return x.useContext(cO)},h0=function(){return x.useContext(dO)},m0=function(){return x.useContext(uO)};function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function yue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pO(n.key),n)}}function wue(e,t,r){return t&&bue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jue(e,t,r){return t=yh(t),Nue(e,mO()?Reflect.construct(t,r||[],yh(e).constructor):t.apply(e,r))}function Nue(e,t){if(t&&(Hi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ue(e)}function _ue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mO=function(){return!!e})()}function yh(e){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yh(e)}function Sue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ix(e,t)}function Ix(e,t){return Ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ix(e,t)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){p0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p0(e,t,r){return t=pO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pO(e){var t=Cue(e,"string");return Hi(t)=="symbol"?t:t+""}function Cue(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pue(e,t){return Oue(e)||Eue(e,t)||kue(e,t)||Aue()}function Aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kue(e,t){if(e){if(typeof e=="string")return uS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uS(e,t)}}function uS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function Oue(e){if(Array.isArray(e))return e}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lx.apply(this,arguments)}var Tue=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):$e(t)?n=t(r):n=k.createElement("line",Lx({},r,{className:"recharts-reference-line-line"})),n},$ue=function(t,r,n,s,o,i,c,l,u){var d=o.x,f=o.y,h=o.width,p=o.height;if(n){var v=u.y,m=t.y.apply(v,{position:i});if(xa(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return l==="left"?g.reverse():g}if(r){var y=u.x,b=t.x.apply(y,{position:i});if(xa(u,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+p},{x:b,y:f}];return c==="top"?w.reverse():w}if(s){var j=u.segment,N=j.map(function(S){return t.apply(S,{position:i})});return xa(u,"discard")&&nle(N,function(S){return!t.isInRange(S)})?null:N}return null};function Mue(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,o=e.yAxisId,i=e.shape,c=e.className,l=e.alwaysShow,u=mue(),d=fO(s),f=hO(o),h=vue();if(!u||!h)return null;qn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=u0({x:d.scale,y:f.scale}),v=ir(t),m=ir(r),g=n&&n.length===2,y=$ue(p,v,m,g,h,e.position,d.orientation,f.orientation,e);if(!y)return null;var b=Pue(y,2),w=b[0],j=w.x,N=w.y,S=b[1],_=S.x,P=S.y,E=xa(e,"hidden")?"url(#".concat(u,")"):void 0,$=lS(lS({clipPath:E},Ne(e,!0)),{},{x1:j,y1:N,x2:_,y2:P});return k.createElement(st,{className:We("recharts-reference-line",c)},Tue(i,$),ur.renderCallByParent(e,qle({x1:j,y1:N,x2:_,y2:P})))}var g0=function(e){function t(){return yue(this,t),jue(this,t,arguments)}return Sue(t,e),wue(t,[{key:"render",value:function(){return k.createElement(Mue,this.props)}}])}(k.Component);p0(g0,"displayName","ReferenceLine");p0(g0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(this,arguments)}function Gi(e){"@babel/helpers - typeof";return Gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gi(e)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Due(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vO(n.key),n)}}function Iue(e,t,r){return t&&Rue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lue(e,t,r){return t=bh(t),Fue(e,gO()?Reflect.construct(t,r||[],bh(e).constructor):t.apply(e,r))}function Fue(e,t){if(t&&(Gi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zue(e)}function zue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gO=function(){return!!e})()}function bh(e){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bh(e)}function Bue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zx(e,t)}function zx(e,t){return zx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zx(e,t)}function lp(e,t,r){return t=vO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vO(e){var t=Vue(e,"string");return Gi(t)=="symbol"?t:t+""}function Vue(e,t){if(Gi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uue=function(t){var r=t.x,n=t.y,s=t.xAxis,o=t.yAxis,i=u0({x:s.scale,y:o.scale}),c=i.apply({x:r,y:n},{bandAware:!0});return xa(t,"discard")&&!i.isInRange(c)?null:c},up=function(e){function t(){return Due(this,t),Lue(this,t,arguments)}return Bue(t,e),Iue(t,[{key:"render",value:function(){var n=this.props,s=n.x,o=n.y,i=n.r,c=n.alwaysShow,l=n.clipPathId,u=ir(s),d=ir(o);if(qn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Uue(this.props);if(!f)return null;var h=f.x,p=f.y,v=this.props,m=v.shape,g=v.className,y=xa(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=fS(fS({clipPath:y},Ne(this.props,!0)),{},{cx:h,cy:p});return k.createElement(st,{className:We("recharts-reference-dot",g)},t.renderDot(m,b),ur.renderCallByParent(this.props,{x:h-i,y:p-i,width:2*i,height:2*i}))}}])}(k.Component);lp(up,"displayName","ReferenceDot");lp(up,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lp(up,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):$e(e)?r=e(t):r=k.createElement(Xu,Fx({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(this,arguments)}function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ki(e)}function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){dp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function que(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yO(n.key),n)}}function Hue(e,t,r){return t&&que(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gue(e,t,r){return t=wh(t),Kue(e,xO()?Reflect.construct(t,r||[],wh(e).constructor):t.apply(e,r))}function Kue(e,t){if(t&&(Ki(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(e)}function Yue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xO=function(){return!!e})()}function wh(e){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wh(e)}function Zue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vx(e,t)}function Vx(e,t){return Vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Vx(e,t)}function dp(e,t,r){return t=yO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e){var t=Xue(e,"string");return Ki(t)=="symbol"?t:t+""}function Xue(e,t){if(Ki(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ki(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jue=function(t,r,n,s,o){var i=o.x1,c=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=u0({x:d.scale,y:f.scale}),p={x:t?h.x.apply(i,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(c,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return xa(o,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:sO(p,v)},fp=function(e){function t(){return Wue(this,t),Gue(this,t,arguments)}return Zue(t,e),Hue(t,[{key:"render",value:function(){var n=this.props,s=n.x1,o=n.x2,i=n.y1,c=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;qn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ir(s),h=ir(o),p=ir(i),v=ir(c),m=this.props.shape;if(!f&&!h&&!p&&!v&&!m)return null;var g=Jue(f,h,p,v,this.props);if(!g&&!m)return null;var y=xa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(st,{className:We("recharts-reference-area",l)},t.renderRect(m,mS(mS({clipPath:y},Ne(this.props,!0)),g)),ur.renderCallByParent(this.props,g))}}])}(k.Component);dp(fp,"displayName","ReferenceArea");dp(fp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});dp(fp,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):$e(e)?r=e(t):r=k.createElement(l0,Bx({},t,{className:"recharts-reference-area-rect"})),r});function bO(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Que(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Gle(n,r)}function ede(e,t,r){var n=r==="width",s=e.x,o=e.y,i=e.width,c=e.height;return t===1?{start:n?s:o,end:n?s+i:o+c}:{start:n?s+i:o+c,end:n?s:o}}function jh(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function tde(e,t){return bO(e,t+1)}function rde(e,t,r,n,s){for(var o=(n||[]).slice(),i=t.start,c=t.end,l=0,u=1,d=i,f=function(){var v=n?.[l];if(v===void 0)return{v:bO(n,u)};var m=l,g,y=function(){return g===void 0&&(g=r(v,m)),g},b=v.coordinate,w=l===0||jh(e,b,y,d,c);w||(l=0,d=i,u+=1),w&&(d=b+e*(y()/2+s),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nde(e,t,r){return t=ade(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ade(e){var t=sde(e,"string");return gu(t)=="symbol"?t:t+""}function sde(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ode(e,t,r,n,s){for(var o=(n||[]).slice(),i=o.length,c=t.start,l=t.end,u=function(h){var p=o[h],v,m=function(){return v===void 0&&(v=r(p,h)),v};if(h===i-1){var g=e*(p.coordinate+e*m()/2-l);o[h]=p=gr(gr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else o[h]=p=gr(gr({},p),{},{tickCoord:p.coordinate});var y=jh(e,p.tickCoord,m,c,l);y&&(l=p.tickCoord-e*(m()/2+s),o[h]=gr(gr({},p),{},{isShow:!0}))},d=i-1;d>=0;d--)u(d);return o}function ide(e,t,r,n,s,o){var i=(n||[]).slice(),c=i.length,l=t.start,u=t.end;if(o){var d=n[c-1],f=r(d,c-1),h=e*(d.coordinate+e*f/2-u);i[c-1]=d=gr(gr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=jh(e,d.tickCoord,function(){return f},l,u);p&&(u=d.tickCoord-e*(f/2+s),i[c-1]=gr(gr({},d),{},{isShow:!0}))}for(var v=o?c-1:c,m=function(b){var w=i[b],j,N=function(){return j===void 0&&(j=r(w,b)),j};if(b===0){var S=e*(w.coordinate-e*N()/2-l);i[b]=w=gr(gr({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else i[b]=w=gr(gr({},w),{},{tickCoord:w.coordinate});var _=jh(e,w.tickCoord,N,l,u);_&&(l=w.tickCoord+e*(N()/2+s),i[b]=gr(gr({},w),{},{isShow:!0}))},g=0;g<v;g++)m(g);return i}function v0(e,t,r){var n=e.tick,s=e.ticks,o=e.viewBox,i=e.minTickGap,c=e.orientation,l=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(ie(l)||Is.isSsr)return tde(s,typeof l=="number"&&ie(l)?l:0);var h=[],p=c==="top"||c==="bottom"?"width":"height",v=d&&p==="width"?xl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,j){var N=$e(u)?u(w.value,j):w.value;return p==="width"?Que(xl(N,{fontSize:t,letterSpacing:r}),v,f):xl(N,{fontSize:t,letterSpacing:r})[p]},g=s.length>=2?$r(s[1].coordinate-s[0].coordinate):1,y=ede(o,g,p);return l==="equidistantPreserveStart"?rde(g,y,m,s,i):(l==="preserveStart"||l==="preserveStartEnd"?h=ide(g,y,m,s,i,l==="preserveStartEnd"):h=ode(g,y,m,s,i),h.filter(function(b){return b.isShow}))}var cde=["viewBox"],lde=["viewBox"],ude=["ticks"];function Yi(e){"@babel/helpers - typeof";return Yi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yi(e)}function hi(){return hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){x0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tg(e,t){if(e==null)return{};var r=dde(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jO(n.key),n)}}function hde(e,t,r){return t&&vS(e.prototype,t),r&&vS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mde(e,t,r){return t=Nh(t),pde(e,wO()?Reflect.construct(t,r||[],Nh(e).constructor):t.apply(e,r))}function pde(e,t){if(t&&(Yi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(e)}function gde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wO=function(){return!!e})()}function Nh(e){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nh(e)}function vde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ux(e,t)}function Ux(e,t){return Ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ux(e,t)}function x0(e,t,r){return t=jO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jO(e){var t=xde(e,"string");return Yi(t)=="symbol"?t:t+""}function xde(e,t){if(Yi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rc=function(e){function t(r){var n;return fde(this,t),n=mde(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return vde(t,e),hde(t,[{key:"shouldComponentUpdate",value:function(n,s){var o=n.viewBox,i=Tg(n,cde),c=this.props,l=c.viewBox,u=Tg(c,lde);return!xi(o,l)||!xi(i,u)||!xi(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,o=s.x,i=s.y,c=s.width,l=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,p,v,m,g,y,b,w=f?-1:1,j=n.tickSize||d,N=ie(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,g=i+ +!f*l,m=g-w*j,b=m-w*h,y=N;break;case"left":m=g=n.coordinate,v=o+ +!f*c,p=v-w*j,y=p-w*h,b=N;break;case"right":m=g=n.coordinate,v=o+ +f*c,p=v+w*j,y=p+w*h,b=N;break;default:p=v=n.coordinate,g=i+ +f*l,m=g+w*j,b=m+w*h,y=N;break}return{line:{x1:p,y1:m,x2:v,y2:g},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i;switch(s){case"left":i=o?"start":"end";break;case"right":i=o?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,o=n.mirror,i="end";switch(s){case"left":case"right":i="middle";break;case"top":i=o?"start":"end";break;default:i=o?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,o=n.y,i=n.width,c=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,f=kr(kr(kr({},Ne(this.props,!1)),Ne(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=kr(kr({},f),{},{x1:s,y1:o+h*c,x2:s+i,y2:o+h*c})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=kr(kr({},f),{},{x1:s+p*i,y1:o,x2:s+p*i,y2:o+c})}return k.createElement("line",hi({},f,{className:We("recharts-cartesian-axis-line",on(d,"className"))}))}},{key:"renderTicks",value:function(n,s,o){var i=this,c=this.props,l=c.tickLine,u=c.stroke,d=c.tick,f=c.tickFormatter,h=c.unit,p=v0(kr(kr({},this.props),{},{ticks:n}),s,o),v=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Ne(this.props,!1),y=Ne(d,!1),b=kr(kr({},g),{},{fill:"none"},Ne(l,!1)),w=p.map(function(j,N){var S=i.getTickLineCoord(j),_=S.line,P=S.tick,E=kr(kr(kr(kr({textAnchor:v,verticalAnchor:m},g),{},{stroke:"none",fill:u},y),P),{},{index:N,payload:j,visibleTicksCount:p.length,tickFormatter:f});return k.createElement(st,hi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},jo(i.props,j,N)),l&&k.createElement("line",hi({},b,_,{className:We("recharts-cartesian-axis-tick-line",on(l,"className"))})),d&&t.renderTickItem(d,E,"".concat($e(f)?f(j.value,N):j.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,o=s.axisLine,i=s.width,c=s.height,l=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,p=Tg(f,ude),v=h;return $e(l)&&(v=h&&h.length>0?l(this.props):l(p)),i<=0||c<=0||!v||!v.length?null:k.createElement(st,{className:We("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),ur.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,o){var i;return k.isValidElement(n)?i=k.cloneElement(n,s):$e(n)?i=n(s):i=k.createElement(No,hi({},s,{className:"recharts-cartesian-axis-tick-value"}),o),i}}])}(x.Component);x0(Rc,"displayName","CartesianAxis");x0(Rc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yde=["x1","y1","x2","y2","key"],bde=["offset"];function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){wde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wde(e,t,r){return t=jde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jde(e){var t=Nde(e,"string");return Po(t)=="symbol"?t:t+""}function Nde(e,t){if(Po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(this,arguments)}function yS(e,t){if(e==null)return{};var r=_de(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _de(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Sde=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,o=t.y,i=t.width,c=t.height,l=t.ry;return k.createElement("rect",{x:s,y:o,ry:l,width:i,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function NO(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if($e(e))r=e(t);else{var n=t.x1,s=t.y1,o=t.x2,i=t.y2,c=t.key,l=yS(t,yde),u=Ne(l,!1);u.offset;var d=yS(u,bde);r=k.createElement("line",lo({},d,{x1:n,y1:s,x2:o,y2:i,fill:"none",key:c}))}return r}function Cde(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,o=e.horizontalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(c,l){var u=yr(yr({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(l),index:l});return NO(s,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function Pde(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,o=e.verticalPoints;if(!s||!o||!o.length)return null;var i=o.map(function(c,l){var u=yr(yr({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(l),index:l});return NO(s,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function Ade(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,o=e.width,i=e.height,c=e.horizontalPoints,l=e.horizontal,u=l===void 0?!0:l;if(!u||!t||!t.length)return null;var d=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?s+i-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return k.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:o,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function kde(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,o=e.x,i=e.y,c=e.width,l=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var v=!d[p+1],m=v?o+c-h:d[p+1]-h;if(m<=0)return null;var g=p%n.length;return k.createElement("rect",{key:"react-".concat(p),x:h,y:i,width:m,height:l,stroke:"none",fill:n[g],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Ede=function(t,r){var n=t.xAxis,s=t.width,o=t.height,i=t.offset;return xE(v0(yr(yr(yr({},Rc.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.left,i.left+i.width,r)},Ode=function(t,r){var n=t.yAxis,s=t.width,o=t.height,i=t.offset;return xE(v0(yr(yr(yr({},Rc.defaultProps),n),{},{ticks:Wa(n,!0),viewBox:{x:0,y:0,width:s,height:o}})),i.top,i.top+i.height,r)},ni={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function _l(e){var t,r,n,s,o,i,c=h0(),l=m0(),u=xue(),d=yr(yr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ni.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ni.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ni.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ni.horizontalFill,vertical:(o=e.vertical)!==null&&o!==void 0?o:ni.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ni.verticalFill,x:ie(e.x)?e.x:u.left,y:ie(e.y)?e.y:u.top,width:ie(e.width)?e.width:u.width,height:ie(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,v=d.height,m=d.syncWithTicks,g=d.horizontalValues,y=d.verticalValues,b=pue(),w=gue();if(!ie(p)||p<=0||!ie(v)||v<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||Ede,N=d.horizontalCoordinatesGenerator||Ode,S=d.horizontalPoints,_=d.verticalPoints;if((!S||!S.length)&&$e(N)){var P=g&&g.length,E=N({yAxis:w?yr(yr({},w),{},{ticks:P?g:w.ticks}):void 0,width:c,height:l,offset:u},P?!0:m);qn(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Po(E),"]")),Array.isArray(E)&&(S=E)}if((!_||!_.length)&&$e(j)){var $=y&&y.length,A=j({xAxis:b?yr(yr({},b),{},{ticks:$?y:b.ticks}):void 0,width:c,height:l,offset:u},$?!0:m);qn(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Po(A),"]")),Array.isArray(A)&&(_=A)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(Sde,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),k.createElement(Cde,lo({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:w})),k.createElement(Pde,lo({},d,{offset:u,verticalPoints:_,xAxis:b,yAxis:w})),k.createElement(Ade,lo({},d,{horizontalPoints:S})),k.createElement(kde,lo({},d,{verticalPoints:_})))}_l.displayName="CartesianGrid";var Tde=["type","layout","connectNulls","ref"],$de=["key"];function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function bS(e,t){if(e==null)return{};var r=Mde(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(this,arguments)}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){Bn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ai(e){return Lde(e)||Ide(e)||Rde(e)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(e,t){if(e){if(typeof e=="string")return Wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wx(e,t)}}function Ide(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lde(e){if(Array.isArray(e))return Wx(e)}function Wx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SO(n.key),n)}}function zde(e,t,r){return t&&jS(e.prototype,t),r&&jS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bde(e,t,r){return t=_h(t),Vde(e,_O()?Reflect.construct(t,r||[],_h(e).constructor):t.apply(e,r))}function Vde(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(e)}function Ude(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_O=function(){return!!e})()}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_h(e)}function Wde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qx(e,t)}function qx(e,t){return qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qx(e,t)}function Bn(e,t,r){return t=SO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SO(e){var t=qde(e,"string");return Zi(t)=="symbol"?t:t+""}function qde(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hp=function(e){function t(){var r;Fde(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=Bde(this,t,[].concat(s)),Bn(r,"state",{isAnimationFinished:!0,totalLength:0}),Bn(r,"generateSimpleStrokeDasharray",function(i,c){return"".concat(c,"px ").concat(i-c,"px")}),Bn(r,"getStrokeDasharray",function(i,c,l){var u=l.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(c,i);for(var d=Math.floor(i/u),f=i%u,h=c-i,p=[],v=0,m=0;v<l.length;m+=l[v],++v)if(m+l[v]>f){p=[].concat(ai(l.slice(0,v)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(ai(t.repeat(l,d)),ai(p),g).map(function(y){return"".concat(y,"px")}).join(", ")}),Bn(r,"id",Fo("recharts-line-")),Bn(r,"pathRef",function(i){r.mainCurve=i}),Bn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Bn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Wde(t,e),zde(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,c=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=cn(d,Zu);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:qt(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return k.createElement(st,p,f.map(function(v){return k.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:i,xAxis:c,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var c=this.props,l=c.dot,u=c.points,d=c.dataKey,f=Ne(this.props,!1),h=Ne(l,!0),p=u.map(function(m,g){var y=Xr(Xr(Xr({key:"dot-".concat(g),r:3},f),h),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:g,payload:m.payload});return t.renderDotItem(l,y)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return k.createElement(st,Sl({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,s,o,i){var c=this.props,l=c.type,u=c.layout,d=c.connectNulls;c.ref;var f=bS(c,Tde),h=Xr(Xr(Xr({},Ne(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(o,")"):null,points:n},i),{},{type:l,layout:u,connectNulls:d});return k.createElement(po,Sl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var o=this,i=this.props,c=i.points,l=i.strokeDasharray,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=i.animateNewValues,m=i.width,g=i.height,y=this.state,b=y.prevPoints,w=y.totalLength;return k.createElement(Yn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var N=j.t;if(b){var S=b.length/c.length,_=c.map(function(C,O){var T=Math.floor(O*S);if(b[T]){var I=b[T],R=sr(I.x,C.x),D=sr(I.y,C.y);return Xr(Xr({},C),{},{x:R(N),y:D(N)})}if(v){var M=sr(m*2,C.x),V=sr(g/2,C.y);return Xr(Xr({},C),{},{x:M(N),y:V(N)})}return Xr(Xr({},C),{},{x:C.x,y:C.y})});return o.renderCurveStatically(_,n,s)}var P=sr(0,w),E=P(N),$;if(l){var A="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});$=o.getStrokeDasharray(E,w,A)}else $=o.generateSimpleStrokeDasharray(w,E);return o.renderCurveStatically(c,n,s,{strokeDasharray:$})})}},{key:"renderCurve",value:function(n,s){var o=this.props,i=o.points,c=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return c&&i&&i.length&&(!u&&d>0||!_o(u,i))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(i,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,i=s.dot,c=s.points,l=s.className,u=s.xAxis,d=s.yAxis,f=s.top,h=s.left,p=s.width,v=s.height,m=s.isAnimationActive,g=s.id;if(o||!c||!c.length)return null;var y=this.state.isAnimationFinished,b=c.length===1,w=We("recharts-line",l),j=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=j||N,_=ze(g)?this.id:g,P=(n=Ne(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,$=E===void 0?3:E,A=P.strokeWidth,C=A===void 0?2:A,O=u2(i)?i:{},T=O.clipDot,I=T===void 0?!0:T,R=$*2+C;return k.createElement(st,{className:w},j||N?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:j?h:h-p/2,y:N?f:f-v/2,width:j?p:p*2,height:N?v:v*2})),!I&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:h-R/2,y:f-R/2,width:p+R,height:v+R}))):null,!b&&this.renderCurve(S,_),this.renderErrorBar(S,_),(b||i)&&this.renderDots(S,I,_),(!m||y)&&va.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var o=n.length%2!==0?[].concat(ai(n),[0]):n,i=[],c=0;c<s;++c)i=[].concat(ai(i),ai(o));return i}},{key:"renderDotItem",value:function(n,s){var o;if(k.isValidElement(n))o=k.cloneElement(n,s);else if($e(n))o=n(s);else{var i=s.key,c=bS(s,$de),l=We("recharts-line-dot",typeof n!="boolean"?n.className:"");o=k.createElement(Xu,Sl({key:i},c,{className:l}))}return o}}])}(x.PureComponent);Bn(hp,"displayName","Line");Bn(hp,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Is.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Bn(hp,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,i=e.dataKey,c=e.bandSize,l=e.displayedData,u=e.offset,d=t.layout,f=l.map(function(h,p){var v=qt(h,i);return d==="horizontal"?{x:th({axis:r,ticks:s,bandSize:c,entry:h,index:p}),y:ze(v)?null:n.scale(v),value:v,payload:h}:{x:ze(v)?null:r.scale(v),y:th({axis:n,ticks:o,bandSize:c,entry:h,index:p}),value:v,payload:h}});return Xr({points:f,layout:d},u)});var Hde=["layout","type","stroke","connectNulls","isRange","ref"],Gde=["key"],CO;function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function PO(e,t){if(e==null)return{};var r=Kde(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(this,arguments)}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){da(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function Zde(e,t,r){return t&&_S(e.prototype,t),r&&_S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xde(e,t,r){return t=Sh(t),Jde(e,AO()?Reflect.construct(t,r||[],Sh(e).constructor):t.apply(e,r))}function Jde(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qde(e)}function Qde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AO=function(){return!!e})()}function Sh(e){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sh(e)}function efe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hx(e,t)}function Hx(e,t){return Hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Hx(e,t)}function da(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=tfe(e,"string");return Xi(t)=="symbol"?t:t+""}function tfe(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sa=function(e){function t(){var r;Yde(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return r=Xde(this,t,[].concat(s)),da(r,"state",{isAnimationFinished:!0}),da(r,"id",Fo("recharts-area-")),da(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),$e(i)&&i()}),da(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),$e(i)&&i()}),r}return efe(t,e),Zde(t,[{key:"renderDots",value:function(n,s,o){var i=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(i&&!c)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=Ne(this.props,!1),p=Ne(u,!0),v=d.map(function(g,y){var b=ps(ps(ps({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,b)}),m={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(o,")"):null};return k.createElement(st,uo({className:"recharts-area-dots"},m),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,o=s.baseLine,i=s.points,c=s.strokeWidth,l=i[0].x,u=i[i.length-1].x,d=n*Math.abs(l-u),f=bs(i.map(function(h){return h.y||0}));return ie(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(bs(o.map(function(h){return h.y||0})),f)),ie(f)?k.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,o=s.baseLine,i=s.points,c=s.strokeWidth,l=i[0].y,u=i[i.length-1].y,d=n*Math.abs(l-u),f=bs(i.map(function(h){return h.x||0}));return ie(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(bs(o.map(function(h){return h.x||0})),f)),ie(f)?k.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,o,i){var c=this.props,l=c.layout,u=c.type,d=c.stroke,f=c.connectNulls,h=c.isRange;c.ref;var p=PO(c,Hde);return k.createElement(st,{clipPath:o?"url(#clipPath-".concat(i,")"):null},k.createElement(po,uo({},Ne(p,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&k.createElement(po,uo({},Ne(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&k.createElement(po,uo({},Ne(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var o=this,i=this.props,c=i.points,l=i.baseLine,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,v=this.state,m=v.prevPoints,g=v.prevBaseLine;return k.createElement(Yn,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var b=y.t;if(m){var w=m.length/c.length,j=c.map(function(P,E){var $=Math.floor(E*w);if(m[$]){var A=m[$],C=sr(A.x,P.x),O=sr(A.y,P.y);return ps(ps({},P),{},{x:C(b),y:O(b)})}return P}),N;if(ie(l)&&typeof l=="number"){var S=sr(g,l);N=S(b)}else if(ze(l)||Ac(l)){var _=sr(g,0);N=_(b)}else N=l.map(function(P,E){var $=Math.floor(E*w);if(g[$]){var A=g[$],C=sr(A.x,P.x),O=sr(A.y,P.y);return ps(ps({},P),{},{x:C(b),y:O(b)})}return P});return o.renderAreaStatically(j,N,n,s)}return k.createElement(st,null,k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(s)},o.renderClipRect(b))),k.createElement(st,{clipPath:"url(#animationClipPath-".concat(s,")")},o.renderAreaStatically(c,l,n,s)))})}},{key:"renderArea",value:function(n,s){var o=this.props,i=o.points,c=o.baseLine,l=o.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&i&&i.length&&(!d&&h>0||!_o(d,i)||!_o(f,c))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(i,c,n,s)}},{key:"render",value:function(){var n,s=this.props,o=s.hide,i=s.dot,c=s.points,l=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,p=s.width,v=s.height,m=s.isAnimationActive,g=s.id;if(o||!c||!c.length)return null;var y=this.state.isAnimationFinished,b=c.length===1,w=We("recharts-area",l),j=f&&f.allowDataOverflow,N=h&&h.allowDataOverflow,S=j||N,_=ze(g)?this.id:g,P=(n=Ne(i,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},E=P.r,$=E===void 0?3:E,A=P.strokeWidth,C=A===void 0?2:A,O=u2(i)?i:{},T=O.clipDot,I=T===void 0?!0:T,R=$*2+C;return k.createElement(st,{className:w},j||N?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(_)},k.createElement("rect",{x:j?d:d-p/2,y:N?u:u-v/2,width:j?p:p*2,height:N?v:v*2})),!I&&k.createElement("clipPath",{id:"clipPath-dots-".concat(_)},k.createElement("rect",{x:d-R/2,y:u-R/2,width:p+R,height:v+R}))):null,b?null:this.renderArea(S,_),(i||b)&&this.renderDots(S,I,_),(!m||y)&&va.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);CO=Sa;da(Sa,"displayName","Area");da(Sa,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Is.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});da(Sa,"getBaseValue",function(e,t,r,n){var s=e.layout,o=e.baseValue,i=t.props.baseValue,c=i??o;if(ie(c)&&typeof c=="number")return c;var l=s==="horizontal"?n:r,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return c==="dataMin"?f:c==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return c==="dataMin"?u[0]:c==="dataMax"?u[1]:u[0]});da(Sa,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,c=e.bandSize,l=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,v=u&&u.length,m=CO.getBaseValue(t,r,n,s),g=p==="horizontal",y=!1,b=f.map(function(j,N){var S;v?S=u[d+N]:(S=qt(j,l),Array.isArray(S)?y=!0:S=[m,S]);var _=S[1]==null||v&&qt(j,l)==null;return g?{x:th({axis:n,ticks:o,bandSize:c,entry:j,index:N}),y:_?null:s.scale(S[1]),value:S,payload:j}:{x:_?null:n.scale(S[1]),y:th({axis:s,ticks:i,bandSize:c,entry:j,index:N}),value:S,payload:j}}),w;return v||y?w=b.map(function(j){var N=Array.isArray(j.value)?j.value[0]:null;return g?{x:j.x,y:N!=null&&j.y!=null?s.scale(N):null}:{x:N!=null?n.scale(N):null,y:j.y}}):w=g?s.scale(m):n.scale(m),ps({points:b,baseLine:w,layout:p,isRange:y},h)});da(Sa,"renderDotItem",function(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if($e(e))r=e(t);else{var n=We("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,o=PO(t,Gde);r=k.createElement(Xu,uo({},o,{key:s,className:n}))}return r});function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function rfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TO(n.key),n)}}function afe(e,t,r){return t&&nfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sfe(e,t,r){return t=Ch(t),ofe(e,EO()?Reflect.construct(t,r||[],Ch(e).constructor):t.apply(e,r))}function ofe(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ife(e)}function ife(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EO=function(){return!!e})()}function Ch(e){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ch(e)}function cfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gx(e,t)}function Gx(e,t){return Gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gx(e,t)}function OO(e,t,r){return t=TO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TO(e){var t=lfe(e,"string");return Ji(t)=="symbol"?t:t+""}function lfe(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}function ufe(e){var t=e.xAxisId,r=h0(),n=m0(),s=fO(t);return s==null?null:k.createElement(Rc,Kx({},s,{className:We("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(i){return Wa(i,!0)}}))}var Ya=function(e){function t(){return rfe(this,t),sfe(this,t,arguments)}return cfe(t,e),afe(t,[{key:"render",value:function(){return k.createElement(ufe,this.props)}}])}(k.Component);OO(Ya,"displayName","XAxis");OO(Ya,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function dfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ffe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DO(n.key),n)}}function hfe(e,t,r){return t&&ffe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mfe(e,t,r){return t=Ph(t),pfe(e,$O()?Reflect.construct(t,r||[],Ph(e).constructor):t.apply(e,r))}function pfe(e,t){if(t&&(Qi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gfe(e)}function gfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($O=function(){return!!e})()}function Ph(e){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ph(e)}function vfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yx(e,t)}function Yx(e,t){return Yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yx(e,t)}function MO(e,t,r){return t=DO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DO(e){var t=xfe(e,"string");return Qi(t)=="symbol"?t:t+""}function xfe(e,t){if(Qi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}var yfe=function(t){var r=t.yAxisId,n=h0(),s=m0(),o=hO(r);return o==null?null:k.createElement(Rc,Zx({},o,{className:We("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(c){return Wa(c,!0)}}))},Za=function(e){function t(){return dfe(this,t),mfe(this,t,arguments)}return vfe(t,e),hfe(t,[{key:"render",value:function(){return k.createElement(yfe,this.props)}}])}(k.Component);MO(Za,"displayName","YAxis");MO(Za,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function SS(e){return Nfe(e)||jfe(e)||wfe(e)||bfe()}function bfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wfe(e,t){if(e){if(typeof e=="string")return Xx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xx(e,t)}}function jfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nfe(e){if(Array.isArray(e))return Xx(e)}function Xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jx=function(t,r,n,s,o){var i=cn(t,g0),c=cn(t,up),l=[].concat(SS(i),SS(c)),u=cn(t,fp),d="".concat(s,"Id"),f=s[0],h=r;if(l.length&&(h=l.reduce(function(m,g){if(g.props[d]===n&&xa(g.props,"extendDomain")&&ie(g.props[f])){var y=g.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),u.length){var p="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(m,g){if(g.props[d]===n&&xa(g.props,"extendDomain")&&ie(g.props[p])&&ie(g.props[v])){var y=g.props[p],b=g.props[v];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return o&&o.length&&(h=o.reduce(function(m,g){return ie(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},RO={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function i(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},c.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,v=new Array(p);h<p;h++)v[h]=f[h].fn;return v},c.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},c.prototype.emit=function(u,d,f,h,p,v){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],y=arguments.length,b,w;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,v),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];g.fn.apply(g.context,b)}else{var j=g.length,N;for(w=0;w<j;w++)switch(g[w].once&&this.removeListener(u,g[w].fn,void 0,!0),y){case 1:g[w].fn.call(g[w].context);break;case 2:g[w].fn.call(g[w].context,d);break;case 3:g[w].fn.call(g[w].context,d,f);break;case 4:g[w].fn.call(g[w].context,d,f,h);break;default:if(!b)for(N=1,b=new Array(y-1);N<y;N++)b[N-1]=arguments[N];g[w].fn.apply(g[w].context,b)}}return!0},c.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},c.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},c.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return i(this,p),this;var v=this._events[p];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&i(this,p);else{for(var m=0,g=[],y=v.length;m<y;m++)(v[m].fn!==d||h&&!v[m].once||f&&v[m].context!==f)&&g.push(v[m]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},c.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(RO);var _fe=RO.exports;const Sfe=yt(_fe);var $g=new Sfe,Mg="recharts.syncMouseEvents";function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function Cfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IO(n.key),n)}}function Afe(e,t,r){return t&&Pfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dg(e,t,r){return t=IO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IO(e){var t=kfe(e,"string");return vu(t)=="symbol"?t:t+""}function kfe(e,t){if(vu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Efe=function(){function e(){Cfe(this,e),Dg(this,"activeIndex",0),Dg(this,"coordinateList",[]),Dg(this,"layout","horizontal")}return Afe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,o=s===void 0?null:s,i=r.container,c=i===void 0?null:i,l=r.layout,u=l===void 0?null:l,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),o=s.x,i=s.y,c=s.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=o+l+u,h=i+this.offset.top+c/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Ofe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],s=e?.[1];if(n&&s&&ie(n)&&ie(s))return!0}return!1}function Tfe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function LO(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,o=e.endAngle,i=Ct(t,r,n,s),c=Ct(t,r,n,o);return{points:[i,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function $fe(e,t,r){var n,s,o,i;if(e==="horizontal")n=t.x,o=n,s=r.top,i=r.top+r.height;else if(e==="vertical")s=t.y,i=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,l=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ct(c,l,u,f),p=Ct(c,l,d,f);n=h.x,s=h.y,o=p.x,i=p.y}else return LO(t);return[{x:n,y:s},{x:o,y:i}]}function xu(e){"@babel/helpers - typeof";return xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xu(e)}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){Mfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mfe(e,t,r){return t=Dfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dfe(e){var t=Rfe(e,"string");return xu(t)=="symbol"?t:t+""}function Rfe(e,t){if(xu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ife(e){var t,r,n=e.element,s=e.tooltipEventType,o=e.isActive,i=e.activeCoordinate,c=e.activePayload,l=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!o||!i||h!=="ScatterChart"&&s!=="axis")return null;var v,m=po;if(h==="ScatterChart")v=i,m=qoe;else if(h==="BarChart")v=Tfe(f,i,l,d),m=l0;else if(f==="radial"){var g=LO(i),y=g.cx,b=g.cy,w=g.radius,j=g.startAngle,N=g.endAngle;v={cx:y,cy:b,startAngle:j,endAngle:N,innerRadius:w,outerRadius:w},m=kE}else v={points:$fe(f,i,l)},m=po;var S=Fd(Fd(Fd(Fd({stroke:"#ccc",pointerEvents:"none"},l),v),Ne(p,!1)),{},{payload:c,payloadIndex:u,className:We("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,S):x.createElement(m,S)}var Lfe=["item"],Ffe=["children","className","width","height","style","compact","title","desc"];function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cl.apply(this,arguments)}function PS(e,t){return Vfe(e)||Bfe(e,t)||zO(e,t)||zfe()}function zfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,t!==0)for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,s=d}finally{try{if(!l&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return c}}function Vfe(e){if(Array.isArray(e))return e}function AS(e,t){if(e==null)return{};var r=Ufe(e,t),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ufe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Wfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BO(n.key),n)}}function Hfe(e,t,r){return t&&qfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gfe(e,t,r){return t=Ah(t),Kfe(e,FO()?Reflect.construct(t,r||[],Ah(e).constructor):t.apply(e,r))}function Kfe(e,t){if(t&&(ec(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(e)}function Yfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function Ah(e){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(e)}function Zfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qx(e,t)}function Qx(e,t){return Qx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Qx(e,t)}function tc(e){return Qfe(e)||Jfe(e)||zO(e)||Xfe()}function Xfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zO(e,t){if(e){if(typeof e=="string")return ey(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}}function Jfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qfe(e){if(Array.isArray(e))return ey(e)}function ey(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oe(e,t,r){return t=BO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BO(e){var t=ehe(e,"string");return ec(t)=="symbol"?t:t+""}function ehe(e,t){if(ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var the={xAxis:["bottom","top"],yAxis:["left","right"]},rhe={width:"100%",height:"100%"},VO={x:0,y:0};function zd(e){return e}var nhe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},ahe=function(t,r,n,s){var o=r.find(function(d){return d&&d.index===n});if(o){if(t==="horizontal")return{x:o.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:o.coordinate};if(t==="centric"){var i=o.coordinate,c=s.radius;return Z(Z(Z({},s),Ct(s.cx,s.cy,c,i)),{},{angle:i,radius:c})}var l=o.coordinate,u=s.angle;return Z(Z(Z({},s),Ct(s.cx,s.cy,l,u)),{},{angle:u,radius:l})}return VO},mp=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,o=r.dataEndIndex,i=(n??[]).reduce(function(c,l){var u=l.props.data;return u&&u.length?[].concat(tc(c),tc(u)):c},[]);return i.length>0?i:t&&t.length&&ie(s)&&ie(o)?t.slice(s,o+1):[]};function UO(e){return e==="number"?[0,"auto"]:void 0}var ty=function(t,r,n,s){var o=t.graphicalItems,i=t.tooltipAxis,c=mp(r,t);return n<0||!o||!o.length||n>=c.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(i.dataKey&&!i.allowDuplicatedCategory){var p=f===void 0?c:f;h=Pf(p,i.dataKey,s)}else h=f&&f[n]||c[n];return h?[].concat(tc(l),[NE(u,h)]):l},[])},ES=function(t,r,n,s){var o=s||{x:t.chartX,y:t.chartY},i=nhe(o,n),c=t.orderedTooltipTicks,l=t.tooltipAxis,u=t.tooltipTicks,d=Sne(i,c,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=ty(t,r,d,f),p=ahe(n,c,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},she=function(t,r){var n=r.axes,s=r.graphicalItems,o=r.axisType,i=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=vE(d,o);return n.reduce(function(v,m){var g,y=m.type.defaultProps!==void 0?Z(Z({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,j=y.allowDataOverflow,N=y.allowDuplicatedCategory,S=y.scale,_=y.ticks,P=y.includeHidden,E=y[i];if(v[E])return v;var $=mp(t.data,{graphicalItems:s.filter(function(te){var ce,_e=i in te.props?te.props[i]:(ce=te.type.defaultProps)===null||ce===void 0?void 0:ce[i];return _e===E}),dataStartIndex:l,dataEndIndex:u}),A=$.length,C,O,T;Ofe(y.domain,j,b)&&(C=mx(y.domain,null,j),p&&(b==="number"||S!=="auto")&&(T=bl($,w,"category")));var I=UO(b);if(!C||C.length===0){var R,D=(R=y.domain)!==null&&R!==void 0?R:I;if(w){if(C=bl($,w,b),b==="category"&&p){var M=g9(C);N&&M?(O=C,C=mh(0,A)):N||(C=Z_(D,C,m).reduce(function(te,ce){return te.indexOf(ce)>=0?te:[].concat(tc(te),[ce])},[]))}else if(b==="category")N?C=C.filter(function(te){return te!==""&&!ze(te)}):C=Z_(D,C,m).reduce(function(te,ce){return te.indexOf(ce)>=0||ce===""||ze(ce)?te:[].concat(tc(te),[ce])},[]);else if(b==="number"){var V=Ene($,s.filter(function(te){var ce,_e,Ze=i in te.props?te.props[i]:(ce=te.type.defaultProps)===null||ce===void 0?void 0:ce[i],Ee="hide"in te.props?te.props.hide:(_e=te.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ze===E&&(P||!Ee)}),w,o,d);V&&(C=V)}p&&(b==="number"||S!=="auto")&&(T=bl($,w,"category"))}else p?C=mh(0,A):c&&c[E]&&c[E].hasStack&&b==="number"?C=h==="expand"?[0,1]:jE(c[E].stackGroups,l,u):C=gE($,s.filter(function(te){var ce=i in te.props?te.props[i]:te.type.defaultProps[i],_e="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return ce===E&&(P||!_e)}),b,d,!0);if(b==="number")C=Jx(f,C,E,o,_),D&&(C=mx(D,C,j));else if(b==="category"&&D){var re=D,K=C.every(function(te){return re.indexOf(te)>=0});K&&(C=re)}}return Z(Z({},v),{},Oe({},E,Z(Z({},y),{},{axisType:o,domain:C,categoricalDomain:T,duplicateDomain:O,originalDomain:(g=y.domain)!==null&&g!==void 0?g:I,isCategorical:p,layout:d})))},{})},ohe=function(t,r){var n=r.graphicalItems,s=r.Axis,o=r.axisType,i=r.axisIdKey,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=mp(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=h.length,v=vE(d,o),m=-1;return n.reduce(function(g,y){var b=y.type.defaultProps!==void 0?Z(Z({},y.type.defaultProps),y.props):y.props,w=b[i],j=UO("number");if(!g[w]){m++;var N;return v?N=mh(0,p):c&&c[w]&&c[w].hasStack?(N=jE(c[w].stackGroups,l,u),N=Jx(f,N,w,o)):(N=mx(j,gE(h,n.filter(function(S){var _,P,E=i in S.props?S.props[i]:(_=S.type.defaultProps)===null||_===void 0?void 0:_[i],$="hide"in S.props?S.props.hide:(P=S.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===w&&!$}),"number",d),s.defaultProps.allowDataOverflow),N=Jx(f,N,w,o)),Z(Z({},g),{},Oe({},w,Z(Z({axisType:o},s.defaultProps),{},{hide:!0,orientation:on(the,"".concat(o,".").concat(m%2),null),domain:N,originalDomain:j,isCategorical:v,layout:d})))}return g},{})},ihe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,o=r.AxisComp,i=r.graphicalItems,c=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=cn(d,o),p={};return h&&h.length?p=she(t,{axes:h,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u}):i&&i.length&&(p=ohe(t,{Axis:o,graphicalItems:i,axisType:s,axisIdKey:f,stackGroups:c,dataStartIndex:l,dataEndIndex:u})),p},che=function(t){var r=xs(t),n=Wa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Rb(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rh(r,n)}},OS=function(t){var r=t.children,n=t.defaultShowTooltip,s=en(r,Wi),o=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(o=s.props.startIndex),s.props.endIndex>=0&&(i=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!n}},lhe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ga(r&&r.type);return n&&n.indexOf("Bar")>=0})},TS=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uhe=function(t,r){var n=t.props,s=t.graphicalItems,o=t.xAxisMap,i=o===void 0?{}:o,c=t.yAxisMap,l=c===void 0?{}:c,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=en(f,Wi),v=en(f,pa),m=Object.keys(l).reduce(function(N,S){var _=l[S],P=_.orientation;return!_.mirror&&!_.hide?Z(Z({},N),{},Oe({},P,N[P]+_.width)):N},{left:h.left||0,right:h.right||0}),g=Object.keys(i).reduce(function(N,S){var _=i[S],P=_.orientation;return!_.mirror&&!_.hide?Z(Z({},N),{},Oe({},P,on(N,"".concat(P))+_.height)):N},{top:h.top||0,bottom:h.bottom||0}),y=Z(Z({},g),m),b=y.bottom;p&&(y.bottom+=p.props.height||Wi.defaultProps.height),v&&r&&(y=Ane(y,s,n,r));var w=u-y.left-y.right,j=d-y.top-y.bottom;return Z(Z({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(j,0)})},dhe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},y0=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,o=s===void 0?"axis":s,i=t.validateTooltipEventTypes,c=i===void 0?["axis"]:i,l=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(g,y){var b=y.graphicalItems,w=y.stackGroups,j=y.offset,N=y.updateId,S=y.dataStartIndex,_=y.dataEndIndex,P=g.barSize,E=g.layout,$=g.barGap,A=g.barCategoryGap,C=g.maxBarSize,O=TS(E),T=O.numericAxisName,I=O.cateAxisName,R=lhe(b),D=[];return b.forEach(function(M,V){var re=mp(g.data,{graphicalItems:[M],dataStartIndex:S,dataEndIndex:_}),K=M.type.defaultProps!==void 0?Z(Z({},M.type.defaultProps),M.props):M.props,te=K.dataKey,ce=K.maxBarSize,_e=K["".concat(T,"Id")],Ze=K["".concat(I,"Id")],Ee={},le=l.reduce(function(L,q){var G=y["".concat(q.axisType,"Map")],ve=K["".concat(q.axisType,"Id")];G&&G[ve]||q.axisType==="zAxis"||Co();var pe=G[ve];return Z(Z({},L),{},Oe(Oe({},q.axisType,pe),"".concat(q.axisType,"Ticks"),Wa(pe)))},Ee),Re=le[I],oe=le["".concat(I,"Ticks")],me=w&&w[_e]&&w[_e].hasStack&&Fne(M,w[_e].stackGroups),be=Ga(M.type).indexOf("Bar")>=0,Y=rh(Re,oe),Xe=[],he=R&&Cne({barSize:P,stackGroups:w,totalSize:dhe(le,I)});if(be){var Ve,Ae,Je=ze(ce)?C:ce,fr=(Ve=(Ae=rh(Re,oe,!0))!==null&&Ae!==void 0?Ae:Je)!==null&&Ve!==void 0?Ve:0;Xe=Pne({barGap:$,barCategoryGap:A,bandSize:fr!==Y?fr:Y,sizeList:he[Ze],maxBarSize:Je}),fr!==Y&&(Xe=Xe.map(function(L){return Z(Z({},L),{},{position:Z(Z({},L.position),{},{offset:L.position.offset-fr/2})})}))}var $t=M&&M.type&&M.type.getComposedData;$t&&D.push({props:Z(Z({},$t(Z(Z({},le),{},{displayedData:re,props:g,dataKey:te,item:M,bandSize:Y,barPosition:Xe,offset:j,stackedData:me,layout:E,dataStartIndex:S,dataEndIndex:_}))),{},Oe(Oe(Oe({key:M.key||"item-".concat(V)},T,le[T]),I,le[I]),"animationId",N)),childIndex:P9(M,g.children),item:M})}),D},p=function(g,y){var b=g.props,w=g.dataStartIndex,j=g.dataEndIndex,N=g.updateId;if(!Wj({props:b}))return null;var S=b.children,_=b.layout,P=b.stackOffset,E=b.data,$=b.reverseStackOrder,A=TS(_),C=A.numericAxisName,O=A.cateAxisName,T=cn(S,n),I=Ine(E,T,"".concat(C,"Id"),"".concat(O,"Id"),P,$),R=l.reduce(function(K,te){var ce="".concat(te.axisType,"Map");return Z(Z({},K),{},Oe({},ce,ihe(b,Z(Z({},te),{},{graphicalItems:T,stackGroups:te.axisType===C&&I,dataStartIndex:w,dataEndIndex:j}))))},{}),D=uhe(Z(Z({},R),{},{props:b,graphicalItems:T}),y?.legendBBox);Object.keys(R).forEach(function(K){R[K]=d(b,R[K],D,K.replace("Map",""),r)});var M=R["".concat(O,"Map")],V=che(M),re=h(b,Z(Z({},R),{},{dataStartIndex:w,dataEndIndex:j,updateId:N,graphicalItems:T,stackGroups:I,offset:D}));return Z(Z({formattedGraphicalItems:re,graphicalItems:T,offset:D,stackGroups:I},V),R)},v=function(m){function g(y){var b,w,j;return Wfe(this,g),j=Gfe(this,g,[y]),Oe(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Oe(j,"accessibilityManager",new Efe),Oe(j,"handleLegendBBoxUpdate",function(N){if(N){var S=j.state,_=S.dataStartIndex,P=S.dataEndIndex,E=S.updateId;j.setState(Z({legendBBox:N},p({props:j.props,dataStartIndex:_,dataEndIndex:P,updateId:E},Z(Z({},j.state),{},{legendBBox:N}))))}}),Oe(j,"handleReceiveSyncEvent",function(N,S,_){if(j.props.syncId===N){if(_===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(S)}}),Oe(j,"handleBrushChange",function(N){var S=N.startIndex,_=N.endIndex;if(S!==j.state.dataStartIndex||_!==j.state.dataEndIndex){var P=j.state.updateId;j.setState(function(){return Z({dataStartIndex:S,dataEndIndex:_},p({props:j.props,dataStartIndex:S,dataEndIndex:_,updateId:P},j.state))}),j.triggerSyncEvent({dataStartIndex:S,dataEndIndex:_})}}),Oe(j,"handleMouseEnter",function(N){var S=j.getMouseInfo(N);if(S){var _=Z(Z({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var P=j.props.onMouseEnter;$e(P)&&P(_,N)}}),Oe(j,"triggeredAfterMouseMove",function(N){var S=j.getMouseInfo(N),_=S?Z(Z({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(_),j.triggerSyncEvent(_);var P=j.props.onMouseMove;$e(P)&&P(_,N)}),Oe(j,"handleItemMouseEnter",function(N){j.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Oe(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Oe(j,"handleMouseMove",function(N){N.persist(),j.throttleTriggeredAfterMouseMove(N)}),Oe(j,"handleMouseLeave",function(N){j.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};j.setState(S),j.triggerSyncEvent(S);var _=j.props.onMouseLeave;$e(_)&&_(S,N)}),Oe(j,"handleOuterEvent",function(N){var S=C9(N),_=on(j.props,"".concat(S));if(S&&$e(_)){var P,E;/.*touch.*/i.test(S)?E=j.getMouseInfo(N.changedTouches[0]):E=j.getMouseInfo(N),_((P=E)!==null&&P!==void 0?P:{},N)}}),Oe(j,"handleClick",function(N){var S=j.getMouseInfo(N);if(S){var _=Z(Z({},S),{},{isTooltipActive:!0});j.setState(_),j.triggerSyncEvent(_);var P=j.props.onClick;$e(P)&&P(_,N)}}),Oe(j,"handleMouseDown",function(N){var S=j.props.onMouseDown;if($e(S)){var _=j.getMouseInfo(N);S(_,N)}}),Oe(j,"handleMouseUp",function(N){var S=j.props.onMouseUp;if($e(S)){var _=j.getMouseInfo(N);S(_,N)}}),Oe(j,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Oe(j,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseDown(N.changedTouches[0])}),Oe(j,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&j.handleMouseUp(N.changedTouches[0])}),Oe(j,"triggerSyncEvent",function(N){j.props.syncId!==void 0&&$g.emit(Mg,j.props.syncId,N,j.eventEmitterSymbol)}),Oe(j,"applySyncEvent",function(N){var S=j.props,_=S.layout,P=S.syncMethod,E=j.state.updateId,$=N.dataStartIndex,A=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)j.setState(Z({dataStartIndex:$,dataEndIndex:A},p({props:j.props,dataStartIndex:$,dataEndIndex:A,updateId:E},j.state)));else if(N.activeTooltipIndex!==void 0){var C=N.chartX,O=N.chartY,T=N.activeTooltipIndex,I=j.state,R=I.offset,D=I.tooltipTicks;if(!R)return;if(typeof P=="function")T=P(D,N);else if(P==="value"){T=-1;for(var M=0;M<D.length;M++)if(D[M].value===N.activeLabel){T=M;break}}var V=Z(Z({},R),{},{x:R.left,y:R.top}),re=Math.min(C,V.x+V.width),K=Math.min(O,V.y+V.height),te=D[T]&&D[T].value,ce=ty(j.state,j.props.data,T),_e=D[T]?{x:_==="horizontal"?D[T].coordinate:re,y:_==="horizontal"?K:D[T].coordinate}:VO;j.setState(Z(Z({},N),{},{activeLabel:te,activeCoordinate:_e,activePayload:ce,activeTooltipIndex:T}))}else j.setState(N)}),Oe(j,"renderCursor",function(N){var S,_=j.state,P=_.isTooltipActive,E=_.activeCoordinate,$=_.activePayload,A=_.offset,C=_.activeTooltipIndex,O=_.tooltipAxisBandSize,T=j.getTooltipEventType(),I=(S=N.props.active)!==null&&S!==void 0?S:P,R=j.props.layout,D=N.key||"_recharts-cursor";return k.createElement(Ife,{key:D,activeCoordinate:E,activePayload:$,activeTooltipIndex:C,chartName:r,element:N,isActive:I,layout:R,offset:A,tooltipAxisBandSize:O,tooltipEventType:T})}),Oe(j,"renderPolarAxis",function(N,S,_){var P=on(N,"type.axisType"),E=on(j.state,"".concat(P,"Map")),$=N.type.defaultProps,A=$!==void 0?Z(Z({},$),N.props):N.props,C=E&&E[A["".concat(P,"Id")]];return x.cloneElement(N,Z(Z({},C),{},{className:We(P,C.className),key:N.key||"".concat(S,"-").concat(_),ticks:Wa(C,!0)}))}),Oe(j,"renderPolarGrid",function(N){var S=N.props,_=S.radialLines,P=S.polarAngles,E=S.polarRadius,$=j.state,A=$.radiusAxisMap,C=$.angleAxisMap,O=xs(A),T=xs(C),I=T.cx,R=T.cy,D=T.innerRadius,M=T.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(P)?P:Wa(T,!0).map(function(V){return V.coordinate}),polarRadius:Array.isArray(E)?E:Wa(O,!0).map(function(V){return V.coordinate}),cx:I,cy:R,innerRadius:D,outerRadius:M,key:N.key||"polar-grid",radialLines:_})}),Oe(j,"renderLegend",function(){var N=j.state.formattedGraphicalItems,S=j.props,_=S.children,P=S.width,E=S.height,$=j.props.margin||{},A=P-($.left||0)-($.right||0),C=mE({children:_,formattedGraphicalItems:N,legendWidth:A,legendContent:u});if(!C)return null;var O=C.item,T=AS(C,Lfe);return x.cloneElement(O,Z(Z({},T),{},{chartWidth:P,chartHeight:E,margin:$,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Oe(j,"renderTooltip",function(){var N,S=j.props,_=S.children,P=S.accessibilityLayer,E=en(_,xr);if(!E)return null;var $=j.state,A=$.isTooltipActive,C=$.activeCoordinate,O=$.activePayload,T=$.activeLabel,I=$.offset,R=(N=E.props.active)!==null&&N!==void 0?N:A;return x.cloneElement(E,{viewBox:Z(Z({},I),{},{x:I.left,y:I.top}),active:R,label:T,payload:R?O:[],coordinate:C,accessibilityLayer:P})}),Oe(j,"renderBrush",function(N){var S=j.props,_=S.margin,P=S.data,E=j.state,$=E.offset,A=E.dataStartIndex,C=E.dataEndIndex,O=E.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Dd(j.handleBrushChange,N.props.onChange),data:P,x:ie(N.props.x)?N.props.x:$.left,y:ie(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(_.bottom||0),width:ie(N.props.width)?N.props.width:$.width,startIndex:A,endIndex:C,updateId:"brush-".concat(O)})}),Oe(j,"renderReferenceElement",function(N,S,_){if(!N)return null;var P=j,E=P.clipPathId,$=j.state,A=$.xAxisMap,C=$.yAxisMap,O=$.offset,T=N.type.defaultProps||{},I=N.props,R=I.xAxisId,D=R===void 0?T.xAxisId:R,M=I.yAxisId,V=M===void 0?T.yAxisId:M;return x.cloneElement(N,{key:N.key||"".concat(S,"-").concat(_),xAxis:A[D],yAxis:C[V],viewBox:{x:O.left,y:O.top,width:O.width,height:O.height},clipPathId:E})}),Oe(j,"renderActivePoints",function(N){var S=N.item,_=N.activePoint,P=N.basePoint,E=N.childIndex,$=N.isRange,A=[],C=S.props.key,O=S.item.type.defaultProps!==void 0?Z(Z({},S.item.type.defaultProps),S.item.props):S.item.props,T=O.activeDot,I=O.dataKey,R=Z(Z({index:E,dataKey:I,cx:_.x,cy:_.y,r:4,fill:c0(S.item),strokeWidth:2,stroke:"#fff",payload:_.payload,value:_.value},Ne(T,!1)),Af(T));return A.push(g.renderActiveDot(T,R,"".concat(C,"-activePoint-").concat(E))),P?A.push(g.renderActiveDot(T,Z(Z({},R),{},{cx:P.x,cy:P.y}),"".concat(C,"-basePoint-").concat(E))):$&&A.push(null),A}),Oe(j,"renderGraphicChild",function(N,S,_){var P=j.filterFormatItem(N,S,_);if(!P)return null;var E=j.getTooltipEventType(),$=j.state,A=$.isTooltipActive,C=$.tooltipAxis,O=$.activeTooltipIndex,T=$.activeLabel,I=j.props.children,R=en(I,xr),D=P.props,M=D.points,V=D.isRange,re=D.baseLine,K=P.item.type.defaultProps!==void 0?Z(Z({},P.item.type.defaultProps),P.item.props):P.item.props,te=K.activeDot,ce=K.hide,_e=K.activeBar,Ze=K.activeShape,Ee=!!(!ce&&A&&R&&(te||_e||Ze)),le={};E!=="axis"&&R&&R.props.trigger==="click"?le={onClick:Dd(j.handleItemMouseEnter,N.props.onClick)}:E!=="axis"&&(le={onMouseLeave:Dd(j.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Dd(j.handleItemMouseEnter,N.props.onMouseEnter)});var Re=x.cloneElement(N,Z(Z({},P.props),le));function oe(q){return typeof C.dataKey=="function"?C.dataKey(q.payload):null}if(Ee)if(O>=0){var me,be;if(C.dataKey&&!C.allowDuplicatedCategory){var Y=typeof C.dataKey=="function"?oe:"payload.".concat(C.dataKey.toString());me=Pf(M,Y,T),be=V&&re&&Pf(re,Y,T)}else me=M?.[O],be=V&&re&&re[O];if(Ze||_e){var Xe=N.props.activeIndex!==void 0?N.props.activeIndex:O;return[x.cloneElement(N,Z(Z(Z({},P.props),le),{},{activeIndex:Xe})),null,null]}if(!ze(me))return[Re].concat(tc(j.renderActivePoints({item:P,activePoint:me,basePoint:be,childIndex:O,isRange:V})))}else{var he,Ve=(he=j.getItemByXY(j.state.activeCoordinate))!==null&&he!==void 0?he:{graphicalItem:Re},Ae=Ve.graphicalItem,Je=Ae.item,fr=Je===void 0?N:Je,$t=Ae.childIndex,L=Z(Z(Z({},P.props),le),{},{activeIndex:$t});return[x.cloneElement(fr,L),null,null]}return V?[Re,null,null]:[Re,null]}),Oe(j,"renderCustomized",function(N,S,_){return x.cloneElement(N,Z(Z({key:"recharts-customized-".concat(_)},j.props),j.state))}),Oe(j,"renderMap",{CartesianGrid:{handler:zd,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:zd},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:zd},YAxis:{handler:zd},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Fo("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=hk(j.triggeredAfterMouseMove,(w=y.throttleDelay)!==null&&w!==void 0?w:1e3/60),j.state={},j}return Zfe(g,m),Hfe(g,[{key:"componentDidMount",value:function(){var b,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,w=b.children,j=b.data,N=b.height,S=b.layout,_=en(w,xr);if(_){var P=_.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,$=ty(this.state,j,P,E),A=this.state.tooltipTicks[P].coordinate,C=(this.state.offset.top+N)/2,O=S==="horizontal",T=O?{x:A,y:C}:{y:A,x:C},I=this.state.formattedGraphicalItems.find(function(D){var M=D.item;return M.type.name==="Scatter"});I&&(T=Z(Z({},T),I.props.points[P].tooltipPosition),$=I.props.points[P].tooltipPayload);var R={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:E,activePayload:$,activeCoordinate:T};this.setState(R),this.renderCursor(_),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,N;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(b){kv([en(b.children,xr)],[en(this.props.children,xr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=en(this.props.children,xr);if(b&&typeof b.props.shared=="boolean"){var w=b.props.shared?"axis":"item";return c.indexOf(w)>=0?w:o}return o}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var w=this.container,j=w.getBoundingClientRect(),N=QJ(j),S={chartX:Math.round(b.pageX-N.left),chartY:Math.round(b.pageY-N.top)},_=j.width/w.offsetWidth||1,P=this.inRange(S.chartX,S.chartY,_);if(!P)return null;var E=this.state,$=E.xAxisMap,A=E.yAxisMap,C=this.getTooltipEventType();if(C!=="axis"&&$&&A){var O=xs($).scale,T=xs(A).scale,I=O&&O.invert?O.invert(S.chartX):null,R=T&&T.invert?T.invert(S.chartY):null;return Z(Z({},S),{},{xValue:I,yValue:R})}var D=ES(this.state,this.props.data,this.props.layout,P);return D?Z(Z({},S),D):null}},{key:"inRange",value:function(b,w){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,S=b/j,_=w/j;if(N==="horizontal"||N==="vertical"){var P=this.state.offset,E=S>=P.left&&S<=P.left+P.width&&_>=P.top&&_<=P.top+P.height;return E?{x:S,y:_}:null}var $=this.state,A=$.angleAxisMap,C=$.radiusAxisMap;if(A&&C){var O=xs(A);return Q_({x:S,y:_},O)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,w=this.getTooltipEventType(),j=en(b,xr),N={};j&&w==="axis"&&(j.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var S=Af(this.props,this.handleOuterEvent);return Z(Z({},S),N)}},{key:"addListener",value:function(){$g.on(Mg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$g.removeListener(Mg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,w,j){for(var N=this.state.formattedGraphicalItems,S=0,_=N.length;S<_;S++){var P=N[S];if(P.item===b||P.props.key===b.key||w===Ga(P.item.type)&&j===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,w=this.state.offset,j=w.left,N=w.top,S=w.height,_=w.width;return k.createElement("defs",null,k.createElement("clipPath",{id:b},k.createElement("rect",{x:j,y:N,height:S,width:_})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=PS(j,2),S=N[0],_=N[1];return Z(Z({},w),{},Oe({},S,_.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(w,j){var N=PS(j,2),S=N[0],_=N[1];return Z(Z({},w),{},Oe({},S,_.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(b){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[b])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(b){var w=this.state,j=w.formattedGraphicalItems,N=w.activeItem;if(j&&j.length)for(var S=0,_=j.length;S<_;S++){var P=j[S],E=P.props,$=P.item,A=$.type.defaultProps!==void 0?Z(Z({},$.type.defaultProps),$.props):$.props,C=Ga($.type);if(C==="Bar"){var O=(E.data||[]).find(function(D){return Soe(b,D)});if(O)return{graphicalItem:P,payload:O}}else if(C==="RadialBar"){var T=(E.data||[]).find(function(D){return Q_(b,D)});if(T)return{graphicalItem:P,payload:T}}else if(op(P,N)||ip(P,N)||fu(P,N)){var I=hce({graphicalItem:P,activeTooltipItem:N,itemData:A.data}),R=A.activeIndex===void 0?I:A.activeIndex;return{graphicalItem:Z(Z({},P),{},{childIndex:R}),payload:fu(P,N)?A.data[I]:P.props.data[I]}}}return null}},{key:"render",value:function(){var b=this;if(!Wj(this))return null;var w=this.props,j=w.children,N=w.className,S=w.width,_=w.height,P=w.style,E=w.compact,$=w.title,A=w.desc,C=AS(w,Ffe),O=Ne(C,!1);if(E)return k.createElement(iS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(Ov,Cl({},O,{width:S,height:_,title:$,desc:A}),this.renderClipPath(),Hj(j,this.renderMap)));if(this.props.accessibilityLayer){var T,I;O.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,O.role=(I=this.props.role)!==null&&I!==void 0?I:"application",O.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},O.onFocus=function(){b.accessibilityManager.focus()}}var R=this.parseEventsOfWrapper();return k.createElement(iS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",Cl({className:We("recharts-wrapper",N),style:Z({position:"relative",cursor:"default",width:S,height:_},P)},R,{ref:function(M){b.container=M}}),k.createElement(Ov,Cl({},O,{width:S,height:_,title:$,desc:A,style:rhe}),this.renderClipPath(),Hj(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);return Oe(v,"displayName",r),Oe(v,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Oe(v,"getDerivedStateFromProps",function(m,g){var y=m.dataKey,b=m.data,w=m.children,j=m.width,N=m.height,S=m.layout,_=m.stackOffset,P=m.margin,E=g.dataStartIndex,$=g.dataEndIndex;if(g.updateId===void 0){var A=OS(m);return Z(Z(Z({},A),{},{updateId:0},p(Z(Z({props:m},A),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:P,prevChildren:w})}if(y!==g.prevDataKey||b!==g.prevData||j!==g.prevWidth||N!==g.prevHeight||S!==g.prevLayout||_!==g.prevStackOffset||!xi(P,g.prevMargin)){var C=OS(m),O={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},T=Z(Z({},ES(g,b,S)),{},{updateId:g.updateId+1}),I=Z(Z(Z({},C),O),T);return Z(Z(Z({},I),p(Z({props:m},I),g)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:N,prevLayout:S,prevStackOffset:_,prevMargin:P,prevChildren:w})}if(!kv(w,g.prevChildren)){var R,D,M,V,re=en(w,Wi),K=re&&(R=(D=re.props)===null||D===void 0?void 0:D.startIndex)!==null&&R!==void 0?R:E,te=re&&(M=(V=re.props)===null||V===void 0?void 0:V.endIndex)!==null&&M!==void 0?M:$,ce=K!==E||te!==$,_e=!ze(b),Ze=_e&&!ce?g.updateId:g.updateId+1;return Z(Z({updateId:Ze},p(Z(Z({props:m},g),{},{updateId:Ze,dataStartIndex:K,dataEndIndex:te}),g)),{},{prevChildren:w,dataStartIndex:K,dataEndIndex:te})}return null}),Oe(v,"renderActiveDot",function(m,g,y){var b;return x.isValidElement(m)?b=x.cloneElement(m,g):$e(m)?b=m(g):b=k.createElement(Xu,g),k.createElement(st,{className:"recharts-active-dot",key:y},b)}),function(g){return k.createElement(v,g)}},ry=y0({chartName:"BarChart",GraphicalChild:_a,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ya},{axisType:"yAxis",AxisComp:Za}],formatAxisMap:aO}),WO=y0({chartName:"PieChart",GraphicalChild:ka,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sp},{axisType:"radiusAxis",AxisComp:np}],formatAxisMap:Yne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),qO=y0({chartName:"AreaChart",GraphicalChild:Sa,axisComponents:[{axisType:"xAxis",AxisComp:Ya},{axisType:"yAxis",AxisComp:Za}],formatAxisMap:aO});function fhe(){const[e,t]=Py();try{const r=A=>{window.location.href=A},{agendamentosFiltrados:n}=Io(),{lancamentos:s,resumoFinanceiro:o}=fb(),{clientes:i}=jc(),{usuario:c,checkSubscription:l}=Lt();x.useEffect(()=>{e.get("payment")==="success"&&(t({}),B.success(" Pagamento confirmado! Verificando assinatura..."),setTimeout(()=>l(),1e3),setTimeout(()=>l(),3e3),setTimeout(()=>l(),6e3))},[e,t,l]);const u=new Date,d=u.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),f=u.toISOString().split("T")[0],h=x.useMemo(()=>n.filter(A=>A.data===f&&A.status!=="cancelado"),[n,f]),p=x.useMemo(()=>h.filter(A=>A.status==="concluido").length,[h]),v=x.useMemo(()=>n.filter(A=>A.data===f&&A.status==="concluido").reduce((A,C)=>A+C.valor,0),[n,f]),m=x.useMemo(()=>{const A=u.toTimeString().slice(0,5);return h.filter(C=>C.hora>A&&C.status==="agendado").sort((C,O)=>C.hora.localeCompare(O.hora))[0]||null},[h]),g=x.useMemo(()=>{const A=new Date;A.setDate(A.getDate()+1);const C=A.toISOString().split("T")[0];return n.filter(O=>O.data===C&&O.status==="agendado").sort((O,T)=>O.hora.localeCompare(T.hora))},[n]),y=x.useMemo(()=>{const A=u.getMonth(),C=u.getFullYear();return s.filter(O=>{const T=new Date(O.data);return T.getMonth()===A&&T.getFullYear()===C&&O.tipo==="entrada"}).reduce((O,T)=>O+T.valor,0)},[s]),b=x.useMemo(()=>{const A=u.getMonth()===0?11:u.getMonth()-1,C=u.getMonth()===0?u.getFullYear()-1:u.getFullYear();return s.filter(O=>{const T=new Date(O.data);return T.getMonth()===A&&T.getFullYear()===C&&O.tipo==="entrada"}).reduce((O,T)=>O+T.valor,0)},[s]),w=b>0?(y-b)/b*100:0,j=i?.length||0,N=x.useMemo(()=>{const A=u.getMonth(),C=u.getFullYear();return(i||[]).filter(O=>{if(!O.createdAt)return!1;const T=new Date(O.createdAt);return T.getMonth()===A&&T.getFullYear()===C}).length},[i]),S=x.useMemo(()=>{const A=new Date;A.setDate(A.getDate()-A.getDay());const C=new Date(A);return C.setDate(C.getDate()+6),n.filter(O=>{const T=new Date(O.data);return T>=A&&T<=C&&O.status!=="cancelado"}).length},[n]),_=h.length>0?Math.round(p/h.length*100):0,P=x.useMemo(()=>{const A=[];for(let C=6;C>=0;C--){const O=new Date;O.setDate(O.getDate()-C);const T=O.toISOString().split("T")[0],I=s.filter(D=>D.data.toISOString().split("T")[0]===T&&D.tipo==="entrada").reduce((D,M)=>D+M.valor,0),R=n.filter(D=>D.data===T&&D.status!=="cancelado").length;A.push({dia:O.toLocaleDateString("pt-BR",{weekday:"short"}),valor:I,agendamentos:R})}return A},[s,n]),E=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A),$=x.useMemo(()=>{const A={};n.forEach(O=>{const T=O.hora?.slice(0,2);T&&(A[T]=(A[T]||0)+1)});const C=Object.entries(A).sort((O,T)=>T[1]-O[1]);return C[0]?`${C[0][0]}:00`:"--:--"},[n]);return a.jsxs("div",{className:"space-responsive-lg",children:[a.jsx(IP,{variant:"card"}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl sm:rounded-3xl bg-gradient-to-br from-primary via-primary to-lilac-light p-6 sm:p-8 text-primary-foreground",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 mb-2",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(za,{className:"h-6 w-6"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:["Ol, ",c?.nome_completo?.split(" ")[0]||"Profissional","! "]}),a.jsx("p",{className:"text-sm sm:text-base opacity-80 capitalize mt-0.5",children:d})]})]}),h.length>0&&a.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-3",children:[a.jsxs(ue,{variant:"secondary",className:"bg-white/20 text-white border-0 backdrop-blur-sm px-3 py-1",children:[a.jsx(wF,{className:"h-3.5 w-3.5 mr-1.5"}),h.length," agendamento",h.length>1?"s":""," hoje"]}),a.jsxs(ue,{variant:"secondary",className:"bg-white/20 text-white border-0 backdrop-blur-sm px-3 py-1",children:[a.jsx(ut,{className:"h-3.5 w-3.5 mr-1.5"}),E(v)," recebido"]})]})]}),a.jsx("div",{className:"absolute -right-6 -top-6 h-24 w-24 sm:h-40 sm:w-40 rounded-full bg-white/10 blur-sm"}),a.jsx("div",{className:"absolute -bottom-8 -left-8 h-28 w-28 sm:h-48 sm:w-48 rounded-full bg-white/5 blur-sm"}),a.jsx("div",{className:"absolute top-1/2 right-1/4 h-16 w-16 rounded-full bg-white/5 blur-md"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[a.jsx(F,{className:"relative overflow-hidden border-border/50 bg-card/80 backdrop-blur-sm hover:shadow-md transition-all duration-300",children:a.jsxs(U,{className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:a.jsx(Se,{className:"h-5 w-5 text-primary"})}),h.length>0&&a.jsxs(ue,{variant:"outline",className:"text-xs border-primary/30 text-primary",children:[p,"/",h.length]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:h.length}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Agendamentos hoje"}),h.length>0&&a.jsx(db,{value:_,className:"mt-2 h-1.5"})]})}),a.jsx(F,{className:"relative overflow-hidden border-border/50 bg-card/80 backdrop-blur-sm hover:shadow-md transition-all duration-300",children:a.jsxs(U,{className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-success/10",children:a.jsx(ut,{className:"h-5 w-5 text-success"})}),a.jsx(Ci,{className:"h-4 w-4 text-success"})]}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-success",children:E(v)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Recebido hoje"})]})}),a.jsx(F,{className:"relative overflow-hidden border-border/50 bg-card/80 backdrop-blur-sm hover:shadow-md transition-all duration-300",children:a.jsxs(U,{className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-info/10",children:a.jsx(Bt,{className:"h-5 w-5 text-info"})}),w!==0&&a.jsxs("div",{className:`flex items-center text-xs font-medium ${w>0?"text-success":"text-destructive"}`,children:[w>0?a.jsx(CF,{className:"h-3.5 w-3.5"}):a.jsx(jF,{className:"h-3.5 w-3.5"}),Math.abs(w).toFixed(0),"%"]})]}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:E(y)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Receita do ms"})]})}),a.jsx(F,{className:"relative overflow-hidden border-border/50 bg-card/80 backdrop-blur-sm hover:shadow-md transition-all duration-300",children:a.jsxs(U,{className:"p-4 sm:p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-accent/50",children:a.jsx(ba,{className:"h-5 w-5 text-accent-foreground"})}),N>0&&a.jsxs(ue,{variant:"outline",className:"text-xs border-success/30 text-success",children:["+",N," novo",N>1?"s":""]})]}),a.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:j}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total de clientes"})]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(F,{className:"border-border/50 bg-card/60",children:a.jsxs(U,{className:"p-3 sm:p-4 text-center",children:[a.jsx(vl,{className:"h-5 w-5 mx-auto mb-1.5 text-primary"}),a.jsx("p",{className:"text-lg font-bold text-foreground",children:S}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Esta semana"})]})}),a.jsx(F,{className:"border-border/50 bg-card/60",children:a.jsxs(U,{className:"p-3 sm:p-4 text-center",children:[a.jsx(it,{className:"h-5 w-5 mx-auto mb-1.5 text-warning"}),a.jsx("p",{className:"text-lg font-bold text-foreground",children:$}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Horrio pico"})]})}),a.jsx(F,{className:"border-border/50 bg-card/60",children:a.jsxs(U,{className:"p-3 sm:p-4 text-center",children:[a.jsx(JF,{className:"h-5 w-5 mx-auto mb-1.5 text-warning"}),a.jsxs("p",{className:"text-lg font-bold text-foreground",children:[_,"%"]}),a.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Concluso hoje"})]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(F,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[a.jsx(ne,{className:"p-4 sm:p-5 pb-2",children:a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(it,{className:"h-4 w-4 text-primary"}),"Prximo Atendimento"]})}),a.jsx(U,{className:"p-4 sm:p-5 pt-2",children:m?a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-gradient-to-r from-primary/5 to-accent/10 border border-primary/10",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-lilac-light text-primary-foreground font-bold text-lg flex-shrink-0",children:m.clienteNome?.charAt(0)||"?"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-foreground truncate text-base",children:m.clienteNome}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",m.hora,"  ",m.servicoNome]}),a.jsx("p",{className:"text-sm font-medium text-primary mt-0.5",children:E(m.valor)})]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-muted mx-auto mb-3",children:a.jsx(Ci,{className:"h-7 w-7 text-muted-foreground/50"})}),a.jsx("p",{className:"font-medium text-muted-foreground",children:"Sem prximos atendimentos"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Aproveite para descansar "})]})})]}),a.jsxs(F,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[a.jsx(ne,{className:"p-4 sm:p-5 pb-2",children:a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(Se,{className:"h-4 w-4 text-accent-foreground"}),"Amanh",g.length>0&&a.jsx(ue,{variant:"secondary",className:"ml-auto text-xs",children:g.length})]})}),a.jsx(U,{className:"p-4 sm:p-5 pt-2",children:g.length>0?a.jsxs("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:[g.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center gap-3 p-2.5 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10 text-xs font-bold text-primary flex-shrink-0",children:A.hora?.slice(0,5)}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:A.clienteNome}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:A.servicoNome})]}),a.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:E(A.valor)})]},A.id)),g.length>4&&a.jsxs("p",{className:"text-xs text-center text-muted-foreground pt-1",children:["+",g.length-4," mais"]})]}):a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-muted mx-auto mb-3",children:a.jsx(Se,{className:"h-7 w-7 text-muted-foreground/50"})}),a.jsx("p",{className:"font-medium text-muted-foreground",children:"Sem agendamentos"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Agenda livre para amanh"})]})})]})]}),a.jsxs(F,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[a.jsx(ne,{className:"p-4 sm:p-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(Bt,{className:"h-4 w-4 text-primary"}),"Faturamento  ltimos 7 dias"]}),a.jsx(He,{className:"text-xs mt-1",children:"Acompanhe sua performance semanal"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-lg font-bold text-foreground",children:E(P.reduce((A,C)=>A+C.valor,0))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"total da semana"})]})]})}),a.jsx(U,{className:"p-4 sm:p-5 pt-0",children:a.jsx("div",{className:"h-52 sm:h-64",children:a.jsx(oo,{width:"100%",height:"100%",children:a.jsxs(qO,{data:P,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorValor",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),a.jsx(Ya,{dataKey:"dia",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"}}),a.jsx(Za,{axisLine:!1,tickLine:!1,tickFormatter:A=>`R$${A}`,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},width:55}),a.jsx(xr,{formatter:A=>[E(A),"Faturamento"],contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"12px",fontSize:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),a.jsx(Sa,{type:"monotone",dataKey:"valor",stroke:"hsl(var(--primary))",strokeWidth:2.5,fill:"url(#colorValor)"})]})})})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(F,{className:"border-border/50 bg-gradient-to-br from-primary/5 via-card to-accent/5 hover:shadow-md transition-all duration-300",children:a.jsx(U,{className:"p-5 sm:p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-primary to-lilac-light flex-shrink-0",children:a.jsx(za,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-foreground text-base",children:"Consultor Inteligente"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Analise o desempenho do seu salo com IA"}),a.jsxs(z,{onClick:()=>r("/consultor"),size:"sm",className:"mt-3",children:[a.jsx(za,{className:"h-3.5 w-3.5 mr-1.5"}),"Acessar Consultor"]})]})]})})}),a.jsx(F,{className:"border-border/50 bg-card/80",children:a.jsxs(U,{className:"p-5 sm:p-6",children:[a.jsxs("h3",{className:"font-semibold text-foreground text-base mb-3 flex items-center gap-2",children:[a.jsx(wr,{className:"h-4 w-4 text-primary"}),"Aes Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs(z,{onClick:()=>r("/agendamentos"),variant:"outline",className:"h-16 sm:h-20 flex-col gap-1.5 text-xs hover:bg-primary/5 hover:border-primary/30 transition-all",children:[a.jsx(Se,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Agendar"})]}),a.jsxs(z,{onClick:()=>r("/clientes"),variant:"outline",className:"h-16 sm:h-20 flex-col gap-1.5 text-xs hover:bg-accent/20 hover:border-accent/40 transition-all",children:[a.jsx(Iy,{className:"h-5 w-5 text-accent-foreground"}),a.jsx("span",{children:"Cliente"})]}),a.jsxs(z,{onClick:()=>r("/financeiro"),variant:"outline",className:"h-16 sm:h-20 flex-col gap-1.5 text-xs hover:bg-success/5 hover:border-success/30 transition-all",children:[a.jsx(MP,{className:"h-5 w-5 text-success"}),a.jsx("span",{children:"Financeiro"})]})]})]})})]}),o&&a.jsxs(F,{className:"border-border/50 bg-card/80 backdrop-blur-sm",children:[a.jsx(ne,{className:"p-4 sm:p-5 pb-2",children:a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(ut,{className:"h-4 w-4 text-primary"}),"Resumo Financeiro do Ms"]})}),a.jsx(U,{className:"p-4 sm:p-5 pt-2",children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"p-3 rounded-xl bg-success/5 border border-success/10",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Entradas"}),a.jsx("p",{className:"text-base sm:text-lg font-bold text-success",children:E(o.totalEntradas)})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-destructive/5 border border-destructive/10",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Sadas"}),a.jsx("p",{className:"text-base sm:text-lg font-bold text-destructive",children:E(o.totalSaidas)})]}),a.jsxs("div",{className:`p-3 rounded-xl ${o.lucro>=0?"bg-primary/5 border-primary/10":"bg-destructive/5 border-destructive/10"} border`,children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:o.lucro>=0?"Lucro":"Prejuzo"}),a.jsx("p",{className:`text-base sm:text-lg font-bold ${o.lucro>=0?"text-primary":"text-destructive"}`,children:E(o.lucro)})]}),a.jsxs("div",{className:"p-3 rounded-xl bg-warning/5 border border-warning/10",children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Em aberto"}),a.jsx("p",{className:"text-base sm:text-lg font-bold text-warning",children:E(o.valorEmAberto)})]})]})})]}),h.length>0&&a.jsx(F,{className:"border-border/50 bg-gradient-to-r from-primary/5 to-accent/10",children:a.jsx(U,{className:"p-4 sm:p-5",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light flex-shrink-0",children:a.jsx(za,{className:"h-5 w-5 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("p",{className:"font-semibold text-foreground text-sm",children:[p," de ",h.length," clientes atendidos hoje! "]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:_>=100?"Parabns! Todos atendidos! ":"Continue assim, voc est indo muito bem!"})]})]})})})]})}catch(r){return console.error("Dashboard: Erro durante renderizao:",r),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Erro no Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Verifique o console para mais detalhes"})]})})}}function hhe(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function d(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,mhe(s,...t)]}function mhe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function pp(e){const t=e+"CollectionProvider",[r,n]=hhe(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:m}=p,g=k.useRef(null),y=k.useRef(new Map).current;return a.jsx(s,{scope:v,itemMap:y,collectionRef:g,children:m})};i.displayName=t;const c=e+"CollectionSlot",l=k.forwardRef((p,v)=>{const{scope:m,children:g}=p,y=o(c,m),b=Be(v,y.collectionRef);return a.jsx(Lr,{ref:b,children:g})});l.displayName=c;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=k.forwardRef((p,v)=>{const{scope:m,children:g,...y}=p,b=k.useRef(null),w=Be(v,b),j=o(u,m);return k.useEffect(()=>(j.itemMap.set(b,{ref:b,...y}),()=>void j.itemMap.delete(b))),a.jsx(Lr,{[d]:"",ref:w,children:g})});f.displayName=u;function h(p){const v=o(e+"CollectionConsumer",p);return k.useCallback(()=>{const g=v.collectionRef.current;if(!g)return[];const y=Array.from(g.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,N)=>y.indexOf(j.ref.current)-y.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:l,ItemSlot:f},h,n]}function phe(e,t=[]){let r=[];function n(o,i){const c=x.createContext(i),l=r.length;r=[...r,i];function u(f){const{scope:h,children:p,...v}=f,m=h?.[e][l]||c,g=x.useMemo(()=>v,Object.values(v));return a.jsx(m.Provider,{value:g,children:p})}function d(f,h){const p=h?.[e][l]||c,v=x.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>x.createContext(i));return function(c){const l=c?.[e]||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return s.scopeName=e,[n,ghe(s,...t)]}function ghe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((c,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...c,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var vhe=x.createContext(void 0);function Ic(e){const t=x.useContext(vhe);return e||t||"ltr"}var Rg="rovingFocusGroup.onEntryFocus",xhe={bubbles:!1,cancelable:!0},gp="RovingFocusGroup",[ny,HO,yhe]=pp(gp),[bhe,vp]=phe(gp,[yhe]),[whe,jhe]=bhe(gp),GO=x.forwardRef((e,t)=>a.jsx(ny.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ny.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Nhe,{...e,ref:t})})}));GO.displayName=gp;var Nhe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=Be(t,h),v=Ic(o),[m=null,g]=wa({prop:i,defaultProp:c,onChange:l}),[y,b]=x.useState(!1),w=or(u),j=HO(r),N=x.useRef(!1),[S,_]=x.useState(0);return x.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(Rg,w),()=>P.removeEventListener(Rg,w)},[w]),a.jsx(whe,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:m,onItemFocus:x.useCallback(P=>g(P),[g]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(P=>P+1),[]),onFocusableItemRemove:x.useCallback(()=>_(P=>P-1),[]),children:a.jsx(Pe.div,{tabIndex:y||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{N.current=!0}),onFocus:fe(e.onFocus,P=>{const E=!N.current;if(P.target===P.currentTarget&&E&&!y){const $=new CustomEvent(Rg,xhe);if(P.currentTarget.dispatchEvent($),!$.defaultPrevented){const A=j().filter(R=>R.focusable),C=A.find(R=>R.active),O=A.find(R=>R.id===m),I=[C,O,...A].filter(Boolean).map(R=>R.ref.current);ZO(I,d)}}N.current=!1}),onBlur:fe(e.onBlur,()=>b(!1))})})}),KO="RovingFocusGroupItem",YO=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,c=xn(),l=o||c,u=jhe(KO,r),d=u.currentTabStopId===l,f=HO(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return x.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),a.jsx(ny.ItemSlot,{scope:r,id:l,focusable:n,active:s,children:a.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:fe(e.onMouseDown,v=>{n?u.onItemFocus(l):v.preventDefault()}),onFocus:fe(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:fe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const m=Che(v,u.orientation,u.dir);if(m!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")y.reverse();else if(m==="prev"||m==="next"){m==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=u.loop?Phe(y,b+1):y.slice(b+1)}setTimeout(()=>ZO(y))}})})})});YO.displayName=KO;var _he={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function She(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Che(e,t,r){const n=She(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return _he[n]}function ZO(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Phe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var XO=GO,JO=YO,b0="Tabs",[Ahe]=Qn(b0,[vp]),QO=vp(),[khe,w0]=Ahe(b0),eT=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:c,activationMode:l="automatic",...u}=e,d=Ic(c),[f,h]=wa({prop:n,onChange:s,defaultProp:o});return a.jsx(khe,{scope:r,baseId:xn(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:l,children:a.jsx(Pe.div,{dir:d,"data-orientation":i,...u,ref:t})})});eT.displayName=b0;var tT="TabsList",rT=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=w0(tT,r),i=QO(r);return a.jsx(XO,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Pe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});rT.displayName=tT;var nT="TabsTrigger",aT=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=w0(nT,r),c=QO(r),l=iT(i.baseId,n),u=cT(i.baseId,n),d=n===i.value;return a.jsx(JO,{asChild:!0,...c,focusable:!s,active:d,children:a.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:fe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:fe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:fe(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});aT.displayName=nT;var sT="TabsContent",oT=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,c=w0(sT,r),l=iT(c.baseId,n),u=cT(c.baseId,n),d=n===c.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Cr,{present:s||d,children:({present:h})=>a.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});oT.displayName=sT;function iT(e,t){return`${e}-trigger-${t}`}function cT(e,t){return`${e}-content-${t}`}var Ehe=eT,lT=rT,uT=aT,dT=oT;const is=Ehe,Ea=x.forwardRef(({className:e,...t},r)=>a.jsx(lT,{ref:r,className:J("inline-flex h-12 sm:h-10 items-center justify-start sm:justify-center rounded-md bg-muted p-1 text-muted-foreground overflow-x-auto scrollbar-hide w-full",e),...t}));Ea.displayName=lT.displayName;const ct=x.forwardRef(({className:e,...t},r)=>a.jsx(uT,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-4 sm:px-3 py-2 sm:py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm min-h-[44px] sm:min-h-0 flex-shrink-0",e),...t}));ct.displayName=uT.displayName;const lt=x.forwardRef(({className:e,...t},r)=>a.jsx(dT,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lt.displayName=dT.displayName;function Ohe(){const{usuario:e,session:t}=Lt(),[r,n]=x.useState(!1),[s,o]=x.useState(null),i=fn(),c=async()=>{if(!t?.access_token||!e?.id){B.error("Faa login para analisar seu negcio");return}n(!0);const u=performance.now();try{const d=`ai-consultant-${e.id}-${new Date().toISOString().slice(0,10)}`,{data:f,error:h}=await W.functions.invoke("assistant-insights",{body:{user_id:e.id}});if(h)throw new Error(h.message||"Falha ao analisar");const p={alerts:Array.isArray(f?.alerts)?f.alerts:[],tips:Array.isArray(f?.tips)?f.tips:[],insights:Array.isArray(f?.insights)?f.insights:[],opportunities:Array.isArray(f?.opportunities)?f.opportunities:[],prediction:typeof f?.prediction=="string"?f.prediction:"",metrics:f?.metrics};o(p),localStorage.setItem(d,JSON.stringify(p))}catch(d){console.error(d),B.error(d?.message||"Erro ao processar anlise")}finally{n(!1),Math.round(performance.now()-u)>3e3&&B.message("Anlise concluda")}};x.useEffect(()=>{e?.id},[e?.id]);const l=(u,d,f,h,p)=>a.jsx(F,{className:"bg-card/50 backdrop-blur-sm border-border/50",children:a.jsxs(U,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:u}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-2xl font-bold",children:d}),h!==void 0&&a.jsxs("span",{className:`text-xs font-medium ${h>=0?"text-green-500":"text-red-500"}`,children:[h>0?"+":"",h,"%"]})]}),p&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p})]}),a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:f})]})});return!s&&!r?a.jsx(F,{className:"border-border/60 bg-card/60 backdrop-blur-sm text-center py-12",children:a.jsxs(U,{children:[a.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Bt,{className:"h-8 w-8 text-primary"})}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Consultor Inteligente de Negcios"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Obtenha insights estratgicos, alertas de estoque, anlise de clientes e previses financeiras com inteligncia artificial."}),a.jsxs(z,{onClick:c,size:"lg",className:"gap-2",children:[a.jsx(vl,{className:"h-4 w-4"}),"Gerar Anlise Completa"]})]})}):a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Painel Estratgico"}),a.jsx("p",{className:"text-muted-foreground",children:"Anlise 360 do seu negcio com IA"})]}),a.jsxs(z,{onClick:c,disabled:r,variant:"outline",className:"gap-2",children:[r?a.jsx(Fn,{className:"h-4 w-4 animate-spin"}):a.jsx(Bt,{className:"h-4 w-4"}),"Atualizar Anlise"]})]}),s?.metrics&&a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[l("Faturamento Mensal",`R$ ${s.metrics.faturamentoMensal.toFixed(2)}`,a.jsx(Bt,{className:"h-5 w-5 text-primary"}),s.metrics.crescimentoMensal),l("Clientes Ativos",s.metrics.totalClientes,a.jsx(ba,{className:"h-5 w-5 text-blue-500"}),void 0,`${s.metrics.clientesRecorrentes} recorrentes`),l("Taxa de Retorno",`${s.metrics.taxaRetorno}%`,a.jsx(vl,{className:"h-5 w-5 text-green-500"}),void 0,"Mdia do mercado: 45%"),l("Risco de Churn",s.metrics.clientesInativos,a.jsx(Ja,{className:"h-5 w-5 text-orange-500"}),void 0,"Clientes inativos > 30 dias")]}),a.jsxs(is,{defaultValue:"visao-geral",className:"w-full",children:[a.jsxs(Ea,{className:"grid w-full grid-cols-4 lg:w-[600px]",children:[a.jsx(ct,{value:"visao-geral",children:"Viso Geral"}),a.jsx(ct,{value:"clientes",children:"Clientes"}),a.jsx(ct,{value:"estoque",children:"Estoque"}),a.jsx(ct,{value:"marketing",children:"Marketing"})]}),a.jsx(lt,{value:"visao-geral",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(UF,{className:"h-5 w-5 text-yellow-500"})," Dicas Estratgicas"]})}),a.jsx(U,{children:a.jsx("ul",{className:"space-y-2",children:s?.tips.map((u,d)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-yellow-500 mt-1.5 flex-shrink-0"}),u]},d))})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(vl,{className:"h-5 w-5 text-blue-500"})," Oportunidades"]})}),a.jsx(U,{children:a.jsx("ul",{className:"space-y-2",children:s?.opportunities.map((u,d)=>a.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[a.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),u]},d))})})]}),s?.prediction&&a.jsxs(F,{className:"md:col-span-2 bg-gradient-to-r from-primary/5 to-transparent border-primary/20",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(EF,{className:"h-5 w-5 text-primary"})," Previso de Tendncia"]})}),a.jsx(U,{children:a.jsx("p",{className:"text-sm font-medium",children:s.prediction})})]})]})}),a.jsx(lt,{value:"clientes",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-sm font-medium",children:"Aniversariantes do Ms"})}),a.jsxs(U,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:s?.metrics?.aniversariantesMes||0}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Clientes fazendo aniversrio este ms."}),a.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i("/marketing"),children:"Criar Campanha"})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-sm font-medium",children:"Clientes VIP"})}),a.jsxs(U,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2",children:s?.metrics?.clientesVIP||0}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Clientes com alta frequncia/gasto."}),a.jsx(z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>i("/clientes"),children:"Ver Lista VIP"})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-sm font-medium",children:"Recuperao"})}),a.jsxs(U,{children:[a.jsx("div",{className:"text-3xl font-bold mb-2 text-orange-500",children:s?.metrics?.clientesInativos||0}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Clientes inativos h 30+ dias."}),a.jsx(z,{variant:"default",size:"sm",className:"w-full bg-orange-500 hover:bg-orange-600",onClick:()=>i("/marketing"),children:"Reativar Agora"})]})]})]})}),a.jsx(lt,{value:"estoque",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ja,{className:"h-4 w-4 text-red-500"})," Baixo Estoque"]})}),a.jsxs(U,{children:[s?.metrics?.produtosBaixoEstoque&&s.metrics.produtosBaixoEstoque.length>0?a.jsx("ul",{className:"space-y-2",children:s.metrics.produtosBaixoEstoque.map((u,d)=>a.jsxs("li",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[a.jsx("span",{children:u.nome}),a.jsxs(ue,{variant:"destructive",children:[u.estoque," un"]})]},d))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto com estoque crtico."}),a.jsx(z,{variant:"ghost",size:"sm",className:"w-full mt-4",onClick:()=>i("/produtos"),children:"Gerenciar Estoque"})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2 text-sm",children:[a.jsx(Se,{className:"h-4 w-4 text-orange-500"})," Vencimentos Prximos"]})}),a.jsx(U,{children:s?.metrics?.produtosVencendo&&s.metrics.produtosVencendo.length>0?a.jsx("ul",{className:"space-y-2",children:s.metrics.produtosVencendo.map((u,d)=>a.jsxs("li",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[a.jsx("span",{children:u.nome}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.validade).toLocaleDateString()})]},d))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum produto vencendo nos prximos 30 dias."})})]})]})}),a.jsx(lt,{value:"marketing",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-sm font-medium",children:"Dias de Baixo Movimento"})}),a.jsxs(U,{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s?.metrics?.diasBaixoMovimento&&s.metrics.diasBaixoMovimento.length>0?s.metrics.diasBaixoMovimento.map((u,d)=>a.jsx(ue,{variant:"secondary",children:u},d)):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Movimento equilibrado na semana."})}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:'Sugesto: Crie promoes "Happy Hour" nestes dias.'}),a.jsx(z,{size:"sm",className:"w-full",onClick:()=>i("/marketing"),children:"Criar Promoo Sazonal"})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-sm font-medium",children:"Lembretes Administrativos"})}),a.jsx(U,{children:s?.metrics?.lembretesPendentes&&s.metrics.lembretesPendentes.length>0?a.jsx("ul",{className:"space-y-2",children:s.metrics.lembretesPendentes.map((u,d)=>a.jsxs("li",{className:"flex justify-between items-center text-sm border-b pb-2 last:border-0",children:[a.jsx("span",{children:u.titulo}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.data).toLocaleDateString()})]},d))}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma pendncia administrativa urgente."})})]})]})})]})]})}function $S(){return a.jsxs("div",{className:"space-responsive-lg animate-fade-in",children:[a.jsx(F,{className:"mb-4 border-border/60 bg-card/60",children:a.jsxs(U,{className:"py-6",children:[a.jsx("h1",{className:"text-responsive-2xl font-bold",children:"Consultor Inteligente do Negcio"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analise seu salo com recomendaes objetivas e estratgicas."})]})}),a.jsx(Ohe,{})]})}var Ju=e=>e.type==="checkbox",fo=e=>e instanceof Date,Or=e=>e==null;const fT=e=>typeof e=="object";var Gt=e=>!Or(e)&&!Array.isArray(e)&&fT(e)&&!fo(e),hT=e=>Gt(e)&&e.target?Ju(e.target)?e.target.checked:e.target.value:e,The=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mT=(e,t)=>e.has(The(t)),$he=e=>{const t=e.constructor&&e.constructor.prototype;return Gt(t)&&t.hasOwnProperty("isPrototypeOf")},j0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function nr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(j0&&(e instanceof Blob||n))&&(r||Gt(e)))if(t=r?[]:{},!r&&!$he(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=nr(e[s]));else return e;return t}var xp=e=>/^\w*$/.test(e),Ut=e=>e===void 0,N0=e=>Array.isArray(e)?e.filter(Boolean):[],_0=e=>N0(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ye=(e,t,r)=>{if(!t||!Gt(e))return r;const n=(xp(t)?[t]:_0(t)).reduce((s,o)=>Or(s)?s:s[o],e);return Ut(n)||n===e?Ut(e[t])?r:e[t]:n},tn=e=>typeof e=="boolean",mt=(e,t,r)=>{let n=-1;const s=xp(t)?[t]:_0(t),o=s.length,i=o-1;for(;++n<o;){const c=s[n];let l=r;if(n!==i){const u=e[c];l=Gt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=l,e=e[c]}};const kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Un={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ma={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},S0=k.createContext(null);S0.displayName="HookFormContext";const yp=()=>k.useContext(S0),Mhe=e=>{const{children:t,...r}=e;return k.createElement(S0.Provider,{value:r},t)};var pT=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Un.all&&(t._proxyFormState[i]=!n||Un.all),r&&(r[i]=!0),e[i]}});return s};const C0=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Dhe(e){const t=yp(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[i,c]=k.useState(r._formState),l=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return C0(()=>r._subscribe({name:s,formState:l.current,exact:o,callback:u=>{!n&&c({...r._formState,...u})}}),[s,n,o]),k.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),k.useMemo(()=>pT(i,r,l.current,!1),[i,r])}var fa=e=>typeof e=="string",gT=(e,t,r,n,s)=>fa(e)?(n&&t.watch.add(e),ye(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),ye(r,o))):(n&&(t.watchAll=!0),r),ay=e=>Or(e)||!fT(e);function Fa(e,t,r=new WeakSet){if(ay(e)||ay(t))return e===t;if(fo(e)&&fo(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const i=e[o];if(!s.includes(o))return!1;if(o!=="ref"){const c=t[o];if(fo(i)&&fo(c)||Gt(i)&&Gt(c)||Array.isArray(i)&&Array.isArray(c)?!Fa(i,c,r):i!==c)return!1}}return!0}function Rhe(e){const t=yp(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:i,compute:c}=e||{},l=k.useRef(s),u=k.useRef(c),d=k.useRef(void 0);u.current=c;const f=k.useMemo(()=>r._getWatch(n,l.current),[r,n]),[h,p]=k.useState(u.current?u.current(f):f);return C0(()=>r._subscribe({name:n,formState:{values:!0},exact:i,callback:v=>{if(!o){const m=gT(n,r._names,v.values||r._formValues,!1,l.current);if(u.current){const g=u.current(m);Fa(g,d.current)||(p(g),d.current=g)}else p(m)}}}),[r,o,n,i]),k.useEffect(()=>r._removeUnmounted()),h}function Ihe(e){const t=yp(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o,defaultValue:i}=e,c=mT(s._names.array,r),l=k.useMemo(()=>ye(s._formValues,r,ye(s._defaultValues,r,i)),[s,r,i]),u=Rhe({control:s,name:r,defaultValue:l,exact:!0}),d=Dhe({control:s,name:r,exact:!0}),f=k.useRef(e),h=k.useRef(s.register(r,{...e.rules,value:u,...tn(e.disabled)?{disabled:e.disabled}:{}}));f.current=e;const p=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!ye(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ye(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ye(d.validatingFields,r)},error:{enumerable:!0,get:()=>ye(d.errors,r)}}),[d,r]),v=k.useCallback(b=>h.current.onChange({target:{value:hT(b),name:r},type:kh.CHANGE}),[r]),m=k.useCallback(()=>h.current.onBlur({target:{value:ye(s._formValues,r),name:r},type:kh.BLUR}),[r,s._formValues]),g=k.useCallback(b=>{const w=ye(s._fields,r);w&&b&&(w._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:j=>b.setCustomValidity(j),reportValidity:()=>b.reportValidity()})},[s._fields,r]),y=k.useMemo(()=>({name:r,value:u,...tn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:m,ref:g}),[r,n,d.disabled,v,m,g,u]);return k.useEffect(()=>{const b=s._options.shouldUnregister||o;s.register(r,{...f.current.rules,...tn(f.current.disabled)?{disabled:f.current.disabled}:{}});const w=(j,N)=>{const S=ye(s._fields,j);S&&S._f&&(S._f.mount=N)};if(w(r,!0),b){const j=nr(ye(s._options.defaultValues,r));mt(s._defaultValues,r,j),Ut(ye(s._formValues,r))&&mt(s._formValues,r,j)}return!c&&s.register(r),()=>{(c?b&&!s._state.action:b)?s.unregister(r):w(r,!1)}},[r,s,c,o]),k.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),k.useMemo(()=>({field:y,formState:d,fieldState:p}),[y,d,p])}const Lhe=e=>e.render(Ihe(e));var P0=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Pl=e=>Array.isArray(e)?e:[e],MS=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},Br=e=>Gt(e)&&!Object.keys(e).length,A0=e=>e.type==="file",Wn=e=>typeof e=="function",Eh=e=>{if(!j0)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},vT=e=>e.type==="select-multiple",k0=e=>e.type==="radio",Fhe=e=>k0(e)||Ju(e),Ig=e=>Eh(e)&&e.isConnected;function zhe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ut(e)?n++:e[t[n++]];return e}function Bhe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ut(e[t]))return!1;return!0}function Yt(e,t){const r=Array.isArray(t)?t:xp(t)?[t]:_0(t),n=r.length===1?e:zhe(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(Gt(n)&&Br(n)||Array.isArray(n)&&Bhe(n))&&Yt(e,r.slice(0,-1)),e}var xT=e=>{for(const t in e)if(Wn(e[t]))return!0;return!1};function Oh(e,t={}){const r=Array.isArray(e);if(Gt(e)||r)for(const n in e)Array.isArray(e[n])||Gt(e[n])&&!xT(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Oh(e[n],t[n])):Or(e[n])||(t[n]=!0);return t}function yT(e,t,r){const n=Array.isArray(e);if(Gt(e)||n)for(const s in e)Array.isArray(e[s])||Gt(e[s])&&!xT(e[s])?Ut(t)||ay(r[s])?r[s]=Array.isArray(e[s])?Oh(e[s],[]):{...Oh(e[s])}:yT(e[s],Or(t)?{}:t[s],r[s]):r[s]=!Fa(e[s],t[s]);return r}var al=(e,t)=>yT(e,t,Oh(t));const DS={value:!1,isValid:!1},RS={value:!0,isValid:!0};var bT=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?RS:{value:e[0].value,isValid:!0}:RS:DS}return DS},wT=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ut(e)?e:t?e===""?NaN:e&&+e:r&&fa(e)?new Date(e):n?n(e):e;const IS={isValid:!1,value:null};var jT=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,IS):IS;function LS(e){const t=e.ref;return A0(t)?t.files:k0(t)?jT(e.refs).value:vT(t)?[...t.selectedOptions].map(({value:r})=>r):Ju(t)?bT(e.refs).value:wT(Ut(t.value)?e.ref.value:t.value,e)}var Vhe=(e,t,r,n)=>{const s={};for(const o of e){const i=ye(t,o);i&&mt(s,o,i._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Th=e=>e instanceof RegExp,sl=e=>Ut(e)?e:Th(e)?e.source:Gt(e)?Th(e.value)?e.value.source:e.value:e,FS=e=>({isOnSubmit:!e||e===Un.onSubmit,isOnBlur:e===Un.onBlur,isOnChange:e===Un.onChange,isOnAll:e===Un.all,isOnTouch:e===Un.onTouched});const zS="AsyncFunction";var Uhe=e=>!!e&&!!e.validate&&!!(Wn(e.validate)&&e.validate.constructor.name===zS||Gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===zS)),Whe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),BS=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Al=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=ye(e,s);if(o){const{_f:i,...c}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],s)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Al(c,t))break}else if(Gt(c)&&Al(c,t))break}}};function VS(e,t,r){const n=ye(e,r);if(n||xp(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),i=ye(t,o),c=ye(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(c&&c.type)return{name:o,error:c};if(c&&c.root&&c.root.type)return{name:`${o}.root`,error:c.root};s.pop()}return{name:r}}var qhe=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Br(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Un.all))},Hhe=(e,t,r)=>!e||!t||e===t||Pl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Ghe=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,Khe=(e,t)=>!N0(ye(e,t)).length&&Yt(e,t),Yhe=(e,t,r)=>{const n=Pl(ye(e,r));return mt(n,"root",t[r]),mt(e,r,n),e},nf=e=>fa(e);function US(e,t,r="validate"){if(nf(e)||Array.isArray(e)&&e.every(nf)||tn(e)&&!e)return{type:r,message:nf(e)?e:"",ref:t}}var si=e=>Gt(e)&&!Th(e)?e:{value:e,message:""},WS=async(e,t,r,n,s,o)=>{const{ref:i,refs:c,required:l,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:v,name:m,valueAsNumber:g,mount:y}=e._f,b=ye(r,m);if(!y||t.has(m))return{};const w=c?c[0]:i,j=C=>{s&&w.reportValidity&&(w.setCustomValidity(tn(C)?"":C||""),w.reportValidity())},N={},S=k0(i),_=Ju(i),P=S||_,E=(g||A0(i))&&Ut(i.value)&&Ut(b)||Eh(i)&&i.value===""||b===""||Array.isArray(b)&&!b.length,$=P0.bind(null,m,n,N),A=(C,O,T,I=Ma.maxLength,R=Ma.minLength)=>{const D=C?O:T;N[m]={type:C?I:R,message:D,ref:i,...$(C?I:R,D)}};if(o?!Array.isArray(b)||!b.length:l&&(!P&&(E||Or(b))||tn(b)&&!b||_&&!bT(c).isValid||S&&!jT(c).isValid)){const{value:C,message:O}=nf(l)?{value:!!l,message:l}:si(l);if(C&&(N[m]={type:Ma.required,message:O,ref:w,...$(Ma.required,O)},!n))return j(O),N}if(!E&&(!Or(f)||!Or(h))){let C,O;const T=si(h),I=si(f);if(!Or(b)&&!isNaN(b)){const R=i.valueAsNumber||b&&+b;Or(T.value)||(C=R>T.value),Or(I.value)||(O=R<I.value)}else{const R=i.valueAsDate||new Date(b),D=re=>new Date(new Date().toDateString()+" "+re),M=i.type=="time",V=i.type=="week";fa(T.value)&&b&&(C=M?D(b)>D(T.value):V?b>T.value:R>new Date(T.value)),fa(I.value)&&b&&(O=M?D(b)<D(I.value):V?b<I.value:R<new Date(I.value))}if((C||O)&&(A(!!C,T.message,I.message,Ma.max,Ma.min),!n))return j(N[m].message),N}if((u||d)&&!E&&(fa(b)||o&&Array.isArray(b))){const C=si(u),O=si(d),T=!Or(C.value)&&b.length>+C.value,I=!Or(O.value)&&b.length<+O.value;if((T||I)&&(A(T,C.message,O.message),!n))return j(N[m].message),N}if(p&&!E&&fa(b)){const{value:C,message:O}=si(p);if(Th(C)&&!b.match(C)&&(N[m]={type:Ma.pattern,message:O,ref:i,...$(Ma.pattern,O)},!n))return j(O),N}if(v){if(Wn(v)){const C=await v(b,r),O=US(C,w);if(O&&(N[m]={...O,...$(Ma.validate,O.message)},!n))return j(O.message),N}else if(Gt(v)){let C={};for(const O in v){if(!Br(C)&&!n)break;const T=US(await v[O](b,r),w,O);T&&(C={...T,...$(O,T.message)},j(T.message),n&&(N[m]=C))}if(!Br(C)&&(N[m]={ref:w,...C},!n))return N}}return j(!0),N};const Zhe={mode:Un.onSubmit,reValidateMode:Un.onChange,shouldFocusError:!0};function Xhe(e={}){let t={...Zhe,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Gt(t.defaultValues)||Gt(t.values)?nr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:nr(s),i={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:MS(),state:MS()},p=t.criteriaMode===Un.all,v=L=>q=>{clearTimeout(u),u=setTimeout(L,q)},m=async L=>{if(!t.disabled&&(d.isValid||f.isValid||L)){const q=t.resolver?Br((await _()).errors):await E(n,!0);q!==r.isValid&&h.state.next({isValid:q})}},g=(L,q)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(c.mount)).forEach(G=>{G&&(q?mt(r.validatingFields,G,q):Yt(r.validatingFields,G))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Br(r.validatingFields)}))},y=(L,q=[],G,ve,pe=!0,de=!0)=>{if(ve&&G&&!t.disabled){if(i.action=!0,de&&Array.isArray(ye(n,L))){const je=G(ye(n,L),ve.argA,ve.argB);pe&&mt(n,L,je)}if(de&&Array.isArray(ye(r.errors,L))){const je=G(ye(r.errors,L),ve.argA,ve.argB);pe&&mt(r.errors,L,je),Khe(r.errors,L)}if((d.touchedFields||f.touchedFields)&&de&&Array.isArray(ye(r.touchedFields,L))){const je=G(ye(r.touchedFields,L),ve.argA,ve.argB);pe&&mt(r.touchedFields,L,je)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=al(s,o)),h.state.next({name:L,isDirty:A(L,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mt(o,L,q)},b=(L,q)=>{mt(r.errors,L,q),h.state.next({errors:r.errors})},w=L=>{r.errors=L,h.state.next({errors:r.errors,isValid:!1})},j=(L,q,G,ve)=>{const pe=ye(n,L);if(pe){const de=ye(o,L,Ut(G)?ye(s,L):G);Ut(de)||ve&&ve.defaultChecked||q?mt(o,L,q?de:LS(pe._f)):T(L,de),i.mount&&m()}},N=(L,q,G,ve,pe)=>{let de=!1,je=!1;const ot={name:L};if(!t.disabled){if(!G||ve){(d.isDirty||f.isDirty)&&(je=r.isDirty,r.isDirty=ot.isDirty=A(),de=je!==ot.isDirty);const ht=Fa(ye(s,L),q);je=!!ye(r.dirtyFields,L),ht?Yt(r.dirtyFields,L):mt(r.dirtyFields,L,!0),ot.dirtyFields=r.dirtyFields,de=de||(d.dirtyFields||f.dirtyFields)&&je!==!ht}if(G){const ht=ye(r.touchedFields,L);ht||(mt(r.touchedFields,L,G),ot.touchedFields=r.touchedFields,de=de||(d.touchedFields||f.touchedFields)&&ht!==G)}de&&pe&&h.state.next(ot)}return de?ot:{}},S=(L,q,G,ve)=>{const pe=ye(r.errors,L),de=(d.isValid||f.isValid)&&tn(q)&&r.isValid!==q;if(t.delayError&&G?(l=v(()=>b(L,G)),l(t.delayError)):(clearTimeout(u),l=null,G?mt(r.errors,L,G):Yt(r.errors,L)),(G?!Fa(pe,G):pe)||!Br(ve)||de){const je={...ve,...de&&tn(q)?{isValid:q}:{},errors:r.errors,name:L};r={...r,...je},h.state.next(je)}},_=async L=>{g(L,!0);const q=await t.resolver(o,t.context,Vhe(L||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(L),q},P=async L=>{const{errors:q}=await _(L);if(L)for(const G of L){const ve=ye(q,G);ve?mt(r.errors,G,ve):Yt(r.errors,G)}else r.errors=q;return q},E=async(L,q,G={valid:!0})=>{for(const ve in L){const pe=L[ve];if(pe){const{_f:de,...je}=pe;if(de){const ot=c.array.has(de.name),ht=pe._f&&Uhe(pe._f);ht&&d.validatingFields&&g([ve],!0);const er=await WS(pe,c.disabled,o,p,t.shouldUseNativeValidation&&!q,ot);if(ht&&d.validatingFields&&g([ve]),er[de.name]&&(G.valid=!1,q))break;!q&&(ye(er,de.name)?ot?Yhe(r.errors,er,de.name):mt(r.errors,de.name,er[de.name]):Yt(r.errors,de.name))}!Br(je)&&await E(je,q,G)}}return G.valid},$=()=>{for(const L of c.unMount){const q=ye(n,L);q&&(q._f.refs?q._f.refs.every(G=>!Ig(G)):!Ig(q._f.ref))&&le(L)}c.unMount=new Set},A=(L,q)=>!t.disabled&&(L&&q&&mt(o,L,q),!Fa(re(),s)),C=(L,q,G)=>gT(L,c,{...i.mount?o:Ut(q)?s:fa(L)?{[L]:q}:q},G,q),O=L=>N0(ye(i.mount?o:s,L,t.shouldUnregister?ye(s,L,[]):[])),T=(L,q,G={})=>{const ve=ye(n,L);let pe=q;if(ve){const de=ve._f;de&&(!de.disabled&&mt(o,L,wT(q,de)),pe=Eh(de.ref)&&Or(q)?"":q,vT(de.ref)?[...de.ref.options].forEach(je=>je.selected=pe.includes(je.value)):de.refs?Ju(de.ref)?de.refs.forEach(je=>{(!je.defaultChecked||!je.disabled)&&(Array.isArray(pe)?je.checked=!!pe.find(ot=>ot===je.value):je.checked=pe===je.value||!!pe)}):de.refs.forEach(je=>je.checked=je.value===pe):A0(de.ref)?de.ref.value="":(de.ref.value=pe,de.ref.type||h.state.next({name:L,values:nr(o)})))}(G.shouldDirty||G.shouldTouch)&&N(L,pe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&V(L)},I=(L,q,G)=>{for(const ve in q){if(!q.hasOwnProperty(ve))return;const pe=q[ve],de=L+"."+ve,je=ye(n,de);(c.array.has(L)||Gt(pe)||je&&!je._f)&&!fo(pe)?I(de,pe,G):T(de,pe,G)}},R=(L,q,G={})=>{const ve=ye(n,L),pe=c.array.has(L),de=nr(q);mt(o,L,de),pe?(h.array.next({name:L,values:nr(o)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&G.shouldDirty&&h.state.next({name:L,dirtyFields:al(s,o),isDirty:A(L,de)})):ve&&!ve._f&&!Or(de)?I(L,de,G):T(L,de,G),BS(L,c)&&h.state.next({...r,name:L}),h.state.next({name:i.mount?L:void 0,values:nr(o)})},D=async L=>{i.mount=!0;const q=L.target;let G=q.name,ve=!0;const pe=ye(n,G),de=ht=>{ve=Number.isNaN(ht)||fo(ht)&&isNaN(ht.getTime())||Fa(ht,ye(o,G,ht))},je=FS(t.mode),ot=FS(t.reValidateMode);if(pe){let ht,er;const qs=q.type?LS(pe._f):hT(L),ra=L.type===kh.BLUR||L.type===kh.FOCUS_OUT,fd=!Whe(pe._f)&&!t.resolver&&!ye(r.errors,G)&&!pe._f.deps||Ghe(ra,ye(r.touchedFields,G),r.isSubmitted,ot,je),Ho=BS(G,c,ra);mt(o,G,qs),ra?(pe._f.onBlur&&pe._f.onBlur(L),l&&l(0)):pe._f.onChange&&pe._f.onChange(L);const Uc=N(G,qs,ra),Wc=!Br(Uc)||Ho;if(!ra&&h.state.next({name:G,type:L.type,values:nr(o)}),fd)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ra&&m():ra||m()),Wc&&h.state.next({name:G,...Ho?{}:Uc});if(!ra&&Ho&&h.state.next({...r}),t.resolver){const{errors:$n}=await _([G]);if(de(qs),ve){const zp=VS(r.errors,n,G),Ue=VS($n,n,zp.name||G);ht=Ue.error,G=Ue.name,er=Br($n)}}else g([G],!0),ht=(await WS(pe,c.disabled,o,p,t.shouldUseNativeValidation))[G],g([G]),de(qs),ve&&(ht?er=!1:(d.isValid||f.isValid)&&(er=await E(n,!0)));ve&&(pe._f.deps&&V(pe._f.deps),S(G,er,ht,Uc))}},M=(L,q)=>{if(ye(r.errors,q)&&L.focus)return L.focus(),1},V=async(L,q={})=>{let G,ve;const pe=Pl(L);if(t.resolver){const de=await P(Ut(L)?L:pe);G=Br(de),ve=L?!pe.some(je=>ye(de,je)):G}else L?(ve=(await Promise.all(pe.map(async de=>{const je=ye(n,de);return await E(je&&je._f?{[de]:je}:je)}))).every(Boolean),!(!ve&&!r.isValid)&&m()):ve=G=await E(n);return h.state.next({...!fa(L)||(d.isValid||f.isValid)&&G!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:G}:{},errors:r.errors}),q.shouldFocus&&!ve&&Al(n,M,L?pe:c.mount),ve},re=L=>{const q={...i.mount?o:s};return Ut(L)?q:fa(L)?ye(q,L):L.map(G=>ye(q,G))},K=(L,q)=>({invalid:!!ye((q||r).errors,L),isDirty:!!ye((q||r).dirtyFields,L),error:ye((q||r).errors,L),isValidating:!!ye(r.validatingFields,L),isTouched:!!ye((q||r).touchedFields,L)}),te=L=>{L&&Pl(L).forEach(q=>Yt(r.errors,q)),h.state.next({errors:L?r.errors:{}})},ce=(L,q,G)=>{const ve=(ye(n,L,{_f:{}})._f||{}).ref,pe=ye(r.errors,L)||{},{ref:de,message:je,type:ot,...ht}=pe;mt(r.errors,L,{...ht,...q,ref:ve}),h.state.next({name:L,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&ve&&ve.focus&&ve.focus()},_e=(L,q)=>Wn(L)?h.state.subscribe({next:G=>"values"in G&&L(C(void 0,q),G)}):C(L,q,!0),Ze=L=>h.state.subscribe({next:q=>{Hhe(L.name,q.name,L.exact)&&qhe(q,L.formState||d,Je,L.reRenderRoot)&&L.callback({values:{...o},...r,...q,defaultValues:s})}}).unsubscribe,Ee=L=>(i.mount=!0,f={...f,...L.formState},Ze({...L,formState:f})),le=(L,q={})=>{for(const G of L?Pl(L):c.mount)c.mount.delete(G),c.array.delete(G),q.keepValue||(Yt(n,G),Yt(o,G)),!q.keepError&&Yt(r.errors,G),!q.keepDirty&&Yt(r.dirtyFields,G),!q.keepTouched&&Yt(r.touchedFields,G),!q.keepIsValidating&&Yt(r.validatingFields,G),!t.shouldUnregister&&!q.keepDefaultValue&&Yt(s,G);h.state.next({values:nr(o)}),h.state.next({...r,...q.keepDirty?{isDirty:A()}:{}}),!q.keepIsValid&&m()},Re=({disabled:L,name:q})=>{(tn(L)&&i.mount||L||c.disabled.has(q))&&(L?c.disabled.add(q):c.disabled.delete(q))},oe=(L,q={})=>{let G=ye(n,L);const ve=tn(q.disabled)||tn(t.disabled);return mt(n,L,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:L}},name:L,mount:!0,...q}}),c.mount.add(L),G?Re({disabled:tn(q.disabled)?q.disabled:t.disabled,name:L}):j(L,!0,q.value),{...ve?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:sl(q.min),max:sl(q.max),minLength:sl(q.minLength),maxLength:sl(q.maxLength),pattern:sl(q.pattern)}:{},name:L,onChange:D,onBlur:D,ref:pe=>{if(pe){oe(L,q),G=ye(n,L);const de=Ut(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,je=Fhe(de),ot=G._f.refs||[];if(je?ot.find(ht=>ht===de):de===G._f.ref)return;mt(n,L,{_f:{...G._f,...je?{refs:[...ot.filter(Ig),de,...Array.isArray(ye(s,L))?[{}]:[]],ref:{type:de.type,name:L}}:{ref:de}}}),j(L,!1,void 0,de)}else G=ye(n,L,{}),G._f&&(G._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(mT(c.array,L)&&i.action)&&c.unMount.add(L)}}},me=()=>t.shouldFocusError&&Al(n,M,c.mount),be=L=>{tn(L)&&(h.state.next({disabled:L}),Al(n,(q,G)=>{const ve=ye(n,G);ve&&(q.disabled=ve._f.disabled||L,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(pe=>{pe.disabled=ve._f.disabled||L}))},0,!1))},Y=(L,q)=>async G=>{let ve;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let pe=nr(o);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:je}=await _();r.errors=de,pe=nr(je)}else await E(n);if(c.disabled.size)for(const de of c.disabled)Yt(pe,de);if(Yt(r.errors,"root"),Br(r.errors)){h.state.next({errors:{}});try{await L(pe,G)}catch(de){ve=de}}else q&&await q({...r.errors},G),me(),setTimeout(me);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Br(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},Xe=(L,q={})=>{ye(n,L)&&(Ut(q.defaultValue)?R(L,nr(ye(s,L))):(R(L,q.defaultValue),mt(s,L,nr(q.defaultValue))),q.keepTouched||Yt(r.touchedFields,L),q.keepDirty||(Yt(r.dirtyFields,L),r.isDirty=q.defaultValue?A(L,nr(ye(s,L))):A()),q.keepError||(Yt(r.errors,L),d.isValid&&m()),h.state.next({...r}))},he=(L,q={})=>{const G=L?nr(L):s,ve=nr(G),pe=Br(L),de=pe?s:ve;if(q.keepDefaultValues||(s=G),!q.keepValues){if(q.keepDirtyValues){const je=new Set([...c.mount,...Object.keys(al(s,o))]);for(const ot of Array.from(je))ye(r.dirtyFields,ot)?mt(de,ot,ye(o,ot)):R(ot,ye(de,ot))}else{if(j0&&Ut(L))for(const je of c.mount){const ot=ye(n,je);if(ot&&ot._f){const ht=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Eh(ht)){const er=ht.closest("form");if(er){er.reset();break}}}}if(q.keepFieldsRef)for(const je of c.mount)R(je,ye(de,je));else n={}}o=t.shouldUnregister?q.keepDefaultValues?nr(s):{}:nr(de),h.array.next({values:{...de}}),h.state.next({values:{...de}})}c={mount:q.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,i.watch=!!t.shouldUnregister,h.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Fa(L,s)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:q.keepDirtyValues?q.keepDefaultValues&&o?al(s,o):r.dirtyFields:q.keepDefaultValues&&L?al(s,L):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(L,q)=>he(Wn(L)?L(o):L,q),Ae=(L,q={})=>{const G=ye(n,L),ve=G&&G._f;if(ve){const pe=ve.refs?ve.refs[0]:ve.ref;pe.focus&&(pe.focus(),q.shouldSelect&&Wn(pe.select)&&pe.select())}},Je=L=>{r={...r,...L}},$t={control:{register:oe,unregister:le,getFieldState:K,handleSubmit:Y,setError:ce,_subscribe:Ze,_runSchema:_,_focusError:me,_getWatch:C,_getDirty:A,_setValid:m,_setFieldArray:y,_setDisabledField:Re,_setErrors:w,_getFieldArray:O,_reset:he,_resetDefaultValues:()=>Wn(t.defaultValues)&&t.defaultValues().then(L=>{Ve(L,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:be,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(L){i=L},get _defaultValues(){return s},get _names(){return c},set _names(L){c=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:Ee,trigger:V,register:oe,handleSubmit:Y,watch:_e,setValue:R,getValues:re,reset:Ve,resetField:Xe,clearErrors:te,unregister:le,setError:ce,setFocus:Ae,getFieldState:K};return{...$t,formControl:$t}}function ks(e={}){const t=k.useRef(void 0),r=k.useRef(void 0),[n,s]=k.useState({isDirty:!1,isValidating:!1,isLoading:Wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:i,...c}=Xhe(e);t.current={...c,formState:n}}const o=t.current.control;return o._options=e,C0(()=>{const i=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),o._formState.isReady=!0,i},[o]),k.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),k.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),k.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),k.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),k.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),k.useEffect(()=>{e.values&&!Fa(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,s(i=>({...i}))):o._resetDefaultValues()},[o,e.values]),k.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=pT(n,o),t.current}const qS=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ye(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},sy=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?qS(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>qS(s,r,e))}},HS=(e,t)=>{t.shouldUseNativeValidation&&sy(e,t);const r={};for(const n in e){const s=ye(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(Jhe(t.names||Object.keys(e),n)){const i=Object.assign({},ye(r,n));mt(i,"root",o),mt(r,n,i)}else mt(r,n,o)}return r},Jhe=(e,t)=>{const r=GS(t);return e.some(n=>GS(n).match(`^${r}\\.\\d+`))};function GS(e){return e.replace(/\]|\[/g,"")}function Q(e,t,r){function n(c,l){var u;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(u=c._zod).traits??(u.traits=new Set),c._zod.traits.add(e),t(c,l);for(const d in i.prototype)d in c||Object.defineProperty(c,d,{value:i.prototype[d].bind(c)});c._zod.constr=i,c._zod.def=l}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function i(c){var l;const u=r?.Parent?new o:this;n(u,c),(l=u._zod).deferred??(l.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class yu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const NT={};function Ao(e){return NT}function Qhe(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,s])=>t.indexOf(+n)===-1).map(([n,s])=>s)}function oy(e,t){return typeof t=="bigint"?t.toString():t}function _T(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function E0(e){return e==null}function O0(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function eme(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l?.[1]&&(s=Number.parseInt(l[1]))}const o=r>s?r:s,i=Number.parseInt(e.toFixed(o).replace(".","")),c=Number.parseInt(t.toFixed(o).replace(".",""));return i%c/10**o}function Pt(e,t,r){Object.defineProperty(e,t,{get(){{const n=r();return e[t]=n,n}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Vo(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Lc(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function KS(e){return JSON.stringify(e)}const ST="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function iy(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const tme=_T(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function cy(e){if(iy(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(iy(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}const rme=new Set(["string","number","symbol"]);function bp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Uo(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function Ce(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function nme(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const ame={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function sme(e,t){const r=e._zod.def,n=Lc(e._zod.def,{get shape(){const s={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(s[o]=r.shape[o])}return Vo(this,"shape",s),s},checks:[]});return Uo(e,n)}function ome(e,t){const r=e._zod.def,n=Lc(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete s[o]}return Vo(this,"shape",s),s},checks:[]});return Uo(e,n)}function ime(e,t){if(!cy(t))throw new Error("Invalid input to extend: expected a plain object");const r=Lc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Vo(this,"shape",n),n},checks:[]});return Uo(e,r)}function cme(e,t){const r=Lc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Vo(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Uo(e,r)}function lme(e,t,r){const n=Lc(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=e?new e({type:"optional",innerType:s[i]}):s[i])}else for(const i in s)o[i]=e?new e({type:"optional",innerType:s[i]}):s[i];return Vo(this,"shape",o),o},checks:[]});return Uo(t,n)}function ume(e,t,r){const n=Lc(t._zod.def,{get shape(){const s=t._zod.def.shape,o={...s};if(r)for(const i in r){if(!(i in o))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(o[i]=new e({type:"nonoptional",innerType:s[i]}))}else for(const i in s)o[i]=new e({type:"nonoptional",innerType:s[i]});return Vo(this,"shape",o),o},checks:[]});return Uo(t,n)}function kl(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function CT(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Bd(e){return typeof e=="string"?e:e?.message}function ko(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=Bd(e.inst?._zod.def?.error?.(e))??Bd(t?.error?.(e))??Bd(r.customError?.(e))??Bd(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function T0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function bu(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const PT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,oy,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},$0=Q("$ZodError",PT),wp=Q("$ZodError",PT,{Parent:Error});function dme(e,t=r=>r.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}function fme(e,t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(c=>s({issues:c}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)n._errors.push(r(i));else{let c=n,l=0;for(;l<i.path.length;){const u=i.path[l];l===i.path.length-1?(c[u]=c[u]||{_errors:[]},c[u]._errors.push(r(i))):c[u]=c[u]||{_errors:[]},c=c[u],l++}}};return s(e),n}const AT=e=>(t,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise)throw new yu;if(i.issues.length){const c=new(s?.Err??e)(i.issues.map(l=>ko(l,o,Ao())));throw ST(c,s?.callee),c}return i.value},hme=AT(wp),kT=e=>async(t,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const c=new(s?.Err??e)(i.issues.map(l=>ko(l,o,Ao())));throw ST(c,s?.callee),c}return i.value},mme=kT(wp),ET=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new yu;return o.issues.length?{success:!1,error:new(e??$0)(o.issues.map(i=>ko(i,s,Ao())))}:{success:!0,data:o.value}},pme=ET(wp),OT=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>ko(i,s,Ao())))}:{success:!0,data:o.value}},gme=OT(wp),vme=/^[cC][^\s-]{8,}$/,xme=/^[0-9a-z]+$/,yme=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bme=/^[0-9a-vA-V]{20}$/,wme=/^[A-Za-z0-9]{27}$/,jme=/^[a-zA-Z0-9_-]{21}$/,Nme=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,_me=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,YS=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Sme=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Cme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Pme(){return new RegExp(Cme,"u")}const Ame=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kme=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Eme=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Ome=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tme=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,TT=/^[A-Za-z0-9_-]*$/,$me=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Mme=/^\+(?:[0-9]){6,14}[0-9]$/,$T="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Dme=new RegExp(`^${$T}$`);function MT(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Rme(e){return new RegExp(`^${MT(e)}$`)}function Ime(e){const t=MT({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${$T}T(?:${n})$`)}const Lme=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Fme=/^\d+$/,zme=/^-?\d+(?:\.\d+)?/i,Bme=/true|false/i,Vme=/^[^A-Z]*$/,Ume=/^[^a-z]*$/,Kr=Q("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),DT={number:"number",bigint:"bigint",object:"date"},RT=Q("$ZodCheckLessThan",(e,t)=>{Kr.init(e,t);const r=DT[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),IT=Q("$ZodCheckGreaterThan",(e,t)=>{Kr.init(e,t);const r=DT[typeof t.value];e._zod.onattach.push(n=>{const s=n._zod.bag,o=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Wme=Q("$ZodCheckMultipleOf",(e,t)=>{Kr.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):eme(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),qme=Q("$ZodCheckNumberFormat",(e,t)=>{Kr.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[s,o]=ame[t.format];e._zod.onattach.push(i=>{const c=i._zod.bag;c.format=t.format,c.minimum=s,c.maximum=o,r&&(c.pattern=Fme)}),e._zod.check=i=>{const c=i.value;if(r){if(!Number.isInteger(c)){i.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?i.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):i.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<s&&i.issues.push({origin:"number",input:c,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),c>o&&i.issues.push({origin:"number",input:c,code:"too_big",maximum:o,inst:e})}}),Hme=Q("$ZodCheckMaxLength",(e,t)=>{var r;Kr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!E0(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const s=n.value;if(s.length<=t.maximum)return;const i=T0(s);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Gme=Q("$ZodCheckMinLength",(e,t)=>{var r;Kr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!E0(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const s=n.value;if(s.length>=t.minimum)return;const i=T0(s);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),Kme=Q("$ZodCheckLengthEquals",(e,t)=>{var r;Kr.init(e,t),(r=e._zod.def).when??(r.when=n=>{const s=n.value;return!E0(s)&&s.length!==void 0}),e._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=n=>{const s=n.value,o=s.length;if(o===t.length)return;const i=T0(s),c=o>t.length;n.issues.push({origin:i,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),jp=Q("$ZodCheckStringFormat",(e,t)=>{var r,n;Kr.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Yme=Q("$ZodCheckRegex",(e,t)=>{jp.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Zme=Q("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Vme),jp.init(e,t)}),Xme=Q("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Ume),jp.init(e,t)}),Jme=Q("$ZodCheckIncludes",(e,t)=>{Kr.init(e,t);const r=bp(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),Qme=Q("$ZodCheckStartsWith",(e,t)=>{Kr.init(e,t);const r=new RegExp(`^${bp(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),epe=Q("$ZodCheckEndsWith",(e,t)=>{Kr.init(e,t);const r=new RegExp(`.*${bp(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),tpe=Q("$ZodCheckOverwrite",(e,t)=>{Kr.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class rpe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),s=Math.min(...n.map(i=>i.length-i.trimStart().length)),o=n.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...r,s.join(`
`))}}const npe={major:4,minor:0,patch:13},It=Q("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=npe;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const o of s._zod.onattach)o(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,i,c)=>{let l=kl(o),u;for(const d of i){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(l)continue;const f=o.issues.length,h=d._zod.check(o);if(h instanceof Promise&&c?.async===!1)throw new yu;if(u||h instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await h,o.issues.length!==f&&(l||(l=kl(o,f)))});else{if(o.issues.length===f)continue;l||(l=kl(o,f))}}return u?u.then(()=>o):o};e._zod.run=(o,i)=>{const c=e._zod.parse(o,i);if(c instanceof Promise){if(i.async===!1)throw new yu;return c.then(l=>s(l,n,i))}return s(c,n,i)}}e["~standard"]={validate:s=>{try{const o=pme(e,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return gme(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),M0=Q("$ZodString",(e,t)=>{It.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Lme(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Rt=Q("$ZodStringFormat",(e,t)=>{jp.init(e,t),M0.init(e,t)}),ape=Q("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=_me),Rt.init(e,t)}),spe=Q("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=YS(n))}else t.pattern??(t.pattern=YS());Rt.init(e,t)}),ope=Q("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Sme),Rt.init(e,t)}),ipe=Q("$ZodURL",(e,t)=>{Rt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:$me.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),cpe=Q("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Pme()),Rt.init(e,t)}),lpe=Q("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jme),Rt.init(e,t)}),upe=Q("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=vme),Rt.init(e,t)}),dpe=Q("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=xme),Rt.init(e,t)}),fpe=Q("$ZodULID",(e,t)=>{t.pattern??(t.pattern=yme),Rt.init(e,t)}),hpe=Q("$ZodXID",(e,t)=>{t.pattern??(t.pattern=bme),Rt.init(e,t)}),mpe=Q("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=wme),Rt.init(e,t)}),ppe=Q("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Ime(t)),Rt.init(e,t)}),gpe=Q("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Dme),Rt.init(e,t)}),vpe=Q("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Rme(t)),Rt.init(e,t)}),xpe=Q("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Nme),Rt.init(e,t)}),ype=Q("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Ame),Rt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),bpe=Q("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=kme),Rt.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),wpe=Q("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Eme),Rt.init(e,t)}),jpe=Q("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Ome),Rt.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function LT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Npe=Q("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Tme),Rt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{LT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function _pe(e){if(!TT.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return LT(r)}const Spe=Q("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=TT),Rt.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{_pe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Cpe=Q("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Mme),Rt.init(e,t)});function Ppe(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const Ape=Q("$ZodJWT",(e,t)=>{Rt.init(e,t),e._zod.check=r=>{Ppe(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),FT=Q("$ZodNumber",(e,t)=>{It.init(e,t),e._zod.pattern=e._zod.bag.pattern??zme,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...o?{received:o}:{}}),r}}),kpe=Q("$ZodNumber",(e,t)=>{qme.init(e,t),FT.init(e,t)}),Epe=Q("$ZodBoolean",(e,t)=>{It.init(e,t),e._zod.pattern=Bme,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),r}}),Ope=Q("$ZodUnknown",(e,t)=>{It.init(e,t),e._zod.parse=r=>r}),Tpe=Q("$ZodNever",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)}),$pe=Q("$ZodDate",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch{}const s=r.value,o=s instanceof Date;return o&&!Number.isNaN(s.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:s,...o?{received:"Invalid Date"}:{},inst:e}),r}});function ZS(e,t,r){e.issues.length&&t.issues.push(...CT(r,e.issues)),t.value[r]=e.value}const Mpe=Q("$ZodArray",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const o=[];for(let i=0;i<s.length;i++){const c=s[i],l=t.element._zod.run({value:c,issues:[]},n);l instanceof Promise?o.push(l.then(u=>ZS(u,r,i))):ZS(l,r,i)}return o.length?Promise.all(o).then(()=>r):r}});function Vd(e,t,r,n){e.issues.length&&t.issues.push(...CT(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const Dpe=Q("$ZodObject",(e,t)=>{It.init(e,t);const r=_T(()=>{const f=Object.keys(t.shape);for(const p of f)if(!(t.shape[p]instanceof It))throw new Error(`Invalid element at key "${p}": expected a Zod schema`);const h=nme(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});Pt(e._zod,"propValues",()=>{const f=t.shape,h={};for(const p in f){const v=f[p]._zod;if(v.values){h[p]??(h[p]=new Set);for(const m of v.values)h[p].add(m)}}return h});const n=f=>{const h=new rpe(["shape","payload","ctx"]),p=r.value,v=b=>{const w=KS(b);return`shape[${w}]._zod.run({ value: input[${w}], issues: [] }, ctx)`};h.write("const input = payload.value;");const m=Object.create(null);let g=0;for(const b of p.keys)m[b]=`key_${g++}`;h.write("const newResult = {}");for(const b of p.keys){const w=m[b],j=KS(b);h.write(`const ${w} = ${v(b)};`),h.write(`
        if (${w}.issues.length) {
          payload.issues = payload.issues.concat(${w}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        if (${w}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${w}.value;
        }
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const y=h.compile();return(b,w)=>y(f,b,w)};let s;const o=iy,i=!NT.jitless,l=i&&tme.value,u=t.catchall;let d;e._zod.parse=(f,h)=>{d??(d=r.value);const p=f.value;if(!o(p))return f.issues.push({expected:"object",code:"invalid_type",input:p,inst:e}),f;const v=[];if(i&&l&&h?.async===!1&&h.jitless!==!0)s||(s=n(t.shape)),f=s(f,h);else{f.value={};const w=d.shape;for(const j of d.keys){const S=w[j]._zod.run({value:p[j],issues:[]},h);S instanceof Promise?v.push(S.then(_=>Vd(_,f,j,p))):Vd(S,f,j,p)}}if(!u)return v.length?Promise.all(v).then(()=>f):f;const m=[],g=d.keySet,y=u._zod,b=y.def.type;for(const w of Object.keys(p)){if(g.has(w))continue;if(b==="never"){m.push(w);continue}const j=y.run({value:p[w],issues:[]},h);j instanceof Promise?v.push(j.then(N=>Vd(N,f,w,p))):Vd(j,f,w,p)}return m.length&&f.issues.push({code:"unrecognized_keys",keys:m,input:p,inst:e}),v.length?Promise.all(v).then(()=>f):f}});function XS(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const s=e.filter(o=>!kl(o));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(i=>ko(i,n,Ao())))}),t)}const Rpe=Q("$ZodUnion",(e,t)=>{It.init(e,t),Pt(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),Pt(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),Pt(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),Pt(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>O0(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(s,o)=>{if(r)return n(s,o);let i=!1;const c=[];for(const l of t.options){const u=l._zod.run({value:s.value,issues:[]},o);if(u instanceof Promise)c.push(u),i=!0;else{if(u.issues.length===0)return u;c.push(u)}}return i?Promise.all(c).then(l=>XS(l,s,e,o)):XS(c,s,e,o)}}),Ipe=Q("$ZodIntersection",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{const s=r.value,o=t.left._zod.run({value:s,issues:[]},n),i=t.right._zod.run({value:s,issues:[]},n);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([l,u])=>JS(r,l,u)):JS(r,o,i)}});function ly(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(cy(e)&&cy(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),s={...e,...t};for(const o of n){const i=ly(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};s[o]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=e[n],o=t[n],i=ly(s,o);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function JS(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),kl(e))return e;const n=ly(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Lpe=Q("$ZodEnum",(e,t)=>{It.init(e,t);const r=Qhe(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(s=>rme.has(typeof s)).map(s=>typeof s=="string"?bp(s):s.toString()).join("|")})$`),e._zod.parse=(s,o)=>{const i=s.value;return n.has(i)||s.issues.push({code:"invalid_value",values:r,input:i,inst:e}),s}}),Fpe=Q("$ZodTransform",(e,t)=>{It.init(e,t),e._zod.parse=(r,n)=>{const s=t.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(r.value=i,r));if(s instanceof Promise)throw new yu;return r.value=s,r}});function QS(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const zpe=Q("$ZodOptional",(e,t)=>{It.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Pt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Pt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${O0(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>QS(o,r.value)):QS(s,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Bpe=Q("$ZodNullable",(e,t)=>{It.init(e,t),Pt(e._zod,"optin",()=>t.innerType._zod.optin),Pt(e._zod,"optout",()=>t.innerType._zod.optout),Pt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${O0(r.source)}|null)$`):void 0}),Pt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Vpe=Q("$ZodDefault",(e,t)=>{It.init(e,t),e._zod.optin="optional",Pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>eC(o,t)):eC(s,t)}});function eC(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Upe=Q("$ZodPrefault",(e,t)=>{It.init(e,t),e._zod.optin="optional",Pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Wpe=Q("$ZodNonOptional",(e,t)=>{It.init(e,t),Pt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>tC(o,e)):tC(s,e)}});function tC(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const qpe=Q("$ZodCatch",(e,t)=>{It.init(e,t),Pt(e._zod,"optin",()=>t.innerType._zod.optin),Pt(e._zod,"optout",()=>t.innerType._zod.optout),Pt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(i=>ko(i,n,Ao()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(o=>ko(o,n,Ao()))},input:r.value}),r.issues=[]),r)}}),Hpe=Q("$ZodPipe",(e,t)=>{It.init(e,t),Pt(e._zod,"values",()=>t.in._zod.values),Pt(e._zod,"optin",()=>t.in._zod.optin),Pt(e._zod,"optout",()=>t.out._zod.optout),Pt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{const s=t.in._zod.run(r,n);return s instanceof Promise?s.then(o=>rC(o,t,n)):rC(s,t,n)}});function rC(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const Gpe=Q("$ZodReadonly",(e,t)=>{It.init(e,t),Pt(e._zod,"propValues",()=>t.innerType._zod.propValues),Pt(e._zod,"values",()=>t.innerType._zod.values),Pt(e._zod,"optin",()=>t.innerType._zod.optin),Pt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(nC):nC(s)}});function nC(e){return e.value=Object.freeze(e.value),e}const Kpe=Q("$ZodCustom",(e,t)=>{Kr.init(e,t),It.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(o=>aC(o,r,n,e));aC(s,r,n,e)}});function aC(e,t,r,n){if(!e){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),t.issues.push(bu(s))}}class Ype{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Zpe(){return new Ype}const Ud=Zpe();function Xpe(e,t){return new e({type:"string",...Ce(t)})}function Jpe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ce(t)})}function sC(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(t)})}function Qpe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(t)})}function ege(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(t)})}function tge(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(t)})}function rge(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(t)})}function nge(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ce(t)})}function age(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(t)})}function sge(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(t)})}function oge(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(t)})}function ige(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(t)})}function cge(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(t)})}function lge(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(t)})}function uge(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(t)})}function dge(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(t)})}function fge(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(t)})}function hge(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(t)})}function mge(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(t)})}function pge(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(t)})}function gge(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(t)})}function vge(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(t)})}function xge(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(t)})}function yge(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(t)})}function bge(e,t){return new e({type:"string",format:"date",check:"string_format",...Ce(t)})}function wge(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ce(t)})}function jge(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ce(t)})}function Nge(e,t){return new e({type:"number",checks:[],...Ce(t)})}function _ge(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(t)})}function Sge(e,t){return new e({type:"boolean",...Ce(t)})}function Cge(e){return new e({type:"unknown"})}function Pge(e,t){return new e({type:"never",...Ce(t)})}function Age(e,t){return new e({type:"date",...Ce(t)})}function oC(e,t){return new RT({check:"less_than",...Ce(t),value:e,inclusive:!1})}function af(e,t){return new RT({check:"less_than",...Ce(t),value:e,inclusive:!0})}function iC(e,t){return new IT({check:"greater_than",...Ce(t),value:e,inclusive:!1})}function sf(e,t){return new IT({check:"greater_than",...Ce(t),value:e,inclusive:!0})}function cC(e,t){return new Wme({check:"multiple_of",...Ce(t),value:e})}function zT(e,t){return new Hme({check:"max_length",...Ce(t),maximum:e})}function $h(e,t){return new Gme({check:"min_length",...Ce(t),minimum:e})}function BT(e,t){return new Kme({check:"length_equals",...Ce(t),length:e})}function kge(e,t){return new Yme({check:"string_format",format:"regex",...Ce(t),pattern:e})}function Ege(e){return new Zme({check:"string_format",format:"lowercase",...Ce(e)})}function Oge(e){return new Xme({check:"string_format",format:"uppercase",...Ce(e)})}function Tge(e,t){return new Jme({check:"string_format",format:"includes",...Ce(t),includes:e})}function $ge(e,t){return new Qme({check:"string_format",format:"starts_with",...Ce(t),prefix:e})}function Mge(e,t){return new epe({check:"string_format",format:"ends_with",...Ce(t),suffix:e})}function Qu(e){return new tpe({check:"overwrite",tx:e})}function Dge(e){return Qu(t=>t.normalize(e))}function Rge(){return Qu(e=>e.trim())}function Ige(){return Qu(e=>e.toLowerCase())}function Lge(){return Qu(e=>e.toUpperCase())}function Fge(e,t,r){return new e({type:"array",element:t,...Ce(r)})}function zge(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ce(r)})}function Bge(e){const t=Vge(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(bu(n,r.value,t._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(bu(s))}},e(r.value,r)));return t}function Vge(e,t){const r=new Kr({check:"custom",...Ce(t)});return r._zod.check=e,r}function lC(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function Uge(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[i]={message:c.message,type:c.code}}else r[i]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var l=r[i].types,u=l&&l[n.code];r[i]=P0(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function Wge(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,i=n.path.join(".");if(!r[i])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[i]={message:c.message,type:c.code}}else r[i]={message:o,type:s};if(n.code==="invalid_union"&&n.errors.forEach(function(d){return d.forEach(function(f){return e.push(f)})}),t){var l=r[i].types,u=l&&l[n.code];r[i]=P0(i,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r}function Es(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,s,o){try{return Promise.resolve(lC(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(i){return o.shouldUseNativeValidation&&sy({},o),{errors:{},values:r.raw?Object.assign({},n):i}})},function(i){if(function(c){return Array.isArray(c?.issues)}(i))return{values:{},errors:HS(Uge(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,s,o){try{return Promise.resolve(lC(function(){return Promise.resolve((r.mode==="sync"?hme:mme)(e,n,t)).then(function(i){return o.shouldUseNativeValidation&&sy({},o),{errors:{},values:r.raw?Object.assign({},n):i}})},function(i){if(function(c){return c instanceof $0}(i))return{values:{},errors:HS(Wge(i.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}};throw new Error("Invalid input: not a Zod schema")}const qge=Q("ZodISODateTime",(e,t)=>{ppe.init(e,t),Ft.init(e,t)});function Hge(e){return yge(qge,e)}const Gge=Q("ZodISODate",(e,t)=>{gpe.init(e,t),Ft.init(e,t)});function Kge(e){return bge(Gge,e)}const Yge=Q("ZodISOTime",(e,t)=>{vpe.init(e,t),Ft.init(e,t)});function Zge(e){return wge(Yge,e)}const Xge=Q("ZodISODuration",(e,t)=>{xpe.init(e,t),Ft.init(e,t)});function Jge(e){return jge(Xge,e)}const VT=(e,t)=>{$0.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>fme(e,r)},flatten:{value:r=>dme(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,oy,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,oy,2)}},isEmpty:{get(){return e.issues.length===0}}})},_1e=Q("ZodError",VT),Np=Q("ZodError",VT,{Parent:Error}),Qge=AT(Np),eve=kT(Np),tve=ET(Np),rve=OT(Np),Kt=Q("ZodType",(e,t)=>(It.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>Uo(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>Qge(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>tve(e,r,n),e.parseAsync=async(r,n)=>eve(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>rve(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(Kve(r,n)),e.superRefine=r=>e.check(Yve(r)),e.overwrite=r=>e.check(Qu(r)),e.optional=()=>mC(e),e.nullable=()=>pC(e),e.nullish=()=>mC(pC(e)),e.nonoptional=r=>Bve(e,r),e.array=()=>Ave(e),e.or=r=>Ove([e,r]),e.and=r=>$ve(e,r),e.transform=r=>gC(e,Dve(r)),e.default=r=>Lve(e,r),e.prefault=r=>zve(e,r),e.catch=r=>Uve(e,r),e.pipe=r=>gC(e,r),e.readonly=()=>Hve(e),e.describe=r=>{const n=e.clone();return Ud.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Ud.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Ud.get(e);const n=e.clone();return Ud.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),UT=Q("_ZodString",(e,t)=>{M0.init(e,t),Kt.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(kge(...n)),e.includes=(...n)=>e.check(Tge(...n)),e.startsWith=(...n)=>e.check($ge(...n)),e.endsWith=(...n)=>e.check(Mge(...n)),e.min=(...n)=>e.check($h(...n)),e.max=(...n)=>e.check(zT(...n)),e.length=(...n)=>e.check(BT(...n)),e.nonempty=(...n)=>e.check($h(1,...n)),e.lowercase=n=>e.check(Ege(n)),e.uppercase=n=>e.check(Oge(n)),e.trim=()=>e.check(Rge()),e.normalize=(...n)=>e.check(Dge(...n)),e.toLowerCase=()=>e.check(Ige()),e.toUpperCase=()=>e.check(Lge())}),nve=Q("ZodString",(e,t)=>{M0.init(e,t),UT.init(e,t),e.email=r=>e.check(Jpe(ave,r)),e.url=r=>e.check(nge(sve,r)),e.jwt=r=>e.check(xge(bve,r)),e.emoji=r=>e.check(age(ove,r)),e.guid=r=>e.check(sC(uC,r)),e.uuid=r=>e.check(Qpe(Wd,r)),e.uuidv4=r=>e.check(ege(Wd,r)),e.uuidv6=r=>e.check(tge(Wd,r)),e.uuidv7=r=>e.check(rge(Wd,r)),e.nanoid=r=>e.check(sge(ive,r)),e.guid=r=>e.check(sC(uC,r)),e.cuid=r=>e.check(oge(cve,r)),e.cuid2=r=>e.check(ige(lve,r)),e.ulid=r=>e.check(cge(uve,r)),e.base64=r=>e.check(pge(vve,r)),e.base64url=r=>e.check(gge(xve,r)),e.xid=r=>e.check(lge(dve,r)),e.ksuid=r=>e.check(uge(fve,r)),e.ipv4=r=>e.check(dge(hve,r)),e.ipv6=r=>e.check(fge(mve,r)),e.cidrv4=r=>e.check(hge(pve,r)),e.cidrv6=r=>e.check(mge(gve,r)),e.e164=r=>e.check(vge(yve,r)),e.datetime=r=>e.check(Hge(r)),e.date=r=>e.check(Kge(r)),e.time=r=>e.check(Zge(r)),e.duration=r=>e.check(Jge(r))});function dt(e){return Xpe(nve,e)}const Ft=Q("ZodStringFormat",(e,t)=>{Rt.init(e,t),UT.init(e,t)}),ave=Q("ZodEmail",(e,t)=>{ope.init(e,t),Ft.init(e,t)}),uC=Q("ZodGUID",(e,t)=>{ape.init(e,t),Ft.init(e,t)}),Wd=Q("ZodUUID",(e,t)=>{spe.init(e,t),Ft.init(e,t)}),sve=Q("ZodURL",(e,t)=>{ipe.init(e,t),Ft.init(e,t)}),ove=Q("ZodEmoji",(e,t)=>{cpe.init(e,t),Ft.init(e,t)}),ive=Q("ZodNanoID",(e,t)=>{lpe.init(e,t),Ft.init(e,t)}),cve=Q("ZodCUID",(e,t)=>{upe.init(e,t),Ft.init(e,t)}),lve=Q("ZodCUID2",(e,t)=>{dpe.init(e,t),Ft.init(e,t)}),uve=Q("ZodULID",(e,t)=>{fpe.init(e,t),Ft.init(e,t)}),dve=Q("ZodXID",(e,t)=>{hpe.init(e,t),Ft.init(e,t)}),fve=Q("ZodKSUID",(e,t)=>{mpe.init(e,t),Ft.init(e,t)}),hve=Q("ZodIPv4",(e,t)=>{ype.init(e,t),Ft.init(e,t)}),mve=Q("ZodIPv6",(e,t)=>{bpe.init(e,t),Ft.init(e,t)}),pve=Q("ZodCIDRv4",(e,t)=>{wpe.init(e,t),Ft.init(e,t)}),gve=Q("ZodCIDRv6",(e,t)=>{jpe.init(e,t),Ft.init(e,t)}),vve=Q("ZodBase64",(e,t)=>{Npe.init(e,t),Ft.init(e,t)}),xve=Q("ZodBase64URL",(e,t)=>{Spe.init(e,t),Ft.init(e,t)}),yve=Q("ZodE164",(e,t)=>{Cpe.init(e,t),Ft.init(e,t)}),bve=Q("ZodJWT",(e,t)=>{Ape.init(e,t),Ft.init(e,t)}),WT=Q("ZodNumber",(e,t)=>{FT.init(e,t),Kt.init(e,t),e.gt=(n,s)=>e.check(iC(n,s)),e.gte=(n,s)=>e.check(sf(n,s)),e.min=(n,s)=>e.check(sf(n,s)),e.lt=(n,s)=>e.check(oC(n,s)),e.lte=(n,s)=>e.check(af(n,s)),e.max=(n,s)=>e.check(af(n,s)),e.int=n=>e.check(dC(n)),e.safe=n=>e.check(dC(n)),e.positive=n=>e.check(iC(0,n)),e.nonnegative=n=>e.check(sf(0,n)),e.negative=n=>e.check(oC(0,n)),e.nonpositive=n=>e.check(af(0,n)),e.multipleOf=(n,s)=>e.check(cC(n,s)),e.step=(n,s)=>e.check(cC(n,s)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function js(e){return Nge(WT,e)}const wve=Q("ZodNumberFormat",(e,t)=>{kpe.init(e,t),WT.init(e,t)});function dC(e){return _ge(wve,e)}const jve=Q("ZodBoolean",(e,t)=>{Epe.init(e,t),Kt.init(e,t)});function fC(e){return Sge(jve,e)}const Nve=Q("ZodUnknown",(e,t)=>{Ope.init(e,t),Kt.init(e,t)});function hC(){return Cge(Nve)}const _ve=Q("ZodNever",(e,t)=>{Tpe.init(e,t),Kt.init(e,t)});function Sve(e){return Pge(_ve,e)}const Cve=Q("ZodDate",(e,t)=>{$pe.init(e,t),Kt.init(e,t),e.min=(n,s)=>e.check(sf(n,s)),e.max=(n,s)=>e.check(af(n,s));const r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function qT(e){return Age(Cve,e)}const Pve=Q("ZodArray",(e,t)=>{Mpe.init(e,t),Kt.init(e,t),e.element=t.element,e.min=(r,n)=>e.check($h(r,n)),e.nonempty=r=>e.check($h(1,r)),e.max=(r,n)=>e.check(zT(r,n)),e.length=(r,n)=>e.check(BT(r,n)),e.unwrap=()=>e.element});function Ave(e,t){return Fge(Pve,e,t)}const kve=Q("ZodObject",(e,t)=>{Dpe.init(e,t),Kt.init(e,t),Pt(e,"shape",()=>t.shape),e.keyof=()=>go(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:hC()}),e.loose=()=>e.clone({...e._zod.def,catchall:hC()}),e.strict=()=>e.clone({...e._zod.def,catchall:Sve()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>ime(e,r),e.merge=r=>cme(e,r),e.pick=r=>sme(e,r),e.omit=r=>ome(e,r),e.partial=(...r)=>lme(HT,e,r[0]),e.required=(...r)=>ume(GT,e,r[0])});function Bs(e,t){const r={type:"object",get shape(){return Vo(this,"shape",{...e}),this.shape},...Ce(t)};return new kve(r)}const Eve=Q("ZodUnion",(e,t)=>{Rpe.init(e,t),Kt.init(e,t),e.options=t.options});function Ove(e,t){return new Eve({type:"union",options:e,...Ce(t)})}const Tve=Q("ZodIntersection",(e,t)=>{Ipe.init(e,t),Kt.init(e,t)});function $ve(e,t){return new Tve({type:"intersection",left:e,right:t})}const uy=Q("ZodEnum",(e,t)=>{Lpe.init(e,t),Kt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,s)=>{const o={};for(const i of n)if(r.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new uy({...t,checks:[],...Ce(s),entries:o})},e.exclude=(n,s)=>{const o={...t.entries};for(const i of n)if(r.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new uy({...t,checks:[],...Ce(s),entries:o})}});function go(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new uy({type:"enum",entries:r,...Ce(t)})}const Mve=Q("ZodTransform",(e,t)=>{Fpe.init(e,t),Kt.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(bu(o,r.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(bu(i))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function Dve(e){return new Mve({type:"transform",transform:e})}const HT=Q("ZodOptional",(e,t)=>{zpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function mC(e){return new HT({type:"optional",innerType:e})}const Rve=Q("ZodNullable",(e,t)=>{Bpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pC(e){return new Rve({type:"nullable",innerType:e})}const Ive=Q("ZodDefault",(e,t)=>{Vpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Lve(e,t){return new Ive({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Fve=Q("ZodPrefault",(e,t)=>{Upe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zve(e,t){return new Fve({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const GT=Q("ZodNonOptional",(e,t)=>{Wpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Bve(e,t){return new GT({type:"nonoptional",innerType:e,...Ce(t)})}const Vve=Q("ZodCatch",(e,t)=>{qpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Uve(e,t){return new Vve({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Wve=Q("ZodPipe",(e,t)=>{Hpe.init(e,t),Kt.init(e,t),e.in=t.in,e.out=t.out});function gC(e,t){return new Wve({type:"pipe",in:e,out:t})}const qve=Q("ZodReadonly",(e,t)=>{Gpe.init(e,t),Kt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Hve(e){return new qve({type:"readonly",innerType:e})}const Gve=Q("ZodCustom",(e,t)=>{Kpe.init(e,t),Kt.init(e,t)});function Kve(e,t={}){return zge(Gve,e,t)}function Yve(e){return Bge(e)}const mr=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[100px] sm:min-h-[80px] w-full rounded-md border border-input bg-background px-3 sm:px-4 py-3 sm:py-2 text-base sm:text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-colors",e),ref:r,...t}));mr.displayName="Textarea";function Ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ln(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vr(e,t){const r=Ge(e);return isNaN(t)?ln(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function un(e,t){const r=Ge(e);if(isNaN(t))return ln(e,NaN);if(!t)return r;const n=r.getDate(),s=ln(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return n>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),n),r)}const D0=6048e5,Zve=864e5;let Xve={};function ed(){return Xve}function dn(e,t){const r=ed(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Ge(e),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Eo(e){return dn(e,{weekStartsOn:1})}function KT(e){const t=Ge(e),r=t.getFullYear(),n=ln(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Eo(n),o=ln(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=Eo(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function rc(e){const t=Ge(e);return t.setHours(0,0,0,0),t}function Mh(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ha(e,t){const r=rc(e),n=rc(t),s=+r-Mh(r),o=+n-Mh(n);return Math.round((s-o)/Zve)}function Jve(e){const t=KT(e),r=ln(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Eo(r)}function wu(e,t){const r=t*7;return vr(e,r)}function Qve(e,t){return un(e,t*12)}function exe(e){let t;return e.forEach(function(r){const n=Ge(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function txe(e){let t;return e.forEach(r=>{const n=Ge(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Rr(e,t){const r=rc(e),n=rc(t);return+r==+n}function R0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rxe(e){if(!R0(e)&&typeof e!="number")return!1;const t=Ge(e);return!isNaN(Number(t))}function ju(e,t){const r=Ge(e),n=Ge(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function nxe(e,t,r){const n=dn(e,r),s=dn(t,r),o=+n-Mh(n),i=+s-Mh(s);return Math.round((o-i)/D0)}function qa(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function YT(e,t){const r=Ge(e.start),n=Ge(e.end);let s=+r>+n;const o=s?+r:+n,i=s?n:r;i.setHours(0,0,0,0);let c=1;const l=[];for(;+i<=o;)l.push(Ge(i)),i.setDate(i.getDate()+c),i.setHours(0,0,0,0);return s?l.reverse():l}function axe(e){const t=Ge(e),r=t.getMonth(),n=r-r%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function Jt(e){const t=Ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sxe(e){const t=Ge(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function I0(e){const t=Ge(e),r=ln(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Fc(e,t){const r=ed(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=Ge(e),o=s.getDay(),i=(o<n?-7:0)+6-(o-n);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function ZT(e){return Fc(e,{weekStartsOn:1})}function oxe(e){const t=Ge(e),r=t.getMonth(),n=r-r%3+3;return t.setMonth(n,0),t.setHours(23,59,59,999),t}const ixe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cxe=(e,t,r)=>{let n;const s=ixe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wi(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const lxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fxe={date:wi({formats:lxe,defaultWidth:"full"}),time:wi({formats:uxe,defaultWidth:"full"}),dateTime:wi({formats:dxe,defaultWidth:"full"})},hxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mxe=(e,t,r,n)=>hxe[e];function ia(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):i;s=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const pxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wxe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},jxe={ordinalNumber:wxe,era:ia({values:pxe,defaultWidth:"wide"}),quarter:ia({values:gxe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ia({values:vxe,defaultWidth:"wide"}),day:ia({values:xxe,defaultWidth:"wide"}),dayPeriod:ia({values:yxe,defaultWidth:"wide",formattingValues:bxe,defaultFormattingWidth:"wide"})};function ca(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?_xe(c,f=>f.test(i)):Nxe(c,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function Nxe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function _xe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function XT(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const c=t.slice(s.length);return{value:i,rest:c}}}const Sxe=/^(\d+)(th|st|nd|rd)?/i,Cxe=/\d+/i,Pxe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Axe={any:[/^b/i,/^(a|c)/i]},kxe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Exe={any:[/1/i,/2/i,/3/i,/4/i]},Oxe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Txe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$xe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Mxe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Dxe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Rxe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ixe={ordinalNumber:XT({matchPattern:Sxe,parsePattern:Cxe,valueCallback:e=>parseInt(e,10)}),era:ca({matchPatterns:Pxe,defaultMatchWidth:"wide",parsePatterns:Axe,defaultParseWidth:"any"}),quarter:ca({matchPatterns:kxe,defaultMatchWidth:"wide",parsePatterns:Exe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ca({matchPatterns:Oxe,defaultMatchWidth:"wide",parsePatterns:Txe,defaultParseWidth:"any"}),day:ca({matchPatterns:$xe,defaultMatchWidth:"wide",parsePatterns:Mxe,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:Dxe,defaultMatchWidth:"any",parsePatterns:Rxe,defaultParseWidth:"any"})},JT={code:"en-US",formatDistance:cxe,formatLong:fxe,formatRelative:mxe,localize:jxe,match:Ixe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Lxe(e){const t=Ge(e);return ha(t,I0(t))+1}function QT(e){const t=Ge(e),r=+Eo(t)-+Jve(t);return Math.round(r/D0)+1}function e$(e,t){const r=Ge(e),n=r.getFullYear(),s=ed(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,i=ln(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const c=dn(i,t),l=ln(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const u=dn(l,t);return r.getTime()>=c.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Fxe(e,t){const r=ed(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=e$(e,t),o=ln(e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),dn(o,t)}function t$(e,t){const r=Ge(e),n=+dn(r,t)-+Fxe(r,t);return Math.round(n/D0)+1}function pt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return pt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):pt(r+1,2)},d(e,t){return pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return pt(e.getHours()%12||12,t.length)},H(e,t){return pt(e.getHours(),t.length)},m(e,t){return pt(e.getMinutes(),t.length)},s(e,t){return pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return pt(s,t.length)}},oi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vC={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return fs.y(e,t)},Y:function(e,t,r,n){const s=e$(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return pt(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):pt(o,t.length)},R:function(e,t){const r=KT(e);return pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return pt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return pt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return pt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return pt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=t$(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):pt(s,t.length)},I:function(e,t,r){const n=QT(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):pt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fs.d(e,t)},D:function(e,t,r){const n=Lxe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):pt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return pt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return pt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return pt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=oi.noon:n===0?s=oi.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=oi.evening:n>=12?s=oi.afternoon:n>=4?s=oi.morning:s=oi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):pt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):pt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fs.s(e,t)},S:function(e,t){return fs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return yC(n);case"XXXX":case"XX":return to(n);case"XXXXX":case"XXX":default:return to(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return yC(n);case"xxxx":case"xx":return to(n);case"xxxxx":case"xxx":default:return to(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+xC(n,":");case"OOOO":default:return"GMT"+to(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+xC(n,":");case"zzzz":default:return"GMT"+to(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return pt(n,t.length)},T:function(e,t,r){const n=e.getTime();return pt(n,t.length)}};function xC(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+pt(o,2)}function yC(e,t){return e%60===0?(e>0?"-":"+")+pt(Math.abs(e)/60,2):to(e,t)}function to(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=pt(Math.trunc(n/60),2),o=pt(n%60,2);return r+s+t+o}const bC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},r$=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},zxe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return bC(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",bC(n,t)).replace("{{time}}",r$(s,t))},Bxe={p:r$,P:zxe},Vxe=/^D+$/,Uxe=/^Y+$/,Wxe=["D","DD","YY","YYYY"];function qxe(e){return Vxe.test(e)}function Hxe(e){return Uxe.test(e)}function Gxe(e,t,r){const n=Kxe(e,t,r);if(console.warn(n),Wxe.includes(e))throw new RangeError(n)}function Kxe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Yxe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zxe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xxe=/^'([^]*?)'?$/,Jxe=/''/g,Qxe=/[a-zA-Z]/;function ke(e,t,r){const n=ed(),s=r?.locale??n.locale??JT,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Ge(e);if(!rxe(c))throw new RangeError("Invalid time value");let l=t.match(Zxe).map(d=>{const f=d[0];if(f==="p"||f==="P"){const h=Bxe[f];return h(d,s.formatLong)}return d}).join("").match(Yxe).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:eye(d)};if(vC[f])return{isToken:!0,value:d};if(f.match(Qxe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});s.localize.preprocessor&&(l=s.localize.preprocessor(c,l));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&Hxe(f)||!r?.useAdditionalDayOfYearTokens&&qxe(f))&&Gxe(f,t,String(e));const h=vC[f[0]];return h(c,f,s.localize,u)}).join("")}function eye(e){const t=e.match(Xxe);return t?t[1].replace(Jxe,"'"):e}function tye(e){const t=Ge(e),r=t.getFullYear(),n=t.getMonth(),s=ln(e,0);return s.setFullYear(r,n+1,0),s.setHours(0,0,0,0),s.getDate()}function rye(e){return Math.trunc(+Ge(e)/1e3)}function nye(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function aye(e,t){return nxe(nye(e),Jt(e),t)+1}function dy(e,t){const r=Ge(e),n=Ge(t);return r.getTime()>n.getTime()}function n$(e,t){const r=Ge(e),n=Ge(t);return+r<+n}function _p(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function sye(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()}function qd(e,t){const r=+Ge(e),[n,s]=[+Ge(t.start),+Ge(t.end)].sort((o,i)=>o-i);return r>=n&&r<=s}function of(e,t){return vr(e,-t)}function Lg(e,t){const r=Ge(e),n=r.getFullYear(),s=r.getDate(),o=ln(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=tye(o);return r.setMonth(t,Math.min(s,i)),r}function wC(e,t){const r=Ge(e);return isNaN(+r)?ln(e,NaN):(r.setFullYear(t),r)}function a$(e,t){return un(e,-t)}function oye(e,t){return wu(e,-1)}const iye={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},cye=(e,t,r)=>{let n;const s=iye[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"em "+n:"h "+n:n},lye={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},uye={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dye={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fye={date:wi({formats:lye,defaultWidth:"full"}),time:wi({formats:uye,defaultWidth:"full"}),dateTime:wi({formats:dye,defaultWidth:"full"})},hye={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},mye=(e,t,r,n)=>{const s=hye[e];return typeof s=="function"?s(t):s},pye={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},gye={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},vye={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},xye={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},yye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},bye={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},wye=(e,t)=>{const r=Number(e);return t?.unit==="week"?r+"":r+""},jye={ordinalNumber:wye,era:ia({values:pye,defaultWidth:"wide"}),quarter:ia({values:gye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ia({values:vye,defaultWidth:"wide"}),day:ia({values:xye,defaultWidth:"wide"}),dayPeriod:ia({values:yye,defaultWidth:"wide",formattingValues:bye,defaultFormattingWidth:"wide"})},Nye=/^(\d+)[o]?/i,_ye=/\d+/i,Sye={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Cye={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Pye={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Aye={any:[/1/i,/2/i,/3/i,/4/i]},kye={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Eye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Oye={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Tye={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},$ye={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Mye={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Dye={ordinalNumber:XT({matchPattern:Nye,parsePattern:_ye,valueCallback:e=>parseInt(e,10)}),era:ca({matchPatterns:Sye,defaultMatchWidth:"wide",parsePatterns:Cye,defaultParseWidth:"any"}),quarter:ca({matchPatterns:Pye,defaultMatchWidth:"wide",parsePatterns:Aye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ca({matchPatterns:kye,defaultMatchWidth:"wide",parsePatterns:Eye,defaultParseWidth:"any"}),day:ca({matchPatterns:Oye,defaultMatchWidth:"wide",parsePatterns:Tye,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:$ye,defaultMatchWidth:"any",parsePatterns:Mye,defaultParseWidth:"any"})},Ie={code:"pt-BR",formatDistance:cye,formatLong:fye,formatRelative:mye,localize:jye,match:Dye,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Te=function(){return Te=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Te.apply(this,arguments)};function Rye(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function s$(e,t,r){for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function td(e){return e.mode==="multiple"}function rd(e){return e.mode==="range"}function Sp(e){return e.mode==="single"}var Iye={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Lye(e,t){return ke(e,"LLLL y",t)}function Fye(e,t){return ke(e,"d",t)}function zye(e,t){return ke(e,"LLLL",t)}function Bye(e){return"".concat(e)}function Vye(e,t){return ke(e,"cccccc",t)}function Uye(e,t){return ke(e,"yyyy",t)}var Wye=Object.freeze({__proto__:null,formatCaption:Lye,formatDay:Fye,formatMonthCaption:zye,formatWeekNumber:Bye,formatWeekdayName:Vye,formatYearCaption:Uye}),qye=function(e,t,r){return ke(e,"do MMMM (EEEE)",r)},Hye=function(){return"Month: "},Gye=function(){return"Go to next month"},Kye=function(){return"Go to previous month"},Yye=function(e,t){return ke(e,"cccc",t)},Zye=function(e){return"Week n. ".concat(e)},Xye=function(){return"Year: "},Jye=Object.freeze({__proto__:null,labelDay:qye,labelMonthDropdown:Hye,labelNext:Gye,labelPrevious:Kye,labelWeekNumber:Zye,labelWeekday:Yye,labelYearDropdown:Xye});function Qye(){var e="buttons",t=Iye,r=JT,n={},s={},o=1,i={},c=new Date;return{captionLayout:e,classNames:t,formatters:Wye,labels:Jye,locale:r,modifiersClassNames:n,modifiers:s,numberOfMonths:o,styles:i,today:c,mode:"default"}}function ebe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=Jt(n):t&&(o=new Date(t,0,1)),s?i=qa(s):r&&(i=new Date(r,11,31)),{fromDate:o?rc(o):void 0,toDate:i?rc(i):void 0}}var o$=x.createContext(void 0);function tbe(e){var t,r=e.initialProps,n=Qye(),s=ebe(r),o=s.fromDate,i=s.toDate,c=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;c!=="buttons"&&(!o||!i)&&(c="buttons");var l;(Sp(r)||td(r)||rd(r))&&(l=r.onSelect);var u=Te(Te(Te({},n),r),{captionLayout:c,classNames:Te(Te({},n.classNames),r.classNames),components:Te({},r.components),formatters:Te(Te({},n.formatters),r.formatters),fromDate:o,labels:Te(Te({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Te(Te({},n.modifiers),r.modifiers),modifiersClassNames:Te(Te({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Te(Te({},n.styles),r.styles),toDate:i});return a.jsx(o$.Provider,{value:u,children:e.children})}function At(){var e=x.useContext(o$);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function i$(e){var t=At(),r=t.locale,n=t.classNames,s=t.styles,o=t.formatters.formatCaption;return a.jsx("div",{className:n.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function rbe(e){return a.jsx("svg",Te({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function c$(e){var t,r,n=e.onChange,s=e.value,o=e.children,i=e.caption,c=e.className,l=e.style,u=At(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:rbe;return a.jsxs("div",{className:c,style:l,children:[a.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:n,children:o}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function nbe(e){var t,r=At(),n=r.fromDate,s=r.toDate,o=r.styles,i=r.locale,c=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var f=[];if(sye(n,s))for(var h=Jt(n),p=n.getMonth();p<=s.getMonth();p++)f.push(Lg(h,p));else for(var h=Jt(new Date),p=0;p<=11;p++)f.push(Lg(h,p));var v=function(g){var y=Number(g.target.value),b=Lg(Jt(e.displayMonth),y);e.onChange(b)},m=(t=u?.Dropdown)!==null&&t!==void 0?t:c$;return a.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:o.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:i}),children:f.map(function(g){return a.jsx("option",{value:g.getMonth(),children:c(g,{locale:i})},g.getMonth())})})}function abe(e){var t,r=e.displayMonth,n=At(),s=n.fromDate,o=n.toDate,i=n.locale,c=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!o)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),v=o.getFullYear(),m=p;m<=v;m++)h.push(wC(I0(new Date),m));var g=function(b){var w=wC(Jt(r),Number(b.target.value));e.onChange(w)},y=(t=u?.Dropdown)!==null&&t!==void 0?t:c$;return a.jsx(y,{name:"years","aria-label":f(),className:l.dropdown_year,style:c.dropdown_year,onChange:g,value:r.getFullYear(),caption:d(r,{locale:i}),children:h.map(function(b){return a.jsx("option",{value:b.getFullYear(),children:d(b,{locale:i})},b.getFullYear())})})}function sbe(e,t){var r=x.useState(e),n=r[0],s=r[1],o=t===void 0?n:t;return[o,s]}function obe(e){var t=e.month,r=e.defaultMonth,n=e.today,s=t||r||n||new Date,o=e.toDate,i=e.fromDate,c=e.numberOfMonths,l=c===void 0?1:c;if(o&&ju(o,s)<0){var u=-1*(l-1);s=un(o,u)}return i&&ju(s,i)<0&&(s=i),Jt(s)}function ibe(){var e=At(),t=obe(e),r=sbe(t,e.month),n=r[0],s=r[1],o=function(i){var c;if(!e.disableNavigation){var l=Jt(i);s(l),(c=e.onMonthChange)===null||c===void 0||c.call(e,l)}};return[n,o]}function cbe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,s=Jt(e),o=Jt(un(s,n)),i=ju(o,s),c=[],l=0;l<i;l++){var u=un(s,l);c.push(u)}return r&&(c=c.reverse()),c}function lbe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,c=Jt(e);if(!r)return un(c,i);var l=ju(r,e);if(!(l<o))return un(c,i)}}function ube(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=n?o:1,c=Jt(e);if(!r)return un(c,-i);var l=ju(c,r);if(!(l<=0))return un(c,-i)}}var l$=x.createContext(void 0);function dbe(e){var t=At(),r=ibe(),n=r[0],s=r[1],o=cbe(n,t),i=lbe(n,t),c=ube(n,t),l=function(f){return o.some(function(h){return _p(f,h)})},u=function(f,h){l(f)||(h&&n$(f,h)?s(un(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:n,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:c,nextMonth:i,isDateDisplayed:l};return a.jsx(l$.Provider,{value:d,children:e.children})}function nd(){var e=x.useContext(l$);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function jC(e){var t,r=At(),n=r.classNames,s=r.styles,o=r.components,i=nd().goToMonth,c=function(d){i(un(d,e.displayIndex?-e.displayIndex:0))},l=(t=o?.CaptionLabel)!==null&&t!==void 0?t:i$,u=a.jsx(l,{id:e.id,displayMonth:e.displayMonth});return a.jsxs("div",{className:n.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:n.vhidden,children:u}),a.jsx(nbe,{onChange:c,displayMonth:e.displayMonth}),a.jsx(abe,{onChange:c,displayMonth:e.displayMonth})]})}function fbe(e){return a.jsx("svg",Te({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function hbe(e){return a.jsx("svg",Te({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Dh=x.forwardRef(function(e,t){var r=At(),n=r.classNames,s=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),c=Te(Te({},s.button_reset),s.button);return e.style&&Object.assign(c,e.style),a.jsx("button",Te({},e,{ref:t,type:"button",className:i,style:c}))});function mbe(e){var t,r,n=At(),s=n.dir,o=n.locale,i=n.classNames,c=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return a.jsx(a.Fragment,{});var h=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:o}),m=[i.nav_button,i.nav_button_next].join(" "),g=(t=f?.IconRight)!==null&&t!==void 0?t:hbe,y=(r=f?.IconLeft)!==null&&r!==void 0?r:fbe;return a.jsxs("div",{className:i.nav,style:c.nav,children:[!e.hidePrevious&&a.jsx(Dh,{name:"previous-month","aria-label":h,className:p,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?a.jsx(g,{className:i.nav_icon,style:c.nav_icon}):a.jsx(y,{className:i.nav_icon,style:c.nav_icon})}),!e.hideNext&&a.jsx(Dh,{name:"next-month","aria-label":v,className:m,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?a.jsx(y,{className:i.nav_icon,style:c.nav_icon}):a.jsx(g,{className:i.nav_icon,style:c.nav_icon})})]})}function NC(e){var t=At().numberOfMonths,r=nd(),n=r.previousMonth,s=r.nextMonth,o=r.goToMonth,i=r.displayMonths,c=i.findIndex(function(v){return _p(e.displayMonth,v)}),l=c===0,u=c===i.length-1,d=t>1&&(l||!u),f=t>1&&(u||!l),h=function(){n&&o(n)},p=function(){s&&o(s)};return a.jsx(mbe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:n,onPreviousClick:h,onNextClick:p})}function pbe(e){var t,r=At(),n=r.classNames,s=r.disableNavigation,o=r.styles,i=r.captionLayout,c=r.components,l=(t=c?.CaptionLabel)!==null&&t!==void 0?t:i$,u;return s?u=a.jsx(l,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=a.jsx(jC,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(jC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a.jsx(NC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(NC,{displayMonth:e.displayMonth,id:e.id})]}),a.jsx("div",{className:n.caption,style:o.caption,children:u})}function gbe(e){var t=At(),r=t.footer,n=t.styles,s=t.classNames.tfoot;return r?a.jsx("tfoot",{className:s,style:n.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:r})})}):a.jsx(a.Fragment,{})}function vbe(e,t,r){for(var n=r?Eo(new Date):dn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=vr(n,o);s.push(i)}return s}function xbe(){var e=At(),t=e.classNames,r=e.styles,n=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,c=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,u=vbe(s,o,i);return a.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&a.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return a.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(d,{locale:s}),children:c(d,{locale:s})},f)})]})}function ybe(){var e,t=At(),r=t.classNames,n=t.styles,s=t.components,o=(e=s?.HeadRow)!==null&&e!==void 0?e:xbe;return a.jsx("thead",{style:n.head,className:r.head,children:a.jsx(o,{})})}function bbe(e){var t=At(),r=t.locale,n=t.formatters.formatDay;return a.jsx(a.Fragment,{children:n(e.date,{locale:r})})}var L0=x.createContext(void 0);function wbe(e){if(!td(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return a.jsx(L0.Provider,{value:t,children:e.children})}return a.jsx(jbe,{initialProps:e.initialProps,children:e.children})}function jbe(e){var t=e.initialProps,r=e.children,n=t.selected,s=t.min,o=t.max,i=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var v=!!(d.selected&&s&&n?.length===s);if(!v){var m=!!(!d.selected&&o&&n?.length===o);if(!m){var g=n?s$([],n):[];if(d.selected){var y=g.findIndex(function(b){return Rr(u,b)});g.splice(y,1)}else g.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,g,u,d,f)}}},c={disabled:[]};n&&c.disabled.push(function(u){var d=o&&n.length>o-1,f=n.some(function(h){return Rr(h,u)});return!!(d&&!f)});var l={selected:n,onDayClick:i,modifiers:c};return a.jsx(L0.Provider,{value:l,children:r})}function F0(){var e=x.useContext(L0);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Nbe(e,t){var r=t||{},n=r.from,s=r.to;return n&&s?Rr(s,e)&&Rr(n,e)?void 0:Rr(s,e)?{from:s,to:void 0}:Rr(n,e)?void 0:dy(n,e)?{from:e,to:s}:{from:n,to:e}:s?dy(e,s)?{from:s,to:e}:{from:e,to:s}:n?n$(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var z0=x.createContext(void 0);function _be(e){if(!rd(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(z0.Provider,{value:t,children:e.children})}return a.jsx(Sbe,{initialProps:e.initialProps,children:e.children})}function Sbe(e){var t=e.initialProps,r=e.children,n=t.selected,s=n||{},o=s.from,i=s.to,c=t.min,l=t.max,u=function(p,v,m){var g,y;(g=t.onDayClick)===null||g===void 0||g.call(t,p,v,m);var b=Nbe(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,b,p,v,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],Rr(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),c&&(o&&!i&&d.disabled.push({after:of(o,c-1),before:vr(o,c-1)}),o&&i&&d.disabled.push({after:o,before:vr(o,c-1)}),!o&&i&&d.disabled.push({after:of(i,c-1),before:vr(i,c-1)})),l){if(o&&!i&&(d.disabled.push({before:vr(o,-l+1)}),d.disabled.push({after:vr(o,l-1)})),o&&i){var f=ha(i,o)+1,h=l-f;d.disabled.push({before:of(o,h)}),d.disabled.push({after:vr(i,h)})}!o&&i&&(d.disabled.push({before:vr(i,-l+1)}),d.disabled.push({after:vr(i,l-1)}))}return a.jsx(z0.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function B0(){var e=x.useContext(z0);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function cf(e){return Array.isArray(e)?s$([],e):e!==void 0?[e]:[]}function Cbe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],s=r[1];t[n]=cf(s)}),t}var Zn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Zn||(Zn={}));var Pbe=Zn.Selected,Da=Zn.Disabled,Abe=Zn.Hidden,kbe=Zn.Today,Fg=Zn.RangeEnd,zg=Zn.RangeMiddle,Bg=Zn.RangeStart,Ebe=Zn.Outside;function Obe(e,t,r){var n,s=(n={},n[Pbe]=cf(e.selected),n[Da]=cf(e.disabled),n[Abe]=cf(e.hidden),n[kbe]=[e.today],n[Fg]=[],n[zg]=[],n[Bg]=[],n[Ebe]=[],n);return e.fromDate&&s[Da].push({before:e.fromDate}),e.toDate&&s[Da].push({after:e.toDate}),td(e)?s[Da]=s[Da].concat(t.modifiers[Da]):rd(e)&&(s[Da]=s[Da].concat(r.modifiers[Da]),s[Bg]=r.modifiers[Bg],s[zg]=r.modifiers[zg],s[Fg]=r.modifiers[Fg]),s}var u$=x.createContext(void 0);function Tbe(e){var t=At(),r=F0(),n=B0(),s=Obe(t,r,n),o=Cbe(t.modifiers),i=Te(Te({},s),o);return a.jsx(u$.Provider,{value:i,children:e.children})}function d$(){var e=x.useContext(u$);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function $be(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Mbe(e){return!!(e&&typeof e=="object"&&"from"in e)}function Dbe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Rbe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Ibe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Lbe(e,t){var r,n=t.from,s=t.to;if(n&&s){var o=ha(s,n)<0;o&&(r=[s,n],n=r[0],s=r[1]);var i=ha(e,n)>=0&&ha(s,e)>=0;return i}return s?Rr(s,e):n?Rr(n,e):!1}function Fbe(e){return R0(e)}function zbe(e){return Array.isArray(e)&&e.every(R0)}function Bbe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Fbe(r))return Rr(e,r);if(zbe(r))return r.includes(e);if(Mbe(r))return Lbe(e,r);if(Ibe(r))return r.dayOfWeek.includes(e.getDay());if($be(r)){var n=ha(r.before,e),s=ha(r.after,e),o=n>0,i=s<0,c=dy(r.before,r.after);return c?i&&o:o||i}return Dbe(r)?ha(e,r.after)>0:Rbe(r)?ha(r.before,e)>0:typeof r=="function"?r(e):!1})}function V0(e,t,r){var n=Object.keys(t).reduce(function(o,i){var c=t[i];return Bbe(e,c)&&o.push(i),o},[]),s={};return n.forEach(function(o){return s[o]=!0}),r&&!_p(e,r)&&(s.outside=!0),s}function Vbe(e,t){for(var r=Jt(e[0]),n=qa(e[e.length-1]),s,o,i=r;i<=n;){var c=V0(i,t),l=!c.disabled&&!c.hidden;if(!l){i=vr(i,1);continue}if(c.selected)return i;c.today&&!o&&(o=i),s||(s=i),i=vr(i,1)}return o||s}var Ube=365;function f$(e,t){var r=t.moveBy,n=t.direction,s=t.context,o=t.modifiers,i=t.retry,c=i===void 0?{count:0,lastFocused:e}:i,l=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:vr,week:wu,month:un,year:Qve,startOfWeek:function(g){return s.ISOWeek?Eo(g):dn(g,{locale:f,weekStartsOn:l})},endOfWeek:function(g){return s.ISOWeek?ZT(g):Fc(g,{locale:f,weekStartsOn:l})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=exe([u,p]):n==="after"&&d&&(p=txe([d,p]));var v=!0;if(o){var m=V0(p,o);v=!m.disabled&&!m.hidden}return v?p:c.count>Ube?c.lastFocused:f$(p,{moveBy:r,direction:n,context:s,modifiers:o,retry:Te(Te({},c),{count:c.count+1})})}var h$=x.createContext(void 0);function Wbe(e){var t=nd(),r=d$(),n=x.useState(),s=n[0],o=n[1],i=x.useState(),c=i[0],l=i[1],u=Vbe(t.displayMonths,r),d=s??(c&&t.isDateDisplayed(c))?c:u,f=function(){l(s),o(void 0)},h=function(g){o(g)},p=At(),v=function(g,y){if(s){var b=f$(s,{moveBy:g,direction:y,context:p,modifiers:r});Rr(s,b)||(t.goToDate(b,s),h(b))}},m={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return a.jsx(h$.Provider,{value:m,children:e.children})}function U0(){var e=x.useContext(h$);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function qbe(e,t){var r=d$(),n=V0(e,r,t);return n}var W0=x.createContext(void 0);function Hbe(e){if(!Sp(e.initialProps)){var t={selected:void 0};return a.jsx(W0.Provider,{value:t,children:e.children})}return a.jsx(Gbe,{initialProps:e.initialProps,children:e.children})}function Gbe(e){var t=e.initialProps,r=e.children,n=function(o,i,c){var l,u,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,o,i,c),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,c);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,c)},s={selected:t.selected,onDayClick:n};return a.jsx(W0.Provider,{value:s,children:r})}function m$(){var e=x.useContext(W0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Kbe(e,t){var r=At(),n=m$(),s=F0(),o=B0(),i=U0(),c=i.focusDayAfter,l=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,p=i.focusMonthBefore,v=i.focusMonthAfter,m=i.focusYearBefore,g=i.focusYearAfter,y=i.focusStartOfWeek,b=i.focusEndOfWeek,w=function(D){var M,V,re,K;Sp(r)?(M=n.onDayClick)===null||M===void 0||M.call(n,e,t,D):td(r)?(V=s.onDayClick)===null||V===void 0||V.call(s,e,t,D):rd(r)?(re=o.onDayClick)===null||re===void 0||re.call(o,e,t,D):(K=r.onDayClick)===null||K===void 0||K.call(r,e,t,D)},j=function(D){var M;h(e),(M=r.onDayFocus)===null||M===void 0||M.call(r,e,t,D)},N=function(D){var M;f(),(M=r.onDayBlur)===null||M===void 0||M.call(r,e,t,D)},S=function(D){var M;(M=r.onDayMouseEnter)===null||M===void 0||M.call(r,e,t,D)},_=function(D){var M;(M=r.onDayMouseLeave)===null||M===void 0||M.call(r,e,t,D)},P=function(D){var M;(M=r.onDayPointerEnter)===null||M===void 0||M.call(r,e,t,D)},E=function(D){var M;(M=r.onDayPointerLeave)===null||M===void 0||M.call(r,e,t,D)},$=function(D){var M;(M=r.onDayTouchCancel)===null||M===void 0||M.call(r,e,t,D)},A=function(D){var M;(M=r.onDayTouchEnd)===null||M===void 0||M.call(r,e,t,D)},C=function(D){var M;(M=r.onDayTouchMove)===null||M===void 0||M.call(r,e,t,D)},O=function(D){var M;(M=r.onDayTouchStart)===null||M===void 0||M.call(r,e,t,D)},T=function(D){var M;(M=r.onDayKeyUp)===null||M===void 0||M.call(r,e,t,D)},I=function(D){var M;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),u();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),d();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?m():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():v();break;case"Home":D.preventDefault(),D.stopPropagation(),y();break;case"End":D.preventDefault(),D.stopPropagation(),b();break}(M=r.onDayKeyDown)===null||M===void 0||M.call(r,e,t,D)},R={onClick:w,onFocus:j,onBlur:N,onKeyDown:I,onKeyUp:T,onMouseEnter:S,onMouseLeave:_,onPointerEnter:P,onPointerLeave:E,onTouchCancel:$,onTouchEnd:A,onTouchMove:C,onTouchStart:O};return R}function Ybe(){var e=At(),t=m$(),r=F0(),n=B0(),s=Sp(e)?t.selected:td(e)?r.selected:rd(e)?n.selected:void 0;return s}function Zbe(e){return Object.values(Zn).includes(e)}function Xbe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var s=e.modifiersClassNames[n];if(s)r.push(s);else if(Zbe(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function Jbe(e,t){var r=Te({},e.styles.day);return Object.keys(t).forEach(function(n){var s;r=Te(Te({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[n])}),r}function Qbe(e,t,r){var n,s,o,i=At(),c=U0(),l=qbe(e,t),u=Kbe(e,l),d=Ybe(),f=!!(i.onDayClick||i.mode!=="default");x.useEffect(function(){var S;l.outside||c.focusedDay&&f&&Rr(c.focusedDay,e)&&((S=r.current)===null||S===void 0||S.focus())},[c.focusedDay,e,r,f,l.outside]);var h=Xbe(i,l).join(" "),p=Jbe(i,l),v=!!(l.outside&&!i.showOutsideDays||l.hidden),m=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:bbe,g=a.jsx(m,{date:e,displayMonth:t,activeModifiers:l}),y={style:p,className:h,children:g,role:"gridcell"},b=c.focusTarget&&Rr(c.focusTarget,e)&&!l.outside,w=c.focusedDay&&Rr(c.focusedDay,e),j=Te(Te(Te({},y),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=w||b?0:-1,n)),u),N={isButton:f,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:j,divProps:y};return N}function e0e(e){var t=x.useRef(null),r=Qbe(e.date,e.displayMonth,t);return r.isHidden?a.jsx("div",{role:"gridcell"}):r.isButton?a.jsx(Dh,Te({name:"day",ref:t},r.buttonProps)):a.jsx("div",Te({},r.divProps))}function t0e(e){var t=e.number,r=e.dates,n=At(),s=n.onWeekNumberClick,o=n.styles,i=n.classNames,c=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:c});if(!s)return a.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=l(Number(t),{locale:c}),h=function(p){s(t,r,p)};return a.jsx(Dh,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:h,children:d})}function r0e(e){var t,r,n=At(),s=n.styles,o=n.classNames,i=n.showWeekNumber,c=n.components,l=(t=c?.Day)!==null&&t!==void 0?t:e0e,u=(r=c?.WeekNumber)!==null&&r!==void 0?r:t0e,d;return i&&(d=a.jsx("td",{className:o.cell,style:s.cell,children:a.jsx(u,{number:e.weekNumber,dates:e.dates})})),a.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(f){return a.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:a.jsx(l,{displayMonth:e.displayMonth,date:f})},rye(f))})]})}function _C(e,t,r){for(var n=r?.ISOWeek?ZT(t):Fc(t,r),s=r?.ISOWeek?Eo(e):dn(e,r),o=ha(n,s),i=[],c=0;c<=o;c++)i.push(vr(s,c));var l=i.reduce(function(u,d){var f=r?.ISOWeek?QT(d):t$(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return l}function n0e(e,t){var r=_C(Jt(e),qa(e),t);if(t?.useFixedWeeks){var n=aye(e,t);if(n<6){var s=r[r.length-1],o=s.dates[s.dates.length-1],i=wu(o,6-n),c=_C(wu(o,1),i,t);r.push.apply(r,c)}}return r}function a0e(e){var t,r,n,s=At(),o=s.locale,i=s.classNames,c=s.styles,l=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,v=n0e(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d?.Head)!==null&&t!==void 0?t:ybe,g=(r=d?.Row)!==null&&r!==void 0?r:r0e,y=(n=d?.Footer)!==null&&n!==void 0?n:gbe;return a.jsxs("table",{id:e.id,className:i.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&a.jsx(m,{}),a.jsx("tbody",{className:i.tbody,style:c.tbody,children:v.map(function(b){return a.jsx(g,{displayMonth:e.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),a.jsx(y,{displayMonth:e.displayMonth})]})}function s0e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var o0e=s0e()?x.useLayoutEffect:x.useEffect,Vg=!1,i0e=0;function SC(){return"react-day-picker-".concat(++i0e)}function c0e(e){var t,r=e??(Vg?SC():null),n=x.useState(r),s=n[0],o=n[1];return o0e(function(){s===null&&o(SC())},[]),x.useEffect(function(){Vg===!1&&(Vg=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function l0e(e){var t,r,n=At(),s=n.dir,o=n.classNames,i=n.styles,c=n.components,l=nd().displayMonths,u=c0e(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],h=i.month,p=e.displayIndex===0,v=e.displayIndex===l.length-1,m=!p&&!v;s==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(f.push(o.caption_start),h=Te(Te({},h),i.caption_start)),v&&(f.push(o.caption_end),h=Te(Te({},h),i.caption_end)),m&&(f.push(o.caption_between),h=Te(Te({},h),i.caption_between));var g=(r=c?.Caption)!==null&&r!==void 0?r:pbe;return a.jsxs("div",{className:f.join(" "),style:h,children:[a.jsx(g,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a.jsx(a0e,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function u0e(e){var t=At(),r=t.classNames,n=t.styles;return a.jsx("div",{className:r.months,style:n.months,children:e.children})}function d0e(e){var t,r,n=e.initialProps,s=At(),o=U0(),i=nd(),c=x.useState(!1),l=c[0],u=c[1];x.useEffect(function(){s.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,l,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=Te(Te({},s.styles.root),s.style),h=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,m){var g;return Te(Te({},v),(g={},g[m]=n[m],g))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:u0e;return a.jsx("div",Te({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:a.jsx(p,{children:i.displayMonths.map(function(v,m){return a.jsx(l0e,{displayIndex:m,displayMonth:v},m)})})}))}function f0e(e){var t=e.children,r=Rye(e,["children"]);return a.jsx(tbe,{initialProps:r,children:a.jsx(dbe,{children:a.jsx(Hbe,{initialProps:r,children:a.jsx(wbe,{initialProps:r,children:a.jsx(_be,{initialProps:r,children:a.jsx(Tbe,{children:a.jsx(Wbe,{children:t})})})})})})})}function h0e(e){return a.jsx(f0e,Te({},e,{children:a.jsx(d0e,{initialProps:e})}))}function Nu({className:e,classNames:t,showOutsideDays:r=!0,...n}){return a.jsx(h0e,{showOutsideDays:r,className:J("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:J(Si({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:J(Si({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>a.jsx(hc,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Mo,{className:"h-4 w-4"})},...n})}Nu.displayName="Calendar";var q0="Popover",[p$]=Qn(q0,[Ds]),ad=Ds(),[m0e,Vs]=p$(q0),g$=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,c=ad(t),l=x.useRef(null),[u,d]=x.useState(!1),[f=!1,h]=wa({prop:n,defaultProp:s,onChange:o});return a.jsx(gm,{...c,children:a.jsx(m0e,{scope:t,contentId:xn(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:i,children:r})})};g$.displayName=q0;var v$="PopoverAnchor",p0e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Vs(v$,r),o=ad(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=s;return x.useEffect(()=>(i(),()=>c()),[i,c]),a.jsx(zu,{...o,...n,ref:t})});p0e.displayName=v$;var x$="PopoverTrigger",y$=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Vs(x$,r),o=ad(r),i=Be(t,s.triggerRef),c=a.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_$(s.open),...n,ref:i,onClick:fe(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:a.jsx(zu,{asChild:!0,...o,children:c})});y$.displayName=x$;var H0="PopoverPortal",[g0e,v0e]=p$(H0,{forceMount:void 0}),b$=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=Vs(H0,t);return a.jsx(g0e,{scope:t,forceMount:r,children:a.jsx(Cr,{present:r||o.open,children:a.jsx(Ru,{asChild:!0,container:s,children:n})})})};b$.displayName=H0;var nc="PopoverContent",w$=x.forwardRef((e,t)=>{const r=v0e(nc,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=Vs(nc,e.__scopePopover);return a.jsx(Cr,{present:n||o.open,children:o.modal?a.jsx(x0e,{...s,ref:t}):a.jsx(y0e,{...s,ref:t})})});w$.displayName=nc;var x0e=x.forwardRef((e,t)=>{const r=Vs(nc,e.__scopePopover),n=x.useRef(null),s=Be(t,n),o=x.useRef(!1);return x.useEffect(()=>{const i=n.current;if(i)return lm(i)},[]),a.jsx(Iu,{as:Lr,allowPinchZoom:!0,children:a.jsx(j$,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,i=>{i.preventDefault(),o.current||r.triggerRef.current?.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0,u=c.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),y0e=x.forwardRef((e,t)=>{const r=Vs(nc,e.__scopePopover),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(j$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;r.triggerRef.current?.contains(i)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),j$=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Vs(nc,r),p=ad(r);return im(),a.jsx(Du,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(pc,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(vm,{"data-state":_$(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),N$="PopoverClose",b0e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=Vs(N$,r);return a.jsx(Pe.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>s.onOpenChange(!1))})});b0e.displayName=N$;var w0e="PopoverArrow",j0e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=ad(r);return a.jsx(xm,{...s,...n,ref:t})});j0e.displayName=w0e;function _$(e){return e?"open":"closed"}var N0e=g$,_0e=y$,S0e=b$,S$=w$;const Rh=N0e,Ih=_0e,_u=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},s)=>a.jsx(S0e,{children:a.jsx(S$,{ref:s,align:t,sideOffset:r,className:J("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));_u.displayName=S$.displayName;var C0e="Label",C$=x.forwardRef((e,t)=>a.jsx(Pe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));C$.displayName=C0e;var P$=C$;const P0e=dc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=x.forwardRef(({className:e,...t},r)=>a.jsx(P$,{ref:r,className:J(P0e(),e),...t}));H.displayName=P$.displayName;const ac=Mhe,A$=x.createContext({}),rt=({...e})=>a.jsx(A$.Provider,{value:{name:e.name},children:a.jsx(Lhe,{...e})}),Cp=()=>{const e=x.useContext(A$),t=x.useContext(k$),{getFieldState:r,formState:n}=yp(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},k$=x.createContext({}),Qe=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return a.jsx(k$.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:J("space-y-2",e),...t})})});Qe.displayName="FormItem";const et=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Cp();return a.jsx(H,{ref:r,className:J(n&&"text-destructive",e),htmlFor:s,...t})});et.displayName="FormLabel";const tt=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=Cp();return a.jsx(Lr,{ref:t,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...e})});tt.displayName="FormControl";const A0e=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Cp();return a.jsx("p",{ref:r,id:n,className:J("text-sm text-muted-foreground",e),...t})});A0e.displayName="FormDescription";const at=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:o}=Cp(),i=s?String(s?.message):t;return i?a.jsx("p",{ref:n,id:o,className:J("text-sm font-medium text-destructive",e),...r,children:i}):null});at.displayName="FormMessage";console.log("Dialog component - forwardRef:",x.forwardRef);console.log("Dialog component - DialogPrimitive:",C6);const Fr=um,sd=dm,k0e=fm,E$=x.forwardRef(({className:e,...t},r)=>a.jsx(gc,{ref:r,className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));E$.displayName=gc.displayName;const Nr=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(k0e,{children:[a.jsx(E$,{}),a.jsxs(vc,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Lu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Vt,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nr.displayName=vc.displayName;const _r=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_r.displayName="DialogHeader";const Pp=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pp.displayName="DialogFooter";const Sr=x.forwardRef(({className:e,...t},r)=>a.jsx(xc,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Sr.displayName=xc.displayName;const Nn=x.forwardRef(({className:e,...t},r)=>a.jsx(yc,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Nn.displayName=yc.displayName;const E0e=Bs({nomeCompleto:dt().min(2,"Nome deve ter pelo menos 2 caracteres"),email:dt().email("E-mail invlido").optional(),telefone:dt().min(10,"Telefone deve ter pelo menos 10 dgitos").regex(/^[\d\s\-\+\(\)]+$/,"Telefone deve conter apenas nmeros e smbolos padres"),endereco:dt().optional(),dataNascimento:dt().optional(),servicoFrequente:dt().optional(),ultimaVisita:qT().optional(),observacoes:dt().optional()});function Lh({cliente:e,onSubmit:t,trigger:r}){const[n,s]=x.useState(!1),o=ks({resolver:Es(E0e),defaultValues:{nomeCompleto:e?.nomeCompleto||e?.nome||"",email:e?.email||"",telefone:e?.telefone||"",endereco:e?.endereco||"",dataNascimento:e?.dataNascimento||"",servicoFrequente:e?.servicoFrequente||"",ultimaVisita:e?.ultimaVisita?new Date(e.ultimaVisita):void 0,observacoes:e?.observacoes||""}}),i=l=>{t(l),o.reset(),s(!1),B.success(e?"Cliente atualizada - Os dados da cliente foram atualizados com sucesso.":"Cliente cadastrada - Nova cliente foi cadastrada com sucesso.")},c=a.jsxs(z,{className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(Iy,{className:"mr-2 h-4 w-4"}),"Nova Cliente"]});return a.jsxs(Fr,{open:n,onOpenChange:s,children:[a.jsx(sd,{asChild:!0,children:r||c}),a.jsxs(Nr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[a.jsx(_r,{children:a.jsx(Sr,{className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent",children:e?"Editar Cliente":"Nova Cliente"})}),a.jsx(ac,{...o,children:a.jsxs("form",{onSubmit:o.handleSubmit(i),className:"space-y-5 sm:space-y-6",children:[a.jsx(rt,{control:o.control,name:"nomeCompleto",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-foreground font-medium text-sm sm:text-base",children:"Nome Completo"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Digite o nome completo",className:"h-12 sm:h-11 text-base sm:text-sm border-border/50 focus:ring-primary",...l})}),a.jsx(at,{})]})}),a.jsx(rt,{control:o.control,name:"email",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-foreground font-medium",children:"E-mail (opcional)"}),a.jsx(tt,{children:a.jsx(ee,{type:"email",placeholder:"cliente@exemplo.com",className:"border-border/50 focus:ring-primary",...l})}),a.jsx(at,{})]})}),a.jsx(rt,{control:o.control,name:"telefone",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-foreground font-medium",children:"Telefone"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"(11) 99999-9999",className:"border-border/50 focus:ring-primary",...l})}),a.jsx(at,{})]})}),a.jsx(rt,{control:o.control,name:"servicoFrequente",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-foreground font-medium",children:"Servio Frequente (opcional)"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Ex: Corte e Escova",className:"border-border/50 focus:ring-primary",...l})}),a.jsx(at,{})]})}),a.jsx(rt,{control:o.control,name:"ultimaVisita",render:({field:l})=>a.jsxs(Qe,{className:"flex flex-col",children:[a.jsx(et,{className:"text-foreground font-medium",children:"ltima Visita (opcional)"}),a.jsxs(Rh,{children:[a.jsx(Ih,{asChild:!0,children:a.jsx(tt,{children:a.jsxs(z,{variant:"outline",className:J("w-full pl-3 text-left font-normal border-border/50",!l.value&&"text-muted-foreground"),children:[l.value?ke(l.value,"PPP",{locale:Ie}):a.jsx("span",{children:"Selecione uma data"}),a.jsx(Se,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(_u,{className:"w-auto p-0",align:"start",children:a.jsx(Nu,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:u=>u>new Date,initialFocus:!0,className:"p-3 pointer-events-auto"})})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:o.control,name:"observacoes",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-foreground font-medium",children:"Observaes"}),a.jsx(tt,{children:a.jsx(mr,{placeholder:"Observaes adicionais sobre a cliente...",className:"min-h-[100px] border-border/50 focus:ring-primary resize-none",...l})}),a.jsx(at,{})]})}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(z,{type:"button",variant:"outline",className:"flex-1 h-11 btn-touch",onClick:()=>s(!1),children:"Cancelar"}),a.jsx(z,{type:"submit",className:"flex-1 h-11 btn-touch bg-gradient-to-r from-primary to-lilac-primary",children:e?"Atualizar":"Cadastrar"})]})]})})]})]})}const Ur=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"table-responsive",children:a.jsx("table",{ref:r,className:J("w-full caption-bottom text-responsive-sm",e),...t})}));Ur.displayName="Table";const Wr=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:J("[&_tr]:border-b",e),...t}));Wr.displayName="TableHeader";const qr=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:J("[&_tr:last-child]:border-0",e),...t}));qr.displayName="TableBody";const O0e=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:J("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));O0e.displayName="TableFooter";const gt=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:J("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));gt.displayName="TableRow";const xe=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:J("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));xe.displayName="TableHead";const ge=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:J("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ge.displayName="TableCell";const T0e=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:J("mt-4 text-sm text-muted-foreground",e),...t}));T0e.displayName="TableCaption";var O$="AlertDialog",[$0e]=Qn(O$,[Fy]),cs=Fy(),T$=e=>{const{__scopeAlertDialog:t,...r}=e,n=cs(t);return a.jsx(um,{...n,...r,modal:!0})};T$.displayName=O$;var M0e="AlertDialogTrigger",$$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=cs(r);return a.jsx(dm,{...s,...n,ref:t})});$$.displayName=M0e;var D0e="AlertDialogPortal",M$=e=>{const{__scopeAlertDialog:t,...r}=e,n=cs(t);return a.jsx(fm,{...n,...r})};M$.displayName=D0e;var R0e="AlertDialogOverlay",D$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=cs(r);return a.jsx(gc,{...s,...n,ref:t})});D$.displayName=R0e;var ji="AlertDialogContent",[I0e,L0e]=$0e(ji),R$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=cs(r),i=x.useRef(null),c=Be(t,i),l=x.useRef(null);return a.jsx(oA,{contentName:ji,titleName:I$,docsSlug:"alert-dialog",children:a.jsx(I0e,{scope:r,cancelRef:l,children:a.jsxs(vc,{role:"alertdialog",...o,...s,ref:c,onOpenAutoFocus:fe(s.onOpenAutoFocus,u=>{u.preventDefault(),l.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx($y,{children:n}),a.jsx(z0e,{contentRef:i})]})})})});R$.displayName=ji;var I$="AlertDialogTitle",L$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=cs(r);return a.jsx(xc,{...s,...n,ref:t})});L$.displayName=I$;var F$="AlertDialogDescription",z$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=cs(r);return a.jsx(yc,{...s,...n,ref:t})});z$.displayName=F$;var F0e="AlertDialogAction",B$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=cs(r);return a.jsx(Lu,{...s,...n,ref:t})});B$.displayName=F0e;var V$="AlertDialogCancel",U$=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=L0e(V$,r),o=cs(r),i=Be(t,s);return a.jsx(Lu,{...o,...n,ref:i})});U$.displayName=V$;var z0e=({contentRef:e})=>{const t=`\`${ji}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ji}\` by passing a \`${F$}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ji}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},B0e=T$,V0e=$$,U0e=M$,W$=D$,q$=R$,H$=B$,G$=U$,K$=L$,Y$=z$;const Xn=B0e,Oo=V0e,W0e=U0e,Z$=x.forwardRef(({className:e,...t},r)=>a.jsx(W$,{className:J("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Z$.displayName=W$.displayName;const _n=x.forwardRef(({className:e,...t},r)=>a.jsxs(W0e,{children:[a.jsx(Z$,{}),a.jsx(q$,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));_n.displayName=q$.displayName;const Sn=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});Sn.displayName="AlertDialogHeader";const Cn=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cn.displayName="AlertDialogFooter";const Pn=x.forwardRef(({className:e,...t},r)=>a.jsx(K$,{ref:r,className:J("text-lg font-semibold",e),...t}));Pn.displayName=K$.displayName;const An=x.forwardRef(({className:e,...t},r)=>a.jsx(Y$,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));An.displayName=Y$.displayName;const kn=x.forwardRef(({className:e,...t},r)=>a.jsx(H$,{ref:r,className:J(Si(),e),...t}));kn.displayName=H$.displayName;const Jn=x.forwardRef(({className:e,...t},r)=>a.jsx(G$,{ref:r,className:J(Si({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jn.displayName=G$.displayName;const q0e=1,H0e=1e6;let Ug=0;function G0e(){return Ug=(Ug+1)%Number.MAX_SAFE_INTEGER,Ug.toString()}const Wg=new Map,CC=e=>{if(Wg.has(e))return;const t=setTimeout(()=>{Wg.delete(e),El({type:"REMOVE_TOAST",toastId:e})},H0e);Wg.set(e,t)},K0e=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,q0e)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?CC(r):e.toasts.forEach(n=>{CC(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},lf=[];let uf={toasts:[]};function El(e){uf=K0e(uf,e),lf.forEach(t=>{t(uf)})}function Xt({...e}){const t=G0e(),r=s=>El({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>El({type:"DISMISS_TOAST",toastId:t});return El({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function G0(){const[e,t]=x.useState(uf);return x.useEffect(()=>(lf.push(t),()=>{const r=lf.indexOf(t);r>-1&&lf.splice(r,1)}),[e]),{...e,toast:Xt,dismiss:r=>El({type:"DISMISS_TOAST",toastId:r})}}const Fh=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),Y0e=(e,t)=>{const r=Fh(e);return t.every(n=>r.includes(n))},PC=(e,t)=>{if(!t.trim())return e;const r=Fh(t).split(/\s+/).filter(Boolean);if(r.length===0)return e;const n=Fh(e);let s=[],o=0;const i=[];r.forEach(l=>{let u=n.indexOf(l);for(;u!==-1;)i.push({start:u,end:u+l.length}),u=n.indexOf(l,u+1)}),i.sort((l,u)=>l.start-u.start);const c=[];for(const l of i)c.length===0||l.start>c[c.length-1].end?c.push({...l}):c[c.length-1].end=Math.max(c[c.length-1].end,l.end);for(const l of c)l.start>o&&s.push(e.slice(o,l.start)),s.push(a.jsx("mark",{className:"bg-primary/20 text-primary rounded px-0.5",children:e.slice(l.start,l.end)},l.start)),o=l.end;return o<e.length&&s.push(e.slice(o)),s.length>0?s:e};function Z0e({clientes:e,onEdit:t,onDelete:r,onViewDetails:n}){const[s,o]=x.useState(""),[i,c]=x.useState(1),l=10,u=x.useMemo(()=>{if(!s.trim())return e;const j=Fh(s).split(/\s+/).filter(Boolean);return j.length===0?e:e.filter(N=>{const S=N.nomeCompleto||N.nome||"",_=N.telefone?.replace(/\D/g,"")||"",P=N.telefone||"",E=N.email||"",$=N.servicoFrequente||"",A=`${S} ${_} ${P} ${E} ${$}`;return Y0e(A,j)})},[e,s]),d=x.useCallback(()=>{o(""),c(1)},[]),f=u.sort((j,N)=>(j.nomeCompleto||j.nome||"").localeCompare(N.nomeCompleto||N.nome||"")),h=Math.ceil(f.length/l),p=(i-1)*l,v=p+l,m=f.slice(p,v),g=j=>{const N=j.replace(/\D/g,"");return N.length===11?`(${N.slice(0,2)}) ${N.slice(2,7)}-${N.slice(7)}`:j},y=(j,N)=>{const S=j.replace(/\D/g,""),_=`Ol ${N}! Tudo bem?`,P=`https://wa.me/55${S}?text=${encodeURIComponent(_)}`;window.open(P,"_blank")},b=j=>{window.open(`tel:${j}`,"_self")},w=(j,N)=>{r(j),Xt({title:"Cliente removida",description:`${N} foi removida com sucesso.`})};return a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between",children:[a.jsxs(ae,{className:"text-xl font-semibold",children:["Lista de Clientes (",u.length,")"]}),a.jsxs("div",{className:"relative w-full sm:max-w-sm",children:[a.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar por nome, telefone, email...",value:s,onChange:j=>{o(j.target.value),c(1)},className:"pl-10 pr-10 border-border/50"}),s&&a.jsx(z,{variant:"ghost",size:"sm",onClick:d,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Vt,{className:"h-4 w-4"})})]})]}),s&&a.jsx("div",{className:"px-6 pb-2 text-sm text-muted-foreground",children:u.length===0?a.jsxs("span",{children:['Nenhum cliente encontrado para "',a.jsx("strong",{children:s}),'"']}):a.jsxs("span",{children:[u.length," cliente",u.length!==1?"s":""," encontrado",u.length!==1?"s":"",' para "',a.jsx("strong",{children:s}),'"']})})]}),a.jsx(U,{className:"p-0",children:m.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-responsive",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{className:"border-border/50",children:[a.jsx(xe,{className:"font-semibold text-responsive-xs",children:"Nome Completo"}),a.jsx(xe,{className:"font-semibold text-responsive-xs",children:"Telefone"}),a.jsx(xe,{className:"font-semibold text-responsive-xs",children:"Servio Frequente"}),a.jsx(xe,{className:"font-semibold text-responsive-xs",children:"ltima Visita"}),a.jsx(xe,{className:"font-semibold text-right text-responsive-xs",children:"Aes"})]})}),a.jsx(qr,{children:m.map(j=>a.jsxs(gt,{className:"border-border/50 hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>n(j),children:[a.jsx(ge,{className:"font-medium text-responsive-sm",children:PC(j.nomeCompleto||j.nome||"",s)}),a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-responsive-xs",children:g(j.telefone)}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),b(j.telefone)},className:"btn-touch",children:a.jsx(Xa,{className:"h-3 w-3"})}),a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),y(j.telefone,j.nomeCompleto||j.nome||"")},className:"btn-touch hover:bg-green-100",children:a.jsx(yo,{className:"h-3 w-3 text-green-600"})})]})]})}),a.jsx(ge,{children:a.jsx(ue,{variant:"outline",className:"bg-accent/50 text-responsive-xs",children:j.servicoFrequente||"No definido"})}),a.jsx(ge,{className:"text-responsive-xs",children:j.ultimaVisita?(()=>{try{const N=new Date(j.ultimaVisita);return isNaN(N.getTime())?"Data invlida":ke(N,"dd/MM/yyyy",{locale:Ie})}catch{return"Data invlida"}})():"No definido"}),a.jsx(ge,{className:"text-right",children:a.jsxs("div",{className:"flex gap-1 justify-end",children:[a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>{N.stopPropagation(),n(j)},className:"btn-touch",children:a.jsx(MF,{className:"h-3 w-3"})}),a.jsx(Lh,{cliente:j,onSubmit:N=>t({...j,...N}),trigger:a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>N.stopPropagation(),className:"btn-touch",children:a.jsx(Hn,{className:"h-3 w-3"})})}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsx(z,{size:"sm",variant:"ghost",onClick:N=>N.stopPropagation(),className:"btn-touch hover:bg-destructive/10 hover:text-destructive",children:a.jsx(pr,{className:"h-3 w-3"})})}),a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{className:"text-responsive-lg",children:"Confirmar excluso"}),a.jsxs(An,{className:"text-responsive-sm",children:["Tem certeza que deseja excluir ",a.jsx("strong",{children:j.nomeCompleto||j.nome}),"? Esta ao no pode ser desfeita."]})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{className:"btn-touch text-responsive-sm",children:"Cancelar"}),a.jsx(kn,{onClick:()=>w(j.id,j.nomeCompleto||j.nome||""),className:"bg-destructive hover:bg-destructive/90 btn-touch text-responsive-sm",children:"Excluir"})]})]})]})]})})]},j.id))})]})}),a.jsx("div",{className:"lg:hidden space-y-3 p-4",children:m.map(j=>a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm cursor-pointer hover:shadow-md transition-all active:scale-[0.98]",onClick:()=>n(j),children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Ir,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-base truncate",children:PC(j.nomeCompleto||j.nome||"",s)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:g(j.telefone)})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(ue,{variant:"outline",className:"bg-accent/50 text-xs h-6",children:j.servicoFrequente||"No definido"}),a.jsxs(ue,{variant:"outline",className:"text-xs h-6",children:[a.jsx(Se,{className:"h-3 w-3 mr-1"}),j.ultimaVisita?(()=>{try{const N=new Date(j.ultimaVisita);return isNaN(N.getTime())?"Sem visita":ke(N,"dd/MM/yy",{locale:Ie})}catch{return"Sem visita"}})():"Sem visita"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>{N.stopPropagation(),b(j.telefone)},className:"flex-1 h-11 btn-touch",children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Ligar"]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>{N.stopPropagation(),y(j.telefone,j.nomeCompleto||j.nome||"")},className:"flex-1 h-11 btn-touch bg-green-50 hover:bg-green-100",children:[a.jsx(yo,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border/50",children:[a.jsx(Lh,{cliente:j,onSubmit:N=>t({...j,...N}),trigger:a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>N.stopPropagation(),className:"h-10 text-xs btn-touch",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Editar"]})}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsxs(z,{size:"sm",variant:"outline",onClick:N=>N.stopPropagation(),className:"h-10 text-xs btn-touch hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsxs(An,{children:["Tem certeza que deseja excluir ",a.jsx("strong",{children:j.nomeCompleto||j.nome}),"? Esta ao no pode ser desfeita."]})]}),a.jsxs(Cn,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(Jn,{className:"btn-touch m-0",children:"Cancelar"}),a.jsx(kn,{onClick:()=>w(j.id,j.nomeCompleto||j.nome||""),className:"bg-destructive hover:bg-destructive/90 btn-touch m-0",children:"Excluir"})]})]})]})]})]})})},j.id))}),h>1&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-t border-border/50",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",p+1," a ",Math.min(v,f.length)," de ",f.length," clientes"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>c(j=>Math.max(j-1,1)),disabled:i===1,children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm font-medium",children:[i," de ",h]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>c(j=>Math.min(j+1,h)),disabled:i===h,children:a.jsx(Mo,{className:"h-4 w-4"})})]})]})]}):a.jsxs("div",{className:"text-center py-12 px-4",children:[a.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10 mx-auto",children:a.jsx(ya,{className:"h-8 w-8 text-muted-foreground"})}),a.jsx("h3",{className:"mb-2 text-lg font-semibold",children:s?"Nenhuma cliente encontrada":"Nenhuma cliente cadastrada"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:s?"Tente buscar com outros termos ou limpe o filtro.":"Comece cadastrando sua primeira cliente para comear a usar o sistema."}),s&&a.jsx(z,{variant:"outline",onClick:()=>o(""),children:"Limpar busca"})]})})]})}function X0e({cliente:e,open:t,onOpenChange:r,onEdit:n}){const[s,o]=x.useState([]),[i,c]=x.useState(!0);x.useEffect(()=>{e&&t&&l()},[e?.id,t]);const l=async()=>{if(e)try{c(!0);const{data:m,error:g}=await W.from("vendas_produtos").select("*, itens_venda(*)").eq("cliente_id",e.id).order("data_venda",{ascending:!1});if(g)throw g;o(m||[])}catch(m){console.error("Erro ao carregar vendas:",m)}finally{c(!1)}};if(!e)return null;const u=m=>{const g=m.replace(/\D/g,"");return g.length===11?`(${g.slice(0,2)}) ${g.slice(2,7)}-${g.slice(7)}`:m},d=m=>{const y=`https://wa.me/55${m.replace(/\D/g,"")}`;window.open(y,"_blank")},f=m=>{window.open(`tel:${m}`,"_self")},h=e.historicoServicos.reduce((m,g)=>m+g.valor,0),p=s.reduce((m,g)=>m+Number(g.valor_total),0),v=h+p;return a.jsx(Fr,{open:t,onOpenChange:r,children:a.jsxs(Nr,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[a.jsx(_r,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Sr,{className:"text-2xl font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent",children:e.nomeCompleto}),a.jsx(Lh,{cliente:e,onSubmit:m=>n({...e,...m}),trigger:a.jsxs(z,{variant:"outline",size:"sm",children:[a.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Editar"]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-lg",children:"Informaes de Contato"})}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:u(e.telefone)}),a.jsxs("div",{className:"flex gap-2 ml-auto",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>f(e.telefone),className:"h-8",children:[a.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Ligar"]}),a.jsxs(z,{size:"sm",onClick:()=>d(e.telefone),className:"h-8 bg-green-600 hover:bg-green-700 text-white",children:[a.jsx(yo,{className:"h-3 w-3 mr-1"}),"WhatsApp"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4 text-lilac-primary"}),a.jsx("span",{children:"ltima visita: "}),a.jsx(ue,{variant:"secondary",children:e.ultimaVisita?(()=>{try{const m=typeof e.ultimaVisita=="string"?new Date(e.ultimaVisita):e.ultimaVisita;return isNaN(m.getTime())?"Data invlida":ke(m,"dd 'de' MMMM, yyyy",{locale:Ie})}catch{return"Data invlida"}})():"No informado"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xo,{className:"h-4 w-4 text-pink-accent"}),a.jsx("span",{children:"Servio frequente: "}),a.jsx(ue,{variant:"outline",className:"bg-accent/50",children:e.servicoFrequente})]})]})]}),a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(ne,{children:[a.jsx(ae,{className:"text-lg",children:"Histrico de Servios"}),a.jsxs(He,{children:["Total de ",e.historicoServicos.length," servios realizados  Valor total: R$ ",h.toFixed(2)]})]}),a.jsx(U,{children:e.historicoServicos.length>0?a.jsx("div",{className:"space-y-3",children:e.historicoServicos.sort((m,g)=>new Date(g.data).getTime()-new Date(m.data).getTime()).map(m=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-border/50 bg-background/50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:m.servico}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ke(m.data,"dd/MM/yyyy",{locale:Ie})})]}),a.jsxs(ue,{variant:"secondary",className:"bg-primary/10 text-primary",children:["R$ ",m.valor.toFixed(2)]})]},m.id))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum servio registrado ainda"})})]}),a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"text-lg flex items-center gap-2",children:[a.jsx(RP,{className:"h-5 w-5"}),"Histrico de Compras de Produtos"]}),a.jsxs(He,{children:["Total de ",s.length," compras  Valor total: R$ ",p.toFixed(2)]})]}),a.jsx(U,{children:i?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando compras..."}):s.length>0?a.jsx("div",{className:"space-y-3",children:s.map(m=>a.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-background/50 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Compra de Produtos"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ke(new Date(m.data_venda),"dd/MM/yyyy",{locale:Ie})})]}),a.jsxs(ue,{variant:"secondary",className:"bg-primary/10 text-primary",children:["R$ ",Number(m.valor_total).toFixed(2)]})]}),m.itens_venda&&m.itens_venda.length>0&&a.jsx("div",{className:"pl-4 border-l-2 border-border/50 space-y-1",children:m.itens_venda.map(g=>a.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",g.quantidade,"x - R$ ",Number(g.valor_unitario).toFixed(2)]},g.id))})]},m.id))}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma compra de produtos registrada ainda"})})]}),a.jsx(F,{className:"border-border/50 bg-gradient-to-br from-primary/5 to-lilac-primary/5",children:a.jsx(U,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Gasto (Servios + Produtos)"}),a.jsxs("p",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-lilac-primary bg-clip-text text-transparent",children:["R$ ",v.toFixed(2)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Servios: R$ ",h.toFixed(2)]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Produtos: R$ ",p.toFixed(2)]})]})]})})}),e.observacoes&&a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-lg",children:"Observaes"})}),a.jsx(U,{children:a.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:e.observacoes})})]})]})]})})}function J0e(){const{clientes:e,criarCliente:t,atualizarCliente:r,excluirCliente:n}=jc(),[s,o]=x.useState(null),[i,c]=x.useState(!1),l=async m=>{await t(m)},u=async m=>{await r(m.id,m),s?.id===m.id&&o(m)},d=async m=>{await n(m),s?.id===m&&(o(null),c(!1))},f=m=>{o(m),c(!0)},h=e.length,p=e.filter(m=>{if(!m.ultimaVisita)return!1;try{const g=new Date,y=new Date(g.getFullYear(),g.getMonth(),1);let b;if(typeof m.ultimaVisita=="string")b=new Date(m.ultimaVisita);else if(m.ultimaVisita instanceof Date)b=m.ultimaVisita;else return!1;return isNaN(b.getTime())?!1:b>=y}catch(g){return console.error("Erro ao processar data da ltima visita:",g),!1}}).length,v=e.reduce((m,g)=>m+(g.historicoServicos?.length||0),0);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Clientes"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie o cadastro e histrico das suas clientes"})]}),a.jsx(Lh,{onSubmit:l})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light",children:a.jsx(ba,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:h}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-lilac-primary to-pink-accent",children:a.jsx(Iy,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:p}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Visitas Este Ms"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-pink-accent to-lavender",children:a.jsx(Bt,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:v}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Servios"})]})]})})]}),a.jsx(Z0e,{clientes:e,onEdit:u,onDelete:d,onViewDetails:f}),a.jsx(X0e,{cliente:s,open:i,onOpenChange:c,onEdit:u})]})}function Su(e,[t,r]){return Math.min(r,Math.max(t,e))}function K0(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Q0e=[" ","Enter","ArrowUp","ArrowDown"],ewe=[" ","Enter"],od="Select",[Ap,kp,twe]=pp(od),[zc]=Qn(od,[twe,Ds]),Ep=Ds(),[rwe,Us]=zc(od),[nwe,awe]=zc(od),X$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:v}=e,m=Ep(t),[g,y]=x.useState(null),[b,w]=x.useState(null),[j,N]=x.useState(!1),S=Ic(u),[_=!1,P]=wa({prop:n,defaultProp:s,onChange:o}),[E,$]=wa({prop:i,defaultProp:c,onChange:l}),A=x.useRef(null),C=g?v||!!g.closest("form"):!0,[O,T]=x.useState(new Set),I=Array.from(O).map(R=>R.props.value).join(";");return a.jsx(gm,{...m,children:a.jsxs(rwe,{required:p,scope:t,trigger:g,onTriggerChange:y,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:xn(),value:E,onValueChange:$,open:_,onOpenChange:P,dir:S,triggerPointerDownPosRef:A,disabled:h,children:[a.jsx(Ap.Provider,{scope:t,children:a.jsx(nwe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(R=>{T(D=>new Set(D).add(R))},[]),onNativeOptionRemove:x.useCallback(R=>{T(D=>{const M=new Set(D);return M.delete(R),M})},[]),children:r})}),C?a.jsxs(jM,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:E,onChange:R=>$(R.target.value),disabled:h,form:v,children:[E===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},I):null]})})};X$.displayName=od;var J$="SelectTrigger",Q$=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Ep(r),i=Us(J$,r),c=i.disabled||n,l=Be(t,i.onTriggerChange),u=kp(r),d=x.useRef("touch"),[f,h,p]=NM(m=>{const g=u().filter(w=>!w.disabled),y=g.find(w=>w.value===i.value),b=_M(g,m,y);b!==void 0&&i.onValueChange(b.value)}),v=m=>{c||(i.onOpenChange(!0),p()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return a.jsx(zu,{asChild:!0,...o,children:a.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":wM(i.value)?"":void 0,...s,ref:l,onClick:fe(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&v(m)}),onPointerDown:fe(s.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:fe(s.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&Q0e.includes(m.key)&&(v(),m.preventDefault())})})})});Q$.displayName=J$;var eM="SelectValue",tM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...c}=e,l=Us(eM,r),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,f=Be(t,l.onValueNodeChange);return jr(()=>{u(d)},[u,d]),a.jsx(Pe.span,{...c,ref:f,style:{pointerEvents:"none"},children:wM(l.value)?a.jsx(a.Fragment,{children:i}):o})});tM.displayName=eM;var swe="SelectIcon",rM=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Pe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});rM.displayName=swe;var owe="SelectPortal",nM=e=>a.jsx(Ru,{asChild:!0,...e});nM.displayName=owe;var To="SelectContent",aM=x.forwardRef((e,t)=>{const r=Us(To,e.__scopeSelect),[n,s]=x.useState();if(jr(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Au.createPortal(a.jsx(sM,{scope:e.__scopeSelect,children:a.jsx(Ap.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(oM,{...e,ref:t})});aM.displayName=To;var Rn=10,[sM,Ws]=zc(To),iwe="SelectContentImpl",oM=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g,...y}=e,b=Us(To,r),[w,j]=x.useState(null),[N,S]=x.useState(null),_=Be(t,le=>j(le)),[P,E]=x.useState(null),[$,A]=x.useState(null),C=kp(r),[O,T]=x.useState(!1),I=x.useRef(!1);x.useEffect(()=>{if(w)return lm(w)},[w]),im();const R=x.useCallback(le=>{const[Re,...oe]=C().map(Y=>Y.ref.current),[me]=oe.slice(-1),be=document.activeElement;for(const Y of le)if(Y===be||(Y?.scrollIntoView({block:"nearest"}),Y===Re&&N&&(N.scrollTop=0),Y===me&&N&&(N.scrollTop=N.scrollHeight),Y?.focus(),document.activeElement!==be))return},[C,N]),D=x.useCallback(()=>R([P,w]),[R,P,w]);x.useEffect(()=>{O&&D()},[O,D]);const{onOpenChange:M,triggerPointerDownPosRef:V}=b;x.useEffect(()=>{if(w){let le={x:0,y:0};const Re=me=>{le={x:Math.abs(Math.round(me.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(me.pageY)-(V.current?.y??0))}},oe=me=>{le.x<=10&&le.y<=10?me.preventDefault():w.contains(me.target)||M(!1),document.removeEventListener("pointermove",Re),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,M,V]),x.useEffect(()=>{const le=()=>M(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[M]);const[re,K]=NM(le=>{const Re=C().filter(be=>!be.disabled),oe=Re.find(be=>be.ref.current===document.activeElement),me=_M(Re,le,oe);me&&setTimeout(()=>me.ref.current.focus())}),te=x.useCallback((le,Re,oe)=>{const me=!I.current&&!oe;(b.value!==void 0&&b.value===Re||me)&&(E(le),me&&(I.current=!0))},[b.value]),ce=x.useCallback(()=>w?.focus(),[w]),_e=x.useCallback((le,Re,oe)=>{const me=!I.current&&!oe;(b.value!==void 0&&b.value===Re||me)&&A(le)},[b.value]),Ze=n==="popper"?fy:iM,Ee=Ze===fy?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return a.jsx(sM,{scope:r,content:w,viewport:N,onViewportChange:S,itemRefCallback:te,selectedItem:P,onItemLeave:ce,itemTextRefCallback:_e,focusSelectedItem:D,selectedItemText:$,position:n,isPositioned:O,searchRef:re,children:a.jsx(Iu,{as:Lr,allowPinchZoom:!0,children:a.jsx(Du,{asChild:!0,trapped:b.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:fe(s,le=>{b.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:a.jsx(pc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:a.jsx(Ze,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:le=>le.preventDefault(),...y,...Ee,onPlaced:()=>T(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:fe(y.onKeyDown,le=>{const Re=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Re&&le.key.length===1&&K(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let me=C().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(le.key)&&(me=me.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const be=le.target,Y=me.indexOf(be);me=me.slice(Y+1)}setTimeout(()=>R(me)),le.preventDefault()}})})})})})})});oM.displayName=iwe;var cwe="SelectItemAlignedPosition",iM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=Us(To,r),i=Ws(To,r),[c,l]=x.useState(null),[u,d]=x.useState(null),f=Be(t,_=>d(_)),h=kp(r),p=x.useRef(!1),v=x.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=i,w=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&u&&m&&g&&y){const _=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),E=o.valueNode.getBoundingClientRect(),$=y.getBoundingClientRect();if(o.dir!=="rtl"){const be=$.left-P.left,Y=E.left-be,Xe=_.left-Y,he=_.width+Xe,Ve=Math.max(he,P.width),Ae=window.innerWidth-Rn,Je=Su(Y,[Rn,Math.max(Rn,Ae-Ve)]);c.style.minWidth=he+"px",c.style.left=Je+"px"}else{const be=P.right-$.right,Y=window.innerWidth-E.right-be,Xe=window.innerWidth-_.right-Y,he=_.width+Xe,Ve=Math.max(he,P.width),Ae=window.innerWidth-Rn,Je=Su(Y,[Rn,Math.max(Rn,Ae-Ve)]);c.style.minWidth=he+"px",c.style.right=Je+"px"}const A=h(),C=window.innerHeight-Rn*2,O=m.scrollHeight,T=window.getComputedStyle(u),I=parseInt(T.borderTopWidth,10),R=parseInt(T.paddingTop,10),D=parseInt(T.borderBottomWidth,10),M=parseInt(T.paddingBottom,10),V=I+R+O+M+D,re=Math.min(g.offsetHeight*5,V),K=window.getComputedStyle(m),te=parseInt(K.paddingTop,10),ce=parseInt(K.paddingBottom,10),_e=_.top+_.height/2-Rn,Ze=C-_e,Ee=g.offsetHeight/2,le=g.offsetTop+Ee,Re=I+R+le,oe=V-Re;if(Re<=_e){const be=A.length>0&&g===A[A.length-1].ref.current;c.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,Xe=Math.max(Ze,Ee+(be?ce:0)+Y+D),he=Re+Xe;c.style.height=he+"px"}else{const be=A.length>0&&g===A[0].ref.current;c.style.top="0px";const Xe=Math.max(_e,I+m.offsetTop+(be?te:0)+Ee)+oe;c.style.height=Xe+"px",m.scrollTop=Re-_e+m.offsetTop}c.style.margin=`${Rn}px 0`,c.style.minHeight=re+"px",c.style.maxHeight=C+"px",n?.(),requestAnimationFrame(()=>p.current=!0)}},[h,o.trigger,o.valueNode,c,u,m,g,y,o.dir,n]);jr(()=>w(),[w]);const[j,N]=x.useState();jr(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(_=>{_&&v.current===!0&&(w(),b?.(),v.current=!1)},[w,b]);return a.jsx(uwe,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:a.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:a.jsx(Pe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});iM.displayName=cwe;var lwe="SelectPopperPosition",fy=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Rn,...o}=e,i=Ep(r);return a.jsx(vm,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});fy.displayName=lwe;var[uwe,Y0]=zc(To,{}),hy="SelectViewport",cM=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=Ws(hy,r),i=Y0(hy,r),c=Be(t,o.onViewportChange),l=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Ap.Slot,{scope:r,children:a.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:fe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h?.current&&f){const p=Math.abs(l.current-d.scrollTop);if(p>0){const v=window.innerHeight-Rn*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(m,g);if(y<v){const b=y+p,w=Math.min(v,b),j=b-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});cM.displayName=hy;var lM="SelectGroup",[dwe,fwe]=zc(lM),hwe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=xn();return a.jsx(dwe,{scope:r,id:s,children:a.jsx(Pe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});hwe.displayName=lM;var uM="SelectLabel",dM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=fwe(uM,r);return a.jsx(Pe.div,{id:s.id,...n,ref:t})});dM.displayName=uM;var zh="SelectItem",[mwe,fM]=zc(zh),hM=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,c=Us(zh,r),l=Ws(zh,r),u=c.value===n,[d,f]=x.useState(o??""),[h,p]=x.useState(!1),v=Be(t,b=>l.itemRefCallback?.(b,n,s)),m=xn(),g=x.useRef("touch"),y=()=>{s||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(mwe,{scope:r,value:n,disabled:s,textId:m,isSelected:u,onItemTextChange:x.useCallback(b=>{f(w=>w||(b?.textContent??"").trim())},[]),children:a.jsx(Ap.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Pe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:fe(i.onFocus,()=>p(!0)),onBlur:fe(i.onBlur,()=>p(!1)),onClick:fe(i.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:fe(i.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:fe(i.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:fe(i.onPointerMove,b=>{g.current=b.pointerType,s?l.onItemLeave?.():g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(i.onPointerLeave,b=>{b.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:fe(i.onKeyDown,b=>{l.searchRef?.current!==""&&b.key===" "||(ewe.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});hM.displayName=zh;var dl="SelectItemText",mM=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=Us(dl,r),c=Ws(dl,r),l=fM(dl,r),u=awe(dl,r),[d,f]=x.useState(null),h=Be(t,y=>f(y),l.onItemTextChange,y=>c.itemTextRefCallback?.(y,l.value,l.disabled)),p=d?.textContent,v=x.useMemo(()=>a.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return jr(()=>(m(v),()=>g(v)),[m,g,v]),a.jsxs(a.Fragment,{children:[a.jsx(Pe.span,{id:l.textId,...o,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Au.createPortal(o.children,i.valueNode):null]})});mM.displayName=dl;var pM="SelectItemIndicator",gM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return fM(pM,r).isSelected?a.jsx(Pe.span,{"aria-hidden":!0,...n,ref:t}):null});gM.displayName=pM;var my="SelectScrollUpButton",vM=x.forwardRef((e,t)=>{const r=Ws(my,e.__scopeSelect),n=Y0(my,e.__scopeSelect),[s,o]=x.useState(!1),i=Be(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollTop>0;o(u)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(yM,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop-l.offsetHeight)}}):null});vM.displayName=my;var py="SelectScrollDownButton",xM=x.forwardRef((e,t)=>{const r=Ws(py,e.__scopeSelect),n=Y0(py,e.__scopeSelect),[s,o]=x.useState(!1),i=Be(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=r.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),s?a.jsx(yM,{...e,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:l}=r;c&&l&&(c.scrollTop=c.scrollTop+l.offsetHeight)}}):null});xM.displayName=py;var yM=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=Ws("SelectScrollButton",r),i=x.useRef(null),c=kp(r),l=x.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return x.useEffect(()=>()=>l(),[l]),jr(()=>{c().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),a.jsx(Pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:fe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:fe(s.onPointerMove,()=>{o.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:fe(s.onPointerLeave,()=>{l()})})}),pwe="SelectSeparator",bM=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Pe.div,{"aria-hidden":!0,...n,ref:t})});bM.displayName=pwe;var gy="SelectArrow",gwe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ep(r),o=Us(gy,r),i=Ws(gy,r);return o.open&&i.position==="popper"?a.jsx(xm,{...s,...n,ref:t}):null});gwe.displayName=gy;function wM(e){return e===""||e===void 0}var jM=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=x.useRef(null),o=Be(t,s),i=K0(r);return x.useEffect(()=>{const c=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(c,r),c.dispatchEvent(f)}},[i,r]),a.jsx(ib,{asChild:!0,children:a.jsx("select",{...n,ref:o,defaultValue:r})})});jM.displayName="BubbleSelect";function NM(e){const t=or(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(i=>{const c=r.current+i;t(c),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(c)},[t]),o=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function _M(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=vwe(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function vwe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xwe=X$,SM=Q$,ywe=tM,bwe=rM,wwe=nM,CM=aM,jwe=cM,PM=dM,AM=hM,Nwe=mM,_we=gM,kM=vM,EM=xM,OM=bM;const Le=xwe,Fe=ywe,Me=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(SM,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(bwe,{asChild:!0,children:a.jsx(TP,{className:"h-4 w-4 opacity-50"})})]}));Me.displayName=SM.displayName;const TM=x.forwardRef(({className:e,...t},r)=>a.jsx(kM,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(OF,{className:"h-4 w-4"})}));TM.displayName=kM.displayName;const $M=x.forwardRef(({className:e,...t},r)=>a.jsx(EM,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(TP,{className:"h-4 w-4"})}));$M.displayName=EM.displayName;const De=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(wwe,{children:a.jsxs(CM,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(TM,{}),a.jsx(jwe,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx($M,{})]})}));De.displayName=CM.displayName;const Swe=x.forwardRef(({className:e,...t},r)=>a.jsx(PM,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Swe.displayName=PM.displayName;const X=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(AM,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(_we,{children:a.jsx(bt,{className:"h-4 w-4"})})}),a.jsx(Nwe,{children:t})]}));X.displayName=AM.displayName;const Cwe=x.forwardRef(({className:e,...t},r)=>a.jsx(OM,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));Cwe.displayName=OM.displayName;function Pwe({servicos:e,filtros:t,onFiltrosChange:r,onEdit:n,onDelete:s}){const[o,i]=x.useState(null),c=f=>`R$ ${f.toFixed(2).replace(".",",")}`,l=f=>{const h=Math.floor(f/60),p=f%60;return h>0&&p>0?`${h}h ${p}min`:h>0?`${h}h`:`${p}min`},u=f=>{const h=t.ordenacao===f&&t.direcao==="asc"?"desc":"asc";r({...t,ordenacao:f,direcao:h})},d=f=>t.ordenacao!==f?a.jsx(SF,{className:"h-4 w-4 text-muted-foreground"}):t.direcao==="asc"?a.jsx(PF,{className:"h-4 w-4 text-primary"}):a.jsx(NF,{className:"h-4 w-4 text-primary"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"h-5 w-5 text-primary"}),"Filtros e Ordenao"]})}),a.jsxs(U,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar servio...",value:t.busca||"",onChange:f=>r({...t,busca:f.target.value}),className:"pl-10"})]}),a.jsxs(Le,{value:`${t.ordenacao}-${t.direcao}`,onValueChange:f=>{const[h,p]=f.split("-");r({...t,ordenacao:h,direcao:p})},children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Ordenar por"})}),a.jsxs(De,{children:[a.jsx(X,{value:"nome-asc",children:"Nome (A-Z)"}),a.jsx(X,{value:"nome-desc",children:"Nome (Z-A)"}),a.jsx(X,{value:"valor-asc",children:"Valor (Menor primeiro)"}),a.jsx(X,{value:"valor-desc",children:"Valor (Maior primeiro)"}),a.jsx(X,{value:"duracao-asc",children:"Durao (Menor primeiro)"}),a.jsx(X,{value:"duracao-desc",children:"Durao (Maior primeiro)"})]})]})]}),t.busca&&a.jsx("div",{className:"mt-4",children:a.jsx(z,{variant:"outline",size:"sm",onClick:()=>r({...t,busca:""}),children:"Limpar busca"})})]})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(an,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum servio encontrado"}),a.jsx("p",{className:"text-muted-foreground",children:t.busca?"Tente ajustar os filtros ou criar um novo servio.":"Comece criando seu primeiro servio."})]})}):a.jsxs(a.Fragment,{children:[a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm hidden md:block",children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-5 gap-4 items-center font-semibold text-sm text-muted-foreground",children:[a.jsxs("button",{className:"flex items-center gap-2 hover:text-foreground transition-colors text-left",onClick:()=>u("nome"),children:["Servio",d("nome")]}),a.jsxs("button",{className:"flex items-center gap-2 hover:text-foreground transition-colors",onClick:()=>u("valor"),children:["Valor",d("valor")]}),a.jsxs("button",{className:"flex items-center gap-2 hover:text-foreground transition-colors",onClick:()=>u("duracao"),children:["Durao",d("duracao")]}),a.jsx("div",{children:"Descrio"}),a.jsx("div",{className:"text-right",children:"Aes"})]})})}),e.map(f=>a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/70 transition-all duration-200",children:a.jsxs(U,{className:"p-6",children:[a.jsxs("div",{className:"md:hidden space-y-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("h3",{className:"font-semibold text-foreground flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(an,{className:"h-4 w-4 text-primary"})}),f.nome]}),f.descricao&&a.jsx("p",{className:"text-sm text-muted-foreground",children:f.descricao})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(f),children:a.jsx(Hn,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(f),className:"text-destructive hover:text-destructive",children:a.jsx(pr,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium text-primary",children:c(f.valor)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:l(f.duracao)})]})]})]}),a.jsxs("div",{className:"hidden md:grid md:grid-cols-5 md:gap-4 md:items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(an,{className:"h-5 w-5 text-primary"})}),a.jsx("div",{children:a.jsx("h3",{className:"font-semibold text-foreground",children:f.nome})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium text-primary",children:c(f.valor)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:l(f.duracao)})]}),a.jsx("div",{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:f.descricao||"-"})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>n(f),children:a.jsx(Hn,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>i(f),className:"text-destructive hover:text-destructive",children:a.jsx(pr,{className:"h-4 w-4"})})]})]})]})},f.id))]})}),a.jsx(Xn,{open:!!o,onOpenChange:()=>i(null),children:a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsxs(An,{children:['Tem certeza que deseja excluir o servio "',o?.nome,'"? Esta ao no pode ser desfeita e pode afetar agendamentos existentes.']})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{children:"Cancelar"}),a.jsx(kn,{onClick:()=>{o&&(s(o.id),i(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const Awe=Bs({nome:dt().min(1,"Nome do servio  obrigatrio").max(100,"Nome muito longo"),valor:js().min(.01,"Valor deve ser maior que zero"),duracao:js().int().min(1,"Durao deve ser pelo menos 1 minuto"),descricao:dt().optional(),observacoes:dt().optional()});function kwe({servico:e,onSubmit:t,onCancel:r}){const n=ks({resolver:Es(Awe),defaultValues:{nome:e?.nome||"",valor:e?.valor||0,duracao:e?.duracao||30,descricao:e?.descricao||"",observacoes:e?.observacoes||""}}),s=i=>{t(i)},o=!!e;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(z,{variant:"ghost",size:"sm",onClick:r,className:"flex items-center gap-2",children:[a.jsx(Ou,{className:"h-4 w-4"}),"Voltar"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:o?"Editar Servio":"Novo Servio"}),a.jsx("p",{className:"text-muted-foreground",children:o?"Atualize as informaes do servio":"Preencha os dados do novo servio"})]})]}),a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(an,{className:"h-5 w-5 text-primary"})}),"Informaes do Servio"]}),a.jsx(He,{children:"Preencha todos os campos obrigatrios para cadastrar o servio"})]}),a.jsx(U,{children:a.jsx(ac,{...n,children:a.jsxs("form",{onSubmit:n.handleSubmit(s),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(rt,{control:n.control,name:"nome",render:({field:i})=>a.jsxs(Qe,{children:[a.jsxs(et,{children:["Nome do Servio ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Ex: Corte Feminino",...i})}),a.jsx(at,{})]})}),a.jsx(rt,{control:n.control,name:"valor",render:({field:i})=>a.jsxs(Qe,{children:[a.jsxs(et,{children:["Valor (R$) ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(tt,{children:a.jsx(ee,{type:"number",step:"0.01",min:"0.01",placeholder:"0,00",...i,onChange:c=>i.onChange(parseFloat(c.target.value)||0)})}),a.jsx(at,{})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsx(rt,{control:n.control,name:"duracao",render:({field:i})=>a.jsxs(Qe,{children:[a.jsxs(et,{children:["Durao (minutos) ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(tt,{children:a.jsx(ee,{type:"number",min:"1",placeholder:"30",...i,onChange:c=>i.onChange(parseInt(c.target.value)||0)})}),a.jsx(at,{})]})}),a.jsx("div",{})]}),a.jsx(rt,{control:n.control,name:"descricao",render:({field:i})=>a.jsxs(Qe,{children:[a.jsx(et,{children:"Descrio"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Breve descrio do servio",...i})}),a.jsx(at,{})]})}),a.jsx(rt,{control:n.control,name:"observacoes",render:({field:i})=>a.jsxs(Qe,{children:[a.jsx(et,{children:"Observaes"}),a.jsx(tt,{children:a.jsx(mr,{placeholder:"Observaes adicionais sobre o servio (opcional)",rows:3,...i})}),a.jsx(at,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,className:"sm:w-auto",children:"Cancelar"}),a.jsx(z,{type:"submit",className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 sm:w-auto",children:o?"Atualizar Servio":"Criar Servio"})]})]})})})]})]})}function Ewe(){const{servicos:e,filtros:t,setFiltros:r,criarServico:n,atualizarServico:s,excluirServico:o}=Nm(),[i,c]=x.useState("lista"),[l,u]=x.useState(null),d=()=>{u(null),c("formulario")},f=v=>{u(v),c("formulario")},h=v=>{(l?s(l.id,v):n(v))&&(c("lista"),u(null))},p=()=>{c("lista"),u(null)};return i==="formulario"?a.jsx("div",{className:"space-y-8",children:a.jsx(kwe,{servico:l||void 0,onSubmit:h,onCancel:p})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Servios"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os servios oferecidos pelo seu salo"})]}),a.jsxs(z,{onClick:d,className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx(wr,{className:"mr-2 h-4 w-4"}),"Novo Servio"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light",children:a.jsx(an,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold",children:e.length}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Servios"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-lilac-primary to-pink-accent",children:a.jsx(an,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",e.length>0?Math.min(...e.map(v=>v.valor)).toFixed(2):"0,00"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Menor Valor"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-pink-accent to-lavender",children:a.jsx(an,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",e.length>0?Math.max(...e.map(v=>v.valor)).toFixed(2):"0,00"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maior Valor"})]})]})})]}),a.jsx(Pwe,{servicos:e,filtros:t,onFiltrosChange:r,onEdit:f,onDelete:o})]})}const MM=()=>{const[e,t]=x.useState([]),[r,n]=x.useState([]),[s,o]=x.useState(!0),[i,c]=x.useState(null),l=async()=>{try{o(!0);const{data:g,error:y}=await W.from("cronogramas_completos").select("*").order("created_at",{ascending:!1});if(y)throw y;const b=(g||[]).map(w=>({id_cronograma:w.id_cronograma,cliente_id:w.cliente_id,cliente_nome:w.cliente_nome,servico_id:w.servico_id,tipo_servico:w.tipo_servico,data_inicio:w.data_inicio,hora_inicio:w.hora_inicio,duracao_minutos:w.duracao_minutos,recorrencia:w.recorrencia,intervalo_dias:w.intervalo_dias,observacoes:w.observacoes,status:w.status,created_at:w.created_at,updated_at:w.updated_at,cliente_nome_real:w.cliente_nome_real,cliente_telefone:w.cliente_telefone,cliente_email:w.cliente_email,servico_nome_real:w.servico_nome_real,servico_valor:w.servico_valor,servico_duracao:w.servico_duracao,total_retornos:w.total_retornos||0,retornos_pendentes:w.retornos_pendentes||0,retornos_realizados:w.retornos_realizados||0,proximo_retorno:w.proximo_retorno}));t(b)}catch(g){c(g instanceof Error?g.message:"Erro ao carregar cronogramas")}finally{o(!1)}},u=async()=>{try{const{data:g,error:y}=await W.from("retornos_completos").select("*").order("data_retorno",{ascending:!0});if(y)throw y;const b=(g||[]).map(w=>({id_retorno:w.id_retorno,id_cliente:w.id_cliente,id_cronograma:w.id_cronograma,data_retorno:w.data_retorno,status:w.status,id_agendamento_retorno:w.id_agendamento_retorno,created_at:w.created_at,updated_at:w.updated_at,cliente_nome:w.cliente_nome,cliente_telefone:w.cliente_telefone,tipo_servico:w.tipo_servico,hora_inicio:w.hora_inicio,recorrencia:w.recorrencia,agendamento_data:w.agendamento_data,agendamento_hora:w.agendamento_hora,agendamento_status:w.agendamento_status}));n(b)}catch(g){c(g instanceof Error?g.message:"Erro ao carregar retornos")}},d=async g=>{try{const{data:y}=await W.auth.getUser();if(!y.user)throw new Error("Usurio no autenticado");const{data:b,error:w}=await W.from("cronogramas_novos").insert({user_id:y.user.id,cliente_id:g.cliente_id,cliente_nome:g.cliente_nome,servico_id:g.servico_id,tipo_servico:g.tipo_servico,data_inicio:g.data_inicio,hora_inicio:g.hora_inicio,duracao_minutos:g.duracao_minutos,recorrencia:g.recorrencia,intervalo_dias:g.intervalo_dias,observacoes:g.observacoes,status:g.status}).select().single();if(w)throw w;return await l(),b}catch(y){throw c(y instanceof Error?y.message:"Erro ao criar cronograma"),y}},f=async(g,y)=>{try{const{error:b}=await W.from("cronogramas_novos").update(y).eq("id_cronograma",g);if(b)throw b;await l()}catch(b){throw c(b instanceof Error?b.message:"Erro ao atualizar cronograma"),b}},h=async g=>{try{const{error:y}=await W.from("cronogramas_novos").delete().eq("id_cronograma",g);if(y)throw y;await l()}catch(y){throw c(y instanceof Error?y.message:"Erro ao deletar cronograma"),y}},p=async g=>{try{const{data:y}=await W.auth.getUser();if(!y.user)throw new Error("Usurio no autenticado");const{data:b,error:w}=await W.from("retornos_novos").insert({user_id:y.user.id,id_cliente:g.id_cliente,id_cronograma:g.id_cronograma,data_retorno:g.data_retorno,status:g.status,id_agendamento_retorno:g.id_agendamento_retorno}).select().single();if(w)throw w;return await u(),b}catch(y){throw c(y instanceof Error?y.message:"Erro ao criar retorno"),y}},v=async(g,y)=>{try{const{error:b}=await W.from("retornos_novos").update(y).eq("id_retorno",g);if(b)throw b;await u()}catch(b){throw c(b instanceof Error?b.message:"Erro ao atualizar retorno"),b}},m=async(g,y,b)=>{try{const{data:w}=await W.auth.getUser();if(!w.user)throw new Error("Usurio no autenticado");const j=r.find(E=>E.id_retorno===g);if(!j)throw new Error("Retorno no encontrado");const{data:N,error:S}=await W.from("cronogramas_novos").select("*, servicos(*)").eq("id_cronograma",j.id_cronograma).single();if(S)throw S;const{data:_,error:P}=await W.from("agendamentos").insert({user_id:w.user.id,cliente_id:j.id_cliente,servico_id:N.servico_id,data:y,hora:b,duracao:N.duracao_minutos,valor:N.servicos?.valor||0,valor_devido:N.servicos?.valor||0,status:"agendado",observacoes:`Retorno do cronograma: ${N.tipo_servico}`}).select().single();if(P)throw P;return await v(g,{status:"Realizado",id_agendamento_retorno:_.id}),_}catch(w){throw c(w instanceof Error?w.message:"Erro ao criar agendamento de retorno"),w}};return x.useEffect(()=>{l(),u();const g=W.channel("cronogramas-realtime").on("postgres_changes",{event:"*",schema:"public",table:"cronogramas_novos"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"retornos_novos"},()=>{u(),l()}).on("postgres_changes",{event:"*",schema:"public",table:"clientes"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"servicos"},()=>{l()}).on("postgres_changes",{event:"*",schema:"public",table:"agendamentos"},()=>{u()}).subscribe();return()=>{W.removeChannel(g)}},[]),{cronogramas:e,retornos:r,loading:s,error:i,createCronograma:d,updateCronograma:f,deleteCronograma:h,createRetorno:p,updateRetorno:v,criarAgendamentoDeRetorno:m,loadCronogramas:l,loadRetornos:u}},DM=()=>{const{cronogramas:e,createCronograma:t,updateCronograma:r,deleteCronograma:n,loading:s}=MM();return{cronogramas:e,loading:s,error:null,createCronograma:async l=>await t(l),updateCronograma:async(l,u)=>await r(l,u),deleteCronograma:async l=>await n(l)}},Owe=()=>{const{retornos:e,createRetorno:t,updateRetorno:r,loading:n}=MM();return{retornos:e,loading:n,error:null,createRetorno:t,updateRetorno:r,marcarRetornoRealizado:async(u,d)=>{await r(u,{status:"Realizado",id_agendamento_retorno:d})},cancelarRetorno:async u=>{await r(u,{status:"Cancelado"})},getRetornosPendentes:()=>e.filter(u=>u.status==="Pendente"),getRetornosPorCliente:u=>e.filter(d=>d.id_cliente===u),getRetornosPorCronograma:u=>e.filter(d=>d.id_cronograma===u)}};function Twe({cronograma:e,onSuccess:t,onCancel:r}){const[n,s]=x.useState({cliente_id:e?.cliente_id||"",servico_id:e?.servico_id||"",data_inicio:e?.data_inicio||"",hora_inicio:e?.hora_inicio||"09:00",recorrencia:e?.recorrencia||"Semanal",intervalo_dias:e?.intervalo_dias||void 0,observacoes:e?.observacoes||"",status:e?.status||"ativo"}),{createCronograma:o,updateCronograma:i,loading:c}=DM(),{clientes:l}=jc(),{servicos:u}=Nm(),{toast:d}=G0(),f=async p=>{if(p.preventDefault(),!n.cliente_id||!n.servico_id||!n.data_inicio){d({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}const v=l.find(y=>y.id===n.cliente_id),m=u.find(y=>y.id===n.servico_id);if(!v||!m){d({title:"Erro",description:"Cliente ou servio no encontrado.",variant:"destructive"});return}let g=n.intervalo_dias;n.recorrencia==="Semanal"?g=7:n.recorrencia==="Quinzenal"?g=14:n.recorrencia==="Mensal"&&(g=30);try{const y={cliente_id:n.cliente_id,cliente_nome:v.nome,servico_id:n.servico_id,tipo_servico:m.nome,data_inicio:n.data_inicio,hora_inicio:n.hora_inicio,duracao_minutos:m.duracao,recorrencia:n.recorrencia,intervalo_dias:g,observacoes:n.observacoes,status:n.status};e?(await i(e.id_cronograma,y),d({title:"Cronograma atualizado",description:"O cronograma foi atualizado com sucesso."})):(await o(y),d({title:"Cronograma criado",description:"O cronograma foi criado com sucesso."})),t?.()}catch{d({title:"Erro",description:"Ocorreu um erro ao salvar o cronograma.",variant:"destructive"})}},h=(p,v)=>{s(m=>({...m,[p]:v}))};return a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:e?"Editar Cronograma":"Novo Cronograma"})}),a.jsx(U,{children:a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cliente_id",children:"Cliente *"}),a.jsxs(Le,{value:n.cliente_id,onValueChange:p=>h("cliente_id",p),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione o cliente"})}),a.jsx(De,{children:l.filter(p=>p.id&&p.id.trim()!=="").map(p=>a.jsx(X,{value:p.id,children:p.nome},p.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"servico_id",children:"Servio *"}),a.jsxs(Le,{value:n.servico_id,onValueChange:p=>h("servico_id",p),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione o servio"})}),a.jsx(De,{children:u.filter(p=>p.id&&p.id.trim()!=="").map(p=>a.jsxs(X,{value:p.id,children:[p.nome," - ",p.duracao,"min - R$ ",p.valor]},p.id))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"data_inicio",children:"Data de Incio *"}),a.jsx(ee,{id:"data_inicio",type:"date",value:n.data_inicio,onChange:p=>h("data_inicio",p.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"hora_inicio",children:"Horrio de Incio *"}),a.jsx(ee,{id:"hora_inicio",type:"time",value:n.hora_inicio,onChange:p=>h("hora_inicio",p.target.value),required:!0})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"recorrencia",children:"Recorrncia *"}),a.jsxs(Le,{value:n.recorrencia,onValueChange:p=>h("recorrencia",p),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione a recorrncia"})}),a.jsxs(De,{children:[a.jsx(X,{value:"Semanal",children:"Semanal (7 dias)"}),a.jsx(X,{value:"Quinzenal",children:"Quinzenal (14 dias)"}),a.jsx(X,{value:"Mensal",children:"Mensal (30 dias)"}),a.jsx(X,{value:"Personalizada",children:"Personalizada"})]})]})]}),n.recorrencia==="Personalizada"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"intervalo_dias",children:"Intervalo (dias)"}),a.jsx(ee,{id:"intervalo_dias",type:"number",min:"1",max:"365",value:n.intervalo_dias||"",onChange:p=>h("intervalo_dias",parseInt(p.target.value)||void 0),placeholder:"Ex: 21 dias",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"status",children:"Status"}),a.jsxs(Le,{value:n.status,onValueChange:p=>h("status",p),children:[a.jsx(Me,{children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"ativo",children:"Ativo"}),a.jsx(X,{value:"cancelado",children:"Cancelado"}),a.jsx(X,{value:"concluido",children:"Concludo"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"observacoes",children:"Observaes"}),a.jsx(mr,{id:"observacoes",value:n.observacoes,onChange:p=>h("observacoes",p.target.value),placeholder:"Observaes sobre o cronograma...",rows:3})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(z,{type:"submit",disabled:c,children:c?"Salvando...":e?"Atualizar":"Criar"}),r&&a.jsx(z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"})]})]})})]})}const $we=()=>{const[e,t]=x.useState(!1),r=x.useCallback((i,c,l,u="09:00")=>{const d=l.filter(h=>h.data===i&&h.status!=="cancelado"),f=[];for(let h=9;h<18;h++)for(let p=0;p<60;p+=30){const v=`${h.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`;f.push(v)}for(const h of f){const p=new Date(`${i}T${h}`),v=new Date(p.getTime()+c*6e4);if(!d.some(g=>{const y=new Date(`${g.data}T${g.hora}`),b=new Date(y.getTime()+g.duracao*6e4);return p<b&&v>y}))return h}return u},[]),n=x.useCallback((i,c,l,u,d)=>{const f=[],h=new Date(l);for(let p=0;p<u;p++){const v=new Date(h);v.setDate(h.getDate()+p*i.intervalo_dias);const m=v.toISOString().split("T")[0],g=r(m,c.duracao,[...d,...f]),y={id:`cronograma_${i.id_cronograma}_${p}_${Date.now()}`,clienteId:c.clienteId,clienteNome:c.clienteNome,servicoId:c.servicoId,servicoNome:c.servicoNome,data:m,hora:g,duracao:c.duracao,valor:c.valor,valorPago:0,valorDevido:c.valor,formaPagamento:"fiado",statusPagamento:"em_aberto",status:"agendado",observacoes:`Agendamento gerado automaticamente pelo cronograma: ${i.tipo_servico}`,origem:"cronograma",origem_cronograma:!0,cronogramaId:i.id_cronograma,confirmado:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};f.push(y)}return f},[r]),s=x.useCallback((i,c)=>{i.origem==="cronograma"&&i.cronogramaId&&B.success("Cronograma atualizado - O progresso do cronograma foi atualizado automaticamente.")},[]),o=x.useCallback((i,c)=>{i.origem==="cronograma"&&i.cronogramaId&&B.warning("Cronograma atualizado - O retorno foi cancelado no cronograma.")},[]);return{loading:e,gerarAgendamentosCronograma:n,processarConclusaoAgendamento:s,processarCancelamentoAgendamento:o,encontrarHorarioDisponivel:r}};function Mwe({cronograma:e,clientes:t,servicos:r,agendamentosExistentes:n,onGerarAgendamentos:s,onSuccess:o,onCancel:i}){const[c,l]=x.useState(""),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,v]=x.useState(4),[m,g]=x.useState(!1),{gerarAgendamentosCronograma:y}=$we(),b=async w=>{if(w.preventDefault(),!e||!c||!u||!f){Xt({title:"Campos obrigatrios",description:"Preencha todos os campos obrigatrios.",variant:"destructive"});return}const j=t.find(S=>S.id===c),N=r.find(S=>S.id===u);if(!j||!N){Xt({title:"Erro",description:"Cliente ou servio no encontrado.",variant:"destructive"});return}g(!0);try{const S={clienteId:j.id,clienteNome:j.nome,servicoId:N.id,servicoNome:N.nome,data:f,duracao:N.duracao,valor:N.valor,cronogramaId:e.id_cronograma},_=y(e,S,f,p,n);s(_),Xt({title:"Cronograma ativado",description:`${_.length} agendamentos foram criados automaticamente.`}),o?.()}catch{Xt({title:"Erro",description:"Erro ao gerar agendamentos do cronograma.",variant:"destructive"})}finally{g(!1)}};return a.jsxs(F,{className:"w-full max-w-2xl mx-auto",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5 text-primary"}),"Ativar Cronograma: ",e?.tipo_servico]}),a.jsx(He,{children:"Configure os detalhes para gerar agendamentos automticos"})]}),a.jsx(U,{children:a.jsxs("form",{onSubmit:b,className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cliente",children:"Cliente *"}),a.jsxs(Le,{value:c,onValueChange:l,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione o cliente"})}),a.jsx(De,{children:t.map(w=>a.jsx(X,{value:w.id,children:w.nome},w.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"servico",children:"Servio *"}),a.jsxs(Le,{value:u,onValueChange:d,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione o servio"})}),a.jsx(De,{children:r.map(w=>a.jsxs(X,{value:w.id,children:[w.nome," - ",w.duracao,"min - R$ ",w.valor]},w.id))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"dataInicio",children:"Data de Incio *"}),a.jsx(ee,{id:"dataInicio",type:"date",value:f,onChange:w=>h(w.target.value),min:new Date().toISOString().split("T")[0]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"numeroSessoes",children:"Nmero de Sesses"}),a.jsx(ee,{id:"numeroSessoes",type:"number",min:"1",max:"20",value:p,onChange:w=>v(parseInt(w.target.value)||1)})]})]}),e&&a.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[a.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),"Resumo do Cronograma"]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[a.jsx("strong",{children:"Intervalo:"})," A cada ",e.intervalo_dias," dias"]}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[a.jsx("strong",{children:"Descrio:"})," ",e.observacoes||"Sem observaes"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Sesses:"})," ",p," agendamentos sero criados"]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(z,{type:"submit",disabled:m,className:"flex-1",children:m?a.jsxs(a.Fragment,{children:[a.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4"}),"Gerar Agendamentos"]})}),i&&a.jsx(z,{type:"button",variant:"outline",onClick:i,children:"Cancelar"})]})]})})]})}function Dwe(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),[s,o]=x.useState(null),[i,c]=x.useState(!1),{cronogramas:l,loading:u,deleteCronograma:d}=DM(),{clientes:f}=jc(),{servicos:h}=Nm(),{agendamentos:p,criarAgendamento:v}=YA(),{toast:m}=G0(),g=async E=>{try{await d(E),m({title:"Cronograma removido",description:"O cronograma foi removido com sucesso."})}catch{m({title:"Erro",description:"Erro ao remover cronograma.",variant:"destructive"})}},y=()=>{n(!1),t(null)},b=()=>{n(!1),t(null)},w=E=>{o(E),c(!0)},j=async E=>{try{for(const $ of E)await v($);c(!1),o(null),m({title:"Cronograma ativado",description:`${E.length} agendamentos foram criados com sucesso.`})}catch{m({title:"Erro",description:"Erro ao gerar agendamentos.",variant:"destructive"})}},N=()=>{c(!1),o(null)},S=E=>{switch(E){case"ativo":return a.jsxs(ue,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[a.jsx(xf,{className:"w-3 h-3 mr-1"}),"Ativo"]});case"cancelado":return a.jsxs(ue,{variant:"destructive",children:[a.jsx(YF,{className:"w-3 h-3 mr-1"}),"Cancelado"]});case"concluido":return a.jsxs(ue,{variant:"secondary",children:[a.jsx(xf,{className:"w-3 h-3 mr-1"}),"Concludo"]});default:return a.jsx(ue,{variant:"outline",children:E})}},_=E=>E.recorrencia==="Personalizada"&&E.intervalo_dias?`A cada ${E.intervalo_dias} dias`:E.recorrencia,P=E=>{const $=new Date(E.data_inicio),A=new Date;let C=7;E.recorrencia==="Quinzenal"?C=14:E.recorrencia==="Mensal"?C=30:E.recorrencia==="Personalizada"&&E.intervalo_dias&&(C=E.intervalo_dias);let O=new Date($);for(;O<=A;)O.setDate(O.getDate()+C);return O.toLocaleDateString("pt-BR")};return u?a.jsx("div",{children:"Carregando cronogramas..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold tracking-tight",children:"Lista de Cronogramas"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Gerencie cronogramas de retorno dos seus clientes"})]}),a.jsxs(Fr,{open:r,onOpenChange:n,children:[a.jsx(sd,{asChild:!0,children:a.jsx(z,{onClick:()=>t(null),className:"w-full sm:w-auto",children:"Novo Cronograma"})}),a.jsxs(Nr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(_r,{children:[a.jsx(Sr,{children:e?"Editar Cronograma":"Novo Cronograma"}),a.jsx(Nn,{children:"Configure os detalhes do cronograma de retorno"})]}),a.jsx(Twe,{cronograma:e,onSuccess:y,onCancel:b})]})]})]}),a.jsx(Fr,{open:i,onOpenChange:c,children:a.jsxs(Nr,{className:"max-w-3xl",children:[a.jsxs(_r,{children:[a.jsx(Sr,{children:"Ativar Cronograma"}),a.jsx(Nn,{children:"Configure os agendamentos automticos para este cronograma"})]}),s&&a.jsx(Mwe,{cronograma:s,clientes:f.map(E=>({id:E.id,nome:E.nome})),servicos:h,agendamentosExistentes:p,onGerarAgendamentos:j,onSuccess:()=>c(!1),onCancel:N})]})}),l.length===0?a.jsx(F,{children:a.jsxs(U,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum cronograma cadastrado"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Crie seu primeiro cronograma para automatizar retornos de clientes"}),a.jsx(z,{onClick:()=>n(!0),children:"Criar Primeiro Cronograma"})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:l.map(E=>a.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[a.jsxs(ne,{className:"pb-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsx(ae,{className:"text-lg truncate",children:E.cliente_nome}),S(E.status)]}),a.jsxs(He,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:E.tipo_servico})]})]}),a.jsxs(U,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Prximo retorno:"}),a.jsx("span",{className:"font-medium",children:P(E)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Durao:"}),a.jsxs("span",{children:[E.duracao_minutos," min"]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Recorrncia:"}),a.jsx("span",{className:"break-words",children:_(E)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Horrio:"}),a.jsx("span",{children:E.hora_inicio})]})]}),E.observacoes&&a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Obs:"}),a.jsx("p",{className:"text-foreground mt-1 break-words",children:E.observacoes})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-3",children:[E.status==="ativo"&&a.jsxs(z,{variant:"default",size:"sm",onClick:()=>w(E),className:"flex-1",children:[a.jsx(ZF,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Ativar"}),a.jsx("span",{className:"sm:hidden",children:"Ativar"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{t(E),n(!0)},className:"flex-1 sm:flex-initial",children:[a.jsx(Hn,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 sm:hidden",children:"Editar"})]}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 sm:flex-initial",children:[a.jsx(pr,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 sm:hidden",children:"Excluir"})]})}),a.jsxs(_n,{className:"mx-4 max-w-sm sm:max-w-lg",children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsx(An,{children:"Tem certeza que deseja excluir este cronograma? Esta ao no pode ser desfeita."})]}),a.jsxs(Cn,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(Jn,{className:"w-full sm:w-auto",children:"Cancelar"}),a.jsx(kn,{onClick:()=>g(E.id_cronograma),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 w-full sm:w-auto",children:"Excluir"})]})]})]})]})]})]})]},E.id_cronograma))})]})}const AC=[{id_cliente:"1",nome_completo:"Maria Silva"},{id_cliente:"2",nome_completo:"Ana Santos"}],Rwe=[{id_cronograma:"1",nome:"Hidratao Quinzenal"},{id_cronograma:"2",nome:"Cauterizao Mensal"}];function Iwe(){const[e,t]=x.useState("all"),[r,n]=x.useState("all"),{retornos:s,marcarRetornoRealizado:o,cancelarRetorno:i,loading:c}=Owe(),{toast:l}=G0(),u=m=>AC.find(g=>g.id_cliente===m)?.nome_completo||"Cliente no encontrado",d=m=>Rwe.find(g=>g.id_cronograma===m)?.nome||"Cronograma no encontrado",f=async m=>{try{await o(m),l({title:"Retorno marcado como realizado",description:"O prximo retorno ser automaticamente agendado."})}catch{l({title:"Erro",description:"Ocorreu um erro ao marcar o retorno como realizado.",variant:"destructive"})}},h=async m=>{try{await i(m),l({title:"Retorno cancelado",description:"O retorno foi cancelado com sucesso."})}catch{l({title:"Erro",description:"Ocorreu um erro ao cancelar o retorno.",variant:"destructive"})}},p=s.filter(m=>{const g=e==="all"||m.status===e,y=r==="all"||m.id_cliente===r;return g&&y}),v=m=>{switch(m){case"Pendente":return a.jsxs(ue,{variant:"secondary",children:[a.jsx(it,{className:"h-3 w-3 mr-1"}),"Pendente"]});case"Realizado":return a.jsxs(ue,{variant:"default",children:[a.jsx(xf,{className:"h-3 w-3 mr-1"}),"Realizado"]});case"Cancelado":return a.jsxs(ue,{variant:"destructive",children:[a.jsx(fv,{className:"h-3 w-3 mr-1"}),"Cancelado"]});default:return a.jsx(ue,{variant:"outline",children:m})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Retornos dos Clientes"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Acompanhe e gerencie os retornos programados"})]})}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Do,{className:"h-5 w-5"}),"Filtros"]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Status"}),a.jsxs(Le,{value:e,onValueChange:t,children:[a.jsx(Me,{className:"w-full sm:w-40",children:a.jsx(Fe,{placeholder:"Filtrar por status"})}),a.jsxs(De,{children:[a.jsx(X,{value:"all",children:"Todos"}),a.jsx(X,{value:"Pendente",children:"Pendente"}),a.jsx(X,{value:"Realizado",children:"Realizado"}),a.jsx(X,{value:"Cancelado",children:"Cancelado"})]})]})]}),a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsx("label",{className:"text-sm font-medium",children:"Cliente"}),a.jsxs(Le,{value:r,onValueChange:n,children:[a.jsx(Me,{className:"w-full sm:w-48",children:a.jsx(Fe,{placeholder:"Filtrar por cliente"})}),a.jsxs(De,{children:[a.jsx(X,{value:"all",children:"Todos os clientes"}),AC.map(m=>a.jsx(X,{value:m.id_cliente,children:m.nome_completo},m.id_cliente))]})]})]})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Lista de Retornos"})}),a.jsx(U,{children:p.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum retorno encontrado"}),a.jsx("p",{className:"text-muted-foreground text-center",children:"No h retornos que correspondam aos filtros selecionados"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{className:"min-w-[150px]",children:"Cliente"}),a.jsx(xe,{className:"min-w-[120px] hidden sm:table-cell",children:"Cronograma"}),a.jsx(xe,{className:"min-w-[120px]",children:"Data do Retorno"}),a.jsx(xe,{className:"min-w-[100px]",children:"Status"}),a.jsx(xe,{className:"min-w-[150px]",children:"Aes"})]})}),a.jsx(qr,{children:p.map(m=>a.jsxs(gt,{children:[a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),a.jsx("span",{className:"truncate",children:u(m.id_cliente)})]})}),a.jsx(ge,{className:"hidden sm:table-cell",children:a.jsx("span",{className:"truncate",children:d(m.id_cronograma)})}),a.jsx(ge,{children:a.jsx("div",{className:"text-sm",children:ke(new Date(m.data_retorno),"dd/MM/yyyy",{locale:Ie})})}),a.jsx(ge,{children:v(m.status)}),a.jsx(ge,{children:a.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:m.status==="Pendente"&&a.jsxs(a.Fragment,{children:[a.jsxs(z,{size:"sm",onClick:()=>f(m.id_retorno),disabled:c,className:"w-full sm:w-auto text-xs",children:[a.jsx(xf,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Realizado"}),a.jsx("span",{className:"sm:hidden",children:"OK"})]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>h(m.id_retorno),disabled:c,className:"w-full sm:w-auto text-xs",children:[a.jsx(fv,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Cancelar"}),a.jsx("span",{className:"sm:hidden",children:"X"})]})]})})})]},m.id_retorno))})]})})})]})]})}function Lwe(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Cronogramas"}),a.jsx("p",{className:"text-muted-foreground",children:"Gerencie cronogramas de retorno e integre automaticamente com agendamentos"})]}),a.jsxs(bn,{className:"bg-purple-50 border-purple-200",children:[a.jsx(BF,{className:"h-4 w-4 text-purple-600"}),a.jsxs(wn,{className:"text-purple-700",children:[a.jsx("strong",{children:"Nova funcionalidade:"}),' Agora voc pode ativar cronogramas para gerar agendamentos automticos! Clique em "Ativar" em qualquer cronograma para criar uma srie de agendamentos automaticamente.']})]}),a.jsxs(is,{defaultValue:"cronogramas",className:"space-y-6",children:[a.jsxs(Ea,{className:"grid w-full grid-cols-2 max-w-full sm:max-w-md",children:[a.jsx(ct,{value:"cronogramas",className:"text-sm",children:"Cronogramas"}),a.jsx(ct,{value:"retornos",className:"text-sm",children:"Retornos"})]}),a.jsx(lt,{value:"cronogramas",className:"space-y-6",children:a.jsx(Dwe,{})}),a.jsx(lt,{value:"retornos",className:"space-y-6",children:a.jsx(Iwe,{})})]})]})}function Fwe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Z0="ScrollArea",[RM]=Qn(Z0),[zwe,Tn]=RM(Z0),IM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...i}=e,[c,l]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,v]=x.useState(null),[m,g]=x.useState(null),[y,b]=x.useState(0),[w,j]=x.useState(0),[N,S]=x.useState(!1),[_,P]=x.useState(!1),E=Be(t,A=>l(A)),$=Ic(s);return a.jsx(zwe,{scope:r,type:n,dir:$,scrollHideDelay:o,scrollArea:c,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:_,onScrollbarYEnabledChange:P,onCornerWidthChange:b,onCornerHeightChange:j,children:a.jsx(Pe.div,{dir:$,...i,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});IM.displayName=Z0;var LM="ScrollAreaViewport",FM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:o,...i}=e,c=Tn(LM,r),l=x.useRef(null),u=Be(t,l,c.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),a.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:Zwe({asChild:s,children:n},d=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:c.onContentChange,style:{minWidth:c.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});FM.displayName=LM;var Oa="ScrollAreaScrollbar",X0=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Tn(Oa,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,c=e.orientation==="horizontal";return x.useEffect(()=>(c?o(!0):i(!0),()=>{c?o(!1):i(!1)}),[c,o,i]),s.type==="hover"?a.jsx(Bwe,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(Vwe,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(zM,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(J0,{...n,ref:t}):null});X0.displayName=Oa;var Bwe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Tn(Oa,e.__scopeScrollArea),[o,i]=x.useState(!1);return x.useEffect(()=>{const c=s.scrollArea;let l=0;if(c){const u=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Cr,{present:r||o,children:a.jsx(zM,{"data-state":o?"visible":"hidden",...n,ref:t})})}),Vwe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Tn(Oa,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Tp(()=>l("SCROLL_END"),100),[c,l]=Fwe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,s.scrollHideDelay,l]),x.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(l("SCROLL"),i()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,l,i]),a.jsx(Cr,{present:r||c!=="hidden",children:a.jsx(J0,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:fe(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:fe(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),zM=x.forwardRef((e,t)=>{const r=Tn(Oa,e.__scopeScrollArea),{forceMount:n,...s}=e,[o,i]=x.useState(!1),c=e.orientation==="horizontal",l=Tp(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(c?u:d)}},10);return sc(r.viewport,l),sc(r.content,l),a.jsx(Cr,{present:n||o,children:a.jsx(J0,{"data-state":o?"visible":"hidden",...s,ref:t})})}),J0=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Tn(Oa,e.__scopeScrollArea),o=x.useRef(null),i=x.useRef(0),[c,l]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=qM(c.viewport,c.content),d={...n,sizes:c,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,p){return Kwe(h,i.current,c,p)}return r==="horizontal"?a.jsx(Uwe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,p=kC(h,c,s.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(Wwe,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,p=kC(h,c);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),Uwe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Tn(Oa,e.__scopeScrollArea),[i,c]=x.useState(),l=x.useRef(null),u=Be(t,l,o.onScrollbarXChange);return x.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(VM,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Op(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),GM(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Vh(i.paddingLeft),paddingEnd:Vh(i.paddingRight)}})}})}),Wwe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,o=Tn(Oa,e.__scopeScrollArea),[i,c]=x.useState(),l=x.useRef(null),u=Be(t,l,o.onScrollbarYChange);return x.useEffect(()=>{l.current&&c(getComputedStyle(l.current))},[l]),a.jsx(VM,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Op(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),GM(h,f)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Vh(i.paddingTop),paddingEnd:Vh(i.paddingBottom)}})}})}),[qwe,BM]=RM(Oa),VM=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:c,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Tn(Oa,r),[v,m]=x.useState(null),g=Be(t,E=>m(E)),y=x.useRef(null),b=x.useRef(""),w=p.viewport,j=n.content-n.viewport,N=or(d),S=or(l),_=Tp(f,10);function P(E){if(y.current){const $=E.clientX-y.current.left,A=E.clientY-y.current.top;u({x:$,y:A})}}return x.useEffect(()=>{const E=$=>{const A=$.target;v?.contains(A)&&N($,j)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,v,j,N]),x.useEffect(S,[n,S]),sc(v,_),sc(p.content,_),a.jsx(qwe,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:or(o),onThumbPointerUp:or(i),onThumbPositionChange:S,onThumbPointerDown:or(c),children:a.jsx(Pe.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:fe(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(E))}),onPointerMove:fe(e.onPointerMove,P),onPointerUp:fe(e.onPointerUp,E=>{const $=E.target;$.hasPointerCapture(E.pointerId)&&$.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),Bh="ScrollAreaThumb",UM=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=BM(Bh,e.__scopeScrollArea);return a.jsx(Cr,{present:r||s.hasThumb,children:a.jsx(Hwe,{ref:t,...n})})}),Hwe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,o=Tn(Bh,r),i=BM(Bh,r),{onThumbPositionChange:c}=i,l=Be(t,f=>i.onThumbChange(f)),u=x.useRef(),d=Tp(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Ywe(f,c);u.current=p,c()}};return c(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,c]),a.jsx(Pe.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:fe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),v=f.clientX-p.left,m=f.clientY-p.top;i.onThumbPointerDown({x:v,y:m})}),onPointerUp:fe(e.onPointerUp,i.onThumbPointerUp)})});UM.displayName=Bh;var Q0="ScrollAreaCorner",WM=x.forwardRef((e,t)=>{const r=Tn(Q0,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(Gwe,{...e,ref:t}):null});WM.displayName=Q0;var Gwe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Tn(Q0,r),[o,i]=x.useState(0),[c,l]=x.useState(0),u=!!(o&&c);return sc(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),l(d)}),sc(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),i(d)}),u?a.jsx(Pe.div,{...n,ref:t,style:{width:o,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vh(e){return e?parseInt(e,10):0}function qM(e,t){const r=e/t;return isNaN(r)?0:r}function Op(e){const t=qM(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Kwe(e,t,r,n="ltr"){const s=Op(r),o=s/2,i=t||o,c=s-i,l=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-c,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return HM([l,u],f)(e)}function kC(e,t,r="ltr"){const n=Op(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,c=o-n,l=r==="ltr"?[0,i]:[i*-1,0],u=Su(e,l);return HM([0,i],[0,c])(u)}function HM(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function GM(e,t){return e>0&&e<t}var Ywe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,c=r.top!==o.top;(i||c)&&t(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Tp(e,t){const r=or(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function sc(e,t){const r=or(t);jr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}function Zwe(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const s=x.Children.only(n);return x.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var KM=IM,Xwe=FM,Jwe=WM;const $p=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(KM,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(Xwe,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(ew,{}),a.jsx(Jwe,{})]}));$p.displayName=KM.displayName;const ew=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(X0,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(UM,{className:"relative flex-1 rounded-full bg-border"})}));ew.displayName=X0.displayName;function YM(){const e=ZA(),t=x.useMemo(()=>{const r=e.contasFixas.length,n=e.contasFixas.filter(i=>i.status==="pago").length,s=e.contasFixas.filter(i=>i.status==="em_aberto").length,o=e.contasFixas.reduce((i,c)=>i+c.valor,0);return{total:r,pagas:n,emAberto:s,valorTotal:o}},[e.contasFixas]);return{...e,criarContaFixa:e.createContaFixa,atualizarContaFixa:e.updateContaFixa,removerContaFixa:e.deleteContaFixa,criarCategoria:e.createCategoria,recarregar:e.loadContasFixas,estatisticas:t,marcarComoPaga:async r=>e.updateContaFixa(r,{status:"pago"}),pagarContaFixa:async r=>e.updateContaFixa(r,{status:"pago"}),marcarComoEmAberto:async r=>e.updateContaFixa(r,{status:"em_aberto"}),toggleAtiva:async r=>{const n=e.contasFixas.find(s=>s.id===r);if(n)return e.updateContaFixa(r,{ativa:!n.ativa})},getContasVencidas:()=>{const r=new Date;return e.contasFixas.filter(n=>{if(!n.ativa||n.status==="pago")return!1;const s=n.proximoVencimento?new Date(n.proximoVencimento):null;return s&&s<r})},getContasAVencer:()=>{const r=new Date,n=new Date;return n.setDate(r.getDate()+7),e.contasFixas.filter(s=>{if(!s.ativa||s.status==="pago")return!1;const o=s.proximoVencimento?new Date(s.proximoVencimento):null;return o&&o>=r&&o<=n})}}}const Qwe=640,qg=1024;function tw(){const[e,t]=x.useState("desktop"),[r,n]=x.useState(!1),[s,o]=x.useState(!1),[i,c]=x.useState(!1);return x.useEffect(()=>{const l=()=>{const d=window.innerWidth;o(d<Qwe),n(d<768),c(d>=768&&d<qg),d<768?t("mobile"):d<qg?t("tablet"):t("desktop")};l();const u=window.matchMedia(`(max-width: ${qg-1}px)`);return u.addEventListener("change",l),()=>u.removeEventListener("change",l)},[]),{breakpoint:e,isMobile:r,isSmallMobile:s,isTablet:i,isDesktop:e==="desktop"}}function eje({resumo:e}){const t=r=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(r);return a.jsxs("div",{className:"grid-responsive-5 animate-fade-in",children:[a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-success flex-shrink-0",children:a.jsx(Bt,{className:"h-6 w-6 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-success truncate",children:t(e.totalEntradas)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Entradas do Ms"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive flex-shrink-0",children:a.jsx(Mu,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-destructive truncate",children:t(e.totalSaidas)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Sadas do Ms"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${e.lucro>=0?"bg-primary":"bg-destructive"}`,children:e.lucro>=0?a.jsx(MP,{className:"h-6 w-6 text-primary-foreground"}):a.jsx(ut,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-responsive-lg font-bold truncate ${e.lucro>=0?"text-primary":"text-destructive"}`,children:t(e.lucro)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:e.lucro>=0?"Lucro do Ms":"Prejuzo do Ms"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-warning flex-shrink-0",children:a.jsx(it,{className:"h-4 w-4 text-warning-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-warning truncate",children:t(e.valorEmAberto)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Valor em Aberto"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm card-responsive hover-scale transition-all",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive flex-shrink-0",children:a.jsx(mc,{className:"h-4 w-4 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-destructive truncate",children:t(e.contasAPagar)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Contas a Pagar"})]})]})})]})}function tje({lancamentos:e,filtros:t,categorias:r,onFiltrosChange:n,onEdit:s,onDelete:o}){const[i,c]=x.useState(""),l=e.filter(f=>f.descricao.toLowerCase().includes(i.toLowerCase())||(f.categoria?.toLowerCase().includes(i.toLowerCase())??!1)),u=f=>{o(f),Xt({title:"Lanamento excludo",description:"O lanamento foi removido com sucesso."})},d=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f);return a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm animate-fade-in",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"h-5 w-5 text-primary"}),"Lanamentos Financeiros"]})}),a.jsxs(U,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar lanamento...",value:i,onChange:f=>c(f.target.value),className:"pl-9"})]}),a.jsxs(Le,{value:t.tipo||"todos",onValueChange:f=>n({...t,tipo:f==="todos"?void 0:f}),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Tipo"})}),a.jsxs(De,{children:[a.jsx(X,{value:"todos",children:"Todos os tipos"}),a.jsx(X,{value:"entrada",children:"Entradas"}),a.jsx(X,{value:"saida",children:"Sadas"})]})]}),a.jsxs(Le,{value:t.categoria||"todas",onValueChange:f=>n({...t,categoria:f==="todas"?void 0:f}),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Categoria"})}),a.jsxs(De,{children:[a.jsx(X,{value:"todas",children:"Todas as categorias"}),r.map(f=>a.jsx(X,{value:f,children:f},f))]})]}),a.jsxs(Le,{value:t.mes?`${t.mes}-${t.ano}`:"todos",onValueChange:f=>{if(f==="todos")n({...t,mes:void 0,ano:void 0});else{const[h,p]=f.split("-").map(Number);n({...t,mes:h,ano:p})}},children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Ms"})}),a.jsxs(De,{children:[a.jsx(X,{value:"todos",children:"Todos os meses"}),a.jsx(X,{value:"12-2024",children:"Dezembro 2024"}),a.jsx(X,{value:"11-2024",children:"Novembro 2024"}),a.jsx(X,{value:"10-2024",children:"Outubro 2024"})]})]})]}),a.jsx("div",{className:"rounded-md border border-border/50",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Tipo"}),a.jsx(xe,{children:"Descrio"}),a.jsx(xe,{children:"Categoria"}),a.jsx(xe,{children:"Data"}),a.jsx(xe,{children:"Valor"}),a.jsx(xe,{className:"w-[100px]",children:"Aes"})]})}),a.jsx(qr,{children:l.length===0?a.jsx(gt,{children:a.jsx(ge,{colSpan:6,className:"text-center py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in",children:[a.jsx(gl,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhum lanamento encontrado"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i||t.tipo||t.categoria?"Tente ajustar os filtros de busca":"Adicione seu primeiro lanamento financeiro"})]})]})})}):l.map(f=>a.jsxs(gt,{children:[a.jsx(ge,{children:a.jsxs(ue,{variant:f.tipo==="entrada"?"default":"destructive",className:"flex items-center gap-1 w-fit",children:[f.tipo==="entrada"?a.jsx(Bt,{className:"h-3 w-3"}):a.jsx(Mu,{className:"h-3 w-3"}),f.tipo==="entrada"?"Entrada":"Sada"]})}),a.jsx(ge,{className:"font-medium",children:a.jsxs("div",{children:[a.jsx("p",{children:f.descricao}),f.origemTipo&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[f.origemTipo==="agendamento"&&" Agendamento",f.origemTipo==="compra_produto"&&" Compra de Produto",f.origemTipo==="venda_produto"&&" Venda de Produto",f.origemTipo==="conta_fixa"&&" Conta Fixa"]})]})}),a.jsx(ge,{children:f.categoria&&a.jsx(ue,{variant:"outline",children:f.categoria})}),a.jsx(ge,{children:ke(new Date(f.data),"dd/MM/yyyy",{locale:Ie})}),a.jsx(ge,{className:`font-semibold ${f.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:d(f.valor)}),a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>s(f),className:"hover-scale","aria-label":"Editar lanamento",children:a.jsx($P,{className:"h-4 w-4"})}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsx(z,{variant:"ghost",size:"sm",className:"hover-scale","aria-label":"Excluir lanamento",children:a.jsx(pr,{className:"h-4 w-4"})})}),a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Excluir lanamento"}),a.jsx(An,{children:"Tem certeza que deseja excluir este lanamento? Esta ao no pode ser desfeita."})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{children:"Cancelar"}),a.jsx(kn,{onClick:()=>u(f.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})})]},f.id))})]})})]})]})}function rje({lancamentos:e,onEdit:t,onDelete:r}){const n=s=>`R$ ${s.toFixed(2).replace(".",",")}`;return e.length===0?a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(U,{className:"py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in",children:[a.jsx(gl,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhum lanamento encontrado"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione seu primeiro lanamento financeiro"})]})]})})}):a.jsx("div",{className:"space-y-3",children:e.map(s=>a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm overflow-hidden hover-scale animate-fade-in",children:a.jsx(U,{className:"p-4 mobile-card",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.tipo==="entrada"?a.jsx(Bt,{className:"h-5 w-5 text-green-600 flex-shrink-0"}):a.jsx(Mu,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:s.descricao}),a.jsx("p",{className:"text-xs text-muted-foreground",children:ke(new Date(s.data),"dd/MM/yyyy",{locale:Ie})})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsxs("p",{className:`font-bold text-base sm:text-lg ${s.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:[s.tipo==="entrada"?"+":"-"," ",n(s.valor)]})})]}),s.categoria&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($u,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(ue,{variant:"outline",className:"text-xs",children:s.categoria})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border/50",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t(s),className:"h-10 text-xs btn-touch hover-scale","aria-label":"Editar lanamento",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Editar"]}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsxs(z,{variant:"outline",size:"sm",className:"h-10 text-xs btn-touch hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50 hover-scale","aria-label":"Excluir lanamento",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsxs(An,{children:['Tem certeza que deseja excluir o lanamento "',s.descricao,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{className:"btn-touch",children:"Cancelar"}),a.jsx(kn,{onClick:()=>r(s.id),className:"bg-destructive hover:bg-destructive/90 btn-touch",children:"Excluir"})]})]})]})]})]})})},s.id))})}function nje({contas:e,onEdit:t,onDelete:r,onPagar:n,onToggleAtiva:s}){const o=u=>`R$ ${u.toFixed(2).replace(".",",")}`,i=u=>{switch(u){case"pago":return"bg-green-100 text-green-800 border-green-200";case"em_aberto":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=u=>{switch(u){case"pago":return"Pago";case"em_aberto":return"Em Aberto";default:return u}},l=u=>{switch(u){case"mensal":return"Mensal";case"trimestral":return"Trimestral";case"semestral":return"Semestral";case"anual":return"Anual";default:return u}};return e.length===0?a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(U,{className:"py-12",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 animate-fade-in",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhuma conta fixa encontrada"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione sua primeira conta fixa recorrente"})]})]})})}):a.jsx("div",{className:"space-y-3",children:e.map(u=>a.jsx(F,{className:`border-border/50 bg-card/50 backdrop-blur-sm overflow-hidden hover-scale animate-fade-in ${u.ativa?"":"opacity-60"}`,children:a.jsx(U,{className:"p-4 mobile-card",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex items-start gap-2 flex-1 min-w-0",children:[a.jsx(ut,{className:`h-5 w-5 flex-shrink-0 ${u.status==="pago"?"text-green-600":"text-red-600"}`}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base truncate",children:u.nome}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Vence dia ",u.dataVencimento]})]})]}),a.jsx("div",{className:"text-right flex-shrink-0",children:a.jsx("p",{className:"font-bold text-base sm:text-lg text-foreground",children:o(u.valor)})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ue,{variant:"outline",className:`text-xs ${i(u.status)}`,children:c(u.status)}),u.categoria&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($u,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(ue,{variant:"outline",className:"text-xs",children:u.categoria})]}),u.repetir&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ry,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(ue,{variant:"outline",className:"text-xs",children:l(u.frequencia)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2 border-t border-border/50",children:[u.status==="em_aberto"&&u.ativa&&a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n(u.id),className:"h-10 text-xs btn-touch border-green-500/50 hover:bg-green-50 hover:text-green-700 hover-scale","aria-label":"Marcar conta como paga",children:[a.jsx(Ci,{className:"h-3 w-3 mr-1"}),"Pagar"]}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>s(u.id,!u.ativa),className:"h-10 text-xs btn-touch hover-scale","aria-label":u.ativa?"Desativar conta":"Ativar conta",children:u.ativa?a.jsxs(a.Fragment,{children:[a.jsx(XF,{className:"h-3 w-3 mr-1"}),"Desativar"]}):a.jsxs(a.Fragment,{children:[a.jsx(hv,{className:"h-3 w-3 mr-1"}),"Ativar"]})}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>t(u),className:"h-10 text-xs btn-touch hover-scale","aria-label":"Editar conta",children:[a.jsx(Hn,{className:"h-3 w-3 mr-1"}),"Editar"]}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsxs(z,{variant:"outline",size:"sm",className:"h-10 text-xs btn-touch hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50 hover-scale","aria-label":"Excluir conta",children:[a.jsx(pr,{className:"h-3 w-3 mr-1"}),"Excluir"]})}),a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsxs(An,{children:['Tem certeza que deseja excluir a conta "',u.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{className:"btn-touch",children:"Cancelar"}),a.jsx(kn,{onClick:()=>r(u.id),className:"bg-destructive hover:bg-destructive/90 btn-touch",children:"Excluir"})]})]})]})]})]})})},u.id))})}const aje=Bs({tipo:go(["entrada","saida"],{message:"Selecione o tipo do lanamento"}),valor:dt().min(1,"Valor  obrigatrio").refine(e=>{const t=parseFloat(e.replace(",","."));return!isNaN(t)&&t>0},"Valor deve ser maior que zero"),data:qT({message:"Data  obrigatria"}),descricao:dt().min(1,"Descrio  obrigatria"),categoria:dt().optional()});function sje({lancamento:e,categorias:t,onSubmit:r,onCancel:n}){const[s,o]=x.useState(!1),i=ks({resolver:Es(aje),defaultValues:{tipo:e?.tipo||void 0,valor:e?.valor?e.valor.toString():"",data:e?.data?new Date(e.data):new Date,descricao:e?.descricao||"",categoria:e?.categoria||""}}),c=async l=>{o(!0);try{const u={tipo:l.tipo,valor:parseFloat(l.valor.replace(",",".")),data:l.data,descricao:l.descricao,categoria:l.categoria||void 0};r(u),Xt({title:e?"Lanamento atualizado":"Lanamento criado",description:`${e?"Alteraes salvas":"Novo lanamento adicionado"} com sucesso.`})}catch{Xt({title:"Erro",description:"Ocorreu um erro ao salvar o lanamento.",variant:"destructive"})}finally{o(!1)}};return a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:n,children:a.jsx(Ou,{className:"h-4 w-4"})}),a.jsx(ae,{children:e?"Editar Lanamento":"Novo Lanamento"})]})}),a.jsx(U,{children:a.jsx(ac,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(c),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(rt,{control:i.control,name:"tipo",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Tipo *"}),a.jsxs(Le,{onValueChange:l.onChange,defaultValue:l.value,children:[a.jsx(tt,{children:a.jsx(Me,{className:"h-12",children:a.jsx(Fe,{placeholder:"Selecione o tipo"})})}),a.jsxs(De,{children:[a.jsx(X,{value:"entrada",children:"Entrada"}),a.jsx(X,{value:"saida",children:"Sada"})]})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:i.control,name:"valor",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Valor (R$) *"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"0,00",className:"h-12",...l,onChange:u=>{let d=u.target.value.replace(/[^\d,]/g,"");if(d.includes(",")){const f=d.split(",");f[1]&&f[1].length>2&&(d=f[0]+","+f[1].substring(0,2))}l.onChange(d)}})}),a.jsx(at,{})]})}),a.jsx(rt,{control:i.control,name:"data",render:({field:l})=>a.jsxs(Qe,{className:"flex flex-col",children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Data *"}),a.jsxs(Rh,{children:[a.jsx(Ih,{asChild:!0,children:a.jsx(tt,{children:a.jsxs(z,{variant:"outline",className:J("w-full pl-3 text-left font-normal h-12",!l.value&&"text-muted-foreground"),children:[l.value?ke(l.value,"dd/MM/yyyy",{locale:Ie}):a.jsx("span",{children:"Selecione a data"}),a.jsx(Se,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(_u,{className:"w-auto p-0",align:"start",children:a.jsx(Nu,{mode:"single",selected:l.value,onSelect:l.onChange,disabled:u=>u>new Date||u<new Date("1900-01-01"),initialFocus:!0,className:J("p-3 pointer-events-auto")})})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:i.control,name:"categoria",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Categoria"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Ex: Servios, Produtos, Despesas...",className:"h-12",...l,list:"categorias"})}),a.jsx("datalist",{id:"categorias",children:t.map(u=>a.jsx("option",{value:u},u))}),a.jsx(at,{})]})})]}),a.jsx(rt,{control:i.control,name:"descricao",render:({field:l})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Descrio *"}),a.jsx(tt,{children:a.jsx(mr,{placeholder:"Descreva o lanamento...",className:"resize-none min-h-[100px]",rows:3,...l})}),a.jsx(at,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4",children:[a.jsxs(z,{type:"submit",disabled:s,className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 h-12 btn-touch",children:[a.jsx(Ro,{className:"mr-2 h-4 w-4"}),s?"Salvando...":"Salvar Lanamento"]}),a.jsx(z,{type:"button",variant:"outline",onClick:n,className:"h-12 btn-touch",children:"Cancelar"})]})]})})})]})}function id(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:c}}=await W.auth.getUser();if(!c)return;const{data:l,error:u}=await W.from("compras").select("*, itens_compra(*)").eq("user_id",c.id).order("data_compra",{ascending:!1});if(u)throw u;t(l||[])}catch(c){B.error("Erro ao carregar compras: "+c.message)}finally{n(!1)}},o=async c=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)throw new Error("Usurio no autenticado");const{data:u,error:d}=await W.from("compras").insert([{user_id:l.id,fornecedor_id:c.fornecedor_id,numero_nota:c.numero_nota,data_compra:c.data_compra,data_vencimento:c.data_vencimento,valor_total:c.valor_total,forma_pagamento:c.forma_pagamento,observacoes:c.observacoes}]).select().single();if(d)throw d;const f=c.itens.map(g=>({...g,compra_id:u.id})),{error:h}=await W.from("itens_compra").insert(f);if(h)throw h;const p=c.itens.map(g=>({user_id:l.id,produto_id:g.produto_id,tipo:"entrada",quantidade:g.quantidade,valor_unitario:g.valor_unitario,valor_total:g.valor_total,motivo:`Compra ${u.numero_nota||u.id}`,origem_id:u.id,origem_tipo:"compra_produto"})),{error:v}=await W.from("movimentacoes_estoque").insert(p);if(v)throw v;const{error:m}=await W.from("lancamentos").insert([{user_id:l.id,tipo:"saida",valor:c.valor_total,data:c.data_compra,descricao:`Compra de produtos${c.numero_nota?` - Nota ${c.numero_nota}`:""}`,categoria:"Compra de Produtos",origem_id:u.id,origem_tipo:"compra_produto"}]);if(m)throw m;B.success("Compra registrada com sucesso!"),await s()}catch(l){throw B.error("Erro ao registrar compra: "+l.message),l}},i=async(c,l)=>{try{const u=e.find(h=>h.id===c);if(!u)throw new Error("Compra no encontrada");const d=u.valor_pago+l,{error:f}=await W.from("compras").update({valor_pago:d}).eq("id",c);if(f)throw f;B.success("Pagamento registrado com sucesso!"),await s()}catch(u){throw B.error("Erro ao registrar pagamento: "+u.message),u}};return x.useEffect(()=>{s()},[]),{compras:e,loading:r,createCompra:o,registrarPagamento:i,recarregar:s}}function cd(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:i}}=await W.auth.getUser();if(!i)return;const{data:c,error:l}=await W.from("vendas_produtos").select("*, itens_venda(*)").eq("user_id",i.id).order("data_venda",{ascending:!1});if(l)throw l;t(c||[])}catch(i){B.error("Erro ao carregar vendas: "+i.message)}finally{n(!1)}},o=async i=>{try{const{data:{user:c}}=await W.auth.getUser();if(!c)throw new Error("Usurio no autenticado");const l=i.itens.reduce((g,y)=>g+y.valor_total,0),{data:u,error:d}=await W.from("vendas_produtos").insert([{user_id:c.id,cliente_id:i.cliente_id,agendamento_id:i.agendamento_id,data_venda:i.data_venda,valor_total:l,status_pagamento:"pago",forma_pagamento:i.forma_pagamento,observacoes:i.observacoes}]).select().single();if(d)throw d;const f=i.itens.map(g=>({...g,venda_id:u.id})),{error:h}=await W.from("itens_venda").insert(f);if(h)throw h;const p=i.itens.map(g=>({user_id:c.id,produto_id:g.produto_id,tipo:"saida",quantidade:g.quantidade,valor_unitario:g.valor_unitario,valor_total:g.valor_total,motivo:`Venda ${u.id}`,origem_id:u.id,origem_tipo:"venda"})),{error:v}=await W.from("movimentacoes_estoque").insert(p);if(v)throw v;const{error:m}=await W.from("lancamentos").insert([{user_id:c.id,tipo:"entrada",valor:l,data:i.data_venda,descricao:"Venda de produtos",categoria:"Venda de Produtos",origem_id:u.id,origem_tipo:"venda_produto",cliente_id:i.cliente_id}]);if(m)throw m;B.success("Venda registrada com sucesso!"),await s()}catch(c){throw B.error("Erro ao registrar venda: "+c.message),c}};return x.useEffect(()=>{s()},[]),{vendas:e,loading:r,createVenda:o,recarregar:s}}function oje({lancamentos:e}){const{compras:t}=id(),{vendas:r}=cd(),n=new Date,s=n.getMonth(),o=n.getFullYear(),i=e.filter(b=>{const w=new Date(b.data);return w.getMonth()===s&&w.getFullYear()===o}),c=x.useMemo(()=>t.filter(b=>{const w=new Date(b.data_compra);return w.getMonth()===s&&w.getFullYear()===o}),[t,s,o]),l=x.useMemo(()=>r.filter(b=>{const w=new Date(b.data_venda);return w.getMonth()===s&&w.getFullYear()===o}),[r,s,o]),u=c.reduce((b,w)=>b+w.valor_total,0),d=l.reduce((b,w)=>b+w.valor_total,0),f=i.filter(b=>b.tipo==="entrada").reduce((b,w)=>b+w.valor,0)+d,h=i.filter(b=>b.tipo==="saida").reduce((b,w)=>b+w.valor,0)+u,p=[{name:"Entradas",value:f,fill:"#22c55e"},{name:"Sadas",value:h,fill:"#ef4444"}],v=i.reduce((b,w)=>{const j=w.categoria||"Sem categoria";return b[j]||(b[j]={entradas:0,saidas:0}),w.tipo==="entrada"?b[j].entradas+=w.valor:b[j].saidas+=w.valor,b},{});d>0&&(v["Venda de Produtos"]||(v["Venda de Produtos"]={entradas:0,saidas:0}),v["Venda de Produtos"].entradas+=d),u>0&&(v["Compra de Produtos"]||(v["Compra de Produtos"]={entradas:0,saidas:0}),v["Compra de Produtos"].saidas+=u);const m=Object.entries(v).map(([b,w])=>({categoria:b,entradas:w.entradas,saidas:w.saidas})),g=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(b),y=f>0||h>0;return a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm animate-fade-in",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"h-5 w-5 text-primary"}),"Entradas vs Sadas"]})}),a.jsx(U,{children:y?a.jsx(oo,{width:"100%",height:300,children:a.jsxs(WO,{children:[a.jsx(ka,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:b,value:w})=>`${b}: ${g(w)}`,outerRadius:80,fill:"#8884d8",dataKey:"value",animationDuration:800,children:p.map((b,w)=>a.jsx(Mi,{fill:b.fill},`cell-${w}`))}),a.jsx(xr,{formatter:b=>g(Number(b))})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] gap-3 animate-fade-in",children:[a.jsx(Bt,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Sem dados para exibir"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Adicione lanamentos para visualizar o grfico"})]})]})})]}),a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm animate-fade-in",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Bt,{className:"h-5 w-5 text-primary"}),"Por Categoria"]})}),a.jsx(U,{children:m.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] gap-3 animate-fade-in",children:[a.jsx(Bt,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Sem categorias para exibir"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Organize seus lanamentos em categorias"})]})]}):a.jsx(oo,{width:"100%",height:300,children:a.jsxs(ry,{data:m,children:[a.jsx(_l,{strokeDasharray:"3 3"}),a.jsx(Ya,{dataKey:"categoria",tick:{fontSize:12},angle:-45,textAnchor:"end",height:60}),a.jsx(Za,{tick:{fontSize:12}}),a.jsx(xr,{formatter:b=>g(Number(b))}),a.jsx(pa,{}),a.jsx(_a,{dataKey:"entradas",fill:"#22c55e",name:"Entradas",animationDuration:800}),a.jsx(_a,{dataKey:"saidas",fill:"#ef4444",name:"Sadas",animationDuration:800})]})})})]})]})}function ije({agendamentos:e}){const[t,r]=x.useState(""),n=e.filter(c=>(c.status==="concluido"||c.valorPago>0)&&c.clienteNome.toLowerCase().includes(t.toLowerCase())),s=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),o=c=>{const l="",u=`Ol ${c.clienteNome}! 

Voc tem um saldo devedor de ${s(c.valorDevido||0)} referente ao servio ${c.servicoNome} realizado em ${ke(new Date(c.data),"dd/MM/yyyy",{locale:Ie})}.

${c.dataPrevistaPagamento?`Data prevista para pagamento: ${ke(new Date(c.dataPrevistaPagamento),"dd/MM/yyyy",{locale:Ie})}`:""}

Por favor, entre em contato para acertarmos o pagamento. Obrigado!`,d=`https://wa.me/${l}?text=${encodeURIComponent(u)}`;window.open(d,"_blank"),Xt({title:"WhatsApp aberto",description:"Mensagem de cobrana preparada no WhatsApp."})},i=c=>c.statusPagamento==="pago"?a.jsx(ue,{variant:"default",className:"bg-green-500",children:"Pago"}):c.statusPagamento==="parcial"?a.jsx(ue,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Parcial"}):a.jsx(ue,{variant:"destructive",children:"Em Aberto"});return a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5 text-primary"}),"Pagamentos dos Clientes"]})}),a.jsxs(U,{className:"space-y-6",children:[a.jsxs("div",{className:"relative max-w-sm",children:[a.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar cliente...",value:t,onChange:c=>r(c.target.value),className:"pl-9"})]}),a.jsx("div",{className:"rounded-md border border-border/50",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Cliente"}),a.jsx(xe,{children:"Servio"}),a.jsx(xe,{children:"Data"}),a.jsx(xe,{children:"Valor Total"}),a.jsx(xe,{children:"Valor Pago"}),a.jsx(xe,{children:"Saldo Devedor"}),a.jsx(xe,{children:"Status"}),a.jsx(xe,{children:"Data Prevista"}),a.jsx(xe,{className:"w-[100px]",children:"Aes"})]})}),a.jsx(qr,{children:n.length===0?a.jsx(gt,{children:a.jsx(ge,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"Nenhum pagamento encontrado"})}):n.map(c=>a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:c.clienteNome}),a.jsx(ge,{children:c.servicoNome}),a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Se,{className:"h-4 w-4 text-muted-foreground"}),ke(new Date(c.data),"dd/MM/yy",{locale:Ie})]})}),a.jsx(ge,{className:"font-semibold",children:s(c.valor)}),a.jsx(ge,{className:"text-green-600 font-semibold",children:s(c.valorPago)}),a.jsx(ge,{className:`font-semibold ${(c.valorDevido||0)>0?"text-red-600":"text-green-600"}`,children:s(c.valorDevido||0)}),a.jsx(ge,{children:i(c)}),a.jsx(ge,{children:c.dataPrevistaPagamento?a.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(mc,{className:"h-4 w-4 text-orange-500"}),ke(new Date(c.dataPrevistaPagamento),"dd/MM/yy",{locale:Ie})]}):a.jsx("span",{className:"text-muted-foreground",children:"-"})}),a.jsx(ge,{children:(c.valorDevido||0)>0&&a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>o(c),className:"flex items-center gap-1",children:[a.jsx(yo,{className:"h-4 w-4"}),"Cobrar"]})})]},c.id))})]})}),n.length>0&&a.jsx("div",{className:"bg-muted/30 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:new Set(n.map(c=>c.clienteId)).size})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total Pago"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s(n.reduce((c,l)=>c+l.valorPago,0))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Total Devedor"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:s(n.reduce((c,l)=>c+(l.valorDevido||0),0))})]})]})})]})]})}function cje({contas:e,categorias:t,onEdit:r,onDelete:n,onPagar:s,onToggleAtiva:o}){const[i,c]=x.useState("todas"),[l,u]=x.useState("todos"),[d,f]=x.useState(""),h=e.filter(w=>{const j=w.nome.toLowerCase().includes(d.toLowerCase()),N=i==="todas"||w.categoria===i,S=l==="todos"||w.status===l;return j&&N&&S}),p=w=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(w),v=w=>{switch(w){case"pago":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"em_aberto":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},m=w=>{const j=new Date,N=j.getMonth()+1,S=j.getFullYear();j.getDate();const _=new Date(S,N-1,w),P=Math.ceil((_.getTime()-j.getTime())/(1e3*60*60*24));return P<0?{texto:"Vencido",cor:"text-red-600"}:P<=3?{texto:"Vence em breve",cor:"text-orange-600"}:{texto:`Vence dia ${w}`,cor:"text-gray-600"}},g=w=>{switch(w){case"mensal":return"Mensal";case"trimestral":return"Trimestral";case"semestral":return"Semestral";case"anual":return"Anual";default:return"nica"}},y=h.filter(w=>w.status==="em_aberto").reduce((w,j)=>w+j.valor,0),b=h.filter(w=>w.status==="pago").reduce((w,j)=>w+j.valor,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Em Aberto"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:p(y)})]}),a.jsx(vo,{className:"h-8 w-8 text-red-600"})]})})}),a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pagas"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(b)})]}),a.jsx(ut,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Contas"}),a.jsx("p",{className:"text-2xl font-bold",children:h.length})]}),a.jsx(Se,{className:"h-8 w-8 text-primary"})]})})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"h-5 w-5"}),"Filtros"]})}),a.jsx(U,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar conta...",value:d,onChange:w=>f(w.target.value),className:"pl-9"})]}),a.jsxs(Le,{value:i,onValueChange:c,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Todas as categorias"})}),a.jsxs(De,{children:[a.jsx(X,{value:"todas",children:"Todas as categorias"}),t.filter(w=>w.tipo==="despesa").map(w=>a.jsx(X,{value:w.nome,children:w.nome},w.id))]})]}),a.jsxs(Le,{value:l,onValueChange:u,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Todos os status"})}),a.jsxs(De,{children:[a.jsx(X,{value:"todos",children:"Todos os status"}),a.jsx(X,{value:"em_aberto",children:"Em Aberto"}),a.jsx(X,{value:"pago",children:"Pago"})]})]}),a.jsx(z,{variant:"outline",onClick:()=>{f(""),c("todas"),u("todos")},children:"Limpar Filtros"})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Contas Fixas"})}),a.jsx(U,{children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Nome"}),a.jsx(xe,{children:"Categoria"}),a.jsx(xe,{children:"Valor"}),a.jsx(xe,{children:"Vencimento"}),a.jsx(xe,{children:"Repetio"}),a.jsx(xe,{children:"Status"}),a.jsx(xe,{className:"text-right",children:"Aes"})]})}),a.jsx(qr,{children:h.map(w=>{const j=m(w.dataVencimento);return a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:w.nome}),a.jsx(ge,{children:a.jsx(ue,{variant:"outline",children:w.categoria})}),a.jsx(ge,{className:"font-mono",children:p(w.valor)}),a.jsx(ge,{children:a.jsx("span",{className:j.cor,children:j.texto})}),a.jsx(ge,{children:a.jsx("div",{className:"flex items-center gap-2",children:w.repetir?a.jsxs(a.Fragment,{children:[a.jsx(Ry,{className:"h-4 w-4 text-blue-600"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:g(w.frequencia)}),a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(hv,{className:`h-3 w-3 ${w.ativa?"text-green-600":"text-gray-400"}`}),w.ativa?"Ativa":"Inativa"]})]})]}):a.jsx(ue,{variant:"outline",className:"text-xs",children:"nica"})})}),a.jsx(ge,{children:a.jsx(ue,{className:v(w.status),children:w.status==="pago"?"Pago":"Em Aberto"})}),a.jsx(ge,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[w.status==="em_aberto"&&a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>s(w.id),className:"text-green-600 border-green-600 hover:bg-green-50 hover-scale btn-touch","aria-label":"Marcar conta como paga",children:[a.jsx(ut,{className:"h-4 w-4 mr-1"}),"Pagar"]}),w.repetir&&a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>o(w.id,!w.ativa),className:`hover-scale btn-touch ${w.ativa?"text-orange-600 border-orange-600":"text-green-600 border-green-600"}`,"aria-label":w.ativa?"Desativar conta":"Ativar conta",children:[a.jsx(hv,{className:"h-4 w-4 mr-1"}),w.ativa?"Desativar":"Ativar"]}),a.jsx(z,{size:"sm",variant:"outline",onClick:()=>r(w),className:"hover-scale btn-touch","aria-label":"Editar conta",children:a.jsx($P,{className:"h-4 w-4"})}),a.jsxs(Xn,{children:[a.jsx(Oo,{asChild:!0,children:a.jsx(z,{size:"sm",variant:"outline",className:"text-red-600 hover-scale btn-touch","aria-label":"Excluir conta",children:a.jsx(pr,{className:"h-4 w-4"})})}),a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Excluir Conta Fixa"}),a.jsxs(An,{children:['Tem certeza que deseja excluir a conta "',w.nome,'"? Esta ao no pode ser desfeita.']})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{children:"Cancelar"}),a.jsx(kn,{onClick:()=>n(w.id),className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})]})]})})]},w.id)})})]}),h.length===0&&a.jsxs("div",{className:"flex flex-col items-center gap-3 py-12 animate-fade-in",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-base font-medium text-foreground",children:"Nenhuma conta fixa encontrada"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d||i!=="todas"||l!=="todos"?"Tente ajustar os filtros de busca":"Adicione sua primeira conta fixa recorrente"})]})]})]})})]})]})}var rw="Switch",[lje]=Qn(rw),[uje,dje]=lje(rw),ZM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:c,value:l="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),v=Be(t,w=>p(w)),m=x.useRef(!1),g=h?d||!!h.closest("form"):!0,[y=!1,b]=wa({prop:s,defaultProp:o,onChange:u});return a.jsxs(uje,{scope:r,checked:y,disabled:c,children:[a.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":QM(y),"data-disabled":c?"":void 0,disabled:c,value:l,...f,ref:v,onClick:fe(e.onClick,w=>{b(j=>!j),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&a.jsx(fje,{control:h,bubbles:!m.current,name:n,value:l,checked:y,required:i,disabled:c,form:d,style:{transform:"translateX(-100%)"}})]})});ZM.displayName=rw;var XM="SwitchThumb",JM=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=dje(XM,r);return a.jsx(Pe.span,{"data-state":QM(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});JM.displayName=XM;var fje=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=x.useRef(null),i=K0(r),c=ab(t);return x.useEffect(()=>{const l=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const h=new Event("click",{bubbles:n});f.call(l,r),l.dispatchEvent(h)}},[i,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function QM(e){return e?"checked":"unchecked"}var eD=ZM,hje=JM;const Wt=x.forwardRef(({className:e,...t},r)=>a.jsx(eD,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(hje,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Wt.displayName=eD.displayName;const mje=Bs({nome:dt().min(1,"Nome  obrigatrio"),valor:js().min(.01,"Valor deve ser maior que zero"),dataVencimento:js().min(1).max(31,"Dia deve estar entre 1 e 31"),categoria:dt().min(1,"Categoria  obrigatria"),observacoes:dt().optional(),repetir:fC(),frequencia:go(["mensal","trimestral","semestral","anual"]),ativa:fC().optional()}),pje=Bs({nome:dt().min(1,"Nome da categoria  obrigatrio"),cor:dt().optional()});function gje({conta:e,categorias:t,onSubmit:r,onCancel:n,onCreateCategoria:s}){const[o,i]=x.useState(!1),[c,l]=x.useState(!1),[u,d]=x.useState(!1),f=ks({resolver:Es(mje),defaultValues:{nome:e?.nome||"",valor:e?.valor||0,dataVencimento:e?.dataVencimento||1,categoria:e?.categoria||"",observacoes:e?.observacoes||"",repetir:e?.repetir??!0,frequencia:e?.frequencia||"mensal",ativa:e?.ativa??!0}}),h=ks({resolver:Es(pje),defaultValues:{nome:"",cor:"#3b82f6"}}),p=async g=>{i(!0);try{await r(g)}finally{i(!1)}},v=async g=>{if(s){d(!0);try{await s(g.nome,g.cor),h.reset(),l(!1),f.setValue("categoria",g.nome),Xt({title:"Categoria criada",description:`A categoria "${g.nome}" foi criada com sucesso.`})}catch{Xt({title:"Erro ao criar categoria",description:"No foi possvel criar a categoria. Tente novamente.",variant:"destructive"})}finally{d(!1)}}},m=t.filter(g=>g.tipo==="despesa");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(z,{variant:"outline",size:"icon",onClick:n,children:a.jsx(Ou,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:e?"Editar Conta Fixa":"Nova Conta Fixa"}),a.jsx("p",{className:"text-muted-foreground",children:e?"Atualize os dados da conta fixa":"Cadastre uma nova despesa recorrente"})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Dados da Conta"})}),a.jsx(U,{children:a.jsx(ac,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(rt,{control:f.control,name:"nome",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Nome da Conta"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Ex: Aluguel, Energia, Internet...",className:"h-12",...g})}),a.jsx(at,{})]})}),a.jsx(rt,{control:f.control,name:"valor",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Valor (R$)"}),a.jsx(tt,{children:a.jsx(ee,{type:"number",step:"0.01",placeholder:"0,00",className:"h-12",...g,onChange:y=>g.onChange(parseFloat(y.target.value)||0)})}),a.jsx(at,{})]})}),a.jsx(rt,{control:f.control,name:"dataVencimento",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Dia do Vencimento"}),a.jsx(tt,{children:a.jsx(ee,{type:"number",min:"1",max:"31",placeholder:"1",className:"h-12",...g,onChange:y=>g.onChange(parseInt(y.target.value)||1)})}),a.jsx(at,{})]})}),a.jsx(rt,{control:f.control,name:"categoria",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Categoria"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Le,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(tt,{children:a.jsx(Me,{className:"flex-1 h-12",children:a.jsx(Fe,{placeholder:"Selecione uma categoria"})})}),a.jsx(De,{children:m.map(y=>a.jsx(X,{value:y.nome,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:y.cor}}),y.nome]})},y.id))})]}),s&&a.jsxs(Fr,{open:c,onOpenChange:l,children:[a.jsx(sd,{asChild:!0,children:a.jsx(z,{type:"button",variant:"outline",size:"icon",className:"flex-shrink-0 h-12 w-12 btn-touch",children:a.jsx(wr,{className:"h-4 w-4"})})}),a.jsxs(Nr,{children:[a.jsx(_r,{children:a.jsx(Sr,{children:"Nova Categoria"})}),a.jsx(ac,{...h,children:a.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-4",children:[a.jsx(rt,{control:h.control,name:"nome",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Nome da Categoria"}),a.jsx(tt,{children:a.jsx(ee,{placeholder:"Ex: Aluguel, Energia, Internet...",className:"h-12",...y})}),a.jsx(at,{})]})}),a.jsx(rt,{control:h.control,name:"cor",render:({field:y})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Cor"}),a.jsx(tt,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ee,{type:"color",className:"w-16 h-12 p-1 border rounded",...y}),a.jsx(ee,{placeholder:"#3b82f6",...y,className:"flex-1 h-12"})]})}),a.jsx(at,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-4",children:[a.jsx(z,{type:"submit",disabled:u,className:"bg-gradient-to-r from-primary to-lilac-primary h-12 btn-touch",children:u?"Criando...":"Criar Categoria"}),a.jsx(z,{type:"button",variant:"outline",onClick:()=>l(!1),className:"h-12 btn-touch",children:"Cancelar"})]})]})})]})]})]}),a.jsx(at,{})]})})]}),a.jsxs(F,{className:"bg-muted/50",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2 text-base",children:[a.jsx(Ry,{className:"h-4 w-4 text-primary"}),"Configuraes de Repetio"]})}),a.jsxs(U,{className:"space-y-4",children:[a.jsx(rt,{control:f.control,name:"repetir",render:({field:g})=>a.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{className:"text-base font-medium",children:"Conta Recorrente"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Esta conta se repete automaticamente"})]}),a.jsx(tt,{children:a.jsx(Wt,{checked:g.value,onCheckedChange:g.onChange})})]})}),f.watch("repetir")&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(rt,{control:f.control,name:"frequencia",render:({field:g})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Frequncia de Repetio"]}),a.jsxs(Le,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(tt,{children:a.jsx(Me,{className:"h-12",children:a.jsx(Fe,{placeholder:"Selecione a frequncia"})})}),a.jsxs(De,{children:[a.jsx(X,{value:"mensal",children:" Mensal"}),a.jsx(X,{value:"trimestral",children:" Trimestral (3 meses)"}),a.jsx(X,{value:"semestral",children:" Semestral (6 meses)"}),a.jsx(X,{value:"anual",children:" Anual (12 meses)"})]})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:f.control,name:"ativa",render:({field:g})=>a.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{className:"text-sm font-medium",children:"Conta Ativa"}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Gerar automaticamente"})]}),a.jsx(tt,{children:a.jsx(Wt,{checked:g.value??!0,onCheckedChange:g.onChange})})]})})]}),f.watch("repetir")&&a.jsx("div",{className:"rounded-lg bg-blue-50 border border-blue-200 p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-1",children:a.jsx(Se,{className:"h-4 w-4 text-blue-600"})}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"Como funciona a repetio:"}),a.jsxs("ul",{className:"text-blue-700 space-y-1 text-xs",children:[a.jsx("li",{children:" A conta ser criada automaticamente conforme a frequncia"}),a.jsxs("li",{children:[" O vencimento ser no dia ",f.watch("dataVencimento")," de cada perodo"]}),a.jsx("li",{children:" Voc pode ativar/desativar a gerao automtica"}),a.jsx("li",{children:" Contas j vencidas podem ser marcadas como pagas individualmente"})]})]})]})})]})]}),a.jsx(rt,{control:f.control,name:"observacoes",render:({field:g})=>a.jsxs(Qe,{children:[a.jsx(et,{className:"text-sm sm:text-base",children:"Observaes"}),a.jsx(tt,{children:a.jsx(mr,{placeholder:"Informaes adicionais sobre a conta...",rows:3,className:"min-h-[100px]",...g})}),a.jsx(at,{})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-6",children:[a.jsxs(z,{type:"submit",disabled:o,className:"bg-gradient-to-r from-primary to-lilac-primary h-12 btn-touch",children:[a.jsx(Ro,{className:"mr-2 h-4 w-4"}),o?"Salvando...":"Salvar Conta"]}),a.jsx(z,{type:"button",variant:"outline",onClick:n,className:"h-12 btn-touch",children:"Cancelar"})]})]})})})]})]})}function vje({agendamentos:e}){const[t,r]=x.useState(""),n=e.filter(l=>(l.statusPagamento==="em_aberto"||l.statusPagamento==="parcial")&&l.valorDevido>0).filter(l=>l.clienteNome.toLowerCase().includes(t.toLowerCase())),s=n.reduce((l,u)=>l+u.valorDevido,0),o=l=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l),i=l=>new Date(l).toLocaleDateString("pt-BR"),c=l=>{const u=`Ol ${l.clienteNome}! 
    
Voc tem um saldo pendente de ${o(l.valorDevido)} referente ao servio de ${l.servicoNome} realizado em ${i(l.data)}.

Para facilitar o pagamento, entre em contato conosco.

Obrigado!`,f=`https://wa.me/?text=${encodeURIComponent(u)}`;window.open(f,"_blank")};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total a Receber"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:o(s)})]}),a.jsx(ut,{className:"h-8 w-8 text-orange-600"})]})})}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Buscar Cliente"})}),a.jsx(U,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar por nome do cliente...",value:t,onChange:l=>r(l.target.value),className:"pl-9"})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Contas a Receber"})}),a.jsx(U,{children:a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Cliente"}),a.jsx(xe,{children:"Servio"}),a.jsx(xe,{children:"Data"}),a.jsx(xe,{children:"Valor Total"}),a.jsx(xe,{children:"Valor Pago"}),a.jsx(xe,{children:"Valor Devedor"}),a.jsx(xe,{children:"Status"}),a.jsx(xe,{className:"text-right",children:"Aes"})]})}),a.jsx(qr,{children:n.map(l=>a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:l.clienteNome}),a.jsx(ge,{children:l.servicoNome}),a.jsx(ge,{children:i(l.data)}),a.jsx(ge,{className:"font-mono",children:o(l.valor)}),a.jsx(ge,{className:"font-mono",children:o(l.valorPago)}),a.jsx(ge,{className:"font-mono font-bold text-orange-600",children:o(l.valorDevido)}),a.jsx(ge,{children:a.jsx(ue,{variant:"outline",className:l.statusPagamento==="em_aberto"?"border-red-500 text-red-700":"border-orange-500 text-orange-700",children:l.statusPagamento==="em_aberto"?"Em Aberto":"Parcial"})}),a.jsx(ge,{className:"text-right",children:a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>c(l),className:"text-green-600 border-green-600 hover:bg-green-50",children:[a.jsx(yo,{className:"h-4 w-4 mr-1"}),"WhatsApp"]})})]},l.id))})]}),n.length===0&&a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t?"Nenhum cliente encontrado":"Nenhuma conta a receber no momento"})]})})]})]})}function xje(e,t,r){const[n,s]=x.useState({periodo:"mensal",incluirContasFixas:!0,incluirAgendamentos:!0,incluirLancamentos:!0}),o=x.useMemo(()=>{const l=new Date;switch(n.periodo){case"semanal":return{inicio:dn(l,{locale:Ie}),fim:Fc(l,{locale:Ie})};case"mensal":return{inicio:Jt(l),fim:qa(l)};case"trimestral":return{inicio:axe(l),fim:oxe(l)};case"semestral":const u=l.getMonth()<6?new Date(l.getFullYear(),0,1):new Date(l.getFullYear(),6,1),d=l.getMonth()<6?new Date(l.getFullYear(),5,30):new Date(l.getFullYear(),11,31);return{inicio:u,fim:d};case"anual":return{inicio:I0(l),fim:sxe(l)};case"personalizado":return{inicio:n.dataInicio||Jt(l),fim:n.dataFim||qa(l)};default:return{inicio:Jt(l),fim:qa(l)}}},[n.periodo,n.dataInicio,n.dataFim]),i=x.useMemo(()=>{const l=n.incluirLancamentos?e.filter(f=>{const h=new Date(f.data);return qd(h,{start:o.inicio,end:o.fim})}):[],u=n.incluirContasFixas?t.filter(f=>{if(!f.proximoVencimento)return!1;const h=new Date(f.proximoVencimento);return qd(h,{start:o.inicio,end:o.fim})}):[],d=n.incluirAgendamentos?r.filter(f=>{const h=new Date(f.data);return qd(h,{start:o.inicio,end:o.fim})}):[];return{lancamentos:l,contasFixas:u,agendamentos:d}},[e,t,r,o,n]),c=x.useMemo(()=>{const{lancamentos:l,contasFixas:u,agendamentos:d}=i,f=l.filter(S=>S.tipo==="entrada").reduce((S,_)=>S+_.valor,0),h=l.filter(S=>S.tipo==="saida").reduce((S,_)=>S+_.valor,0),p=d.filter(S=>S.statusPagamento==="pago").reduce((S,_)=>S+(_.valorPago||0),0),v=d.filter(S=>S.statusPagamento!=="pago").reduce((S,_)=>S+_.valorDevido,0),m=u.filter(S=>S.status==="pago").reduce((S,_)=>S+_.valor,0),g=u.filter(S=>S.status!=="pago").reduce((S,_)=>S+_.valor,0),y=new Map;d.forEach(S=>{const _="Servio",P=y.get(_)||{quantidade:0,valor:0};y.set(_,{quantidade:P.quantidade+1,valor:P.valor+S.valor})});const b=Array.from(y.entries()).map(([S,_])=>({nome:S,quantidade:_.quantidade,valorTotal:_.valor,percentual:_.valor/(f+p)*100})).sort((S,_)=>_.valorTotal-S.valorTotal).slice(0,5),w=new Map;l.forEach(S=>{const _=S.categoria||"Sem categoria",P=w.get(_)||{entradas:0,saidas:0};S.tipo==="entrada"?P.entradas+=S.valor:P.saidas+=S.valor,w.set(_,P)});const j=Array.from(w.entries()).map(([S,_])=>({categoria:S,entradas:_.entradas,saidas:_.saidas,lucro:_.entradas-_.saidas,percentual:(_.entradas-_.saidas)/(f-h)*100})).sort((S,_)=>_.lucro-S.lucro),N=[];for(let S=5;S>=0;S--){const _=a$(new Date,S),P=Jt(_),E=qa(_),$=e.filter(O=>{const T=new Date(O.data);return qd(T,{start:P,end:E})}),A=$.filter(O=>O.tipo==="entrada").reduce((O,T)=>O+T.valor,0),C=$.filter(O=>O.tipo==="saida").reduce((O,T)=>O+T.valor,0);N.push({periodo:ke(_,"MMM/yyyy",{locale:Ie}),entradas:A,saidas:C,lucro:A-C})}return{totalEntradas:f+p,totalSaidas:h+m,lucroLiquido:f+p-(h+m),contasAPagar:g,contasRecebidas:p,agendamentosPagos:p,agendamentosAbertos:v,contasFixasPagas:m,contasFixasAbertas:g,servicosMaisVendidos:b,categoriasMaisLucrativas:j,evolucaoMensal:N}},[i,e]);return{filtros:n,setFiltros:s,dadosRelatorio:c,intervaloData:o,dadosFiltrados:i}}function yje({filtros:e,onFiltrosChange:t}){const{isMobile:r}=tw(),n=l=>{t({...e,periodo:l})},s=l=>{t({...e,dataInicio:l})},o=l=>{t({...e,dataFim:l})},i=(l,u)=>{t({...e,[l]:u})},c=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{className:"text-responsive-sm",children:"Perodo"}),a.jsxs(Le,{value:e.periodo,onValueChange:n,children:[a.jsx(Me,{className:"h-12",children:a.jsx(Fe,{placeholder:"Selecione o perodo"})}),a.jsxs(De,{children:[a.jsx(X,{value:"semanal",children:"Esta Semana"}),a.jsx(X,{value:"mensal",children:"Este Ms"}),a.jsx(X,{value:"trimestral",children:"Este Trimestre"}),a.jsx(X,{value:"semestral",children:"Este Semestre"}),a.jsx(X,{value:"anual",children:"Este Ano"}),a.jsx(X,{value:"personalizado",children:"Perodo Personalizado"})]})]})]}),e.periodo==="personalizado"&&a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{className:"text-responsive-sm",children:"Data Incio"}),a.jsxs(Rh,{children:[a.jsx(Ih,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:J("w-full justify-start text-left font-normal h-12",!e.dataInicio&&"text-muted-foreground"),children:[a.jsx(Se,{className:"mr-2 h-4 w-4"}),e.dataInicio?ke(e.dataInicio,"PPP",{locale:Ie}):a.jsx("span",{children:"Selecione a data"})]})}),a.jsx(_u,{className:"w-auto p-0",align:"start",children:a.jsx(Nu,{mode:"single",selected:e.dataInicio,onSelect:s,initialFocus:!0,className:J("p-3 pointer-events-auto")})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{className:"text-responsive-sm",children:"Data Fim"}),a.jsxs(Rh,{children:[a.jsx(Ih,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:J("w-full justify-start text-left font-normal h-12",!e.dataFim&&"text-muted-foreground"),children:[a.jsx(Se,{className:"mr-2 h-4 w-4"}),e.dataFim?ke(e.dataFim,"PPP",{locale:Ie}):a.jsx("span",{children:"Selecione a data"})]})}),a.jsx(_u,{className:"w-auto p-0",align:"start",children:a.jsx(Nu,{mode:"single",selected:e.dataFim,onSelect:o,initialFocus:!0,className:J("p-3 pointer-events-auto")})})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(H,{className:"text-responsive-sm font-semibold",children:"Incluir nos Relatrios"}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx(H,{htmlFor:"incluir-lancamentos",className:"text-responsive-sm cursor-pointer",children:"Lanamentos Manuais"}),a.jsx(Wt,{id:"incluir-lancamentos",checked:e.incluirLancamentos,onCheckedChange:l=>i("incluirLancamentos",l)})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx(H,{htmlFor:"incluir-agendamentos",className:"text-responsive-sm cursor-pointer",children:"Agendamentos"}),a.jsx(Wt,{id:"incluir-agendamentos",checked:e.incluirAgendamentos,onCheckedChange:l=>i("incluirAgendamentos",l)})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx(H,{htmlFor:"incluir-contas-fixas",className:"text-responsive-sm cursor-pointer",children:"Contas Fixas"}),a.jsx(Wt,{id:"incluir-contas-fixas",checked:e.incluirContasFixas,onCheckedChange:l=>i("incluirContasFixas",l)})]})]})]});return r?a.jsxs(cA,{children:[a.jsx(P6,{asChild:!0,children:a.jsxs(z,{variant:"outline",className:"btn-touch w-full sm:w-auto",children:[a.jsx(Do,{className:"mr-2 h-4 w-4"}),"Filtros"]})}),a.jsxs(Xy,{side:"bottom",className:"h-[90vh]",children:[a.jsx(uA,{children:a.jsx(dA,{children:"Filtros do Relatrio"})}),a.jsx("div",{className:"mt-6 overflow-y-auto h-[calc(90vh-80px)]",children:a.jsx(c,{})})]})]}):a.jsxs(F,{className:"animate-fade-in",children:[a.jsx(ne,{children:a.jsx(ae,{children:"Filtros do Relatrio"})}),a.jsx(U,{children:a.jsx(c,{})})]})}const EC=["#8884d8","#82ca9d","#ffc658","#ff7300","#00ff00","#ff0000","#00ffff","#ff00ff","#ffff00","#000080"];function bje({dados:e}){const t=s=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s),r=[{categoria:"Entradas",valor:e.totalEntradas,cor:"#10b981"},{categoria:"Sadas",valor:e.totalSaidas,cor:"#ef4444"},{categoria:"Lucro",valor:e.lucroLiquido,cor:e.lucroLiquido>=0?"#3b82f6":"#ef4444"}],n=e.categoriasMaisLucrativas.slice(0,5).map((s,o)=>({name:s.categoria,value:Math.abs(s.lucro),lucro:s.lucro,percentual:s.percentual}));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Resumo Financeiro"})}),a.jsx(U,{children:a.jsx(oo,{width:"100%",height:300,children:a.jsxs(ry,{data:r,children:[a.jsx(_l,{strokeDasharray:"3 3"}),a.jsx(Ya,{dataKey:"categoria"}),a.jsx(Za,{tickFormatter:t}),a.jsx(xr,{formatter:s=>t(Number(s))}),a.jsx(pa,{}),a.jsx(_a,{dataKey:"valor",fill:"#8884d8",children:r.map((s,o)=>a.jsx(Mi,{fill:s.cor},`cell-${o}`))})]})})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Evoluo dos ltimos 6 Meses"})}),a.jsx(U,{children:a.jsx(oo,{width:"100%",height:300,children:a.jsxs(qO,{data:e.evolucaoMensal,children:[a.jsx(_l,{strokeDasharray:"3 3"}),a.jsx(Ya,{dataKey:"periodo"}),a.jsx(Za,{tickFormatter:t}),a.jsx(xr,{formatter:s=>t(Number(s))}),a.jsx(pa,{}),a.jsx(Sa,{type:"monotone",dataKey:"entradas",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.6,name:"Entradas"}),a.jsx(Sa,{type:"monotone",dataKey:"saidas",stackId:"2",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Sadas"}),a.jsx(hp,{type:"monotone",dataKey:"lucro",stroke:"#3b82f6",strokeWidth:3,name:"Lucro"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Categorias Mais Lucrativas"})}),a.jsx(U,{children:a.jsx(oo,{width:"100%",height:300,children:a.jsxs(WO,{children:[a.jsx(ka,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percentual:o})=>`${s}: ${o.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((s,o)=>a.jsx(Mi,{fill:EC[o%EC.length]},`cell-${o}`))}),a.jsx(xr,{formatter:s=>t(Number(s))})]})})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Top 5 Servios"})}),a.jsx(U,{children:a.jsx(oo,{width:"100%",height:300,children:a.jsxs(ry,{data:e.servicosMaisVendidos,layout:"horizontal",margin:{left:50},children:[a.jsx(_l,{strokeDasharray:"3 3"}),a.jsx(Ya,{type:"number",tickFormatter:t}),a.jsx(Za,{dataKey:"nome",type:"category",width:100}),a.jsx(xr,{formatter:(s,o)=>[o==="valorTotal"?t(Number(s)):s,o==="valorTotal"?"Valor Total":"Quantidade"]}),a.jsx(pa,{}),a.jsx(_a,{dataKey:"valorTotal",fill:"#3b82f6",name:"Valor Total"})]})})})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Detalhamento de Contas"})}),a.jsx(U,{children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:t(e.agendamentosPagos)}),a.jsx("div",{className:"text-sm text-green-600",children:"Agendamentos Pagos"})]}),a.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t(e.agendamentosAbertos)}),a.jsx("div",{className:"text-sm text-orange-600",children:"Agendamentos em Aberto"})]}),a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t(e.contasFixasPagas)}),a.jsx("div",{className:"text-sm text-blue-600",children:"Contas Fixas Pagas"})]}),a.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:t(e.contasFixasAbertas)}),a.jsx("div",{className:"text-sm text-red-600",children:"Contas Fixas em Aberto"})]})]})})]})]})}function wje({dados:e,dadosDetalhados:t}){const[r,n]=x.useState(1),[s,o]=x.useState(1),[i,c]=x.useState(1),l=10,u=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),d=y=>ke(new Date(y),"dd/MM/yyyy",{locale:Ie}),f=y=>{const w={pago:{variant:"default",label:"Pago"},em_aberto:{variant:"destructive",label:"Em Aberto"},pendente:{variant:"outline",label:"Pendente"},agendado:{variant:"secondary",label:"Agendado"},concluido:{variant:"default",label:"Concludo"},cancelado:{variant:"destructive",label:"Cancelado"}}[y]||{variant:"outline",label:y};return a.jsx(ue,{variant:w.variant,children:w.label})},h=()=>{console.log("Exportando relatrio para PDF...")},p=()=>{console.log("Exportando relatrio para Excel...")},v=t.lancamentos.slice((r-1)*l,r*l),m=t.contasFixas.slice((s-1)*l,s*l),g=t.agendamentos.slice((i-1)*l,i*l);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between",children:[a.jsx(ae,{children:"Anlise por Categorias"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:h,children:[a.jsx(ma,{className:"h-4 w-4 mr-2"}),"PDF"]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:p,children:[a.jsx(ma,{className:"h-4 w-4 mr-2"}),"Excel"]})]})]}),a.jsx(U,{children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Categoria"}),a.jsx(xe,{className:"text-right",children:"Entradas"}),a.jsx(xe,{className:"text-right",children:"Sadas"}),a.jsx(xe,{className:"text-right",children:"Lucro"}),a.jsx(xe,{className:"text-right",children:"Participao"})]})}),a.jsx(qr,{children:e.categoriasMaisLucrativas.map((y,b)=>a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:y.categoria}),a.jsx(ge,{className:"text-right text-green-600",children:u(y.entradas)}),a.jsx(ge,{className:"text-right text-red-600",children:u(y.saidas)}),a.jsx(ge,{className:`text-right ${y.lucro>=0?"text-green-600":"text-red-600"}`,children:u(y.lucro)}),a.jsxs(ge,{className:"text-right",children:[y.percentual.toFixed(1),"%"]})]},b))})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Servios Mais Vendidos"})}),a.jsx(U,{children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Servio"}),a.jsx(xe,{className:"text-right",children:"Quantidade"}),a.jsx(xe,{className:"text-right",children:"Valor Total"}),a.jsx(xe,{className:"text-right",children:"Participao"})]})}),a.jsx(qr,{children:e.servicosMaisVendidos.map((y,b)=>a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:y.nome}),a.jsx(ge,{className:"text-right",children:y.quantidade}),a.jsx(ge,{className:"text-right text-green-600",children:u(y.valorTotal)}),a.jsxs(ge,{className:"text-right",children:[y.percentual.toFixed(1),"%"]})]},b))})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Dados Detalhados"})}),a.jsx(U,{children:a.jsxs(is,{defaultValue:"lancamentos",children:[a.jsxs(Ea,{className:"grid w-full grid-cols-3",children:[a.jsxs(ct,{value:"lancamentos",children:["Lanamentos (",t.lancamentos.length,")"]}),a.jsxs(ct,{value:"agendamentos",children:["Agendamentos (",t.agendamentos.length,")"]}),a.jsxs(ct,{value:"contas",children:["Contas Fixas (",t.contasFixas.length,")"]})]}),a.jsx(lt,{value:"lancamentos",className:"space-y-4",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Data"}),a.jsx(xe,{children:"Descrio"}),a.jsx(xe,{children:"Categoria"}),a.jsx(xe,{children:"Tipo"}),a.jsx(xe,{className:"text-right",children:"Valor"})]})}),a.jsx(qr,{children:v.map(y=>a.jsxs(gt,{children:[a.jsx(ge,{children:d(y.data)}),a.jsx(ge,{children:y.descricao}),a.jsx(ge,{children:y.categoria||"Sem categoria"}),a.jsx(ge,{children:a.jsx(ue,{variant:y.tipo==="entrada"?"default":"destructive",children:y.tipo==="entrada"?"Entrada":"Sada"})}),a.jsx(ge,{className:`text-right ${y.tipo==="entrada"?"text-green-600":"text-red-600"}`,children:u(y.valor)})]},y.id))})]})}),a.jsx(lt,{value:"agendamentos",className:"space-y-4",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Data"}),a.jsx(xe,{children:"Cliente"}),a.jsx(xe,{children:"Status"}),a.jsx(xe,{children:"Pagamento"}),a.jsx(xe,{className:"text-right",children:"Valor"}),a.jsx(xe,{className:"text-right",children:"Pago"})]})}),a.jsx(qr,{children:g.map(y=>a.jsxs(gt,{children:[a.jsx(ge,{children:d(y.data)}),a.jsx(ge,{children:"Cliente"}),a.jsx(ge,{children:f(y.status||"agendado")}),a.jsx(ge,{children:f(y.statusPagamento||"em_aberto")}),a.jsx(ge,{className:"text-right",children:u(y.valor)}),a.jsx(ge,{className:"text-right text-green-600",children:u(y.valorPago||0)})]},y.id))})]})}),a.jsx(lt,{value:"contas",className:"space-y-4",children:a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Nome"}),a.jsx(xe,{children:"Categoria"}),a.jsx(xe,{children:"Vencimento"}),a.jsx(xe,{children:"Status"}),a.jsx(xe,{className:"text-right",children:"Valor"})]})}),a.jsx(qr,{children:m.map(y=>a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:y.nome}),a.jsx(ge,{children:y.categoria}),a.jsx(ge,{children:y.proximoVencimento?d(y.proximoVencimento):"-"}),a.jsx(ge,{children:f(y.status)}),a.jsx(ge,{className:"text-right text-red-600",children:u(y.valor)})]},y.id))})]})})]})})]})]})}function jje(){const{lancamentos:e}=fb(),{contasFixas:t}=YM(),{agendamentos:r}=Io(),{filtros:n,setFiltros:s,dadosRelatorio:o,intervaloData:i,dadosFiltrados:c}=xje(e,t,r),l=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),u=()=>{const f=ke(i.inicio,"dd/MM/yyyy",{locale:Ie}),h=ke(i.fim,"dd/MM/yyyy",{locale:Ie});return`${f} a ${h}`},d=()=>{console.log("Exportando relatrio completo...",{periodo:u(),dados:o,detalhes:c})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Relatrios Financeiros"}),a.jsxs("p",{className:"text-muted-foreground",children:["Anlise detalhada do perodo: ",u()]})]}),a.jsxs(z,{onClick:d,className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-4 w-4"}),"Exportar Relatrio Completo"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(F,{children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-success",children:a.jsx(Bt,{className:"h-6 w-6 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-2xl font-bold text-success",children:l(o.totalEntradas)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Entradas"})]})]})}),a.jsx(F,{children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive",children:a.jsx(Mu,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-2xl font-bold text-destructive",children:l(o.totalSaidas)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Sadas"})]})]})}),a.jsx(F,{children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl ${o.lucroLiquido>=0?"bg-info":"bg-destructive"}`,children:a.jsx(ut,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-2xl font-bold ${o.lucroLiquido>=0?"text-info":"text-destructive"}`,children:l(o.lucroLiquido)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.lucroLiquido>=0?"Lucro Lquido":"Prejuzo"})]})]})}),a.jsx(F,{children:a.jsxs(U,{className:"flex items-center gap-4 p-6",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-warning",children:a.jsx(xo,{className:"h-6 w-6 text-warning-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-2xl font-bold text-warning",children:l(o.contasAPagar)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Contas a Pagar"})]})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Indicadores de Performance"})}),a.jsx(U,{children:a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"text-lg font-semibold",children:[o.lucroLiquido>0?(o.lucroLiquido/o.totalEntradas*100).toFixed(1):"0.0","%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Margem de Lucro"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-semibold",children:o.servicosMaisVendidos.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Servios Ativos"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-semibold",children:l(o.agendamentosAbertos)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Pendente Recebimento"})]}),a.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[a.jsx("div",{className:"text-lg font-semibold",children:o.categoriasMaisLucrativas.length}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Categorias Ativas"})]})]})})]}),a.jsxs(is,{defaultValue:"visao-geral",className:"space-y-6",children:[a.jsxs(Ea,{className:"grid w-full grid-cols-3",children:[a.jsx(ct,{value:"visao-geral",children:"Viso Geral"}),a.jsx(ct,{value:"graficos",children:"Grficos"}),a.jsx(ct,{value:"detalhado",children:"Dados Detalhados"})]}),a.jsx(lt,{value:"visao-geral",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(yje,{filtros:n,onFiltrosChange:s})}),a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Top 5 Categorias Mais Lucrativas"})}),a.jsx(U,{children:a.jsx("div",{className:"space-y-3",children:o.categoriasMaisLucrativas.slice(0,5).map((f,h)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-primary"}),a.jsx("span",{className:"font-medium",children:f.categoria})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`font-semibold ${f.lucro>=0?"text-success":"text-destructive"}`,children:l(f.lucro)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.percentual.toFixed(1),"% do total"]})]})]},h))})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Top 5 Servios Mais Vendidos"})}),a.jsx(U,{children:a.jsx("div",{className:"space-y-3",children:o.servicosMaisVendidos.slice(0,5).map((f,h)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(ue,{variant:"outline",children:[f.quantidade,"x"]}),a.jsx("span",{className:"font-medium",children:f.nome})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-success",children:l(f.valorTotal)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.percentual.toFixed(1),"% do faturamento"]})]})]},h))})})]})]})]})}),a.jsx(lt,{value:"graficos",children:a.jsx(bje,{dados:o})}),a.jsx(lt,{value:"detalhado",children:a.jsx(wje,{dados:o,dadosDetalhados:c})})]})]})}function Nje({contasFixas:e,onPagarConta:t}){const n=(()=>{const f=new Date,h=new Date;h.setDate(f.getDate()+7);const p=f.getMonth()+1,v=f.getFullYear();return e.filter(m=>{if(m.status==="pago")return!1;const g=new Date(v,p-1,m.dataVencimento);return g<f&&g.setMonth(g.getMonth()+1),g<=h}).map(m=>{const g=new Date(v,p-1,m.dataVencimento);g<f&&g.setMonth(g.getMonth()+1);const y=Math.ceil((g.getTime()-f.getTime())/(1e3*60*60*24));return{...m,dataVencimento:g,diasParaVencimento:y,situacao:y<0?"vencido":y===0?"venceHoje":y<=3?"venceEmBreve":"normal"}}).sort((m,g)=>m.diasParaVencimento-g.diasParaVencimento)})(),s=n.filter(f=>f.situacao==="vencido"),o=n.filter(f=>f.situacao==="venceHoje"),i=n.filter(f=>f.situacao==="venceEmBreve");x.useEffect(()=>{if(s.length>0||o.length>0){Notification.permission==="granted"&&new Notification("Ateno: Contas Vencendo!",{body:`Voc tem ${s.length+o.length} conta(s) que requer(em) ateno imediata.`,icon:"/icons/icon-192x192.png"});try{const f=new Audio("/sounds/notification.mp3");f.volume=.3,f.play().catch(()=>{})}catch{}}},[s.length,o.length]);const c=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),l=f=>f.toLocaleDateString("pt-BR"),u=f=>{switch(f){case"vencido":return"bg-destructive/10 text-destructive";case"venceHoje":return"bg-warning/10 text-warning";case"venceEmBreve":return"bg-warning/10 text-warning";default:return"bg-info/10 text-info"}},d=f=>{switch(f.situacao){case"vencido":return`Venceu h ${Math.abs(f.diasParaVencimento)} dia(s)`;case"venceHoje":return"Vence hoje";case"venceEmBreve":return`Vence em ${f.diasParaVencimento} dia(s)`;default:return`Vence em ${f.diasParaVencimento} dia(s)`}};return n.length===0?a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2 text-success",children:[a.jsx(Ha,{className:"h-5 w-5"}),"Avisos de Vencimento"]})}),a.jsx(U,{children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx(Se,{className:"h-12 w-12 text-success mx-auto mb-4"}),a.jsx("p",{className:"text-success font-medium",children:"Parabns!"}),a.jsx("p",{className:"text-muted-foreground",children:"No h contas vencendo nos prximos 7 dias."})]})})]}):a.jsxs("div",{className:"space-y-4",children:[(s.length>0||o.length>0)&&a.jsxs(bn,{className:"border-destructive/20 bg-destructive/10",children:[a.jsx(Ja,{className:"h-4 w-4 text-destructive"}),a.jsxs(wn,{className:"text-destructive",children:[a.jsx("strong",{children:"Ateno:"})," Voc tem ",s.length+o.length," conta(s) que requer(em) pagamento imediato!"]})]}),i.length>0&&a.jsxs(bn,{className:"border-warning/20 bg-warning/10",children:[a.jsx(Ha,{className:"h-4 w-4 text-warning"}),a.jsxs(wn,{className:"text-warning",children:["Voc tem ",i.length," conta(s) vencendo nos prximos dias."]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"h-5 w-5"}),"Contas Vencendo"]})}),a.jsx(U,{children:a.jsx("div",{className:"space-y-3",children:n.map(f=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h3",{className:"font-medium",children:f.nome}),a.jsx(ue,{className:u(f.situacao),children:d(f)})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Se,{className:"h-4 w-4"}),l(f.dataVencimento)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ut,{className:"h-4 w-4"}),c(f.valor)]}),a.jsxs("span",{children:["Categoria: ",f.categoria]})]})]}),a.jsx(z,{onClick:()=>t(f.id),className:f.situacao==="vencido"||f.situacao==="venceHoje"?"bg-destructive hover:bg-destructive/90":"bg-success hover:bg-success/90",children:"Pagar Agora"})]},f.id))})})]})]})}function _je(){tw();const{compras:e,loading:t}=id(),{vendas:r,loading:n}=cd(),[s,o]=x.useState("todos"),[i,c]=x.useState(""),l=x.useMemo(()=>{const v=[];return e.forEach(m=>{v.push({id:m.id,tipo:"compra",data:m.data_compra,valor:m.valor_total,descricao:`Compra ${m.numero_nota?`- Nota ${m.numero_nota}`:""}`,status:m.status_pagamento||"pendente",itens:m.itens_compra?.length||0})}),r.forEach(m=>{v.push({id:m.id,tipo:"venda",data:m.data_venda,valor:m.valor_total,descricao:"Venda de produtos",status:m.status_pagamento||"pago",itens:m.itens_venda?.length||0})}),v.sort((m,g)=>new Date(g.data).getTime()-new Date(m.data).getTime())},[e,r]),u=x.useMemo(()=>l.filter(v=>{const m=s==="todos"||v.tipo===s,g=v.descricao.toLowerCase().includes(i.toLowerCase());return m&&g}),[l,s,i]),d=x.useMemo(()=>{const v=l.filter(g=>g.tipo==="compra").reduce((g,y)=>g+y.valor,0),m=l.filter(g=>g.tipo==="venda").reduce((g,y)=>g+y.valor,0);return{compras:v,vendas:m,lucro:m-v}},[l]),f=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),h=v=>{switch(v){case"pago":return"bg-success text-success-foreground";case"pendente":return"bg-warning text-warning-foreground";case"pago_parcial":return"bg-primary text-primary-foreground";case"vencido":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},p=v=>{switch(v){case"pago":return"Pago";case"pendente":return"Pendente";case"pago_parcial":return"Parcial";case"vencido":return"Vencido";default:return v}};return t||n?a.jsx("div",{className:"flex items-center justify-center p-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-responsive-lg",children:[a.jsxs("div",{className:"grid-responsive-3",children:[a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-destructive flex-shrink-0",children:a.jsx(bf,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-destructive truncate",children:f(d.compras)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Total em Compras"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-success flex-shrink-0",children:a.jsx(pi,{className:"h-6 w-6 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-responsive-lg font-bold text-success truncate",children:f(d.vendas)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Total em Vendas"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex items-center gap-4 p-responsive-sm",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${d.lucro>=0?"bg-primary":"bg-destructive"}`,children:d.lucro>=0?a.jsx(Bt,{className:"h-6 w-6 text-primary-foreground"}):a.jsx(Mu,{className:"h-6 w-6 text-destructive-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:`text-responsive-lg font-bold truncate ${d.lucro>=0?"text-primary":"text-destructive"}`,children:f(d.lucro)}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Margem de Lucro"})]})]})})]}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(U,{className:"p-responsive-sm",children:a.jsxs("div",{className:"flex-responsive flex-responsive-row-sm gap-4",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar movimentao...",value:i,onChange:v=>c(v.target.value),className:"pl-10 h-12"})]}),a.jsxs(Le,{value:s,onValueChange:v=>o(v),children:[a.jsxs(Me,{className:"w-full sm:w-[200px] h-12",children:[a.jsx(Do,{className:"mr-2 h-4 w-4"}),a.jsx(Fe,{})]}),a.jsxs(De,{children:[a.jsx(X,{value:"todos",children:"Todos"}),a.jsx(X,{value:"compra",children:"Compras"}),a.jsx(X,{value:"venda",children:"Vendas"})]})]})]})})}),a.jsx("div",{className:"space-responsive-md",children:u.length===0?a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsx(U,{className:"p-responsive-lg text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma movimentao encontrada"})})}):u.map(v=>a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:shadow-md transition-shadow",children:a.jsx(U,{className:"p-responsive-sm",children:a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex items-start gap-4 min-w-0 flex-1",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-xl flex-shrink-0 ${v.tipo==="compra"?"bg-destructive":"bg-success"}`,children:v.tipo==="compra"?a.jsx(bf,{className:"h-5 w-5 text-destructive-foreground"}):a.jsx(pi,{className:"h-5 w-5 text-success-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2 flex-wrap",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-semibold text-foreground truncate",children:v.descricao}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ke(new Date(v.data),"dd 'de' MMMM 'de' yyyy",{locale:Ie})})]}),a.jsxs("p",{className:`font-bold text-lg whitespace-nowrap ${v.tipo==="compra"?"text-destructive":"text-success"}`,children:[v.tipo==="compra"?"- ":"+ ",f(v.valor)]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(ue,{variant:"outline",className:"capitalize",children:v.tipo==="compra"?"Compra":"Venda"}),v.status&&a.jsx(ue,{className:h(v.status),children:p(v.status)}),v.itens&&v.itens>0&&a.jsxs(ue,{variant:"secondary",children:[v.itens," ",v.itens===1?"item":"itens"]})]})]})]})})})},v.id))})]})}function Sje(){const{isMobile:e}=tw(),[t,r]=x.useState("list"),[n,s]=x.useState("lancamento"),[o,i]=x.useState(),[c,l]=x.useState(),{lancamentos:u,resumoFinanceiro:d,categorias:f,filtros:h,setFiltros:p,adicionarLancamento:v,atualizarLancamento:m,removerLancamento:g}=fb(),y=[],{contasFixas:b,categorias:w,criarContaFixa:j,atualizarContaFixa:N,removerContaFixa:S,pagarContaFixa:_,toggleAtiva:P,criarCategoria:E}=YM(),$=()=>{i(void 0),s("lancamento"),r("form")},A=()=>{l(void 0),s("conta_fixa"),r("form")},C=R=>{i(R),r("form")},O=async R=>{o?await m(o.id,R):await v(R),r("list"),i(void 0)},T=async R=>{c?await N(c.id,R):await j(R),r("list"),l(void 0)},I=()=>{r("list"),i(void 0),l(void 0)};return t==="form"?n==="lancamento"?a.jsx("div",{className:"space-y-6",children:a.jsx(sje,{lancamento:o,categorias:f.map(R=>R.nome),onSubmit:O,onCancel:I})}):a.jsx("div",{className:"space-y-6",children:a.jsx(gje,{conta:c,categorias:w,onSubmit:T,onCancel:I,onCreateCategoria:async(R,D)=>{await E({nome:R,tipo:"despesa",cor:D})}})}):a.jsxs("div",{className:"space-responsive-lg",children:[a.jsx("div",{className:"flex-responsive flex-responsive-row-md items-start justify-between",children:a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h1",{className:"text-responsive-3xl font-bold text-foreground",children:"Financeiro"}),a.jsx("p",{className:"text-responsive-base text-muted-foreground mt-2",children:"Controle completo das finanas do seu salo"})]})}),a.jsx(Nje,{contasFixas:b,onPagarConta:R=>_(R)}),a.jsx(eje,{resumo:d}),a.jsxs(is,{defaultValue:"lancamentos",className:"space-responsive-lg",children:[a.jsxs($p,{className:"w-full",children:[a.jsxs(Ea,{className:"inline-flex h-auto w-max min-w-full md:w-full md:grid md:grid-cols-7 gap-1 p-1",children:[a.jsxs(ct,{value:"lancamentos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(gl,{className:"mr-1 h-4 w-4 md:hidden"}),"Lanamentos"]}),a.jsxs(ct,{value:"contas-fixas",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(Ja,{className:"mr-1 h-4 w-4 md:hidden"}),"Contas Fixas"]}),a.jsxs(ct,{value:"produtos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(xo,{className:"mr-1 h-4 w-4 md:hidden"}),"Produtos"]}),a.jsxs(ct,{value:"contas-receber",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(ba,{className:"mr-1 h-4 w-4 md:hidden"}),"A Receber"]}),a.jsxs(ct,{value:"pagamentos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(gl,{className:"mr-1 h-4 w-4 md:hidden"}),"Pagamentos"]}),a.jsxs(ct,{value:"graficos",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(Bt,{className:"mr-1 h-4 w-4 md:hidden"}),"Grficos"]}),a.jsxs(ct,{value:"relatorios",className:"text-responsive-xs whitespace-nowrap min-h-[44px] data-[state=active]:bg-primary data-[state=active]:text-primary-foreground transition-all",children:[a.jsx(xo,{className:"mr-1 h-4 w-4 md:hidden"}),"Relatrios"]})]}),a.jsx(ew,{orientation:"horizontal",className:"md:hidden"})]}),a.jsxs(lt,{value:"lancamentos",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex-responsive flex-responsive-row-sm items-start justify-between gap-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Lanamentos Financeiros"}),a.jsxs(z,{onClick:$,className:"bg-gradient-to-r from-primary to-lilac-primary btn-touch flex-shrink-0 hover-scale",children:[a.jsx(wr,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Novo Lanamento"}),a.jsx("span",{className:"sm:hidden",children:"Novo"})]})]}),e?a.jsx(rje,{lancamentos:u,onEdit:C,onDelete:g}):a.jsx(tje,{lancamentos:u,filtros:h,categorias:f.map(R=>R.nome),onFiltrosChange:p,onEdit:C,onDelete:g})]}),a.jsxs(lt,{value:"contas-fixas",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex-responsive flex-responsive-row-sm items-start justify-between gap-4",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Contas Fixas Mensais"}),a.jsxs(z,{onClick:A,className:"bg-gradient-to-r from-primary to-lilac-primary btn-touch flex-shrink-0 hover-scale",children:[a.jsx(wr,{className:"mr-2 h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Nova Conta Fixa"}),a.jsx("span",{className:"sm:hidden",children:"Nova"})]})]}),e?a.jsx(nje,{contas:b,onEdit:R=>{l(R),s("conta_fixa"),r("form")},onDelete:S,onPagar:_,onToggleAtiva:P}):a.jsx(cje,{contas:b,categorias:w,onEdit:R=>{l(R),s("conta_fixa"),r("form")},onDelete:S,onPagar:_,onToggleAtiva:P})]}),a.jsxs(lt,{value:"produtos",className:"space-responsive-lg animate-fade-in",children:[a.jsx("h2",{className:"text-responsive-xl font-semibold mb-4",children:"Movimentaes de Produtos"}),a.jsx(_je,{})]}),a.jsxs(lt,{value:"contas-receber",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(ba,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Contas a Receber"})]}),a.jsx(vje,{agendamentos:y})]}),a.jsxs(lt,{value:"pagamentos",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gl,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Pagamentos dos Clientes"})]}),a.jsx(ije,{agendamentos:y})]}),a.jsxs(lt,{value:"graficos",className:"space-responsive-lg animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Bt,{className:"h-6 w-6 flex-shrink-0"}),a.jsx("h2",{className:"text-responsive-xl font-semibold",children:"Grficos e Anlises"})]}),a.jsx(oje,{lancamentos:u})]}),a.jsx(lt,{value:"relatorios",className:"space-responsive-lg animate-fade-in",children:a.jsx(jje,{})})]})]})}const nw=e=>{const[t,r]=x.useState([]),[n,s]=x.useState(!0);x.useEffect(()=>{o()},[e]);const o=async()=>{try{let d=W.from("configuracoes_horarios").select("*").eq("ativo",!0).order("dia_semana");if(!e){const{data:p}=await W.from("usuarios").select("id").limit(1);p&&p.length>0&&(d=d.eq("user_id",p[0].id))}const{data:f,error:h}=await d;if(h)throw h;r(f||[])}catch(d){console.error("Erro ao carregar configuraes de horrio:",d)}finally{s(!1)}},i=d=>!!t.find(h=>h.dia_semana===d&&h.ativo),c=(d,f)=>{const h=t.find(g=>g.dia_semana===d&&g.ativo);if(!h)return!1;const p=Zr(f),v=Zr(h.horario_abertura),m=Zr(h.horario_fechamento);if(p<v||p>=m)return!1;if(h.intervalo_inicio&&h.intervalo_fim){const g=Zr(h.intervalo_inicio),y=Zr(h.intervalo_fim);if(p>=g&&p<y)return!1}return!0};return{configuracoes:t,loading:n,isDiaAtivo:i,isHorarioValido:c,isAgendamentoValido:(d,f,h=60)=>{console.log("Validando agendamento:",{data:d,horario:f,duracao:h});const v=new Date(d+"T00:00:00").getDay();if(console.log("Dia da semana:",v),!i(v))return console.log("Dia no est ativo"),!1;if(!c(v,f))return console.log("Horrio no  vlido"),!1;const m=t.find(w=>w.dia_semana===v&&w.ativo);if(!m)return console.log("Nenhuma configurao encontrada"),!1;const g=Zr(f),y=g+h,b=Zr(m.horario_fechamento);if(y>b)return console.log("Servio terminaria aps fechamento"),!1;if(m.intervalo_inicio&&m.intervalo_fim){const w=Zr(m.intervalo_inicio),j=Zr(m.intervalo_fim);if(g<j&&y>w)return console.log("Conflito com intervalo de almoo"),!1}return console.log("Agendamento  vlido!"),!0},getHorariosDisponiveis:(d,f=60)=>{const h=t.find(b=>b.dia_semana===d&&b.ativo);if(!h)return[];const p=[],v=Zr(h.horario_abertura),m=Zr(h.horario_fechamento),g=h.intervalo_inicio?Zr(h.intervalo_inicio):null,y=h.intervalo_fim?Zr(h.intervalo_fim):null;for(let b=v;b<m;b+=30){const w=b+f;w>m||g&&y&&(b>=g&&b<y||w>g&&w<=y||b<g&&w>y)||p.push(Cje(b))}return p},refetch:o}},Zr=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},Cje=e=>{const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};function Pje(e){switch(e){case"online":return{label:"Online",emoji:"",className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-0"};case"cronograma":return{label:"Cronograma",emoji:"",className:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border-0"};case"manual":return{label:"Manual",emoji:"",className:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300 border-0"};default:return null}}function Aje(e){switch(e){case"agendado":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300";case"concluido":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";case"cancelado":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300";case"reagendado":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}}function kje({buscaTexto:e=""}){const[t,r]=x.useState(new Date),{todosAgendamentos:n,loading:s,converterAgendamentoOnlineParaRegular:o}=Io(),{getHorariosDisponiveis:i,isAgendamentoValido:c}=nw(),l=e.trim().toLowerCase(),u=Er(t),d=x.useMemo(()=>n.filter(N=>Er(N.data)===u).filter(N=>l?[N.clienteNome,N.servicoNome,N.status,N.origem,N.hora,N.observacoes||""].map(_=>String(_||"").toLowerCase()).some(_=>_.includes(l)):!0).sort((N,S)=>N.hora.localeCompare(S.hora)),[n,u,l]),f=new Date,h=Er(f),p=`${f.getHours().toString().padStart(2,"0")}:${f.getMinutes().toString().padStart(2,"0")}`,v=li(p),m=x.useMemo(()=>d.find(N=>Er(N.data)===h&&li(N.hora)>=v&&N.status==="agendado"),[d,h,v]),g=x.useMemo(()=>({agendados:d.filter(N=>N.status==="agendado").length,concluidos:d.filter(N=>N.status==="concluido").length,cancelados:d.filter(N=>N.status==="cancelado").length,valorTotal:d.reduce((N,S)=>N+Number(S.valor??0),0),valorRecebido:d.filter(N=>N.status==="concluido").reduce((N,S)=>N+Number(S.valorPago??S.valor??0),0),tempoTotalAtendimento:d.reduce((N,S)=>N+(S.duracao||0),0)}),[d]),y=x.useMemo(()=>{const N=new Date(u+"T00:00:00").getDay();return(i?.(N,60)||[]).filter(_=>{const P=li(_),E=P+60;return!d.some(A=>{const C=li(A.hora),O=C+(A.duracao||60);return EP(P,E,C,O)})})},[i,u,d]),b=()=>r(N=>of(N,1)),w=()=>r(N=>vr(N,1)),j=()=>r(new Date);return s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-gradient-to-r from-accent/10 to-primary/10 border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:b,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsxs("div",{className:"text-center min-w-[200px] lg:min-w-[250px]",children:[a.jsx("h2",{className:"text-lg lg:text-xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:ke(t,"EEEE, dd 'de' MMMM",{locale:Ie})}),a.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:ke(t,"yyyy",{locale:Ie})})]}),a.jsx(z,{variant:"outline",size:"sm",onClick:w,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(Mo,{className:"h-4 w-4"})})]}),a.jsx(z,{variant:"default",size:"sm",onClick:j,className:"w-full sm:w-auto transition-all hover:scale-105 shadow-md",children:"Hoje"})]}),m&&new Date(t).toDateString()===new Date().toDateString()&&a.jsx(F,{className:"border-0 bg-gradient-to-r from-primary/10 via-accent/5 to-primary/10 shadow-xl",children:a.jsx(U,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/20",children:a.jsx(Ir,{className:"h-4 w-4 text-primary"})}),a.jsx("h3",{className:"text-lg font-bold text-primary",children:"Prximo Cliente"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-xl font-bold",children:m.clienteNome}),a.jsx("p",{className:"text-muted-foreground",children:m.servicoNome}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(it,{className:"h-3 w-3"}),m.hora," (",m.duracao,"min)"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ut,{className:"h-3 w-3"}),"R$ ",Number(m.valor??0).toFixed(2)]})]})]})]}),a.jsxs("div",{className:"text-center lg:text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:m.hora}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Horrio previsto"})]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsx(F,{className:"group border-0 bg-gradient-to-br from-info/10 to-info/5 dark:from-info/10 dark:to-info/5 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(U,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-info/20",children:a.jsx(it,{className:"h-5 w-5 text-info"})}),a.jsx("div",{className:"text-xl lg:text-2xl font-bold text-info",children:g.agendados}),a.jsx("p",{className:"text-xs lg:text-sm text-info/70 font-medium",children:"Agendados"})]})})}),a.jsx(F,{className:"group border-0 bg-gradient-to-br from-success/10 to-success/5 dark:from-success/10 dark:to-success/5 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(U,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-success/20",children:a.jsx(Ir,{className:"h-5 w-5 text-success"})}),a.jsx("div",{className:"text-xl lg:text-2xl font-bold text-success",children:g.concluidos}),a.jsx("p",{className:"text-xs lg:text-sm text-success/70 font-medium",children:"Concludos"})]})})}),a.jsx(F,{className:"group border-0 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(U,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:a.jsx(ut,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{className:"text-lg lg:text-xl font-bold text-purple-700 dark:text-purple-300",children:["R$ ",g.valorTotal.toFixed(2)]}),a.jsx("p",{className:"text-xs lg:text-sm text-purple-600/70 dark:text-purple-400/70 font-medium",children:"Valor Total"})]})})}),a.jsx(F,{className:"group border-0 bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/20 dark:to-emerald-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(U,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900/30",children:a.jsx(ut,{className:"h-5 w-5 text-emerald-600 dark:text-emerald-400"})}),a.jsxs("div",{className:"text-lg lg:text-xl font-bold text-emerald-700 dark:text-emerald-300",children:["R$ ",g.valorRecebido.toFixed(2)]}),a.jsx("p",{className:"text-xs lg:text-sm text-emerald-600/70 dark:text-emerald-400/70 font-medium",children:"Recebido"})]})})}),a.jsx(F,{className:"group border-0 bg-gradient-to-br from-orange-50 to-orange-100/50 dark:from-orange-950/20 dark:to-orange-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(U,{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-orange-100 dark:bg-orange-900/30",children:a.jsx(it,{className:"h-5 w-5 text-orange-600 dark:text-orange-400"})}),a.jsxs("div",{className:"text-lg lg:text-xl font-bold text-orange-700 dark:text-orange-300",children:[Math.floor(g.tempoTotalAtendimento/60),"h",g.tempoTotalAtendimento%60,"m"]}),a.jsx("p",{className:"text-xs lg:text-sm text-orange-600/70 dark:text-orange-400/70 font-medium",children:"Tempo Total"})]})})})]}),a.jsxs("div",{className:"space-y-3 max-h-[500px] overflow-y-auto custom-scrollbar",role:"region","aria-label":"Timeline de agendamentos do dia",children:[y.length>0&&a.jsx(F,{className:"border-0 bg-gradient-to-br from-primary/5 to-accent/5",children:a.jsx(U,{className:"p-4",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:y.map(N=>a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-muted text-muted-foreground border border-border/50",children:N},N))})})}),d.length===0?a.jsxs("div",{className:"text-center py-12 rounded-xl bg-gradient-to-br from-muted/30 to-muted/10 border border-dashed border-muted-foreground/20",children:[a.jsx("div",{className:"flex h-16 w-16 items-center justify-center mx-auto mb-4 rounded-full bg-muted/50",children:a.jsx(it,{className:"h-8 w-8 text-muted-foreground/50"})}),a.jsx("h3",{className:"text-lg font-semibold text-muted-foreground mb-2",children:"Dia livre"}),a.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Nenhum agendamento para este dia"})]}):a.jsx("div",{className:"space-y-3",role:"list","aria-live":"polite","aria-busy":!1,children:d.map((N,S)=>a.jsxs(F,{className:J("group relative overflow-hidden border-0 bg-card/80 backdrop-blur-sm transition-all duration-300 hover:shadow-xl hover:scale-[1.02]",N.origem==="cronograma"&&"bg-gradient-to-r from-purple-50/80 to-purple-100/30 dark:from-purple-950/30 dark:to-purple-900/20",N.status==="concluido"&&"bg-gradient-to-r from-green-50/80 to-green-100/30 dark:from-green-950/30 dark:to-green-900/20",N.status==="cancelado"&&"bg-gradient-to-r from-red-50/80 to-red-100/30 dark:from-red-950/30 dark:to-red-900/20"),role:"listitem",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5"}),a.jsxs(U,{className:"relative p-5",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-primary/10 dark:bg-primary/20",children:[a.jsx(it,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-mono text-sm font-semibold text-primary",children:N.hora})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-semibold text-foreground",children:N.clienteNome})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($u,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:N.servicoNome})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[(()=>{const _=Pje(N.origem);return _?a.jsxs(ue,{variant:"secondary",className:_.className,children:[_.emoji," ",_.label]}):null})(),a.jsx(ue,{variant:"outline",className:J("border-0 font-medium",Aje(N.status)),children:N.status}),!c(Er(N.data),N.hora,N.duracao)&&a.jsx(ue,{variant:"destructive",className:"bg-amber-100 text-amber-800 border-0",children:"Fora do horrio"}),a.jsx("div",{className:"flex items-center gap-1 px-3 py-1 rounded-full bg-green-100 dark:bg-green-900/30",children:a.jsxs("span",{className:"text-sm font-bold text-green-700 dark:text-green-300",children:["R$ ",Number(N.valor??0).toFixed(2)]})})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground",children:[N.clienteTelefone&&a.jsxs("span",{className:"flex items-center gap-1",children:[" ",N.clienteTelefone]}),N.clienteEmail&&a.jsxs("span",{className:"flex items-center gap-1",children:[" ",N.clienteEmail]}),a.jsxs("span",{className:"flex items-center gap-1",children:[" Durao: ",N.duracao,"min"]}),N.valorPago>0&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[" Pago: R$ ",N.valorPago.toFixed(2)]})]})]}),String(N.id).startsWith("online_")&&a.jsx("div",{className:"mt-3",children:a.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{await o?.(String(N.id).replace("online_",""))?B.success("Agendamento online convertido com sucesso"):B.error("Falha ao converter agendamento online")},children:"Converter para regular"})}),N.observacoes&&a.jsx("div",{className:"mt-4 pt-3 border-t border-border/50",children:a.jsxs("p",{className:"text-sm text-muted-foreground italic",children:['"',N.observacoes,'"']})})]})]},N.id))})]})]})}function Eje({buscaTexto:e=""}){const[t,r]=x.useState(new Date),{todosAgendamentos:n,loading:s,converterAgendamentoOnlineParaRegular:o}=Io(),{getHorariosDisponiveis:i}=nw(),[c,l]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),[p,v]=x.useState(null),m=dn(t,{weekStartsOn:0}),g=Fc(t,{weekStartsOn:0}),y=x.useMemo(()=>YT({start:m,end:g}),[m,g]),b=e.trim().toLowerCase(),w=C=>n.filter(O=>Rr(pF(O.data),C)).filter(O=>b?[O.clienteNome,O.servicoNome,O.status,O.origem,O.hora,O.observacoes||""].map(I=>String(I||"").toLowerCase()).some(I=>I.includes(b)):!0).sort((O,T)=>O.hora.localeCompare(T.hora)),j=()=>r(C=>oye(C)),N=()=>r(C=>wu(C,1)),S=()=>r(new Date),_=x.useMemo(()=>y.reduce((C,O)=>[...C,...w(O)],[]),[y,n,b]),P=x.useMemo(()=>_.filter(C=>C.status==="agendado"),[_]),E=x.useMemo(()=>_.filter(C=>C.status==="concluido"),[_]),$=x.useMemo(()=>P.reduce((C,O)=>C+Number(O.valor??0),0),[P]),A=C=>{const O=C.getDay(),T=i?.(O,60)||[],I=w(C);return T.filter(R=>{const D=li(R),M=D+60;return!I.some(re=>{const K=li(re.hora),te=K+(re.duracao||60);return EP(D,M,K,te)})})};return s?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-gradient-to-r from-accent/10 to-primary/10 border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:j,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsx("div",{className:"text-center min-w-[280px] lg:min-w-[350px]",children:a.jsxs("h2",{className:"text-lg lg:text-xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:[ke(m,"dd 'de' MMM",{locale:Ie})," - ",ke(g,"dd 'de' MMM 'de' yyyy",{locale:Ie})]})}),a.jsx(z,{variant:"outline",size:"sm",onClick:N,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(Mo,{className:"h-4 w-4"})})]}),a.jsx(z,{variant:"default",size:"sm",onClick:S,className:"w-full sm:w-auto transition-all hover:scale-105 shadow-md",children:"Semana Atual"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(F,{className:"border-0 bg-gradient-to-br from-info/10 to-info/5 dark:from-info/10 dark:to-info/5 shadow-lg",children:a.jsx(U,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-info/20",children:a.jsx(Se,{className:"h-6 w-6 text-info"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-info",children:P.length}),a.jsx("p",{className:"text-sm text-info/70 font-medium",children:"Agendados"})]})]})})}),a.jsx(F,{className:"border-0 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 shadow-lg",children:a.jsx(U,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:a.jsx(ut,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300",children:["R$ ",$.toFixed(2)]}),a.jsx("p",{className:"text-sm text-purple-600/70 dark:text-purple-400/70 font-medium",children:"A Receber"})]})]})})}),a.jsx(F,{className:"border-0 bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/20 shadow-lg",children:a.jsx(U,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-100 dark:bg-green-900/30",children:a.jsx(it,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-3xl font-bold text-green-700 dark:text-green-300",children:E.length}),a.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-400/70 font-medium",children:"Concludos"})]})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",role:"list","aria-label":"Dias da semana",children:y.map(C=>{const O=w(C),T=A(C);return a.jsx(F,{className:"border-0 bg-card/60",role:"listitem",children:a.jsxs(U,{className:"p-4 space-y-3",children:[a.jsxs("button",{type:"button",className:"flex items-center justify-between w-full text-left",onClick:()=>{v(C),h(!0)},"aria-label":`Ver todos os horrios de ${ke(C,"EEEE, dd 'de' MMM",{locale:Ie})}`,children:[a.jsx("div",{className:"font-semibold",children:ke(C,"EEEE, dd 'de' MMM",{locale:Ie})}),a.jsxs(ue,{variant:"outline",className:"border-0 bg-info/20 text-info",children:[O.length," agend."]})]}),O.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",role:"list","aria-label":"Horrios do dia",children:[O.slice(0,6).map(I=>a.jsx("button",{type:"button",onClick:()=>{d(I),l(!0)},className:"px-2 py-1 rounded-md bg-muted hover:bg-muted/80 transition-colors","aria-label":`Ver detalhes de ${I.clienteNome} s ${I.hora}`,role:"listitem",children:I.hora},I.id)),O.length>6&&a.jsxs("span",{className:"px-2 py-1 rounded-md bg-muted",children:["+",O.length-6]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs font-medium mb-2 text-muted-foreground",children:"Horrios disponveis"}),T.length===0?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Sem horrios disponveis"}):a.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.slice(0,10).map(I=>a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border border-emerald-200/60",children:I},I)),T.length>10&&a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-muted",children:["+",T.length-10]})]})]})]})},C.toISOString())})}),a.jsx(Fr,{open:c,onOpenChange:l,children:a.jsx(Nr,{className:"max-w-lg",children:u&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(_r,{children:[a.jsxs(Sr,{className:"flex items-center justify-between",children:[a.jsx("span",{children:u.clienteNome}),a.jsx(ue,{className:"bg-info/20 text-info border-0 capitalize",children:u.status})]}),a.jsx(Nn,{children:ke(new Date(String(u.data)),"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ie})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Horrio"}),a.jsxs("div",{className:"font-medium",children:[u.hora," (",u.duracao,"min)"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Servio"}),a.jsx("div",{className:"font-medium",children:u.servicoNome})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Valor"}),a.jsxs("div",{className:"font-medium",children:["R$ ",Number(u.valor??0).toFixed(2)]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-muted-foreground",children:"Origem"}),a.jsx("div",{className:"font-medium capitalize",children:u.origem||"manual"})]})]}),a.jsxs("div",{className:"text-sm space-y-1",children:[u.clienteTelefone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:u.clienteTelefone})]}),u.clienteEmail&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:u.clienteEmail})]}),u.observacoes&&a.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/60",children:[a.jsx("div",{className:"text-muted-foreground mb-1",children:"Observaes"}),a.jsxs("div",{className:"italic",children:['"',u.observacoes,'"']})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[u&&String(u.id).startsWith("online_")&&a.jsx(z,{variant:"outline",onClick:async()=>{await o?.(String(u.id).replace("online_",""))?B.success("Agendamento online convertido com sucesso"):B.error("Falha ao converter agendamento online")},children:"Converter para regular"}),a.jsx(z,{variant:"outline",onClick:()=>l(!1),autoFocus:!0,children:"Fechar"})]})]})})}),a.jsx(Fr,{open:f,onOpenChange:h,children:a.jsx(Nr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:p&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(_r,{children:[a.jsx(Sr,{children:ke(p,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ie})}),a.jsx(Nn,{children:"Todos os horrios agendados e disponveis para o dia."})]}),(()=>{const C=w(p),O=A(p);return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(F,{className:"border-0 bg-card/60",children:a.jsxs(U,{className:"p-4 space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Agendados (",C.length,")"]}),C.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento"}):a.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto pr-1",role:"list","aria-label":"Agendados do dia",children:C.map(T=>a.jsx("button",{type:"button",onClick:()=>{d(T),l(!0)},className:"px-2 py-1 rounded-md bg-muted hover:bg-muted/80 text-xs transition-colors",role:"listitem",children:T.hora},T.id))})]})}),a.jsx(F,{className:"border-0 bg-card/60",children:a.jsxs(U,{className:"p-4 space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Horrios disponveis (",O.length,")"]}),O.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Sem horrios disponveis"}):a.jsx("div",{className:"flex flex-wrap gap-2 max-h-64 overflow-y-auto pr-1",role:"list","aria-label":"Horrios disponveis do dia",children:O.map(T=>a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300 border border-emerald-200/60",role:"listitem",children:T},T))})]})})]})})(),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{variant:"outline",onClick:()=>h(!1),autoFocus:!0,children:"Fechar"})})]})})})]})}function tD({open:e,onOpenChange:t,agendamento:r,onReagendar:n,verificarConflito:s}){const[o,i]=x.useState(""),[c,l]=x.useState(""),[u,d]=x.useState(!1);if(!r)return null;const f=m=>ke(new Date(m+"T12:00:00"),"dd 'de' MMMM",{locale:Ie}),h=m=>m.slice(0,5),p=async m=>{if(m.preventDefault(),!o||!c){B.error("Preencha a nova data e horrio");return}if(o===r.data&&c===r.hora){B.error("A nova data e horrio devem ser diferentes do atual");return}const g={data:o,hora:c,duracao:r.duracao};if(s(g,r.id)){B.error("J existe um agendamento neste horrio");return}d(!0);try{await n(r.id,o,c)?(B.success("Agendamento reagendado com sucesso!"),t(!1),i(""),l("")):B.error("Erro ao reagendar agendamento")}catch{B.error("Erro ao reagendar agendamento")}finally{d(!1)}},v=()=>{i(""),l(""),t(!1)};return a.jsx(Fr,{open:e,onOpenChange:t,children:a.jsxs(Nr,{className:"sm:max-w-[500px]",children:[a.jsxs(_r,{children:[a.jsxs(Sr,{className:"flex items-center gap-2",children:[a.jsx(la,{className:"h-5 w-5 text-primary"}),"Reagendar Agendamento"]}),a.jsx(Nn,{children:"Altere a data e horrio do agendamento selecionado"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsx(F,{className:"bg-muted/50",children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-foreground",children:r.clienteNome}),a.jsxs(ue,{className:"bg-info text-info-foreground",children:[a.jsx(Se,{className:"h-3 w-3 mr-1"}),"Agendado"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:f(r.data)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),a.jsx("span",{children:h(r.hora)})]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Servio:"})," ",r.servicoNome]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nova-data",className:"text-sm font-medium",children:"Nova Data"}),a.jsx(ee,{id:"nova-data",type:"date",value:o,onChange:m=>i(m.target.value),min:new Date().toISOString().split("T")[0],required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nova-hora",className:"text-sm font-medium",children:"Nova Hora"}),a.jsx(ee,{id:"nova-hora",type:"time",value:c,onChange:m=>l(m.target.value),step:"300",required:!0})]})]}),o&&c&&a.jsx(F,{className:"bg-success/10 border-success/20",children:a.jsxs(U,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-success",children:[a.jsx(la,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Novo agendamento:"})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4 text-sm text-success",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:f(o)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),a.jsx("span",{children:h(c)})]})]})]})}),a.jsxs(Pp,{children:[a.jsx(z,{type:"button",variant:"outline",onClick:v,disabled:u,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:u||!o||!c,className:"bg-gradient-to-r from-primary to-lilac-primary",children:u?a.jsxs(a.Fragment,{children:[a.jsx(la,{className:"mr-2 h-4 w-4 animate-spin"}),"Reagendando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(la,{className:"mr-2 h-4 w-4"}),"Reagendar"]})})]})]})]})})}function Oje({buscaTexto:e=""}){const[t,r]=x.useState(new Date),{todosAgendamentos:n,loading:s,verificarConflito:o,atualizarAgendamento:i,cancelarAgendamento:c,converterAgendamentoOnlineParaRegular:l}=Io(),{user:u}=Lt(),[d,f]=x.useState(null),[h,p]=x.useState(!1),[v,m]=x.useState(!1),[g,y]=x.useState(null),[b,w]=x.useState(!1);Jt(t),qa(t);const j=()=>r(D=>a$(D,1)),N=()=>r(D=>un(D,1)),S=()=>r(new Date),_=e.trim().toLowerCase(),P=x.useMemo(()=>{const D=Er(t).slice(0,7);return n.filter(M=>Er(M.data).slice(0,7)===D).filter(M=>_?[M.clienteNome,M.servicoNome,M.status,M.origem,M.hora,M.observacoes||""].map(re=>String(re||"").toLowerCase()).some(re=>re.includes(_)):!0)},[n,t,_]),E=x.useMemo(()=>P.filter(D=>D.status==="agendado"),[P]),$=x.useMemo(()=>P.filter(D=>D.status==="concluido"),[P]),A=x.useMemo(()=>E.reduce((D,M)=>D+Number(M.valor??0),0),[E]),C=x.useMemo(()=>{const D=dn(Jt(t),{weekStartsOn:0}),M=Fc(qa(t),{weekStartsOn:0});return YT({start:D,end:M})},[t]),[O,T]=x.useState(new Map);x.useEffect(()=>{let D=!1;return(async()=>{try{if(!u)return;const{data:V,error:re}=await W.rpc("contagem_agendamentos_por_dia",{p_user_id:u.id,p_mes:Er(t)});if(re||!Array.isArray(V)){const te=new Map;for(const ce of P){const _e=Er(ce.data);te.set(_e,(te.get(_e)||0)+1)}D||T(te);return}const K=new Map;for(const te of V){const ce=Er(te.dia);K.set(ce,Number(te.total||0))}D||T(K)}catch{const V=new Map;for(const re of P){const K=Er(re.data);V.set(K,(V.get(K)||0)+1)}D||T(V)}})(),()=>{D=!0}},[u,t,P]);const I=x.useCallback(D=>{const M=Er(D);return P.filter(V=>Er(V.data)===M).sort((V,re)=>V.hora.localeCompare(re.hora))},[P]),R=D=>{const M=Er(D),[V,re,K]=M.split("-").map(Number);return new Date(V,(re||1)-1,K||1)};return s?a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"}),a.jsx("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})]}):a.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-4 rounded-xl bg-gradient-to-r from-accent/10 to-primary/10 border border-border/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:j,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsx("div",{className:"text-center min-w-[220px] lg:min-w-[280px]",children:a.jsx("h2",{className:"text-lg lg:text-xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:ke(t,"MMMM 'de' yyyy",{locale:Ie})})}),a.jsx(z,{variant:"outline",size:"sm",onClick:N,className:"h-9 w-9 p-0 rounded-full transition-all hover:scale-110 hover:shadow-md",children:a.jsx(Mo,{className:"h-4 w-4"})})]}),a.jsx(z,{variant:"default",size:"sm",onClick:S,className:"w-full sm:w-auto transition-all hover:scale-105 shadow-md",children:"Ms Atual"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(F,{className:"group border-0 bg-gradient-to-br from-info/10 to-info/5 dark:from-info/10 dark:to-info/5 transition-all hover:shadow-lg hover:scale-105",children:a.jsxs(U,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-info",children:E.length}),a.jsx("p",{className:"text-sm text-info/70 font-medium",children:"Agendados"})]})}),a.jsx(F,{className:"group border-0 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsx(U,{className:"p-6 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-purple-100 dark:bg-purple-900/30",children:a.jsx(ut,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-purple-600 dark:text-purple-400",children:["R$ ",A.toFixed(2)]}),a.jsx("p",{className:"text-sm text-purple-600/70 dark:text-purple-400/70 font-medium",children:"A Receber"})]})})}),a.jsx(F,{className:"group border-0 bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/20 transition-all hover:shadow-lg hover:scale-105",children:a.jsxs(U,{className:"p-6 text-center",children:[a.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-green-600 dark:text-green-400",children:$.length}),a.jsx("p",{className:"text-sm text-green-600/70 dark:text-green-400/70 font-medium",children:"Concludos"})]})})]}),a.jsx(F,{className:"border-0 bg-card/60",children:a.jsxs(U,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-7 gap-2 text-xs text-muted-foreground",children:[a.jsx("div",{className:"text-center font-medium",children:"Dom"}),a.jsx("div",{className:"text-center font-medium",children:"Seg"}),a.jsx("div",{className:"text-center font-medium",children:"Ter"}),a.jsx("div",{className:"text-center font-medium",children:"Qua"}),a.jsx("div",{className:"text-center font-medium",children:"Qui"}),a.jsx("div",{className:"text-center font-medium",children:"Sex"}),a.jsx("div",{className:"text-center font-medium",children:"Sb"})]}),a.jsx("div",{className:"grid grid-cols-7 gap-2",role:"grid","aria-label":"Calendrio mensal",children:C.map(D=>{const M=_p(D,t),V=Er(D),re=O.get(V)||0;return a.jsx("button",{type:"button",onClick:()=>{f(D),p(!0)},className:`relative p-2 rounded-lg text-left border transition-colors ${M?"bg-background hover:bg-muted border-border/60":"bg-muted/40 text-muted-foreground/70 border-transparent"}`,"aria-label":`${ke(D,"dd 'de' MMMM",{locale:Ie})} - ${re} agendamentos`,role:"gridcell",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm font-medium ${M?"text-foreground":"text-muted-foreground/70"}`,children:ke(D,"d",{locale:Ie})}),re>0&&a.jsx(ue,{className:"bg-info/20 text-info border-0","aria-label":`${re} agendamentos`,children:re})]})},V)})})]})}),a.jsx(Fr,{open:h,onOpenChange:p,children:a.jsx(Nr,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:d&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(_r,{children:[a.jsx(Sr,{children:ke(d,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ie})}),a.jsx(Nn,{children:"Agendamentos do dia"})]}),(()=>{const D=I(d);return a.jsx("div",{className:"space-y-2",children:D.length===0?a.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhum agendamento"}):a.jsx("div",{className:"space-y-2",role:"list","aria-label":"Agendamentos do dia",children:D.map(M=>a.jsxs("div",{className:"p-3 rounded-md bg-muted",role:"listitem",children:[a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"px-2 py-0.5 rounded-md bg-primary/10 text-primary text-xs font-semibold",children:M.hora}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:M.clienteNome}),a.jsx("div",{className:"text-xs text-muted-foreground",children:M.servicoNome})]})]}),a.jsxs("div",{className:"text-sm font-semibold whitespace-nowrap",children:["R$ ",Number(M.valor??0).toFixed(2)]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx(z,{variant:"outline",size:"sm",onClick:()=>{y(M),w(!0)},children:"Detalhes"}),a.jsx(z,{variant:"outline",size:"sm",onClick:()=>{y(M),m(!0)},children:"Reagendar"}),M.status!=="concluido"&&a.jsx(z,{variant:"default",size:"sm",onClick:async()=>{await i?.(M.id,{status:"concluido"})},children:"Marcar concludo"}),M.status!=="cancelado"&&a.jsx(z,{variant:"destructive",size:"sm",onClick:async()=>{await c?.(M.id)},children:"Cancelar"}),String(M.id).startsWith("online_")&&a.jsx(z,{variant:"outline",size:"sm",onClick:async()=>{await l?.(String(M.id).replace("online_",""))?B.success("Agendamento online convertido com sucesso"):B.error("Falha ao converter agendamento online")},children:"Converter para regular"})]})]},M.id))})})})(),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{variant:"outline",onClick:()=>p(!1),autoFocus:!0,children:"Fechar"})})]})})}),a.jsx(tD,{open:v,onOpenChange:m,agendamento:g,onReagendar:async(D,M,V)=>!!await i?.(D,{data:M,hora:V}),verificarConflito:o}),a.jsx(Fr,{open:b,onOpenChange:w,children:a.jsx(Nr,{className:"max-w-lg",children:g&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs(_r,{children:[a.jsxs(Sr,{className:"flex items-center justify-between",children:[a.jsx("span",{children:g.clienteNome}),a.jsx(ue,{className:"border-0 capitalize bg-info/20 text-info",children:g.status})]}),a.jsx(Nn,{children:ke(R(g.data),"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ie})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Horrio"}),a.jsxs("div",{className:"font-medium",children:[g.hora," (",g.duracao,"min)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Servio"}),a.jsx("div",{className:"font-medium",children:g.servicoNome})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Valor"}),a.jsxs("div",{className:"font-medium",children:["R$ ",Number(g.valor??0).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-muted-foreground",children:"Origem"}),a.jsx("div",{className:"font-medium capitalize",children:g.origem||"manual"})]})]}),g.observacoes&&a.jsxs("div",{className:"mt-2 p-3 rounded-md bg-muted/60 text-sm",children:[a.jsx("div",{className:"text-muted-foreground mb-1",children:"Observaes"}),a.jsxs("div",{className:"italic",children:['"',g.observacoes,'"']})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(z,{variant:"outline",onClick:()=>w(!1),autoFocus:!0,children:"Fechar"})})]})})})]})}const OC=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim();function Tje({cliente:e,agendamentos:t,onClose:r}){const n=x.useMemo(()=>{const u=t.filter(g=>g.clienteId===e.id),d=u.filter(g=>g.status==="concluido"),f=u.filter(g=>g.status==="cancelado"),h=u.filter(g=>g.status==="agendado"),p=d.reduce((g,y)=>g+(y.valorPago||0),0),v=d.length,m=[...u].sort((g,y)=>{const b=new Date(`${g.data}T${g.hora}`);return new Date(`${y.data}T${y.hora}`).getTime()-b.getTime()});return{total:u.length,concluidos:d.length,cancelados:f.length,agendados:h.length,totalGasto:p,totalServicos:v,historico:m}},[t,e.id]),s=u=>u.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),o=u=>{const d=u.replace(/\D/g,"");return d.length===11?`(${d.slice(0,2)}) ${d.slice(2,7)}-${d.slice(7)}`:u},i=()=>{const u=e.telefone.replace(/\D/g,""),d=`Ol ${e.nome||e.nomeCompleto}! Tudo bem?`;window.open(`https://wa.me/55${u}?text=${encodeURIComponent(d)}`,"_blank")},c=()=>{window.open(`tel:${e.telefone}`,"_self")},l=u=>{switch(u){case"concluido":return a.jsxs(ue,{className:"bg-green-500/20 text-green-700 border-green-500/30",children:[a.jsx(bt,{className:"h-3 w-3 mr-1"}),"Concludo"]});case"cancelado":return a.jsxs(ue,{className:"bg-red-500/20 text-red-700 border-red-500/30",children:[a.jsx(Vt,{className:"h-3 w-3 mr-1"}),"Cancelado"]});case"agendado":return a.jsxs(ue,{className:"bg-blue-500/20 text-blue-700 border-blue-500/30",children:[a.jsx(Se,{className:"h-3 w-3 mr-1"}),"Agendado"]});default:return a.jsx(ue,{variant:"outline",children:u})}};return a.jsxs(F,{className:"border-primary/20 bg-card/95 backdrop-blur-sm shadow-xl animate-fade-in",children:[a.jsxs(ne,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(Ir,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx(ae,{className:"text-lg",children:e.nome||e.nomeCompleto}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o(e.telefone)})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"h-8 w-8 p-0",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[a.jsxs(z,{size:"sm",variant:"outline",onClick:c,className:"flex-1 h-9",children:[a.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Ligar"]}),a.jsxs(z,{size:"sm",variant:"outline",onClick:i,className:"flex-1 h-9 bg-green-50 hover:bg-green-100 border-green-200",children:[a.jsx(yo,{className:"h-4 w-4 mr-2 text-green-600"}),"WhatsApp"]})]})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 text-center",children:[a.jsx(ut,{className:"h-5 w-5 mx-auto text-primary mb-1"}),a.jsx("p",{className:"text-lg font-bold text-primary",children:s(n.totalGasto)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Gasto"})]}),a.jsxs("div",{className:"bg-green-500/10 rounded-lg p-3 text-center",children:[a.jsx(bt,{className:"h-5 w-5 mx-auto text-green-600 mb-1"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:n.concluidos}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Concludos"})]}),a.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-3 text-center",children:[a.jsx(Se,{className:"h-5 w-5 mx-auto text-blue-600 mb-1"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:n.agendados}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Agendados"})]}),a.jsxs("div",{className:"bg-red-500/10 rounded-lg p-3 text-center",children:[a.jsx(Vt,{className:"h-5 w-5 mx-auto text-red-600 mb-1"}),a.jsx("p",{className:"text-lg font-bold text-red-600",children:n.cancelados}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cancelados"})]})]}),a.jsx(Ba,{}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(LF,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("h3",{className:"font-semibold text-sm",children:["Histrico Completo (",n.total,")"]})]}),a.jsx($p,{className:"h-[300px] pr-4",children:n.historico.length>0?a.jsx("div",{className:"space-y-3",children:n.historico.map(u=>a.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 border border-border/50 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:u.servicoNome}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[a.jsx(Se,{className:"h-3 w-3"}),a.jsx("span",{children:ke(new Date(u.data+"T12:00:00"),"dd/MM/yyyy",{locale:Ie})}),a.jsx(it,{className:"h-3 w-3 ml-1"}),a.jsx("span",{children:u.hora?.slice(0,5)})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[l(u.status),a.jsx("p",{className:"text-sm font-semibold mt-1",children:s(u.valor)}),u.valorPago>0&&u.valorPago<u.valor&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pago: ",s(u.valorPago)]})]})]}),u.observacoes&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 italic bg-muted/50 p-2 rounded",children:u.observacoes}),u.origem&&u.origem!=="manual"&&a.jsx(ue,{variant:"outline",className:"mt-2 text-xs",children:u.origem==="cronograma"?" Cronograma":u.origem==="online"?" Online":u.origem})]},u.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Se,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),a.jsx("p",{children:"Nenhum agendamento encontrado"})]})})]})]})]})}function $je({buscaTexto:e,clientes:t,agendamentos:r,onClienteSelect:n,clienteSelecionado:s}){const o=x.useMemo(()=>{if(!e||e.length<2)return[];const i=OC(e).split(/\s+/).filter(Boolean);return t.filter(c=>{const l=c.nome||c.nomeCompleto||"",u=c.telefone?.replace(/\D/g,"")||"",d=OC(`${l} ${u}`);return i.every(f=>d.includes(f))}).slice(0,5)},[e,t]);return s?a.jsx(Tje,{cliente:s,agendamentos:r,onClose:()=>n(null)}):!e||e.length<2?null:o.length===0?a.jsx(F,{className:"border-border/50 bg-card/95 backdrop-blur-sm animate-fade-in",children:a.jsxs(U,{className:"p-4 text-center text-muted-foreground",children:[a.jsx(Ir,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),a.jsxs("p",{className:"text-sm",children:['Nenhum cliente encontrado para "',e,'"']})]})}):a.jsxs(F,{className:"border-border/50 bg-card/95 backdrop-blur-sm animate-fade-in",children:[a.jsx(ne,{className:"pb-2",children:a.jsxs(ae,{className:"text-sm flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Clientes encontrados (",o.length,")"]})}),a.jsx(U,{className:"p-2",children:a.jsx("div",{className:"space-y-1",children:o.map(i=>{const c=r.filter(u=>u.clienteId===i.id),l=c.filter(u=>u.status==="concluido").reduce((u,d)=>u+(d.valorPago||0),0);return a.jsxs("button",{onClick:()=>n(i),className:"w-full flex items-center gap-3 p-3 rounded-lg hover:bg-muted/80 transition-colors text-left",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(Ir,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:i.nome||i.nomeCompleto}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.length," agendamento",c.length!==1?"s":"","  Total: ",l.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]})]}),a.jsx(Bt,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]},i.id)})})})]})}function Mje(){const[e,t]=x.useState("dia"),[r,n]=x.useState(""),[s,o]=x.useState(null),{loading:i,todosAgendamentos:c,clientes:l}=Io(),u=new Date;return c.filter(d=>new Date(d.data).toDateString()===u.toDateString()),c.length,c.filter(d=>d.status==="agendado").length,a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:a.jsxs("div",{className:"container mx-auto p-4 lg:p-8 space-y-6 lg:space-y-8",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 via-primary/5 to-accent/10 p-6 lg:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5"}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 backdrop-blur-sm shadow-lg",children:a.jsx(Se,{className:"h-7 w-7 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Agenda Profissional"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Organize e gerencie seus agendamentos com eficincia"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-4 w-full lg:w-auto",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar cliente para ver histrico...",value:r,onChange:d=>{n(d.target.value),d.target.value||o(null)},className:"pl-10 pr-10 w-full lg:w-72 bg-background/80 backdrop-blur-sm border-border/50"}),r&&a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{n(""),o(null)},className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex gap-2 w-full lg:w-auto",children:[a.jsxs(z,{variant:e==="dia"?"default":"outline",size:"sm",onClick:()=>t("dia"),className:"flex-1 lg:flex-none transition-all duration-200 hover:scale-105 shadow-md",children:[a.jsx(it,{className:"h-4 w-4 lg:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Dia"})]}),a.jsxs(z,{variant:e==="semana"?"default":"outline",size:"sm",onClick:()=>t("semana"),className:"flex-1 lg:flex-none transition-all duration-200 hover:scale-105 shadow-md",children:[a.jsx(AF,{className:"h-4 w-4 lg:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Semana"})]}),a.jsxs(z,{variant:e==="mes"?"default":"outline",size:"sm",onClick:()=>t("mes"),className:"flex-1 lg:flex-none transition-all duration-200 hover:scale-105 shadow-md",children:[a.jsx(kF,{className:"h-4 w-4 lg:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Ms"})]})]})]})]})})]}),r&&a.jsx($je,{buscaTexto:r,clientes:l,agendamentos:c,onClienteSelect:o,clienteSelecionado:s}),a.jsx("div",{className:"relative",children:i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-32 bg-muted/50 animate-pulse rounded-2xl"}),a.jsx("div",{className:"h-96 bg-muted/50 animate-pulse rounded-2xl"})]}):a.jsxs("div",{className:"animate-fade-in",children:[e==="dia"&&a.jsx(kje,{}),e==="semana"&&a.jsx(Eje,{}),e==="mes"&&a.jsx(Oje,{})]})}),a.jsx(F,{className:"border-0 bg-card/50 backdrop-blur-sm",children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-400"}),a.jsx("span",{children:"Cronograma"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),a.jsx("span",{children:"Online"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"}),a.jsx("span",{children:"Concludo"})]})]}),a.jsxs("div",{className:"text-xs",children:["ltima atualizao: ",new Date().toLocaleTimeString("pt-BR")]})]})})})]})})}var vy=["Enter"," "],Dje=["ArrowDown","PageUp","Home"],rD=["ArrowUp","PageDown","End"],Rje=[...Dje,...rD],Ije={ltr:[...vy,"ArrowRight"],rtl:[...vy,"ArrowLeft"]},Lje={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ld="Menu",[Cu,Fje,zje]=pp(ld),[Wo,nD]=Qn(ld,[zje,Ds,vp]),Mp=Ds(),aD=vp(),[Bje,qo]=Wo(ld),[Vje,ud]=Wo(ld),sD=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,c=Mp(t),[l,u]=x.useState(null),d=x.useRef(!1),f=or(o),h=Ic(s);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(gm,{...c,children:a.jsx(Bje,{scope:t,open:r,onOpenChange:f,content:l,onContentChange:u,children:a.jsx(Vje,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};sD.displayName=ld;var Uje="MenuAnchor",aw=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Mp(r);return a.jsx(zu,{...s,...n,ref:t})});aw.displayName=Uje;var sw="MenuPortal",[Wje,oD]=Wo(sw,{forceMount:void 0}),iD=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=qo(sw,t);return a.jsx(Wje,{scope:t,forceMount:r,children:a.jsx(Cr,{present:r||o.open,children:a.jsx(Ru,{asChild:!0,container:s,children:n})})})};iD.displayName=sw;var yn="MenuContent",[qje,ow]=Wo(yn),cD=x.forwardRef((e,t)=>{const r=oD(yn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=qo(yn,e.__scopeMenu),i=ud(yn,e.__scopeMenu);return a.jsx(Cu.Provider,{scope:e.__scopeMenu,children:a.jsx(Cr,{present:n||o.open,children:a.jsx(Cu.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(Hje,{...s,ref:t}):a.jsx(Gje,{...s,ref:t})})})})}),Hje=x.forwardRef((e,t)=>{const r=qo(yn,e.__scopeMenu),n=x.useRef(null),s=Be(t,n);return x.useEffect(()=>{const o=n.current;if(o)return lm(o)},[]),a.jsx(iw,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Gje=x.forwardRef((e,t)=>{const r=qo(yn,e.__scopeMenu);return a.jsx(iw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),iw=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:v,...m}=e,g=qo(yn,r),y=ud(yn,r),b=Mp(r),w=aD(r),j=Fje(r),[N,S]=x.useState(null),_=x.useRef(null),P=Be(t,_,g.onContentChange),E=x.useRef(0),$=x.useRef(""),A=x.useRef(0),C=x.useRef(null),O=x.useRef("right"),T=x.useRef(0),I=v?Iu:x.Fragment,R=v?{as:Lr,allowPinchZoom:!0}:void 0,D=V=>{const re=$.current+V,K=j().filter(le=>!le.disabled),te=document.activeElement,ce=K.find(le=>le.ref.current===te)?.textValue,_e=K.map(le=>le.textValue),Ze=sNe(_e,re,ce),Ee=K.find(le=>le.textValue===Ze)?.ref.current;(function le(Re){$.current=Re,window.clearTimeout(E.current),Re!==""&&(E.current=window.setTimeout(()=>le(""),1e3))})(re),Ee&&setTimeout(()=>Ee.focus())};x.useEffect(()=>()=>window.clearTimeout(E.current),[]),im();const M=x.useCallback(V=>O.current===C.current?.side&&iNe(V,C.current?.area),[]);return a.jsx(qje,{scope:r,searchRef:$,onItemEnter:x.useCallback(V=>{M(V)&&V.preventDefault()},[M]),onItemLeave:x.useCallback(V=>{M(V)||(_.current?.focus(),S(null))},[M]),onTriggerLeave:x.useCallback(V=>{M(V)&&V.preventDefault()},[M]),pointerGraceTimerRef:A,onPointerGraceIntentChange:x.useCallback(V=>{C.current=V},[]),children:a.jsx(I,{...R,children:a.jsx(Du,{asChild:!0,trapped:s,onMountAutoFocus:fe(o,V=>{V.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(pc,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:a.jsx(XO,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:fe(l,V=>{y.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(vm,{role:"menu","aria-orientation":"vertical","data-state":_D(g.open),"data-radix-menu-content":"",dir:y.dir,...b,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:fe(m.onKeyDown,V=>{const K=V.target.closest("[data-radix-menu-content]")===V.currentTarget,te=V.ctrlKey||V.altKey||V.metaKey,ce=V.key.length===1;K&&(V.key==="Tab"&&V.preventDefault(),!te&&ce&&D(V.key));const _e=_.current;if(V.target!==_e||!Rje.includes(V.key))return;V.preventDefault();const Ee=j().filter(le=>!le.disabled).map(le=>le.ref.current);rD.includes(V.key)&&Ee.reverse(),nNe(Ee)}),onBlur:fe(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(E.current),$.current="")}),onPointerMove:fe(e.onPointerMove,Pu(V=>{const re=V.target,K=T.current!==V.clientX;if(V.currentTarget.contains(re)&&K){const te=V.clientX>T.current?"right":"left";O.current=te,T.current=V.clientX}}))})})})})})})});cD.displayName=yn;var Kje="MenuGroup",cw=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Pe.div,{role:"group",...n,ref:t})});cw.displayName=Kje;var Yje="MenuLabel",lD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Pe.div,{...n,ref:t})});lD.displayName=Yje;var Uh="MenuItem",TC="menu.itemSelect",Dp=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=x.useRef(null),i=ud(Uh,e.__scopeMenu),c=ow(Uh,e.__scopeMenu),l=Be(t,o),u=x.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(TC,{bubbles:!0,cancelable:!0});f.addEventListener(TC,p=>n?.(p),{once:!0}),FP(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(uD,{...s,ref:l,disabled:r,onClick:fe(e.onClick,d),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:fe(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:fe(e.onKeyDown,f=>{const h=c.searchRef.current!=="";r||h&&f.key===" "||vy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Dp.displayName=Uh;var uD=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=ow(Uh,r),c=aD(r),l=x.useRef(null),u=Be(t,l),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const v=l.current;v&&p((v.textContent??"").trim())},[o.children]),a.jsx(Cu.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(JO,{asChild:!0,...c,focusable:!n,children:a.jsx(Pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:fe(e.onPointerMove,Pu(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,Pu(v=>i.onItemLeave(v))),onFocus:fe(e.onFocus,()=>f(!0)),onBlur:fe(e.onBlur,()=>f(!1))})})})}),Zje="MenuCheckboxItem",dD=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(gD,{scope:e.__scopeMenu,checked:r,children:a.jsx(Dp,{role:"menuitemcheckbox","aria-checked":Wh(r)?"mixed":r,...s,ref:t,"data-state":uw(r),onSelect:fe(s.onSelect,()=>n?.(Wh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});dD.displayName=Zje;var fD="MenuRadioGroup",[Xje,Jje]=Wo(fD,{value:void 0,onValueChange:()=>{}}),hD=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=or(n);return a.jsx(Xje,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(cw,{...s,ref:t})})});hD.displayName=fD;var mD="MenuRadioItem",pD=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=Jje(mD,e.__scopeMenu),o=r===s.value;return a.jsx(gD,{scope:e.__scopeMenu,checked:o,children:a.jsx(Dp,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":uw(o),onSelect:fe(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});pD.displayName=mD;var lw="MenuItemIndicator",[gD,Qje]=Wo(lw,{checked:!1}),vD=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=Qje(lw,r);return a.jsx(Cr,{present:n||Wh(o.checked)||o.checked===!0,children:a.jsx(Pe.span,{...s,ref:t,"data-state":uw(o.checked)})})});vD.displayName=lw;var eNe="MenuSeparator",xD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});xD.displayName=eNe;var tNe="MenuArrow",yD=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Mp(r);return a.jsx(xm,{...s,...n,ref:t})});yD.displayName=tNe;var rNe="MenuSub",[S1e,bD]=Wo(rNe),fl="MenuSubTrigger",wD=x.forwardRef((e,t)=>{const r=qo(fl,e.__scopeMenu),n=ud(fl,e.__scopeMenu),s=bD(fl,e.__scopeMenu),o=ow(fl,e.__scopeMenu),i=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:l}=o,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),l(null)}},[c,l]),a.jsx(aw,{asChild:!0,...u,children:a.jsx(uD,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":_D(r.open),...e,ref:rm(t,s.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,Pu(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:fe(e.onPointerLeave,Pu(f=>{d();const h=r.content?.getBoundingClientRect();if(h){const p=r.content?.dataset.side,v=p==="right",m=v?-5:5,g=h[v?"left":"right"],y=h[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:g,y:h.top},{x:y,y:h.top},{x:y,y:h.bottom},{x:g,y:h.bottom}],side:p}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,f=>{const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||Ije[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});wD.displayName=fl;var jD="MenuSubContent",ND=x.forwardRef((e,t)=>{const r=oD(yn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=qo(yn,e.__scopeMenu),i=ud(yn,e.__scopeMenu),c=bD(jD,e.__scopeMenu),l=x.useRef(null),u=Be(t,l);return a.jsx(Cu.Provider,{scope:e.__scopeMenu,children:a.jsx(Cr,{present:n||o.open,children:a.jsx(Cu.Slot,{scope:e.__scopeMenu,children:a.jsx(iw,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{i.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:fe(e.onFocusOutside,d=>{d.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:fe(e.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),h=Lje[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),c.trigger?.focus(),d.preventDefault())})})})})})});ND.displayName=jD;function _D(e){return e?"open":"closed"}function Wh(e){return e==="indeterminate"}function uw(e){return Wh(e)?"indeterminate":e?"checked":"unchecked"}function nNe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function aNe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function sNe(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=aNe(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const l=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return l!==r?l:void 0}function oNe(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const c=t[o].x,l=t[o].y,u=t[i].x,d=t[i].y;l>n!=d>n&&r<(u-c)*(n-l)/(d-l)+c&&(s=!s)}return s}function iNe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return oNe(r,t)}function Pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var cNe=sD,lNe=aw,uNe=iD,dNe=cD,fNe=cw,hNe=lD,mNe=Dp,pNe=dD,gNe=hD,vNe=pD,xNe=vD,yNe=xD,bNe=yD,wNe=wD,jNe=ND,dw="DropdownMenu",[NNe]=Qn(dw,[nD]),zr=nD(),[_Ne,SD]=NNe(dw),CD=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:c=!0}=e,l=zr(t),u=x.useRef(null),[d=!1,f]=wa({prop:s,defaultProp:o,onChange:i});return a.jsx(_Ne,{scope:t,triggerId:xn(),triggerRef:u,contentId:xn(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:c,children:a.jsx(cNe,{...l,open:d,onOpenChange:f,dir:n,modal:c,children:r})})};CD.displayName=dw;var PD="DropdownMenuTrigger",AD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=SD(PD,r),i=zr(r);return a.jsx(lNe,{asChild:!0,...i,children:a.jsx(Pe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:rm(t,o.triggerRef),onPointerDown:fe(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:fe(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});AD.displayName=PD;var SNe="DropdownMenuPortal",kD=e=>{const{__scopeDropdownMenu:t,...r}=e,n=zr(t);return a.jsx(uNe,{...n,...r})};kD.displayName=SNe;var ED="DropdownMenuContent",OD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=SD(ED,r),o=zr(r),i=x.useRef(!1);return a.jsx(dNe,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,c=>{i.current||s.triggerRef.current?.focus(),i.current=!1,c.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,c=>{const l=c.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OD.displayName=ED;var CNe="DropdownMenuGroup",PNe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(fNe,{...s,...n,ref:t})});PNe.displayName=CNe;var ANe="DropdownMenuLabel",TD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(hNe,{...s,...n,ref:t})});TD.displayName=ANe;var kNe="DropdownMenuItem",$D=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(mNe,{...s,...n,ref:t})});$D.displayName=kNe;var ENe="DropdownMenuCheckboxItem",MD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(pNe,{...s,...n,ref:t})});MD.displayName=ENe;var ONe="DropdownMenuRadioGroup",TNe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(gNe,{...s,...n,ref:t})});TNe.displayName=ONe;var $Ne="DropdownMenuRadioItem",DD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(vNe,{...s,...n,ref:t})});DD.displayName=$Ne;var MNe="DropdownMenuItemIndicator",RD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(xNe,{...s,...n,ref:t})});RD.displayName=MNe;var DNe="DropdownMenuSeparator",ID=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(yNe,{...s,...n,ref:t})});ID.displayName=DNe;var RNe="DropdownMenuArrow",INe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(bNe,{...s,...n,ref:t})});INe.displayName=RNe;var LNe="DropdownMenuSubTrigger",LD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(wNe,{...s,...n,ref:t})});LD.displayName=LNe;var FNe="DropdownMenuSubContent",FD=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=zr(r);return a.jsx(jNe,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FD.displayName=FNe;var zNe=CD,BNe=AD,VNe=kD,zD=OD,BD=TD,VD=$D,UD=MD,WD=DD,qD=RD,HD=ID,GD=LD,KD=FD;const UNe=zNe,WNe=BNe,qNe=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(GD,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Mo,{className:"ml-auto h-4 w-4"})]}));qNe.displayName=GD.displayName;const HNe=x.forwardRef(({className:e,...t},r)=>a.jsx(KD,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));HNe.displayName=KD.displayName;const YD=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(VNe,{children:a.jsx(zD,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));YD.displayName=zD.displayName;const ro=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(VD,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));ro.displayName=VD.displayName;const GNe=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(UD,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(qD,{children:a.jsx(bt,{className:"h-4 w-4"})})}),t]}));GNe.displayName=UD.displayName;const KNe=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(WD,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(qD,{children:a.jsx(TF,{className:"h-2 w-2 fill-current"})})}),t]}));KNe.displayName=WD.displayName;const YNe=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(BD,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));YNe.displayName=BD.displayName;const ZNe=x.forwardRef(({className:e,...t},r)=>a.jsx(HD,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));ZNe.displayName=HD.displayName;const ZD=({className:e,...t})=>a.jsx("nav",{role:"navigation","aria-label":"pagination",className:J("mx-auto flex w-full justify-center",e),...t});ZD.displayName="Pagination";const XD=x.forwardRef(({className:e,...t},r)=>a.jsx("ul",{ref:r,className:J("flex flex-row items-center gap-1",e),...t}));XD.displayName="PaginationContent";const df=x.forwardRef(({className:e,...t},r)=>a.jsx("li",{ref:r,className:J("",e),...t}));df.displayName="PaginationItem";const Rp=({className:e,isActive:t,size:r="icon",...n})=>a.jsx("a",{"aria-current":t?"page":void 0,className:J(Si({variant:t?"outline":"ghost",size:r}),e),...n});Rp.displayName="PaginationLink";const JD=({className:e,...t})=>a.jsxs(Rp,{"aria-label":"Go to previous page",size:"default",className:J("gap-1 pl-2.5",e),...t,children:[a.jsx(hc,{className:"h-4 w-4"}),a.jsx("span",{children:"Previous"})]});JD.displayName="PaginationPrevious";const QD=({className:e,...t})=>a.jsxs(Rp,{"aria-label":"Go to next page",size:"default",className:J("gap-1 pr-2.5",e),...t,children:[a.jsx("span",{children:"Next"}),a.jsx(Mo,{className:"h-4 w-4"})]});QD.displayName="PaginationNext";const Hd={agendado:{label:"Agendado",color:"bg-info",icon:Se},concluido:{label:"Concludo",color:"bg-success",icon:bt},cancelado:{label:"Cancelado",color:"bg-destructive",icon:Vt}};function XNe({agendamentos:e,filtros:t,onFiltrosChange:r,onEdit:n,onDelete:s,onCancel:o,onViewDetails:i,onReagendar:c,onTrocarHorario:l,onMarcarPagamento:u,clientes:d,paginaAtual:f,totalPaginas:h,onPaginaChange:p}){const[v,m]=x.useState(null),g=j=>ke(new Date(j+"T12:00:00"),"dd 'de' MMMM",{locale:Ie}),y=j=>j.slice(0,5),b=j=>{const N=Math.floor(j/60),S=j%60;return N>0&&S>0?`${N}h ${S}min`:N>0?`${N}h`:`${S}min`},w=j=>`R$ ${j.toFixed(2).replace(".",",")}`;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"h-5 w-5 text-primary"}),"Filtros"]})}),a.jsxs(U,{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ee,{placeholder:"Buscar cliente ou servio...",value:t.busca||"",onChange:j=>r({...t,busca:j.target.value}),className:"pl-10 pr-10 h-10 sm:h-11 text-sm"}),t.busca&&a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r({...t,busca:""}),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 p-0 hover:bg-muted",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),t.busca&&a.jsx("div",{className:"text-sm text-muted-foreground",children:e.length===0?a.jsxs("span",{children:['Nenhum agendamento encontrado para "',a.jsx("strong",{children:t.busca}),'"']}):a.jsxs("span",{children:[e.length," agendamento",e.length!==1?"s":""," encontrado",e.length!==1?"s":""]})}),a.jsxs("div",{className:"grid gap-3 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4",children:[a.jsx(ee,{type:"date",value:t.data||"",onChange:j=>r({...t,data:j.target.value}),placeholder:"Data",className:"h-10 sm:h-11 text-sm"}),a.jsxs(Le,{value:t.periodo||"mes_atual",onValueChange:j=>r({...t,periodo:j}),children:[a.jsx(Me,{className:"h-10 sm:h-11 text-sm",children:a.jsx(Fe,{placeholder:"Perodo"})}),a.jsxs(De,{children:[a.jsx(X,{value:"mes_atual",children:"Ms atual"}),a.jsx(X,{value:"mes_anterior",children:"Ms anterior"}),a.jsx(X,{value:"proximo_mes",children:"Prximo ms"}),a.jsx(X,{value:"todos",children:"Todos os perodos"})]})]}),a.jsxs(Le,{value:t.status||"all",onValueChange:j=>r({...t,status:j==="all"?void 0:j}),children:[a.jsx(Me,{className:"h-10 sm:h-11 text-sm",children:a.jsx(Fe,{placeholder:"Status"})}),a.jsxs(De,{children:[a.jsx(X,{value:"all",children:"Todos"}),a.jsx(X,{value:"agendado",children:"Agendado"}),a.jsx(X,{value:"concluido",children:"Concludo"}),a.jsx(X,{value:"cancelado",children:"Cancelado"})]})]}),a.jsxs(Le,{value:t.clienteId||"all",onValueChange:j=>r({...t,clienteId:j==="all"?void 0:j}),children:[a.jsx(Me,{className:"h-10 sm:h-11 text-sm",children:a.jsx(Fe,{placeholder:"Cliente"})}),a.jsxs(De,{children:[a.jsx(X,{value:"all",children:"Todos"}),d.map(j=>a.jsx(X,{value:j.id,children:j.nome},j.id))]})]}),a.jsxs(Le,{value:t.statusPagamento||"all",onValueChange:j=>r({...t,statusPagamento:j==="all"?void 0:j}),children:[a.jsx(Me,{className:"h-10 sm:h-11 text-sm",children:a.jsx(Fe,{placeholder:"Pagamento"})}),a.jsxs(De,{children:[a.jsx(X,{value:"all",children:"Todos"}),a.jsx(X,{value:"pago",children:" Pago"}),a.jsx(X,{value:"parcial",children:" Parcial"}),a.jsx(X,{value:"em_aberto",children:" Em aberto"})]})]})]})]}),(t.busca||t.data||t.status||t.clienteId||t.statusPagamento)&&a.jsx("div",{className:"mt-4 pt-4 border-t border-border/20",children:a.jsx(z,{variant:"outline",size:"sm",onClick:()=>r({}),className:"h-9 text-xs",children:"Limpar filtros"})})]})]}),a.jsx("div",{className:"space-y-3 animate-fade-in",children:e.length===0?a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs(U,{className:"flex flex-col items-center justify-center py-12 text-center p-4 sm:p-6",children:[a.jsx(Se,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-2",children:"Nenhum agendamento encontrado"}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:Object.keys(t).length>0?"Tente ajustar os filtros ou criar um novo agendamento.":"Comece criando seu primeiro agendamento."})]})}):e.map((j,N)=>{const S=Hd[j.status].icon;return a.jsx(F,{className:"agendamento-card animate-fade-in touch-feedback",style:{animationDelay:`${N*50}ms`},onClick:()=>i(j),children:a.jsx(U,{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10 flex-shrink-0",children:a.jsx(Ir,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h3",{className:"font-semibold text-sm sm:text-base text-foreground truncate",children:j.clienteNome}),a.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[a.jsx(an,{className:"h-3 w-3 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:j.servicoNome})]})]}),a.jsxs(UNe,{children:[a.jsx(WNe,{asChild:!0,onClick:_=>_.stopPropagation(),children:a.jsx(z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 sm:h-9 sm:w-9",children:a.jsx($F,{className:"h-4 w-4"})})}),a.jsxs(YD,{align:"end",className:"w-48",children:[a.jsxs(ro,{onClick:_=>{_.stopPropagation(),n(j)},children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Editar"]}),j.status==="agendado"&&c&&a.jsxs(ro,{onClick:_=>{_.stopPropagation(),c(j)},children:[a.jsx(la,{className:"h-4 w-4 mr-2"}),"Reagendar"]}),j.status==="agendado"&&l&&a.jsxs(ro,{onClick:_=>{_.stopPropagation(),l(j)},children:[a.jsx(ll,{className:"h-4 w-4 mr-2"}),"Trocar Horrio"]}),j.status==="agendado"&&j.statusPagamento!=="pago"&&u&&a.jsxs(ro,{onClick:_=>{_.stopPropagation(),u(j)},children:[a.jsx(ut,{className:"h-4 w-4 mr-2"}),"Marcar Pagamento"]}),j.status==="agendado"&&a.jsxs(ro,{onClick:_=>{_.stopPropagation(),o(j.id)},children:[a.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(ro,{onClick:_=>{_.stopPropagation(),m(j.id)},className:"text-destructive",children:[a.jsx(pr,{className:"h-4 w-4 mr-2"}),"Excluir"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ue,{className:`${Hd[j.status].color} text-white text-xs h-6`,children:[a.jsx(S,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:Hd[j.status].label}),a.jsx("span",{className:"sm:hidden",children:Hd[j.status].label.charAt(0)})]}),j.origem==="online"&&a.jsxs(ue,{className:"bg-purple-500 text-white text-xs h-6",children:[a.jsx("span",{className:"text-xs",children:""}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:"Online"})]}),a.jsxs(ue,{className:`${j.statusPagamento==="pago"?"bg-green-500":j.statusPagamento==="parcial"?"bg-yellow-500":"bg-red-500"} text-white text-xs h-6`,children:[j.statusPagamento==="pago"?"":j.statusPagamento==="parcial"?"":"",a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.statusPagamento==="pago"?"Pago":j.statusPagamento==="parcial"?"Parcial":"Em aberto"})]})]})]}),a.jsxs("div",{className:"grid gap-3 text-xs sm:text-sm",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Se,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:g(j.data)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(it,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[y(j.hora)," (",b(j.duracao),")"]})]})]}),a.jsxs("div",{className:"flex items-start gap-2 p-3 bg-muted/30 rounded-lg",children:[a.jsx(ut,{className:"h-4 w-4 flex-shrink-0 text-muted-foreground mt-0.5"}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[a.jsxs("div",{className:"font-medium text-foreground text-sm",children:["Total: ",w(j.valor)]}),j.valorPago>0&&a.jsxs("div",{className:"text-green-600 text-xs",children:["Pago: ",w(j.valorPago)]}),j.valorDevido>0&&a.jsxs("div",{className:"text-red-500 text-xs font-medium",children:["Pendente: ",w(j.valorDevido)]}),j.dataPrevistaPagamento&&(j.formaPagamento==="fiado"||j.statusPagamento==="parcial"||j.statusPagamento==="em_aberto")&&a.jsxs("div",{className:"text-blue-600 text-xs",children:["Previsto: ",g(j.dataPrevistaPagamento)]})]})]})]})]})})},j.id)})}),h>1&&a.jsx("div",{className:"flex justify-center",children:a.jsx(ZD,{children:a.jsxs(XD,{children:[a.jsx(df,{children:a.jsx(JD,{onClick:()=>f>1&&p(f-1),className:f<=1?"pointer-events-none opacity-50":"cursor-pointer"})}),Array.from({length:h},(j,N)=>N+1).map(j=>a.jsx(df,{children:a.jsx(Rp,{onClick:()=>p(j),isActive:j===f,className:"cursor-pointer",children:j})},j)),a.jsx(df,{children:a.jsx(QD,{onClick:()=>f<h&&p(f+1),className:f>=h?"pointer-events-none opacity-50":"cursor-pointer"})})]})})}),a.jsx(Xn,{open:!!v,onOpenChange:()=>m(null),children:a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsx(An,{children:"Tem certeza que deseja excluir este agendamento? Esta ao no pode ser desfeita."})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{children:"Cancelar"}),a.jsx(kn,{onClick:()=>{v&&(s(v),m(null))},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Excluir"})]})]})})]})}const JNe=()=>{const[e,t]=x.useState(Date.now());return x.useEffect(()=>{const r=W.channel("configuracoes_real_time").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_horarios"},n=>{console.log("Configurao de horrio atualizada:",n),t(Date.now())}).on("postgres_changes",{event:"*",schema:"public",table:"intervalos_trabalho"},n=>{console.log("Intervalo de trabalho atualizado:",n),t(Date.now())}).subscribe();return()=>{W.removeChannel(r)}},[]),{lastUpdate:e}},QNe=Bs({clienteId:dt().min(1,"Cliente  obrigatrio"),servicoId:dt().min(1,"Servio  obrigatrio"),data:dt().min(1,"Data  obrigatria"),hora:dt().min(1,"Hora  obrigatria"),duracao:js().min(1,"Durao deve ser maior que 0"),valor:js().min(0,"Valor deve ser positivo"),valorPago:js().min(0,"Valor pago deve ser positivo"),valorDevido:js().min(0,"Valor devido deve ser positivo"),formaPagamento:go(["dinheiro","cartao","pix","fiado"]),statusPagamento:go(["pago","parcial","em_aberto"]),status:go(["agendado","concluido","cancelado"]),observacoes:dt().optional(),dataPrevistaPagamento:dt().optional()});function e_e({agendamento:e,clientes:t,servicos:r,onSubmit:n,onCancel:s,verificarConflito:o}){const{configuracoes:i,getHorariosDisponiveis:c,isDiaAtivo:l,isAgendamentoValido:u}=nw(),{lastUpdate:d}=JNe(),[f,h]=x.useState(null),[p,v]=x.useState(null),[m,g]=x.useState(!1),[y,b]=x.useState([]),w=ks({resolver:Es(QNe),defaultValues:{clienteId:e?.clienteId||"",servicoId:e?.servicoId||"",data:e?.data||"",hora:e?.hora||"",duracao:e?.duracao||0,valor:e?.valor||0,valorPago:e?.valorPago||0,valorDevido:e?.valorDevido||0,formaPagamento:e?.formaPagamento||"dinheiro",statusPagamento:e?.statusPagamento||"em_aberto",status:e?.status||"agendado",observacoes:e?.observacoes||"",dataPrevistaPagamento:e?.dataPrevistaPagamento||""}}),j=w.watch(["data","hora","duracao"]);x.useEffect(()=>{const[_,P,E]=j;if(_&&P&&E){const $=o({data:_,hora:P,duracao:E},e?.id);g($)}},[j,o,e?.id]),x.useEffect(()=>{const _=w.watch("servicoId");if(_){const P=r.find(E=>E.id===_);h(P||null),P&&(w.setValue("duracao",P.duracao),w.setValue("valor",P.valor))}},[w.watch("servicoId"),r,w]),x.useEffect(()=>{const _=w.watch("clienteId");if(_){const P=t.find(E=>E.id===_);v(P||null)}},[w.watch("clienteId"),t]),x.useEffect(()=>{const _=w.watch("data");if(_&&i&&i.length>0){const E=new Date(_+"T12:00:00").getDay();if(!l(E)){b([]),w.setValue("hora","");return}const $=f?.duracao||60,A=c(E,$);b(A);const C=w.watch("hora");C&&A.length>0&&!A.includes(C)&&w.setValue("hora","")}else _&&(!i||i.length===0)?b([]):b([])},[w.watch("data"),i,f,c,l,w,d]);const N=_=>{if(console.log("Dados do agendamento:",_),m){console.log("Conflito detectado, cancelando submisso");return}const P=u(_.data,_.hora,_.duracao);if(console.log("Agendamento vlido?",P,{data:_.data,hora:_.hora,duracao:_.duracao,configuracoes:i}),!P){console.log("Agendamento no vlido segundo validao"),B.error("Este horrio no est disponvel para agendamento!");return}const E=t.find(A=>A.id===_.clienteId)?.nomeCompleto||"",$=r.find(A=>A.id===_.servicoId)?.nome||"";n({..._,clienteNome:E,servicoNome:$})},S=_=>{const P=Math.floor(_/60),E=_%60;return P>0&&E>0?`${P}h ${E}min`:P>0?`${P}h`:`${E}min`};return a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsx(ne,{className:"p-4 sm:p-6",children:a.jsxs(ae,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[a.jsx(Se,{className:"h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"truncate",children:e?"Editar Agendamento":"Novo Agendamento"})]})}),a.jsx(U,{className:"p-4 sm:p-6 pt-0",children:a.jsx(ac,{...w,children:a.jsxs("form",{onSubmit:w.handleSubmit(N),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 sm:gap-6 sm:grid-cols-2",children:[a.jsx(rt,{control:w.control,name:"clienteId",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-4 w-4"}),"Cliente"]}),a.jsxs(Le,{onValueChange:_.onChange,value:_.value,children:[a.jsx(tt,{children:a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um cliente"})})}),a.jsx(De,{children:t.map(P=>a.jsx(X,{value:P.id,children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:P.nomeCompleto}),a.jsx("div",{className:"text-sm text-muted-foreground",children:P.telefone})]})},P.id))})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:w.control,name:"servicoId",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4"}),"Servio"]}),a.jsxs(Le,{onValueChange:_.onChange,value:_.value,children:[a.jsx(tt,{children:a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um servio"})})}),a.jsx(De,{children:r.map(P=>a.jsx(X,{value:P.id,children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:P.nome}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[S(P.duracao)," - R$ ",P.valor.toFixed(2)]})]})},P.id))})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:w.control,name:"data",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Data"]}),a.jsx(tt,{children:a.jsx(ee,{type:"date",..._})}),a.jsx(at,{})]})}),a.jsx(rt,{control:w.control,name:"hora",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),"Hora"]}),a.jsxs(Le,{onValueChange:_.onChange,value:_.value,children:[a.jsx(tt,{children:a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um horrio"})})}),a.jsx(De,{children:y.length>0?y.map(P=>a.jsx(X,{value:P,children:P},P)):a.jsx(X,{value:"no-horarios-disponiveis",disabled:!0,children:w.watch("data")?i&&i.length>0?(()=>{const E=new Date(w.watch("data")+"T12:00:00").getDay();return l(E)?"Nenhum horrio disponvel":"Dia no disponvel para atendimento"})():"Configure os horrios de trabalho primeiro":"Selecione uma data primeiro"})})]}),a.jsx(at,{}),m&&a.jsx("p",{className:"text-sm text-destructive font-medium",children:" J existe um agendamento neste horrio"})]})}),a.jsx(rt,{control:w.control,name:"duracao",render:({field:_})=>a.jsxs(Qe,{children:[a.jsx(et,{children:"Durao (minutos)"}),a.jsx(tt,{children:a.jsx(ee,{type:"number",min:"1",..._,onChange:P=>_.onChange(parseInt(P.target.value)||0)})}),a.jsx(at,{}),f&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Durao padro: ",S(f.duracao)]})]})}),a.jsx(rt,{control:w.control,name:"valor",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4"}),"Valor Total (R$)"]}),a.jsx(tt,{children:a.jsx(ee,{type:"number",min:"0",step:"0.01",..._,onChange:P=>_.onChange(parseFloat(P.target.value)||0)})}),a.jsx(at,{}),f&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Valor padro: R$ ",f.valor.toFixed(2)]})]})}),a.jsx(rt,{control:w.control,name:"formaPagamento",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(vo,{className:"h-4 w-4"}),"Forma de Pagamento"]}),a.jsxs(Le,{onValueChange:_.onChange,value:_.value,children:[a.jsx(tt,{children:a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione a forma de pagamento"})})}),a.jsxs(De,{children:[a.jsx(X,{value:"dinheiro",children:" Dinheiro"}),a.jsx(X,{value:"cartao",children:" Carto"}),a.jsx(X,{value:"pix",children:" PIX"}),a.jsx(X,{value:"fiado",children:" Fiado"})]})]}),a.jsx(at,{})]})}),a.jsx(rt,{control:w.control,name:"valorPago",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4"}),"Valor Pago (R$)"]}),a.jsx(tt,{children:a.jsx(ee,{type:"number",min:"0",step:"0.01",..._,onChange:P=>{const E=parseFloat(P.target.value)||0,$=w.getValues("valor");_.onChange(E),w.setValue("valorDevido",Math.max(0,$-E)),E===0?w.setValue("statusPagamento","em_aberto"):E>=$?w.setValue("statusPagamento","pago"):w.setValue("statusPagamento","parcial")}})}),a.jsx(at,{})]})}),a.jsx(rt,{control:w.control,name:"valorDevido",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4"}),"Valor Devido (R$)"]}),a.jsx(tt,{children:a.jsx(ee,{type:"number",min:"0",step:"0.01",..._,onChange:P=>_.onChange(parseFloat(P.target.value)||0),readOnly:!0,className:"bg-muted"})}),a.jsx(at,{})]})})]}),a.jsx(rt,{control:w.control,name:"status",render:({field:_})=>a.jsxs(Qe,{children:[a.jsx(et,{children:"Status"}),a.jsxs(Le,{onValueChange:_.onChange,value:_.value,children:[a.jsx(tt,{children:a.jsx(Me,{children:a.jsx(Fe,{})})}),a.jsxs(De,{children:[a.jsx(X,{value:"agendado",children:"Agendado"}),a.jsx(X,{value:"concluido",children:"Concludo"}),a.jsx(X,{value:"cancelado",children:"Cancelado"})]})]}),a.jsx(at,{})]})}),(w.watch("formaPagamento")==="fiado"||w.watch("statusPagamento")==="parcial"||w.watch("statusPagamento")==="em_aberto")&&a.jsx(rt,{control:w.control,name:"dataPrevistaPagamento",render:({field:_})=>a.jsxs(Qe,{children:[a.jsxs(et,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Data Prevista de Pagamento"]}),a.jsx(tt,{children:a.jsx(ee,{type:"date",..._,min:new Date().toISOString().split("T")[0]})}),a.jsx(at,{}),a.jsx("p",{className:"text-sm text-muted-foreground",children:w.watch("formaPagamento")==="fiado"?"Quando o cliente disse que vai pagar":"Data prevista para pagamento do valor restante"})]})}),a.jsx(rt,{control:w.control,name:"observacoes",render:({field:_})=>a.jsxs(Qe,{children:[a.jsx(et,{children:"Observaes"}),a.jsx(tt,{children:a.jsx(mr,{placeholder:"Observaes sobre o agendamento...",..._})}),a.jsx(at,{})]})}),a.jsxs("div",{className:"action-buttons pt-4 border-t border-border/20",children:[a.jsxs(z,{type:"submit",disabled:m,className:"action-button bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 touch-feedback",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2 flex-shrink-0"}),a.jsxs("span",{className:"truncate",children:[e?"Atualizar":"Criar"," Agendamento"]})]}),a.jsxs(z,{type:"button",variant:"outline",onClick:s,className:"action-button touch-feedback",children:[a.jsx(Vt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Cancelar"})]})]})]})})})]})})}const Gd={agendado:{label:"Agendado",color:"bg-info text-info-foreground",icon:Se,description:"Agendamento confirmado"},concluido:{label:"Concludo",color:"bg-success text-success-foreground",icon:bt,description:"Servio realizado com sucesso"},cancelado:{label:"Cancelado",color:"bg-destructive text-destructive-foreground",icon:Vt,description:"Agendamento cancelado"}};function t_e({agendamento:e,cliente:t,servico:r,onEdit:n,onBack:s,onCancel:o,onMarcarPagamento:i}){const c=v=>{const[m,g,y]=v.split("-").map(Number),b=new Date(m,g-1,y);return ke(b,"EEEE, dd 'de' MMMM 'de' yyyy",{locale:Ie})},l=v=>v.slice(0,5),u=v=>{const m=Math.floor(v/60),g=v%60;return m>0&&g>0?`${m}h ${g}min`:m>0?`${m}h`:`${g}min`},d=v=>`R$ ${v.toFixed(2).replace(".",",")}`,f=v=>ke(new Date(v),"dd/MM/yyyy 's' HH:mm",{locale:Ie}),h=()=>{const v=new Date(`${e.data}T${e.hora}`);return new Date(v.getTime()+e.duracao*6e4).toTimeString().slice(0,5)},p=Gd[e.status].icon;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{variant:"ghost",onClick:s,className:"gap-2",children:[a.jsx(Ou,{className:"h-4 w-4"}),"Voltar para lista"]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.status==="agendado"&&e.statusPagamento!=="pago"&&i&&a.jsxs(z,{variant:"default",onClick:i,className:"bg-success hover:bg-success/90",children:[a.jsx(ut,{className:"h-4 w-4 mr-2"}),"Marcar Pagamento"]}),e.status==="agendado"&&a.jsxs(z,{variant:"outline",onClick:o,children:[a.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(z,{onClick:n,className:"bg-gradient-to-r from-primary to-lilac-primary",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),a.jsxs(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm",children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ae,{className:"text-2xl",children:"Detalhes do Agendamento"}),a.jsxs(ue,{className:Gd[e.status].color,children:[a.jsx(p,{className:"h-4 w-4 mr-2"}),Gd[e.status].label]})]}),a.jsx("p",{className:"text-muted-foreground",children:Gd[e.status].description})]}),a.jsxs(U,{className:"space-y-8",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5 text-primary"}),"Data e Hora"]}),a.jsxs("div",{className:"space-y-3 pl-7",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Data"}),a.jsx("p",{className:"text-lg capitalize",children:c(e.data)})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Horrio"}),a.jsxs("p",{className:"text-lg",children:[l(e.hora)," s ",h()]})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Durao"}),a.jsx("p",{className:"text-lg",children:u(e.duracao)})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(ut,{className:"h-5 w-5 text-primary"}),"Informaes de Pagamento"]}),a.jsxs("div",{className:"pl-7 space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Valor Total"}),a.jsx("p",{className:"text-2xl font-bold text-primary",children:d(e.valor)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Valor Pago"}),a.jsx("p",{className:"text-lg font-semibold text-success",children:d(e.valorPago)})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Valor Devido"}),a.jsx("p",{className:`text-lg font-semibold ${e.valorDevido>0?"text-destructive":"text-success"}`,children:d(e.valorDevido)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Forma de Pagamento"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(vo,{className:"h-4 w-4"}),a.jsx("span",{className:"capitalize",children:e.formaPagamento==="cartao"?"Carto":e.formaPagamento==="pix"?"PIX":e.formaPagamento==="dinheiro"?"Dinheiro":"Fiado"})]})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Status do Pagamento"}),a.jsx(ue,{className:`mt-1 ${e.statusPagamento==="pago"?"bg-success text-success-foreground":e.statusPagamento==="parcial"?"bg-warning text-warning-foreground":"bg-destructive text-destructive-foreground"}`,children:e.statusPagamento==="pago"?" Pago":e.statusPagamento==="parcial"?" Parcial":" Em aberto"})]})]})]})]})]}),a.jsx(Ba,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5 text-primary"}),"Cliente"]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 pl-7",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),a.jsx("p",{className:"text-lg font-medium",children:t.nome})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),a.jsxs("p",{className:"text-lg flex items-center gap-2",children:[a.jsx(Xa,{className:"h-4 w-4"}),t.telefone]})]}),t.email&&a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"E-mail"}),a.jsxs("p",{className:"text-lg flex items-center gap-2",children:[a.jsx(am,{className:"h-4 w-4"}),t.email]})]})]})]}),a.jsx(Ba,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(an,{className:"h-5 w-5 text-primary"}),"Servio"]}),a.jsxs("div",{className:"pl-7 space-y-3",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Nome do servio"}),a.jsx("p",{className:"text-lg font-medium",children:r.nome})]}),r.descricao&&a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium text-muted-foreground",children:"Descrio"}),a.jsx("p",{className:"text-base",children:r.descricao})]})]})]}),e.observacoes&&a.jsxs(a.Fragment,{children:[a.jsx(Ba,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[a.jsx(xo,{className:"h-5 w-5 text-primary"}),"Observaes"]}),a.jsx("div",{className:"pl-7",children:a.jsx("p",{className:"text-base leading-relaxed bg-muted/50 p-4 rounded-lg",children:e.observacoes})})]})]}),a.jsx(Ba,{}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 text-sm text-muted-foreground",children:[a.jsxs("div",{children:[a.jsx(H,{className:"font-medium",children:"Criado em"}),a.jsx("p",{children:f(e.createdAt)})]}),a.jsxs("div",{children:[a.jsx(H,{className:"font-medium",children:"ltima atualizao"}),a.jsx("p",{children:f(e.updatedAt)})]})]})]})]})]})}function r_e({open:e,onOpenChange:t,agendamento:r,agendamentosDisponiveis:n,onTrocarHorarios:s}){const[o,i]=x.useState(""),[c,l]=x.useState(!1);if(!r)return null;const u=g=>ke(new Date(g+"T12:00:00"),"dd 'de' MMMM",{locale:Ie}),d=g=>g.slice(0,5),f=g=>{const y=Math.floor(g/60),b=g%60;return y>0&&b>0?`${y}h ${b}min`:y>0?`${y}h`:`${b}min`},h=n.filter(g=>g.id!==r.id&&g.status==="agendado"),p=h.find(g=>g.id===o),v=async g=>{if(g.preventDefault(),!o){B.error("Selecione um agendamento para trocar");return}l(!0);try{await s(r.id,o)?(B.success("Horrios trocados com sucesso!"),t(!1),i("")):B.error("Erro ao trocar horrios")}catch{B.error("Erro ao trocar horrios")}finally{l(!1)}},m=()=>{i(""),t(!1)};return a.jsx(Fr,{open:e,onOpenChange:t,children:a.jsxs(Nr,{className:"sm:max-w-[600px]",children:[a.jsxs(_r,{children:[a.jsxs(Sr,{className:"flex items-center gap-2",children:[a.jsx(ll,{className:"h-5 w-5 text-primary"}),"Trocar Horrios"]}),a.jsx(Nn,{children:"Selecione outro agendamento para trocar os horrios"})]}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{className:"text-sm font-medium",children:"Agendamento atual:"}),a.jsx(F,{className:"bg-muted/50",children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-primary/10 to-lilac-light/10",children:a.jsx(Ir,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-foreground",children:r.clienteNome}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[a.jsx(an,{className:"h-3 w-3"}),a.jsx("span",{children:r.servicoNome})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:u(r.data)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),a.jsxs("span",{children:[d(r.hora)," - ",f(r.duracao)]})]})]})]})})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"agendamento-troca",className:"text-sm font-medium",children:"Trocar com:"}),a.jsxs(Le,{value:o,onValueChange:i,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um agendamento"})}),a.jsx(De,{children:h.length===0?a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Nenhum agendamento disponvel para troca"}):h.map(g=>a.jsx(X,{value:g.id,children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:g.clienteNome}),a.jsx("span",{className:"text-muted-foreground",children:"-"}),a.jsxs("span",{className:"text-sm",children:[u(g.data)," ",d(g.hora)]})]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:f(g.duracao)})]})},g.id))})]})]}),p&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(ll,{className:"h-6 w-6 text-primary"})}),a.jsx(F,{className:"bg-green-50 border-green-200",children:a.jsx(U,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-medium text-green-700 text-center",children:"Preview da troca"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium text-green-600",children:[r.clienteNome," vai para:"]}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:u(p.data)})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(it,{className:"h-4 w-4"}),a.jsxs("span",{children:[d(p.hora)," - ",f(p.duracao)]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium text-green-600",children:[p.clienteNome," vai para:"]}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:u(r.data)})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(it,{className:"h-4 w-4"}),a.jsxs("span",{children:[d(r.hora)," - ",f(r.duracao)]})]})]})]})]})]})})})]}),a.jsxs(Pp,{children:[a.jsx(z,{type:"button",variant:"outline",onClick:m,disabled:c,children:"Cancelar"}),a.jsx(z,{type:"submit",disabled:c||!o,className:"bg-gradient-to-r from-primary to-lilac-primary",children:c?a.jsxs(a.Fragment,{children:[a.jsx(ll,{className:"mr-2 h-4 w-4 animate-spin"}),"Trocando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ll,{className:"mr-2 h-4 w-4"}),"Trocar Horrios"]})})]})]})]})})}function n_e({open:e,onOpenChange:t,agendamento:r,onConfirmar:n}){const[s,o]=x.useState(""),[i,c]=x.useState("dinheiro"),[l,u]=x.useState(!1),d=r?.valorDevido||0,f=r?.valor||0,h=async v=>{if(!r)return;u(!0);const m=v?d:parseFloat(s.replace(",","."))||0;await n(r.id,m,i)&&(t(!1),o(""),c("dinheiro")),u(!1)},p=v=>`R$ ${v.toFixed(2).replace(".",",")}`;return a.jsx(Fr,{open:e,onOpenChange:t,children:a.jsxs(Nr,{className:"sm:max-w-md",children:[a.jsxs(_r,{children:[a.jsxs(Sr,{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-5 w-5 text-primary"}),"Registrar Pagamento"]}),a.jsxs(Nn,{children:["Registre o pagamento do agendamento de ",r?.clienteNome]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2 p-4 bg-muted/30 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Valor Total:"}),a.jsx("span",{className:"font-semibold",children:p(f)})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"J Pago:"}),a.jsx("span",{className:"font-semibold text-success",children:p(r?.valorPago||0)})]}),a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-border",children:[a.jsx("span",{className:"text-muted-foreground font-medium",children:"Valor Devido:"}),a.jsx("span",{className:"font-bold text-destructive",children:p(d)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"forma-pagamento",children:"Forma de Pagamento"}),a.jsxs(Le,{value:i,onValueChange:c,children:[a.jsx(Me,{id:"forma-pagamento",children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"dinheiro",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),"Dinheiro"]})}),a.jsx(X,{value:"cartao",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vo,{className:"h-4 w-4"}),"Carto"]})}),a.jsx(X,{value:"pix",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),"PIX"]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"valor-pago",children:"Valor Pago (parcial)"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"R$"}),a.jsx(ee,{id:"valor-pago",type:"text",placeholder:"0,00",value:s,onChange:v=>{const m=v.target.value.replace(/[^\d,]/g,"");o(m)},className:"pl-10"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Deixe em branco para pagar o valor completo"})]})]}),a.jsxs(Pp,{className:"flex-col sm:flex-row gap-2",children:[a.jsx(z,{variant:"outline",onClick:()=>t(!1),disabled:l,className:"w-full sm:w-auto",children:"Cancelar"}),a.jsx(z,{variant:"outline",onClick:()=>h(!1),disabled:l||!s,className:"w-full sm:w-auto",children:"Pagar Parcial"}),a.jsx(z,{onClick:()=>h(!0),disabled:l,className:"w-full sm:w-auto bg-gradient-to-r from-primary to-lilac-primary",children:l?"Processando...":"Pagar Completo"})]})]})})}function a_e(){const{agendamentos:e,agendamentosFiltrados:t,filtros:r,setFiltros:n,paginaAtual:s,setPaginaAtual:o,totalPaginas:i,clientes:c,servicos:l,criarAgendamento:u,atualizarAgendamento:d,excluirAgendamento:f,cancelarAgendamento:h,verificarConflito:p,todosAgendamentos:v}=Io(),[m,g]=x.useState("lista"),[y,b]=x.useState(null),[w,j]=x.useState(!1),[N,S]=x.useState(null),[_,P]=x.useState(!1),[E,$]=x.useState(null),[A,C]=x.useState(!1),[O,T]=x.useState(null),I=new Date().toISOString().split("T")[0],R=new Date(Date.now()+24*60*60*1e3).toISOString().split("T")[0],D=new Date;D.setDate(D.getDate()-D.getDay());const M=new Date(D);M.setDate(M.getDate()+6);const V=t.filter(he=>he.data===I&&he.status!=="cancelado").length,re=t.filter(he=>he.data===R&&he.status!=="cancelado").length,K=t.filter(he=>{const Ve=new Date(he.data);return Ve>=D&&Ve<=M&&he.status!=="cancelado"}).length,te=()=>{b(null),g("formulario")},ce=he=>{b(he),g("formulario")},_e=he=>{b(he),g("detalhes")},Ze=he=>{(y?d(y.id,he):u(he))&&(g("lista"),b(null))},Ee=()=>{g("lista"),b(null)},le=()=>{y&&(h(y.id),g("lista"),b(null))},Re=he=>{S(he),j(!0)},oe=async(he,Ve,Ae)=>{const Je=await d(he,{data:Ve,hora:Ae});return Je&&(j(!1),S(null)),Je},me=he=>{$(he),P(!0)},be=async(he,Ve)=>{try{const Ae=v.find(G=>G.id===he),Je=v.find(G=>G.id===Ve);if(!Ae||!Je)return!1;if(p({data:Je.data,hora:Je.hora,duracao:Ae.duracao},Ve))return Xt({title:"Conflito de horrio",description:`O agendamento de ${Ae.clienteNome} (${Ae.duracao}min) no cabe no horrio de ${Je.clienteNome}. H conflito com outros agendamentos.`,variant:"destructive"}),!1;if(p({data:Ae.data,hora:Ae.hora,duracao:Je.duracao},he))return Xt({title:"Conflito de horrio",description:`O agendamento de ${Je.clienteNome} (${Je.duracao}min) no cabe no horrio de ${Ae.clienteNome}. H conflito com outros agendamentos.`,variant:"destructive"}),!1;const L=await d(he,{data:Je.data,hora:Je.hora}),q=await d(Ve,{data:Ae.data,hora:Ae.hora});return L&&q&&Xt({title:"Horrios trocados",description:"Os horrios foram trocados com sucesso!"}),L&&q}catch(Ae){return console.error("Erro ao trocar horrios:",Ae),Xt({title:"Erro ao trocar horrios",description:"Ocorreu um erro ao realizar a troca. Tente novamente.",variant:"destructive"}),!1}},Y=he=>{T(he),C(!0)},Xe=async(he,Ve,Ae)=>{const Je=v.find(ve=>ve.id===he);if(!Je)return!1;const fr=Je.valorPago+Ve,$t=Je.valor-fr;let L,q=Je.status;$t<=0?(L="pago",q="concluido"):fr>0?L="parcial":L="em_aberto";const G=await d(he,{valorPago:fr,valorDevido:Math.max(0,$t),statusPagamento:L,status:q,formaPagamento:Ae});return G&&(Xt({title:"Pagamento registrado",description:L==="pago"?"Pagamento completo registrado com sucesso!":`Pagamento parcial de R$ ${Ve.toFixed(2)} registrado.`}),C(!1),T(null),m==="detalhes"&&g("lista")),G};if(m==="formulario")return a.jsx("div",{className:"space-y-8",children:a.jsx(e_e,{agendamento:y||void 0,clientes:c,servicos:l,onSubmit:Ze,onCancel:Ee,verificarConflito:p})});if(m==="detalhes"&&y){const he=c.find(Ae=>Ae.id===y.clienteId),Ve=l.find(Ae=>Ae.id===y.servicoId);return a.jsx("div",{className:"space-y-8",children:a.jsx(t_e,{agendamento:y,cliente:he?{nome:he.nomeCompleto,telefone:he.telefone,email:""}:{nome:y.clienteNome,telefone:"",email:""},servico:Ve||{nome:y.servicoNome},onEdit:()=>g("formulario"),onBack:Ee,onCancel:le,onMarcarPagamento:()=>y&&Y(y)})})}return a.jsxs("div",{className:"space-y-6 p-4 sm:p-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Agendamentos"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Gerencie todos os agendamentos do seu salo"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-2",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n({statusPagamento:"em_aberto"}),className:"bg-red-50 border-red-200 text-red-700 hover:bg-red-100 text-xs sm:text-sm h-9 sm:h-10 justify-start sm:justify-center",children:[a.jsx(ut,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:"Contas a Receber"})]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>n({origem:"cronograma"}),className:"bg-purple-50 border-purple-200 text-purple-700 hover:bg-purple-100 text-xs sm:text-sm h-9 sm:h-10 justify-start sm:justify-center",children:[a.jsx("span",{className:"mr-2 text-xs sm:text-sm",children:""}),a.jsx("span",{className:"truncate",children:"Cronogramas"})]})]}),a.jsxs(z,{onClick:te,className:"bg-gradient-to-r from-primary to-lilac-primary shadow-lg hover:shadow-xl transition-all duration-300 text-sm h-10 sm:h-11",children:[a.jsx(wr,{className:"mr-2 h-4 w-4 flex-shrink-0"}),a.jsx("span",{className:"hidden sm:inline",children:"Novo Agendamento"}),a.jsx("span",{className:"sm:hidden",children:"Novo"})]})]})]}),a.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/60 transition-colors",children:a.jsxs(U,{className:"flex items-center gap-3 sm:gap-4 p-4 sm:p-6",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-lilac-light flex-shrink-0",children:a.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:V}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Hoje"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/60 transition-colors",children:a.jsxs(U,{className:"flex items-center gap-3 sm:gap-4 p-4 sm:p-6",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-lilac-primary to-pink-accent flex-shrink-0",children:a.jsx(it,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:re}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Amanh"})]})]})}),a.jsx(F,{className:"border-border/50 bg-card/50 backdrop-blur-sm hover:bg-card/60 transition-colors sm:col-span-2 lg:col-span-1",children:a.jsxs(U,{className:"flex items-center gap-3 sm:gap-4 p-4 sm:p-6",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-xl bg-gradient-to-br from-pink-accent to-lavender flex-shrink-0",children:a.jsx(Se,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xl sm:text-2xl font-bold text-foreground",children:K}),a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Esta Semana"})]})]})})]}),a.jsx(XNe,{agendamentos:e,filtros:r,onFiltrosChange:n,onEdit:ce,onDelete:f,onCancel:h,onViewDetails:_e,onReagendar:Re,onTrocarHorario:me,onMarcarPagamento:Y,clientes:c.map(he=>({id:he.id,nome:he.nomeCompleto})),paginaAtual:s,totalPaginas:i,onPaginaChange:o}),a.jsx(tD,{open:w,onOpenChange:j,agendamento:N,onReagendar:oe,verificarConflito:p}),a.jsx(r_e,{open:_,onOpenChange:P,agendamento:E,agendamentosDisponiveis:v,onTrocarHorarios:be}),a.jsx(n_e,{open:A,onOpenChange:C,agendamento:O,onConfirmar:Xe})]})}function s_e(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-muted/20 to-background",children:a.jsx("div",{className:"container mx-auto p-4 lg:p-8 space-y-6 lg:space-y-8",children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary/10 via-primary/5 to-accent/10 p-6 lg:p-8",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent dark:from-white/5"}),a.jsxs("div",{className:"relative flex flex-col gap-4",children:[a.jsx("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-primary/10 backdrop-blur-sm shadow-lg",children:a.jsx(Se,{className:"h-7 w-7 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl lg:text-4xl font-bold tracking-tight bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Minha Agenda"}),a.jsx("p",{className:"text-muted-foreground font-medium",children:"Visualize e gerencie todos os seus horrios em um s lugar"})]})]})}),a.jsxs(is,{defaultValue:"calendario",className:"w-full",children:[a.jsxs(Ea,{children:[a.jsxs(ct,{value:"calendario",className:"gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsx("span",{children:"Viso de Calendrio"})]}),a.jsxs(ct,{value:"lista",className:"gap-2",children:[a.jsx(WF,{className:"h-4 w-4"}),a.jsx("span",{children:"Lista & Gesto"})]})]}),a.jsx(lt,{value:"calendario",children:a.jsx(Mje,{})}),a.jsx(lt,{value:"lista",children:a.jsx(a_e,{})})]})]})]})})})}const ol=[{id:0,nome:"Domingo",abrev:"DOM"},{id:1,nome:"Segunda-feira",abrev:"SEG"},{id:2,nome:"Tera-feira",abrev:"TER"},{id:3,nome:"Quarta-feira",abrev:"QUA"},{id:4,nome:"Quinta-feira",abrev:"QUI"},{id:5,nome:"Sexta-feira",abrev:"SEX"},{id:6,nome:"Sbado",abrev:"SAB"}];function o_e(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,o]=x.useState(!1);x.useEffect(()=>{const d=ol.map(f=>({dia_semana:f.id,ativo:f.id>=1&&f.id<=5,horario_abertura:"08:00",horario_fechamento:"18:00",intervalo_inicio:"12:00",intervalo_fim:"13:00"}));t(d),i()},[]);const i=async()=>{try{const{data:{user:d}}=await W.auth.getUser();if(!d)return;const{data:f,error:h}=await W.from("configuracoes_horarios").select("*").eq("user_id",d.id);if(h)throw h;if(f&&f.length>0){const p=ol.map(v=>{const m=f.find(g=>g.dia_semana===v.id);return m?{id:m.id,dia_semana:v.id,ativo:m.ativo,horario_abertura:m.horario_abertura,horario_fechamento:m.horario_fechamento,intervalo_inicio:m.intervalo_inicio||"12:00",intervalo_fim:m.intervalo_fim||"13:00"}:{dia_semana:v.id,ativo:v.id>=1&&v.id<=5,horario_abertura:"08:00",horario_fechamento:"18:00",intervalo_inicio:"12:00",intervalo_fim:"13:00"}});t(p)}}catch(d){console.error("Erro ao carregar configuraes:",d),B.error("Erro ao carregar configuraes de horrio")}finally{n(!1)}},c=async d=>{const f=e.find(h=>h.dia_semana===d);if(f){o(!0);try{const{data:{user:h}}=await W.auth.getUser();if(!h)throw new Error("Usurio no autenticado");const p={user_id:h.id,dia_semana:f.dia_semana,ativo:f.ativo,horario_abertura:f.horario_abertura,horario_fechamento:f.horario_fechamento,intervalo_inicio:f.intervalo_inicio,intervalo_fim:f.intervalo_fim};if(f.id){const{error:v}=await W.from("configuracoes_horarios").update(p).eq("id",f.id);if(v)throw v}else{const{data:v,error:m}=await W.from("configuracoes_horarios").insert(p).select().single();if(m)throw m;t(g=>g.map(y=>y.dia_semana===d?{...y,id:v.id}:y))}B.success(`Horrio de ${ol[d].nome} salvo com sucesso!`)}catch(h){console.error("Erro ao salvar configurao:",h),B.error("Erro ao salvar configurao")}finally{o(!1)}}},l=(d,f,h)=>{t(p=>p.map(v=>v.dia_semana===d?{...v,[f]:h}:v))},u=e.filter(d=>d.ativo);return r?a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"text-sm text-muted-foreground",children:"Carregando configuraes..."})})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(F,{children:a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-5 w-5"}),"Configurao de Horrios de Trabalho"]}),a.jsx(He,{children:"Configure os dias e horrios em que voc atende clientes"})]})}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5"}),"Resumo dos Dias de Atendimento"]}),a.jsx(He,{children:"Viso geral dos dias em que voc atender clientes"})]}),a.jsxs(U,{children:[a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:ol.map(d=>{const f=e.find(h=>h.dia_semana===d.id);return a.jsxs(ue,{variant:f?.ativo?"default":"secondary",children:[d.abrev," ",f?.ativo?`(${f.horario_abertura}-${f.horario_fechamento})`:"(Fechado)"]},d.id)})}),u.length===0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg mb-4",children:[a.jsx(mc,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),a.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Nenhum dia de atendimento configurado. Configure pelo menos um dia para receber agendamentos."})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:u.length>0?`${u.length} ${u.length===1?"dia configurado":"dias configurados"} para atendimento`:"Configure os dias e horrios de atendimento abaixo"})]})]}),ol.map(d=>{const f=e.find(h=>h.dia_semana===d.id);return f?a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-5 w-5"}),d.nome]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wt,{checked:f.ativo,onCheckedChange:h=>l(d.id,"ativo",h)}),a.jsx(ue,{variant:f.ativo?"default":"secondary",children:f.ativo?"Ativo":"Inativo"})]})]}),a.jsxs(He,{children:["Configure os horrios de funcionamento para ",d.nome.toLowerCase()]})]}),a.jsxs(U,{className:"space-y-4",children:[f.ativo&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Horrio de Funcionamento"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:`abertura-${d.id}`,className:"text-xs",children:"Abertura"}),a.jsx(ee,{id:`abertura-${d.id}`,type:"time",value:f.horario_abertura,onChange:h=>l(d.id,"horario_abertura",h.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`fechamento-${d.id}`,className:"text-xs",children:"Fechamento"}),a.jsx(ee,{id:`fechamento-${d.id}`,type:"time",value:f.horario_fechamento,onChange:h=>l(d.id,"horario_fechamento",h.target.value)})]})]})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-sm font-medium mb-2 block",children:"Intervalo de Almoo (Opcional)"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:`intervalo-inicio-${d.id}`,className:"text-xs",children:"Incio do Almoo"}),a.jsx(ee,{id:`intervalo-inicio-${d.id}`,type:"time",value:f.intervalo_inicio||"",onChange:h=>l(d.id,"intervalo_inicio",h.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:`intervalo-fim-${d.id}`,className:"text-xs",children:"Fim do Almoo"}),a.jsx(ee,{id:`intervalo-fim-${d.id}`,type:"time",value:f.intervalo_fim||"",onChange:h=>l(d.id,"intervalo_fim",h.target.value)})]})]})]}),a.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Funcionamento:"})," ",f.horario_abertura," s ",f.horario_fechamento,f.intervalo_inicio&&f.intervalo_fim&&a.jsxs("span",{children:[" (Almoo: ",f.intervalo_inicio," s ",f.intervalo_fim,")"]})]})})]}),!f.ativo&&a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx(it,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Este dia est desativado para atendimento"})]}),a.jsxs(z,{className:"w-full",variant:"outline",onClick:()=>c(d.id),disabled:s,children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),s?"Salvando...":`Salvar ${d.nome}`]})]})]},d.id):null}),a.jsx(F,{className:"border-green-200 bg-green-50/50 dark:border-green-800 dark:bg-green-900/20",children:a.jsxs(U,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:" Configurao Funcional"}),a.jsxs("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[a.jsx("li",{children:" Configure os dias e horrios de atendimento"}),a.jsx("li",{children:" Os horrios so salvos automaticamente no banco de dados"}),a.jsx("li",{children:" Os agendamentos respeitaro essas configuraes"}),a.jsx("li",{children:" Use o switch para ativar/desativar dias especficos"})]})]})})]})}var eR=["PageUp","PageDown"],tR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rR={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Bc="Slider",[xy,i_e,c_e]=pp(Bc),[nR]=Qn(Bc,[c_e]),[l_e,Ip]=nR(Bc),aR=x.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:v,...m}=e,g=x.useRef(new Set),y=x.useRef(0),w=i==="horizontal"?u_e:d_e,[j=[],N]=wa({prop:d,defaultProp:u,onChange:A=>{[...g.current][y.current]?.focus(),f(A)}}),S=x.useRef(j);function _(A){const C=g_e(j,A);$(A,C)}function P(A){$(A,y.current)}function E(){const A=S.current[y.current];j[y.current]!==A&&h(j)}function $(A,C,{commit:O}={commit:!1}){const T=b_e(o),I=w_e(Math.round((A-n)/o)*o+n,T),R=Su(I,[n,s]);N((D=[])=>{const M=m_e(D,R,C);if(y_e(M,l*o)){y.current=M.indexOf(R);const V=String(M)!==String(D);return V&&O&&h(M),V?M:D}else return D})}return a.jsx(l_e,{scope:e.__scopeSlider,name:r,disabled:c,min:n,max:s,valueIndexToChangeRef:y,thumbs:g.current,values:j,orientation:i,form:v,children:a.jsx(xy.Provider,{scope:e.__scopeSlider,children:a.jsx(xy.Slot,{scope:e.__scopeSlider,children:a.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...m,ref:t,onPointerDown:fe(m.onPointerDown,()=>{c||(S.current=j)}),min:n,max:s,inverted:p,onSlideStart:c?void 0:_,onSlideMove:c?void 0:P,onSlideEnd:c?void 0:E,onHomeKeyDown:()=>!c&&$(n,0,{commit:!0}),onEndKeyDown:()=>!c&&$(s,j.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:C})=>{if(!c){const I=eR.includes(A.key)||A.shiftKey&&tR.includes(A.key)?10:1,R=y.current,D=j[R],M=o*I*C;$(D+M,R,{commit:!0})}}})})})})});aR.displayName=Bc;var[sR,oR]=nR(Bc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),u_e=x.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:i,onSlideMove:c,onSlideEnd:l,onStepKeyDown:u,...d}=e,[f,h]=x.useState(null),p=Be(t,w=>h(w)),v=x.useRef(),m=Ic(s),g=m==="ltr",y=g&&!o||!g&&o;function b(w){const j=v.current||f.getBoundingClientRect(),N=[0,j.width],_=fw(N,y?[r,n]:[n,r]);return v.current=j,_(w-j.left)}return a.jsx(sR,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:a.jsx(iR,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const j=b(w.clientX);i?.(j)},onSlideMove:w=>{const j=b(w.clientX);c?.(j)},onSlideEnd:()=>{v.current=void 0,l?.()},onStepKeyDown:w=>{const N=rR[y?"from-left":"from-right"].includes(w.key);u?.({event:w,direction:N?-1:1})}})})}),d_e=x.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:c,onStepKeyDown:l,...u}=e,d=x.useRef(null),f=Be(t,d),h=x.useRef(),p=!s;function v(m){const g=h.current||d.current.getBoundingClientRect(),y=[0,g.height],w=fw(y,p?[n,r]:[r,n]);return h.current=g,w(m-g.top)}return a.jsx(sR,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:a.jsx(iR,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const g=v(m.clientY);o?.(g)},onSlideMove:m=>{const g=v(m.clientY);i?.(g)},onSlideEnd:()=>{h.current=void 0,c?.()},onStepKeyDown:m=>{const y=rR[p?"from-bottom":"from-top"].includes(m.key);l?.({event:m,direction:y?-1:1})}})})}),iR=x.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:c,onStepKeyDown:l,...u}=e,d=Ip(Bc,r);return a.jsx(Pe.span,{...u,ref:t,onKeyDown:fe(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):eR.concat(tR).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:fe(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:fe(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:fe(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),o(f))})})}),cR="SliderTrack",lR=x.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Ip(cR,r);return a.jsx(Pe.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});lR.displayName=cR;var yy="SliderRange",uR=x.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Ip(yy,r),o=oR(yy,r),i=x.useRef(null),c=Be(t,i),l=s.values.length,u=s.values.map(h=>fR(h,s.min,s.max)),d=l>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(Pe.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:c,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});uR.displayName=yy;var by="SliderThumb",dR=x.forwardRef((e,t)=>{const r=i_e(e.__scopeSlider),[n,s]=x.useState(null),o=Be(t,c=>s(c)),i=x.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return a.jsx(f_e,{...e,ref:o,index:i})}),f_e=x.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,i=Ip(by,r),c=oR(by,r),[l,u]=x.useState(null),d=Be(t,b=>u(b)),f=l?i.form||!!l.closest("form"):!0,h=ab(l),p=i.values[n],v=p===void 0?0:fR(p,i.min,i.max),m=p_e(n,i.values.length),g=h?.[c.size],y=g?v_e(g,v,c.direction):0;return x.useEffect(()=>{if(l)return i.thumbs.add(l),()=>{i.thumbs.delete(l)}},[l,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${y}px)`},children:[a.jsx(xy.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(Pe.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":i.min,"aria-valuenow":p,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:fe(e.onFocus,()=>{i.valueIndexToChangeRef.current=n})})}),f&&a.jsx(h_e,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:p},n)]})});dR.displayName=by;var h_e=e=>{const{value:t,...r}=e,n=x.useRef(null),s=K0(t);return x.useEffect(()=>{const o=n.current,i=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&l){const u=new Event("input",{bubbles:!0});l.call(o,t),o.dispatchEvent(u)}},[s,t]),a.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function m_e(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function fR(e,t,r){const o=100/(r-t)*(e-t);return Su(o,[0,100])}function p_e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function g_e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function v_e(e,t,r){const n=e/2,o=fw([0,50],[0,n]);return(n-o(t)*r)*r}function x_e(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function y_e(e,t){if(t>0){const r=x_e(e);return Math.min(...r)>=t}return!0}function fw(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function b_e(e){return(String(e).split(".")[1]||"").length}function w_e(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var hR=aR,j_e=lR,N_e=uR,__e=dR;const ff=x.forwardRef(({className:e,...t},r)=>a.jsxs(hR,{ref:r,className:J("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(j_e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(N_e,{className:"absolute h-full bg-primary"})}),a.jsx(__e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ff.displayName=hR.displayName;const Lp=()=>{const{usuario:e}=Lt(),[t,r]=x.useState(!1),[n,s]=x.useState(!1),[o,i]=x.useState(null),[c,l]=x.useState(!1);x.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&(r(!0),u())},[]);const u=x.useCallback(async()=>{try{const y=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(y){const b={endpoint:y.endpoint,keys:{p256dh:d(y.getKey("p256dh")),auth:d(y.getKey("auth"))}};i(b),s(!0)}}catch(g){console.error("Erro ao verificar subscription:",g)}},[]),d=g=>{const y=new Uint8Array(g);let b="";for(let w=0;w<y.byteLength;w++)b+=String.fromCharCode(y[w]);return btoa(b)},f=x.useCallback(async()=>{if(!t||!e)return!1;l(!0);try{if(await Notification.requestPermission()!=="granted")return B.error("Permisso negada - As notificaes push foram bloqueadas. Ative nas configuraes do navegador."),!1;const w=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BEl62iUYgUivxIkv69yViEuiBIa40HI0DLLfgA7X3EgMGvpADQJ1wpQOVWvwG4yA-7XVvPDn5TPBY-A3VoGcEng"}),j={endpoint:w.endpoint,keys:{p256dh:d(w.getKey("p256dh")),auth:d(w.getKey("auth"))}};return await p(j),i(j),s(!0),B.success("Notificaes ativadas! Voc receber notificaes push sobre agendamentos e lembretes."),!0}catch(g){return console.error("Erro ao subscrever push notifications:",g),B.error("Erro ao ativar notificaes - No foi possvel ativar as notificaes push. Tente novamente."),!1}finally{l(!1)}},[t,e]),h=x.useCallback(async()=>{if(n){l(!0);try{const y=await(await navigator.serviceWorker.ready).pushManager.getSubscription();y&&(await y.unsubscribe(),await v()),i(null),s(!1),B.warning("Notificaes desativadas - Voc no receber mais notificaes push.")}catch(g){console.error("Erro ao cancelar subscription:",g),B.error("Erro ao desativar notificaes - No foi possvel desativar as notificaes. Tente novamente.")}finally{l(!1)}}},[n]),p=async g=>{e&&localStorage.setItem(`push-subscription-${e.id}`,JSON.stringify(g))},v=async()=>{e&&localStorage.removeItem(`push-subscription-${e.id}`)},m=x.useCallback(async()=>{if(n)try{"serviceWorker"in navigator&&((await navigator.serviceWorker.ready).showNotification("Teste de Notificao",{body:"Esta  uma notificao de teste do seu salo!",icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png",tag:"test-notification",data:{url:"/",timestamp:Date.now()}}),B.success("Notificao de teste enviada! Verifique se a notificao apareceu."))}catch(g){console.error("Erro ao enviar notificao de teste:",g),B.error("Erro no teste - No foi possvel enviar a notificao de teste.")}},[n]);return{isSupported:t,isSubscribed:n,subscription:o,isLoading:c,subscribe:f,unsubscribe:h,sendTestNotification:m,checkSubscription:u}};function S_e(){const{configuracaoNotificacoes:e,loading:t,salvarNotificacoes:r}=Vu(),{isSupported:n,isSubscribed:s,subscribe:o,unsubscribe:i,sendTestNotification:c,isLoading:l}=Lp(),[u,d]=x.useState({notificacoes_push:!0,notificacoes_email:!0,notificacoes_som:!0,som_personalizado:"notification.mp3",lembrete_agendamento_minutos:60,lembrete_vencimento_dias:3,lembrete_contas_fixas_dias:7,notificar_cancelamentos:!0,notificar_reagendamentos:!0,notificar_pagamentos:!0,notificar_novos_agendamentos:!0,horario_inicio_notificacoes:"08:00",horario_fim_notificacoes:"20:00"});if(x.useEffect(()=>{e&&d({notificacoes_push:e.notificacoes_push,notificacoes_email:e.notificacoes_email,notificacoes_som:e.notificacoes_som,som_personalizado:e.som_personalizado||"notification.mp3",lembrete_agendamento_minutos:e.lembrete_agendamento_minutos,lembrete_vencimento_dias:e.lembrete_vencimento_dias,lembrete_contas_fixas_dias:e.lembrete_contas_fixas_dias,notificar_cancelamentos:e.notificar_cancelamentos,notificar_reagendamentos:e.notificar_reagendamentos,notificar_pagamentos:e.notificar_pagamentos,notificar_novos_agendamentos:e.notificar_novos_agendamentos,horario_inicio_notificacoes:e.horario_inicio_notificacoes,horario_fim_notificacoes:e.horario_fim_notificacoes})},[e]),t)return a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Carregando configuraes de notificaes..."})})});const f=async()=>{try{await r(u)}catch(v){console.error("Erro ao salvar configuraes:",v)}},h=async()=>{s?(await i(),d(v=>({...v,notificacoes_push:!1}))):await o()&&d(m=>({...m,notificacoes_push:!0}))},p=()=>{try{new Audio(`/sounds/${u.som_personalizado}`).play().catch(m=>{console.log("Erro ao reproduzir som:",m),B.error("No foi possvel reproduzir o som selecionado")})}catch(v){console.log("Erro ao criar udio:",v)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"h-5 w-5"}),"Status das Notificaes"]})}),a.jsxs(U,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ue,{variant:u.notificacoes_push?"default":"secondary",children:["Push ",u.notificacoes_push?"Ativo":"Inativo"]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ue,{variant:u.notificacoes_email?"default":"secondary",children:["Email ",u.notificacoes_email?"Ativo":"Inativo"]})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(ue,{variant:u.notificacoes_som?"default":"secondary",children:["Som ",u.notificacoes_som?"Ativo":"Inativo"]})})]}),a.jsxs(z,{onClick:f,className:"w-full",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Salvar Todas as Configuraes"]})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(om,{className:"h-5 w-5"}),"Configuraes Principais"]})}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mv,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx(H,{className:"text-base font-medium",children:"Notificaes Push"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificaes no celular mesmo com o app fechado"}),!n&&a.jsx("p",{className:"text-xs text-orange-600",children:"No suportado neste navegador"})]})]}),a.jsx(Wt,{checked:s&&u.notificacoes_push,onCheckedChange:h,disabled:!n||l})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(am,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx(H,{className:"text-base font-medium",children:"Notificaes por Email"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba resumos e alertas importantes por email"})]})]}),a.jsx(Wt,{checked:u.notificacoes_email,onCheckedChange:v=>d(m=>({...m,notificacoes_email:v}))})]}),a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xp,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx(H,{className:"text-base font-medium",children:"Notificaes Sonoras"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduzir som ao receber notificaes"})]})]}),a.jsx(Wt,{checked:u.notificacoes_som,onCheckedChange:v=>d(m=>({...m,notificacoes_som:v}))})]}),u.notificacoes_som&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"som-select",children:"Som das Notificaes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Le,{value:u.som_personalizado,onValueChange:v=>d(m=>({...m,som_personalizado:v})),children:[a.jsx(Me,{className:"flex-1",children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"notification.mp3",children:"Som Padro"}),a.jsx(X,{value:"notification2.mp3",children:"Som Campainha"}),a.jsx(X,{value:"notification3.mp3",children:"Som Suave"})]})]}),a.jsx(z,{variant:"outline",onClick:p,children:a.jsx(Xp,{className:"h-4 w-4"})})]})]})]})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-5 w-5"}),"Horrios de Notificao"]})}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"inicio-notif",children:"Horrio de Incio"}),a.jsx(ee,{id:"inicio-notif",type:"time",value:u.horario_inicio_notificacoes,onChange:v=>d(m=>({...m,horario_inicio_notificacoes:v.target.value}))})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"fim-notif",children:"Horrio de Fim"}),a.jsx(ee,{id:"fim-notif",type:"time",value:u.horario_fim_notificacoes,onChange:v=>d(m=>({...m,horario_fim_notificacoes:v.target.value}))})]})]}),a.jsx("div",{className:"bg-muted/50 p-3 rounded-lg",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.jsx("strong",{children:"Perodo ativo:"})," ",u.horario_inicio_notificacoes," s ",u.horario_fim_notificacoes,a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"Notificaes fora deste horrio sero silenciadas"})]})})]})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"h-5 w-5"}),"Tipos de Notificao"]})}),a.jsx(U,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(H,{htmlFor:"novos-agend",children:"Novos Agendamentos"}),a.jsx(Wt,{id:"novos-agend",checked:u.notificar_novos_agendamentos,onCheckedChange:v=>d(m=>({...m,notificar_novos_agendamentos:v}))})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(H,{htmlFor:"cancelamentos",children:"Cancelamentos"}),a.jsx(Wt,{id:"cancelamentos",checked:u.notificar_cancelamentos,onCheckedChange:v=>d(m=>({...m,notificar_cancelamentos:v}))})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(H,{htmlFor:"reagendamentos",children:"Reagendamentos"}),a.jsx(Wt,{id:"reagendamentos",checked:u.notificar_reagendamentos,onCheckedChange:v=>d(m=>({...m,notificar_reagendamentos:v}))})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx(H,{htmlFor:"pagamentos",children:"Pagamentos"}),a.jsx(Wt,{id:"pagamentos",checked:u.notificar_pagamentos,onCheckedChange:v=>d(m=>({...m,notificar_pagamentos:v}))})]})]})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Ja,{className:"h-5 w-5"}),"Lembretes e Alertas"]})}),a.jsxs(U,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-base font-medium",children:"Lembrete de Agendamentos"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{className:"text-sm",children:["Antecedncia: ",u.lembrete_agendamento_minutos," minutos"]}),a.jsx(ff,{value:[u.lembrete_agendamento_minutos],onValueChange:([v])=>d(m=>({...m,lembrete_agendamento_minutos:v})),max:480,min:5,step:5,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"5 min"}),a.jsx("span",{children:"8 horas"})]})]})]}),a.jsx(Ba,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-base font-medium",children:"Lembrete de Vencimentos"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{className:"text-sm",children:["Antecedncia: ",u.lembrete_vencimento_dias," dias"]}),a.jsx(ff,{value:[u.lembrete_vencimento_dias],onValueChange:([v])=>d(m=>({...m,lembrete_vencimento_dias:v})),max:30,min:1,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"1 dia"}),a.jsx("span",{children:"30 dias"})]})]})]}),a.jsx(Ba,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-base font-medium",children:"Lembrete de Contas Fixas"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{className:"text-sm",children:["Antecedncia: ",u.lembrete_contas_fixas_dias," dias"]}),a.jsx(ff,{value:[u.lembrete_contas_fixas_dias],onValueChange:([v])=>d(m=>({...m,lembrete_contas_fixas_dias:v})),max:30,min:1,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"1 dia"}),a.jsx("span",{children:"30 dias"})]})]})]})]})]}),s&&a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{children:"Teste de Notificaes"})}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs(z,{variant:"outline",onClick:c,className:"w-full",disabled:l,children:[a.jsx(Ha,{className:"h-4 w-4 mr-2"}),"Enviar Notificao de Teste"]}),a.jsxs(z,{variant:"outline",onClick:p,className:"w-full",disabled:!u.notificacoes_som,children:[a.jsx(Xp,{className:"h-4 w-4 mr-2"}),"Testar Som da Notificao"]})]})]}),a.jsx(F,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/20",children:a.jsxs(U,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:" Sobre as Notificaes"}),a.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[a.jsx("li",{children:" Notificaes push funcionam apenas em HTTPS ou localhost"}),a.jsx("li",{children:" Configure horrios para evitar notificaes em perodos de descanso"}),a.jsx("li",{children:" Lembretes ajudam a no esquecer de agendamentos e vencimentos importantes"}),a.jsx("li",{children:" Todas as configuraes so salvas automaticamente"})]})]})})]})}const C_e=[{value:"json",label:"JSON",icon:RF,description:"Formato legvel e universal"},{value:"csv",label:"CSV",icon:xo,description:"Para Excel e planilhas"},{value:"sql",label:"SQL",icon:yf,description:"Script de restaurao"}];function P_e(){const{configuracaoBackup:e,loading:t,salvarBackup:r}=Vu(),{user:n}=Lt(),[s,o]=x.useState(!1),[i,c]=x.useState(!1),[l,u]=x.useState("json"),[d,f]=x.useState({incluir_clientes:!0,incluir_agendamentos:!0,incluir_servicos:!0,incluir_financeiro:!0,incluir_cronogramas:!0,backup_automatico:!1,frequencia_backup:"semanal",dia_backup:1,hora_backup:"02:00",email_backup:""});x.useEffect(()=>{e&&f({incluir_clientes:e.incluir_clientes,incluir_agendamentos:e.incluir_agendamentos,incluir_servicos:e.incluir_servicos,incluir_financeiro:e.incluir_financeiro,incluir_cronogramas:e.incluir_cronogramas,backup_automatico:e.backup_automatico,frequencia_backup:e.frequencia_backup,dia_backup:e.dia_backup||1,hora_backup:e.hora_backup,email_backup:e.email_backup||""})},[e]);const h=async()=>{if(!n?.id)throw new Error("Usurio no autenticado");const y={exportadoEm:new Date().toISOString(),usuario:n.email,userId:n.id,versao:"1.0",dados:{},estatisticas:{}};if(d.incluir_clientes){const{data:w}=await W.from("clientes").select("*").eq("user_id",n.id);y.dados.clientes=w||[],y.estatisticas.totalClientes=w?.length||0}if(d.incluir_servicos){const{data:w}=await W.from("servicos").select("*").eq("user_id",n.id);y.dados.servicos=w||[],y.estatisticas.totalServicos=w?.length||0}if(d.incluir_agendamentos){const{data:w}=await W.from("agendamentos").select("*").eq("user_id",n.id);y.dados.agendamentos=w||[],y.estatisticas.totalAgendamentos=w?.length||0}if(d.incluir_cronogramas){const{data:w}=await W.from("cronogramas_novos").select("*").eq("user_id",n.id);y.dados.cronogramas=w||[];const{data:j}=await W.from("retornos_novos").select("*").eq("user_id",n.id);y.dados.retornos=j||[]}if(d.incluir_financeiro){const{data:w}=await W.from("lancamentos").select("*").eq("user_id",n.id);y.dados.lancamentos=w||[];const{data:j}=await W.from("contas_fixas").select("*").eq("user_id",n.id);y.dados.contas_fixas=j||[]}const{data:b}=await W.from("configuracoes_horarios").select("*").eq("user_id",n.id);return y.dados.configuracoes_horarios=b||[],y},p=y=>{let b="";return Object.entries(y.dados).forEach(([w,j])=>{if(!Array.isArray(j)||j.length===0)return;b+=`

=== ${w.toUpperCase()} ===
`;const N=Object.keys(j[0]);b+=N.join(",")+`
`,j.forEach(S=>{const _=N.map(P=>{const E=S[P];return E==null?"":typeof E=="string"&&E.includes(",")?`"${E.replace(/"/g,'""')}"`:typeof E=="object"?JSON.stringify(E):E});b+=_.join(",")+`
`})}),b},v=y=>{let b=`-- Backup exportado em: ${new Date().toISOString()}
`;return b+=`-- Usurio: ${y.usuario}

`,b+=`-- IMPORTANTE: Este backup foi criado para restaurao de dados
`,b+=`-- Execute este script em um banco de dados limpo ou revise antes de executar

`,[{nome:"clientes",campos:["id","user_id","nome","telefone","email","endereco","data_nascimento","observacoes","historico_servicos"]},{nome:"servicos",campos:["id","user_id","nome","descricao","valor","duracao","observacoes"]},{nome:"agendamentos",campos:["id","user_id","cliente_id","servico_id","data","hora","duracao","valor","status","observacoes"]},{nome:"lancamentos",campos:["id","user_id","tipo","descricao","valor","data","categoria"]},{nome:"contas_fixas",campos:["id","user_id","nome","valor","categoria","frequencia","data_vencimento"]},{nome:"cronogramas_novos",campos:["id_cronograma","user_id","cliente_id","servico_id","tipo_servico","recorrencia","data_inicio"]}].forEach(({nome:j,campos:N})=>{const S=y.dados[j];!S||!Array.isArray(S)||S.length===0||(b+=`
-- Tabela: ${j}
`,b+=`-- Total de registros: ${S.length}

`,S.forEach(_=>{const P=N.map(E=>{const $=_[E];return $==null?"NULL":typeof $=="string"?`'${$.replace(/'/g,"''")}'`:typeof $=="boolean"?$?"TRUE":"FALSE":typeof $=="object"?`'${JSON.stringify($).replace(/'/g,"''")}'`:$});b+=`INSERT INTO ${j} (${N.join(", ")}) VALUES (${P.join(", ")});
`}))}),b},m=async()=>{if(!n?.id){B.error("Usurio no autenticado");return}o(!0);try{console.log(" Iniciando backup dos dados...");const y=await h();console.log(" Dados coletados:",y.estatisticas);let b,w,j;switch(l){case"csv":b=p(y),w=`backup_${new Date().toISOString().split("T")[0]}.csv`,j="text/csv";break;case"sql":b=v(y),w=`backup_${new Date().toISOString().split("T")[0]}.sql`,j="text/plain";break;case"json":default:b=JSON.stringify(y,null,2),w=`backup_${new Date().toISOString().split("T")[0]}.json`,j="application/json"}const N=new Blob([b],{type:j}),S=URL.createObjectURL(N),_=document.createElement("a");_.href=S,_.download=w,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(S),await r({...d,backup_automatico:e?.backup_automatico||!1,frequencia_backup:e?.frequencia_backup||"semanal",dia_backup:e?.dia_backup||1,hora_backup:e?.hora_backup||"02:00",email_backup:e?.email_backup||"",ultimo_backup:new Date().toISOString()});const P=Object.values(y.estatisticas).reduce((E,$)=>E+(typeof $=="number"?$:0),0);B.success(`Backup ${l.toUpperCase()} criado com sucesso! ${P} registros exportados.`)}catch(y){console.error(" Erro ao exportar dados:",y),B.error("Erro ao criar backup. Verifique o console.")}finally{o(!1)}},g=async y=>{const b=y.target.files?.[0];if(!(!b||!n?.id)){c(!0);try{console.log(" Iniciando importao de:",b.name);const w=await b.text();let j;if(b.name.endsWith(".json"))j=JSON.parse(w);else if(b.name.endsWith(".csv")){B.error("Importao de CSV em desenvolvimento"),c(!1);return}else if(b.name.endsWith(".sql")){B.error("Importao de SQL em desenvolvimento"),c(!1);return}else{B.error("Formato de arquivo no suportado"),c(!1);return}if(!j.dados||!j.userId){B.error("Arquivo de backup invlido"),c(!1);return}const N=Object.values(j.dados).reduce((P,E)=>P+(Array.isArray(E)?E.length:0),0);if(!confirm(`Deseja importar ${N} registros? Isso ir adicionar dados ao sistema.`)){c(!1);return}let S=0,_=0;if(j.dados.clientes?.length>0)for(const P of j.dados.clientes)try{const{error:E}=await W.from("clientes").upsert({...P,user_id:n.id},{onConflict:"id"});if(E)throw E;S++}catch(E){console.error("Erro ao importar cliente:",E),_++}if(j.dados.servicos?.length>0)for(const P of j.dados.servicos)try{const{error:E}=await W.from("servicos").upsert({...P,user_id:n.id},{onConflict:"id"});if(E)throw E;S++}catch(E){console.error("Erro ao importar servio:",E),_++}if(j.dados.agendamentos?.length>0)for(const P of j.dados.agendamentos)try{const{error:E}=await W.from("agendamentos").upsert({...P,user_id:n.id},{onConflict:"id"});if(E)throw E;S++}catch(E){console.error("Erro ao importar agendamento:",E),_++}B.success(`Importao concluda! ${S} registros importados${_>0?`, ${_} erros`:""}.`)}catch(w){console.error(" Erro na importao:",w),B.error("Erro ao importar dados. Verifique o arquivo.")}finally{c(!1),y.target.value=""}}};return t?a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsx("div",{className:"text-center",children:"Carregando configuraes..."})})}):a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs(F,{children:[a.jsxs(ne,{className:"p-responsive",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(ma,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Exportar Dados"]}),a.jsx(He,{className:"text-responsive-sm",children:"Faa backup de todos os seus dados em diferentes formatos"})]}),a.jsxs(U,{className:"space-y-4 p-responsive",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-base font-medium",children:"Formato de Exportao:"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-3",children:C_e.map(y=>{const b=y.icon;return a.jsxs("button",{onClick:()=>u(y.value),className:`p-3 sm:p-4 border-2 rounded-lg text-left transition-all touch-manipulation ${l===y.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2",children:[a.jsx(b,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),a.jsx("span",{className:"font-semibold text-responsive-sm",children:y.label})]}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:y.description})]},y.value)})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-base font-medium",children:"Dados para incluir:"}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:[{key:"incluir_clientes",label:"Clientes",icon:""},{key:"incluir_servicos",label:"Servios",icon:""},{key:"incluir_agendamentos",label:"Agendamentos",icon:""},{key:"incluir_cronogramas",label:"Cronogramas",icon:""},{key:"incluir_financeiro",label:"Financeiro",icon:""}].map(y=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 sm:p-3 border rounded-lg touch-manipulation",children:[a.jsx(Wt,{id:y.key,checked:d[y.key],onCheckedChange:b=>f(w=>({...w,[y.key]:b}))}),a.jsxs(H,{htmlFor:y.key,className:"text-responsive-xs cursor-pointer flex-1 select-none",children:[y.icon," ",y.label]})]},y.key))})]}),a.jsxs(z,{onClick:()=>r(d),variant:"outline",className:"w-full btn-touch",children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-responsive-sm",children:"Salvar Preferncias de Backup"})]}),a.jsx(z,{onClick:m,disabled:s,className:"w-full btn-touch",size:"lg",children:s?a.jsxs(a.Fragment,{children:[a.jsx(ma,{className:"h-4 w-4 mr-2 animate-pulse"}),a.jsx("span",{className:"text-responsive-sm",children:"Preparando backup..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(ma,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"text-responsive-sm",children:["Exportar em ",l.toUpperCase()]})]})})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{className:"p-responsive",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(pv,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Importar Dados"]}),a.jsx(He,{className:"text-responsive-sm",children:"Restaure seus dados a partir de um arquivo de backup"})]}),a.jsxs(U,{className:"space-y-4 p-responsive",children:[a.jsxs(bn,{children:[a.jsx(Ja,{className:"h-4 w-4 flex-shrink-0"}),a.jsx(wn,{className:"text-responsive-xs",children:"A importao ir adicionar os dados do backup ao sistema. Dados duplicados sero atualizados. Atualmente suportamos apenas importao de arquivos JSON."})]}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 sm:p-8 text-center touch-manipulation",children:[a.jsx("input",{type:"file",id:"file-upload",accept:".json,.csv,.sql",onChange:g,disabled:i,className:"hidden"}),a.jsx("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(pv,{className:"h-10 w-10 sm:h-12 sm:w-12 text-primary animate-pulse"}),a.jsx("p",{className:"font-medium text-responsive-base",children:"Importando dados..."}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Aguarde, isso pode levar alguns instantes"})]}):a.jsxs(a.Fragment,{children:[a.jsx(IF,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground"}),a.jsx("p",{className:"font-medium text-responsive-base",children:"Clique para selecionar arquivo"}),a.jsx("p",{className:"text-responsive-sm text-muted-foreground",children:"Suporta: JSON, CSV, SQL (mx. 10MB)"})]})})]})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{className:"p-responsive",children:[a.jsxs(ae,{className:"flex items-center gap-2 text-responsive-lg",children:[a.jsx(yf,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Backup Automtico Programado"]}),a.jsx(He,{className:"text-responsive-sm",children:"Configure backups automticos peridicos dos seus dados"})]}),a.jsxs(U,{className:"space-y-4 p-responsive",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(H,{className:"text-responsive-base font-medium",children:"Ativar Backup Automtico"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground mt-1",children:"Quando ativado, voc ser notificado para fazer backup"})]}),a.jsx(Wt,{checked:d.backup_automatico||!1,onCheckedChange:y=>{const b={...d,backup_automatico:y};f(b),r(b)},className:"flex-shrink-0"})]}),d.backup_automatico&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-sm",children:"Frequncia do Backup:"}),a.jsxs(Le,{value:e?.frequencia_backup||"semanal",onValueChange:y=>{const b={...d,frequencia_backup:y};f(b),r(b)},children:[a.jsx(Me,{className:"select-responsive",children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"diario",children:"Diariamente"}),a.jsx(X,{value:"semanal",children:"Semanalmente"}),a.jsx(X,{value:"mensal",children:"Mensalmente"})]})]})]}),e?.frequencia_backup==="semanal"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-sm",children:"Dia da Semana:"}),a.jsxs(Le,{value:e?.dia_backup?.toString()||"0",onValueChange:y=>{const b={...d,dia_backup:parseInt(y)};f(b),r(b)},children:[a.jsx(Me,{className:"select-responsive",children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"0",children:"Domingo"}),a.jsx(X,{value:"1",children:"Segunda-feira"}),a.jsx(X,{value:"2",children:"Tera-feira"}),a.jsx(X,{value:"3",children:"Quarta-feira"}),a.jsx(X,{value:"4",children:"Quinta-feira"}),a.jsx(X,{value:"5",children:"Sexta-feira"}),a.jsx(X,{value:"6",children:"Sbado"})]})]})]}),e?.frequencia_backup==="mensal"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-sm",children:"Dia do Ms:"}),a.jsx(ee,{type:"number",min:"1",max:"28",value:e?.dia_backup||1,onChange:y=>{const b={...d,dia_backup:parseInt(y.target.value)};f(b)},onBlur:()=>r(d),className:"input-responsive"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Escolha entre 1 e 28 (evita problemas com meses diferentes)"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-sm",children:"Horrio do Backup:"}),a.jsx(ee,{type:"time",value:e?.hora_backup||"02:00",onChange:y=>{const b={...d,hora_backup:y.target.value};f(b)},onBlur:()=>r(d),className:"input-responsive"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-responsive-sm",children:"Email para Notificao (opcional):"}),a.jsx(ee,{type:"email",placeholder:"seu@email.com",value:d.email_backup||"",onChange:y=>{const b={...d,email_backup:y.target.value};f(b),r(b)},className:"input-responsive"}),a.jsx("p",{className:"text-responsive-xs text-muted-foreground",children:"Receba lembretes por email quando for hora de fazer backup"})]}),e?.ultimo_backup&&a.jsxs(bn,{children:[a.jsx(Ci,{className:"h-4 w-4 flex-shrink-0"}),a.jsxs(wn,{className:"text-responsive-xs",children:["ltimo backup realizado em: ",new Date(e.ultimo_backup).toLocaleString("pt-BR")]})]})]})]})]}),a.jsxs(F,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/20",children:[a.jsx(ne,{className:"p-responsive",children:a.jsxs(ae,{className:"flex items-center gap-2 text-blue-900 dark:text-blue-100 text-responsive-lg",children:[a.jsx(Ci,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),"Informaes Importantes"]})}),a.jsxs(U,{className:"space-y-2 p-responsive",children:[a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Segurana:"})," Os backups so gerados localmente no seu dispositivo"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Privacidade:"})," Nenhum dado  enviado para servidores externos"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Formatos:"})," JSON  recomendado para backup completo, CSV para anlise em planilhas"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Frequncia:"})," Recomendamos fazer backups semanalmente"]}),a.jsxs("p",{className:"text-responsive-xs text-blue-700 dark:text-blue-300",children:[" ",a.jsx("strong",{children:"Ateno:"})," Guarde seus backups em local seguro"]})]})]})]})}const Kd={ativo:!0,nome_salao:"Meu Salo",descricao:"Bem-vindo ao nosso salo! Agende seu horrio de forma rpida e fcil.",telefone:"",email:"",endereco:"",instagram:"",facebook:"",whatsapp:"",logo_url:"",taxa_sinal_percentual:30,tempo_minimo_antecedencia:60,tempo_maximo_antecedencia:4320,mensagem_boas_vindas:"Ol! Estamos felizes em atend-lo(a). Preencha os dados abaixo para agendar seu horrio.",termos_condicoes:"Ao agendar, voc concorda em chegar no horrio marcado. Em caso de atraso superior a 15 minutos, o agendamento poder ser cancelado.",mensagem_confirmacao:"Agendamento confirmado! Em breve voc receber uma confirmao no WhatsApp."};function A_e(){const[e,t]=x.useState(Kd),[r,n]=x.useState(!0),[s,o]=x.useState(!1);x.useEffect(()=>{i()},[]);const i=async()=>{try{const{data:{user:u}}=await W.auth.getUser();if(!u){n(!1);return}const{data:d,error:f}=await W.from("configuracoes_agendamento_online").select("*").eq("user_id",u.id).maybeSingle();f&&f.code!=="PGRST116"&&console.error("Erro ao carregar config:",f),d&&t(d)}catch(u){console.error("Erro ao carregar configurao:",u)}finally{n(!1)}};return{config:e,loading:r,saving:s,setConfig:t,salvarConfig:async u=>{try{o(!0);const{data:{user:d}}=await W.auth.getUser();if(!d)throw new Error("Usurio no autenticado");const f={...u,user_id:d.id,updated_at:new Date().toISOString()},{error:h}=await W.from("configuracoes_agendamento_online").upsert(f,{onConflict:"user_id"});if(h)throw h;return t(u),B.success("Configuraes salvas com sucesso!"),!0}catch(d){return console.error("Erro ao salvar configurao:",d),B.error("Erro ao salvar configuraes"),!1}finally{o(!1)}},carregarConfig:i,carregarConfigPublica:async()=>{try{const{data:u,error:d}=await W.from("configuracoes_agendamento_online").select("*").eq("ativo",!0).maybeSingle();return d?(console.error("Erro ao carregar config pblica:",d),Kd):u||Kd}catch(u){return console.error("Erro ao carregar configurao pblica:",u),Kd}}}}function k_e(){const{config:e,loading:t,saving:r,setConfig:n,salvarConfig:s}=A_e(),[o,i]=x.useState(!1),[c,l]=x.useState(null),u=(p,v)=>{n(m=>({...m,[p]:v}))},d=async()=>{await s(e)},f=async p=>{try{const v=p.target.files?.[0];if(!v)return;if(!v.type.startsWith("image/")){B.error("Por favor, selecione apenas arquivos de imagem");return}if(v.size>2*1024*1024){B.error("A imagem deve ter no mximo 2MB");return}i(!0);const{data:{user:m}}=await W.auth.getUser();if(!m)throw new Error("Usurio no autenticado");if(e.logo_url&&e.logo_url.includes("salon-logos")){const N=e.logo_url.split("/salon-logos/")[1];N&&await W.storage.from("salon-logos").remove([N])}const g=v.name.split(".").pop(),y=`${m.id}/logo-${Date.now()}.${g}`,{error:b,data:w}=await W.storage.from("salon-logos").upload(y,v,{cacheControl:"3600",upsert:!0});if(b)throw b;const{data:{publicUrl:j}}=W.storage.from("salon-logos").getPublicUrl(y);u("logo_url",j),l(j),B.success("Logo atualizada com sucesso!")}catch(v){console.error("Erro ao fazer upload:",v),B.error("Erro ao fazer upload da imagem")}finally{i(!1)}},h=async()=>{try{if(e.logo_url&&e.logo_url.includes("salon-logos")){const p=e.logo_url.split("/salon-logos/")[1];p&&await W.storage.from("salon-logos").remove([p])}u("logo_url",""),l(null),B.success("Logo removida")}catch(p){console.error("Erro ao remover logo:",p),B.error("Erro ao remover logo")}};return t?a.jsx(F,{children:a.jsx(U,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(nj,{className:"h-5 w-5"}),"Status do Agendamento Online"]}),a.jsx(He,{children:"Ative ou desative o formulrio de agendamento online pblico"})]}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"ativo",children:"Agendamento Online Ativo"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Quando ativo, clientes podem agendar atravs do link pblico"})]}),a.jsx(Wt,{id:"ativo",checked:e.ativo,onCheckedChange:p=>u("ativo",p)})]})})]}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(nj,{className:"h-5 w-5"}),"Informaes do Salo"]}),a.jsx(He,{children:"Dados que aparecero no formulrio de agendamento online"})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome_salao",children:"Nome do Salo *"}),a.jsx(ee,{id:"nome_salao",value:e.nome_salao,onChange:p=>u("nome_salao",p.target.value),placeholder:"Ex: Salo Beleza Pura"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"descricao",children:"Descrio"}),a.jsx(mr,{id:"descricao",value:e.descricao,onChange:p=>u("descricao",p.target.value),placeholder:"Breve descrio sobre seu salo",rows:3})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(H,{className:"flex items-center gap-2",children:[a.jsx(zF,{className:"h-4 w-4"}),"Logo/Foto do Salo"]}),(e.logo_url||c)&&a.jsxs("div",{className:"relative w-32 h-32 rounded-lg overflow-hidden border-2 border-border",children:[a.jsx("img",{src:c||e.logo_url,alt:"Logo do salo",className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:h,className:"absolute top-1 right-1 p-1 bg-destructive text-destructive-foreground rounded-full hover:bg-destructive/90 transition-colors",children:a.jsx(Vt,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{type:"button",variant:"outline",disabled:o,onClick:()=>document.getElementById("logo-upload")?.click(),className:"flex items-center gap-2",children:[a.jsx(pv,{className:"h-4 w-4"}),o?"Enviando...":"Fazer Upload"]}),a.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:f,className:"hidden"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos aceitos: JPG, PNG, WEBP (mx. 2MB)"}),a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsx(H,{htmlFor:"logo_url",className:"text-xs text-muted-foreground",children:"Ou cole uma URL externa:"}),a.jsx(ee,{id:"logo_url",value:e.logo_url,onChange:p=>u("logo_url",p.target.value),placeholder:"https://exemplo.com/logo.png",className:"text-sm"})]})]})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-5 w-5"}),"Informaes de Contato"]}),a.jsx(He,{children:"Dados de contato exibidos no rodap do formulrio"})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"telefone",className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-4 w-4"}),"Telefone"]}),a.jsx(ee,{id:"telefone",value:e.telefone,onChange:p=>u("telefone",p.target.value),placeholder:"(00) 00000-0000"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"email",className:"flex items-center gap-2",children:[a.jsx(am,{className:"h-4 w-4"}),"E-mail"]}),a.jsx(ee,{id:"email",type:"email",value:e.email,onChange:p=>u("email",p.target.value),placeholder:"contato@seusalao.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"endereco",className:"flex items-center gap-2",children:[a.jsx(HF,{className:"h-4 w-4"}),"Endereo"]}),a.jsx(ee,{id:"endereco",value:e.endereco,onChange:p=>u("endereco",p.target.value),placeholder:"Rua Exemplo, 123 - Centro"})]})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Redes Sociais"}),a.jsx(He,{children:"Links para suas redes sociais (aparecero no rodap)"})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"instagram",className:"flex items-center gap-2",children:[a.jsx(VF,{className:"h-4 w-4"}),"Instagram"]}),a.jsx(ee,{id:"instagram",value:e.instagram,onChange:p=>u("instagram",p.target.value),placeholder:"@seusalao"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"facebook",className:"flex items-center gap-2",children:[a.jsx(DF,{className:"h-4 w-4"}),"Facebook"]}),a.jsx(ee,{id:"facebook",value:e.facebook,onChange:p=>u("facebook",p.target.value),placeholder:"facebook.com/seusalao"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"whatsapp",className:"flex items-center gap-2",children:[a.jsx(yo,{className:"h-4 w-4"}),"WhatsApp"]}),a.jsx(ee,{id:"whatsapp",value:e.whatsapp,onChange:p=>u("whatsapp",p.target.value),placeholder:"5500000000000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apenas nmeros (com cdigo do pas e DDD)"})]})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-5 w-5"}),"Regras de Agendamento"]}),a.jsx(He,{children:"Configure as regras para agendamentos online"})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"taxa_sinal",className:"flex items-center gap-2",children:[a.jsx(ut,{className:"h-4 w-4"}),"Taxa de Sinal (%)"]}),a.jsx(ee,{id:"taxa_sinal",type:"number",min:"0",max:"100",value:e.taxa_sinal_percentual,onChange:p=>u("taxa_sinal_percentual",Number(p.target.value))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Percentual cobrado como adiantamento (0 para no cobrar)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tempo_min",children:"Antecedncia Mnima (minutos)"}),a.jsx(ee,{id:"tempo_min",type:"number",min:"0",value:e.tempo_minimo_antecedencia,onChange:p=>u("tempo_minimo_antecedencia",Number(p.target.value))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tempo mnimo para agendar antes do horrio (ex: 60 minutos)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tempo_max",children:"Antecedncia Mxima (dias)"}),a.jsx(ee,{id:"tempo_max",type:"number",min:"1",value:Math.floor(e.tempo_maximo_antecedencia/1440),onChange:p=>u("tempo_maximo_antecedencia",Number(p.target.value)*1440)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Quantos dias no futuro o cliente pode agendar (ex: 30 dias)"})]})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(xo,{className:"h-5 w-5"}),"Mensagens Personalizadas"]}),a.jsx(He,{children:"Personalize as mensagens exibidas no formulrio"})]}),a.jsxs(U,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"msg_boas_vindas",children:"Mensagem de Boas-Vindas"}),a.jsx(mr,{id:"msg_boas_vindas",value:e.mensagem_boas_vindas,onChange:p=>u("mensagem_boas_vindas",p.target.value),rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"termos",children:"Termos e Condies"}),a.jsx(mr,{id:"termos",value:e.termos_condicoes,onChange:p=>u("termos_condicoes",p.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"msg_confirmacao",children:"Mensagem de Confirmao"}),a.jsx(mr,{id:"msg_confirmacao",value:e.mensagem_confirmacao,onChange:p=>u("mensagem_confirmacao",p.target.value),rows:2})]})]})]}),a.jsx("div",{className:"flex justify-end gap-4",children:a.jsx(z,{onClick:d,disabled:r,size:"lg",children:r?"Salvando...":"Salvar Configuraes"})}),e.ativo&&a.jsx(F,{className:"border-primary/50 bg-primary/5",children:a.jsxs(U,{className:"p-6",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Link de Agendamento Online"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Compartilhe este link com seus clientes para que eles possam agendar online:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ee,{readOnly:!0,value:`${window.location.origin}/agendamento-online`,className:"bg-background"}),a.jsx(z,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/agendamento-online`),B.success("Link copiado!")},children:"Copiar"})]})]})})]})}function E_e(){const[e,t]=x.useState("horarios");return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(om,{className:"h-8 w-8"}),a.jsx("span",{children:"Configuraes"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure os horrios de atendimento, agendamento online, notificaes e backup do sistema"})]}),a.jsxs(is,{value:e,onValueChange:t,className:"w-full",children:[a.jsxs(Ea,{className:"grid w-full grid-cols-4",children:[a.jsxs(ct,{value:"horarios",className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-4 w-4"}),"Horrios"]}),a.jsxs(ct,{value:"agendamento-online",className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-4 w-4"}),"Agend. Online"]}),a.jsxs(ct,{value:"notificacoes",className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"h-4 w-4"}),"Notificaes"]}),a.jsxs(ct,{value:"backup",className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-4 w-4"}),"Backup"]})]}),a.jsxs(lt,{value:"horarios",className:"space-y-6",children:[a.jsx(F,{children:a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(it,{className:"h-5 w-5"}),a.jsx("span",{children:"Horrios e Dias de Trabalho"})]}),a.jsx(He,{children:"Configure os dias da semana e horrios em que voc atender clientes. Estas configuraes sero respeitadas nos formulrios de agendamento."})]})}),a.jsx(o_e,{}),a.jsx(F,{className:"border-blue-200 bg-blue-50/50 dark:border-blue-800 dark:bg-blue-900/20",children:a.jsxs(U,{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:" Integrao com Agendamentos"}),a.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Os horrios configurados aqui sero automaticamente aplicados aos formulrios de agendamento interno e externo, bloqueando horrios indisponveis."})]})})]}),a.jsxs(lt,{value:"agendamento-online",className:"space-y-6",children:[a.jsx(F,{children:a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-5 w-5"}),a.jsx("span",{children:"Configuraes do Agendamento Online"})]}),a.jsx(He,{children:"Configure o formulrio pblico de agendamento, informaes do salo, redes sociais e regras de agendamento."})]})}),a.jsx(k_e,{})]}),a.jsx(lt,{value:"notificacoes",className:"space-y-6",children:a.jsx(S_e,{})}),a.jsx(lt,{value:"backup",className:"space-y-6",children:a.jsx(P_e,{})})]})]})}const O_e=k.lazy(()=>cc(()=>import("./AgendamentoOnlineForm-CAzUP-Ji.js"),__vite__mapDeps([0,1])).then(e=>({default:e.AgendamentoOnlineForm})));function Hg(){return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 to-secondary/5 p-4",children:a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx(x.Suspense,{fallback:a.jsxs(F,{children:[a.jsxs(ne,{className:"text-center",children:[a.jsx(ae,{className:"text-3xl mb-2",children:"Carregando..."}),a.jsx(He,{children:"Preparando o formulrio de agendamento"})]}),a.jsx(U,{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})]}),children:a.jsx(O_e,{})})})})}function T_e(){const{usuario:e,session:t}=Lt(),[r,n]=x.useState(!0),[s,o]=x.useState(null),[i,c]=x.useState(null),l=fn(),u=async()=>{if(t?.access_token){n(!0),c(null);try{const f=performance.now(),{data:h,error:p}=await W.functions.invoke("flor-ai-engine",{method:"POST",body:{_force_refresh:!0}});if(p)throw new Error(p.message||"Erro ao conectar com o servidor");if(!h)throw new Error("Resposta vazia do servidor");o(h),B.success("Dados do Gerente Virtual atualizados!")}catch(f){console.error("Error processing Insights:",f),c(f.message||"Falha ao gerar insights"),B.error("Falha ao atualizar dados.")}finally{n(!1)}}};x.useEffect(()=>{t?.access_token&&u()},[t?.access_token]);const d=f=>f>=90?"text-green-500":f>=70?"text-blue-500":f>=50?"text-yellow-500":"text-red-500";return i?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] space-y-6 p-4 text-center animate-fade-in",children:[a.jsx(mc,{className:"h-12 w-12 text-red-500"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Ops! Algo deu errado."}),a.jsxs(z,{onClick:u,size:"lg",className:"gap-2",children:[a.jsx(rj,{className:"h-4 w-4"})," Tentar Novamente"]})]}):r?a.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:a.jsx(Fn,{className:"h-8 w-8 animate-spin text-primary"})}):s?a.jsxs("div",{className:"space-y-6 p-4 md:p-8 max-w-7xl mx-auto animate-fade-in",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(ej,{className:"h-8 w-8 text-primary"}),"Painel Gerencial Inteligente"]}),a.jsx("p",{className:"text-muted-foreground",children:"Monitoramento 360 do seu negcio com insights automticos."})]}),a.jsxs(z,{onClick:u,disabled:r,className:"gap-2 shadow-sm",children:[r?a.jsx(Fn,{className:"h-4 w-4 animate-spin"}):a.jsx(rj,{className:"h-4 w-4"}),"Atualizar Dados"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(Yd,{title:"Receita (90d)",value:`R$ ${s.summary.receita_90d.toFixed(2)}`,subtext:`Lucro: R$ ${s.summary.lucro_90d.toFixed(2)}`,icon:ut,trend:"up"}),a.jsx(Yd,{title:"Ticket Mdio",value:`R$ ${s.summary.ticket_medio.toFixed(2)}`,subtext:"Por agendamento",icon:vl}),a.jsx(Yd,{title:"Taxa de Reteno",value:`${s.summary.taxa_retencao.toFixed(1)}%`,subtext:`${s.modules.clientes.ativos} clientes ativos`,icon:ba,valueColor:s.summary.taxa_retencao>50?"text-green-600":"text-yellow-600"}),a.jsx(Yd,{title:"Sade Operacional",value:`${s.score}/100`,subtext:`${s.summary.issues_count} alertas pendentes`,icon:DP,valueColor:d(s.score)})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs(F,{className:"border-l-4 border-l-primary shadow-md",children:[a.jsxs(ne,{children:[a.jsxs(ae,{className:"flex items-center gap-2 text-primary",children:[a.jsx(e3,{className:"h-5 w-5 fill-current"}),"Recomendaes Estratgicas"]}),a.jsx(He,{children:"Aes sugeridas pelo seu Gerente Virtual para aumentar lucros."})]}),a.jsx(U,{className:"space-y-4",children:s.recommendations.length===0?a.jsxs("div",{className:"text-center py-6 text-muted-foreground",children:[a.jsx(Ci,{className:"h-10 w-10 mx-auto mb-2 text-green-500"}),a.jsx("p",{children:"Nenhuma recomendao urgente. Seu negcio est voando!"})]}):s.recommendations.map((f,h)=>a.jsxs("div",{className:"bg-muted/40 p-4 rounded-lg border flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ue,{variant:"outline",className:"bg-background",children:f.category}),a.jsx("h4",{className:"font-semibold text-sm md:text-base",children:f.title})]}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f.description}),a.jsxs("div",{className:"text-sm font-medium text-primary flex items-center gap-1",children:[a.jsx(Bt,{className:"h-4 w-4"}),"Ao: ",f.action]})]}),a.jsxs("div",{className:"sm:text-right min-w-[120px] border-t sm:border-t-0 sm:border-l pt-3 sm:pt-0 sm:pl-4 flex sm:flex-col justify-between items-center sm:justify-center gap-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Potencial"}),a.jsxs("div",{className:"font-bold text-green-600",children:["+ R$ ",f.potential_revenue.toFixed(0)]}),a.jsxs("div",{className:"text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full mt-1",children:["Custo: ",f.cost]})]})]},h))})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"flex items-center gap-2",children:[a.jsx(ej,{className:"h-5 w-5"}),"Relatrio Executivo Detalhado"]})}),a.jsx(U,{children:a.jsx("div",{className:"bg-muted/30 p-5 rounded-lg text-sm leading-relaxed whitespace-pre-wrap",children:s.ai_analysis})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-base",children:"Servios Mais Rentveis"})}),a.jsx(U,{children:a.jsx("div",{className:"space-y-4",children:s.modules.servicos.top_services.map((f,h)=>a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-6 w-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-bold text-primary",children:h+1}),a.jsx("span",{className:"font-medium truncate max-w-[120px]",title:f.name,children:f.name})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-bold",children:["R$ ",f.revenue.toFixed(0)]}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.count," agendamentos"]})]})]},h))})})]}),a.jsxs(F,{children:[a.jsx(ne,{children:a.jsxs(ae,{className:"text-base flex items-center gap-2",children:[a.jsx(Ja,{className:"h-4 w-4 text-orange-500"}),"Alertas Operacionais"]})}),a.jsxs(U,{children:[s.issues.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Tudo limpo por aqui."}):a.jsx($p,{className:"h-[200px]",children:a.jsx("div",{className:"space-y-3",children:s.issues.map((f,h)=>a.jsxs("div",{className:"flex gap-2 items-start text-sm p-2 bg-red-50/50 rounded border border-red-100",children:[a.jsx(fv,{className:"h-4 w-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-red-800",children:f.message})]},h))})}),a.jsx(z,{variant:"outline",size:"sm",className:"w-full mt-4",onClick:()=>l("/auditoria"),children:"Ver Todos os Detalhes"})]})]})]})]})]}):null}function Yd({title:e,value:t,subtext:r,icon:n,valueColor:s,trend:o}){return a.jsxs(F,{className:"shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium text-muted-foreground",children:e}),a.jsx(n,{className:"h-4 w-4 text-muted-foreground/70"})]}),a.jsxs(U,{children:[a.jsx("div",{className:`text-2xl font-bold ${s||"text-foreground"}`,children:t}),r&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[o==="up"&&a.jsx(Bt,{className:"h-3 w-3 text-green-500"}),r]})]})]})}const Vc=()=>{const{user:e}=Lt(),[t,r]=x.useState(!1),[n,s]=x.useState(null),[o,i]=x.useState([]),[c,l]=x.useState(null),[u,d]=x.useState([]),[f,h]=x.useState([]),p=async()=>{if(e)try{const{data:T,error:I}=await W.from("programas_fidelidade").select("*").eq("user_id",e.id).single();if(I&&I.code!=="PGRST116")throw I;s(T)}catch(T){console.error("Erro ao carregar programa:",T)}},v=async()=>{if(e)try{const{data:T,error:I}=await W.from("recompensas").select("*").eq("user_id",e.id).order("pontos_necessarios",{ascending:!0});if(I)throw I;i(T||[])}catch(T){console.error("Erro ao carregar recompensas:",T)}},m=async()=>{if(e)try{const{data:T,error:I}=await W.from("estatisticas_fidelidade").select("*").eq("user_id",e.id).single();if(I&&I.code!=="PGRST116")throw I;l(T)}catch(T){console.error("Erro ao carregar estatsticas:",T)}},g=async(T=10)=>{if(e)try{const{data:I,error:R}=await W.from("ranking_fidelidade").select("*").eq("user_id",e.id).lte("ranking",T).order("ranking",{ascending:!0});if(R)throw R;d(I||[])}catch(I){console.error("Erro ao carregar ranking:",I)}},y=async()=>{if(e)try{const{data:T,error:I}=await W.from("classes_fidelidade").select("*").eq("user_id",e.id).order("ordem",{ascending:!0});if(I)throw I;h(T||[])}catch(T){console.error("Erro ao carregar classes:",T)}},b=async T=>{if(!e)return null;try{if(r(!0),n){const{data:I,error:R}=await W.from("programas_fidelidade").update({...T,updated_at:new Date().toISOString()}).eq("id",n.id).select().single();if(R)throw R;return s(I),B.success("Programa atualizado com sucesso!"),I}else{const{data:I,error:R}=await W.from("programas_fidelidade").insert({...T,user_id:e.id}).select().single();if(R)throw R;return s(I),B.success("Programa criado com sucesso!"),I}}catch(I){return console.error("Erro ao salvar programa:",I),B.error("Erro ao salvar programa de fidelidade"),null}finally{r(!1)}},w=async()=>{if(!(!n||!e))try{const{data:T,error:I}=await W.from("programas_fidelidade").update({ativo:!n.ativo}).eq("id",n.id).select().single();if(I)throw I;s(T),B.success(T.ativo?"Programa ativado!":"Programa desativado!")}catch(T){console.error("Erro ao alterar status do programa:",T),B.error("Erro ao alterar status do programa")}},j=async T=>{if(!e)return null;try{r(!0);const{data:I,error:R}=await W.from("recompensas").insert({...T,user_id:e.id}).select().single();if(R)throw R;return await v(),B.success("Recompensa criada com sucesso!"),I}catch(I){return console.error("Erro ao criar recompensa:",I),B.error("Erro ao criar recompensa"),null}finally{r(!1)}},N=async(T,I)=>{try{r(!0);const{data:R,error:D}=await W.from("recompensas").update({...I,updated_at:new Date().toISOString()}).eq("id",T).select().single();if(D)throw D;return await v(),B.success("Recompensa atualizada!"),R}catch(R){return console.error("Erro ao atualizar recompensa:",R),B.error("Erro ao atualizar recompensa"),null}finally{r(!1)}},S=async T=>{try{r(!0);const{error:I}=await W.from("recompensas").delete().eq("id",T);if(I)throw I;await v(),B.success("Recompensa excluda!")}catch(I){console.error("Erro ao excluir recompensa:",I),B.error("Erro ao excluir recompensa")}finally{r(!1)}},_=async T=>{if(!e)return null;try{r(!0);const{data:I,error:R}=await W.from("classes_fidelidade").insert({...T,user_id:e.id}).select().single();if(R)throw R;return await y(),B.success("Classe criada com sucesso!"),I}catch(I){return console.error("Erro ao criar classe:",I),B.error("Erro ao criar classe"),null}finally{r(!1)}},P=async(T,I)=>{try{r(!0);const{data:R,error:D}=await W.from("classes_fidelidade").update({...I,updated_at:new Date().toISOString()}).eq("id",T).select().single();if(D)throw D;return await y(),B.success("Classe atualizada!"),R}catch(R){return console.error("Erro ao atualizar classe:",R),B.error("Erro ao atualizar classe"),null}finally{r(!1)}},E=async T=>{try{r(!0);const{error:I}=await W.from("classes_fidelidade").delete().eq("id",T);if(I)throw I;await y(),B.success("Classe excluda!")}catch(I){console.error("Erro ao excluir classe:",I),B.error("Erro ao excluir classe")}finally{r(!1)}},$=async T=>{if(!e)return null;try{const{data:I,error:R}=await W.from("saldo_pontos").select("*").eq("user_id",e.id).eq("cliente_id",T).single();if(R&&R.code!=="PGRST116")throw R;return I}catch(I){return console.error("Erro ao buscar saldo:",I),null}},A=async T=>{if(!e)return null;try{const{data:I,error:R}=await W.from("niveis_fidelidade").select("*").eq("user_id",e.id).eq("cliente_id",T).single();if(R&&R.code!=="PGRST116")throw R;return I}catch(I){return console.error("Erro ao buscar nvel:",I),null}},C=async T=>{if(!e)return[];try{const{data:I,error:R}=await W.from("pontos_fidelidade").select("*").eq("user_id",e.id).eq("cliente_id",T).order("data_ganho",{ascending:!1}).limit(50);if(R)throw R;return I||[]}catch(I){return console.error("Erro ao buscar histrico:",I),[]}},O=async(T,I,R)=>{if(!e||!n)return null;try{r(!0);const D=n.expiracao_pontos_dias>0?new Date(Date.now()+n.expiracao_pontos_dias*24*60*60*1e3).toISOString().split("T")[0]:null,{data:M,error:V}=await W.from("pontos_fidelidade").insert({user_id:e.id,cliente_id:T,pontos:I,origem:"bonus",descricao:R,data_expiracao:D}).select().single();if(V)throw V;return B.success(`${I} pontos adicionados!`),M}catch(D){return console.error("Erro ao adicionar pontos:",D),B.error("Erro ao adicionar pontos"),null}finally{r(!1)}};return x.useEffect(()=>{if(!e)return;const T=W.channel("fidelidade-changes").on("postgres_changes",{event:"*",schema:"public",table:"programas_fidelidade",filter:`user_id=eq.${e.id}`},()=>{p()}).on("postgres_changes",{event:"*",schema:"public",table:"recompensas",filter:`user_id=eq.${e.id}`},()=>{v()}).on("postgres_changes",{event:"*",schema:"public",table:"classes_fidelidade",filter:`user_id=eq.${e.id}`},()=>{y()}).subscribe();return()=>{W.removeChannel(T)}},[e]),x.useEffect(()=>{e&&(p(),v(),m(),g(),y())},[e]),{loading:t,programa:n,recompensas:o,estatisticas:c,ranking:u,classes:f,salvarPrograma:b,togglePrograma:w,criarRecompensa:j,atualizarRecompensa:N,excluirRecompensa:S,criarClasse:_,atualizarClasse:P,excluirClasse:E,buscarSaldoCliente:$,buscarNivelCliente:A,buscarHistoricoPontos:C,adicionarPontosManual:O,carregarRanking:g,recarregar:()=>{p(),v(),m(),g(),y()}}},$_e=()=>{const{programa:e,loading:t,salvarPrograma:r,togglePrograma:n}=Vc(),[s,o]=x.useState(!1),[i,c]=x.useState({nome:e?.nome||"Programa de Fidelidade",pontos_por_real:e?.pontos_por_real||.1,expiracao_pontos_dias:e?.expiracao_pontos_dias||365,data_inicio:e?.data_inicio||new Date().toISOString().split("T")[0]}),l=async d=>{d.preventDefault(),await r(i)&&o(!1)},u=()=>{e&&c({nome:e.nome,pontos_por_real:e.pontos_por_real,expiracao_pontos_dias:e.expiracao_pontos_dias,data_inicio:e.data_inicio}),o(!0)};return a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(om,{className:"h-5 w-5 text-primary"}),a.jsx(ae,{children:"Configuraes do Programa"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[e&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{htmlFor:"programa-ativo",children:"Ativo"}),a.jsx(Wt,{id:"programa-ativo",checked:e.ativo,onCheckedChange:n})]}),!s&&e&&a.jsx(z,{variant:"outline",size:"sm",onClick:u,children:"Editar"})]})]}),a.jsx(He,{children:"Configure as regras do seu programa de fidelidade"})]}),a.jsx(U,{children:!e&&!s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Voc ainda no configurou seu programa de fidelidade"}),a.jsx(z,{onClick:u,children:"Criar Programa"})]}):s?a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome",children:"Nome do Programa"}),a.jsx(ee,{id:"nome",value:i.nome,onChange:d=>c({...i,nome:d.target.value}),placeholder:"Ex: Clube VIP, Fidelidade Premium",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"pontos_por_real",children:"Pontos por Real Gasto"}),a.jsx(ee,{id:"pontos_por_real",type:"number",step:"0.01",min:"0",value:i.pontos_por_real,onChange:d=>c({...i,pontos_por_real:parseFloat(d.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.pontos_por_real>0&&`Clientes ganharo ${(i.pontos_por_real*100).toFixed(0)} pontos a cada R$ 100,00 gastos`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"expiracao",children:"Validade dos Pontos (dias)"}),a.jsx(ee,{id:"expiracao",type:"number",min:"0",value:i.expiracao_pontos_dias,onChange:d=>c({...i,expiracao_pontos_dias:parseInt(d.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:i.expiracao_pontos_dias===0?"Pontos no expiram":`Pontos expiram aps ${i.expiracao_pontos_dias} dias`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"data_inicio",children:"Data de Incio"}),a.jsx(ee,{id:"data_inicio",type:"date",value:i.data_inicio,onChange:d=>c({...i,data_inicio:d.target.value}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Data em que o programa comea a valer"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(z,{type:"submit",disabled:t,children:[a.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Salvar"]}),e&&a.jsx(z,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancelar"})]})]}):a.jsxs("div",{className:"grid gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"Nome"}),a.jsx("p",{className:"text-lg font-medium",children:e?.nome})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"Pontos por Real"}),a.jsxs("p",{className:"text-lg font-medium",children:[(e.pontos_por_real*100).toFixed(0)," pontos / R$ 100"]})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"Validade"}),a.jsx("p",{className:"text-lg font-medium",children:e.expiracao_pontos_dias===0?"Pontos no expiram":`${e.expiracao_pontos_dias} dias`})]}),a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"Data de Incio"}),a.jsx("p",{className:"text-lg font-medium",children:new Date(e.data_inicio).toLocaleDateString("pt-BR")})]})]})})]})},M_e=()=>{const{estatisticas:e}=Vc(),t=[{title:"Clientes no Programa",value:e?.total_clientes_programa||0,icon:ba,color:"text-info"},{title:"Pontos Distribudos",value:e?.total_pontos_distribuidos||0,icon:nm,color:"text-success"},{title:"Pontos Resgatados",value:e?.total_pontos_resgatados||0,icon:Tu,color:"text-primary"},{title:"Clientes Ativos (30d)",value:e?.clientes_ativos_30d||0,icon:Bt,color:"text-warning"}];return a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:t.map(r=>{const n=r.icon;return a.jsxs(F,{children:[a.jsxs(ne,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ae,{className:"text-sm font-medium",children:r.title}),a.jsx(n,{className:`h-4 w-4 ${r.color}`})]}),a.jsx(U,{children:a.jsx("div",{className:"text-2xl font-bold",children:r.value.toLocaleString()})})]},r.title)})})},D_e=()=>{const{recompensas:e,classes:t,loading:r,criarRecompensa:n,atualizarRecompensa:s,excluirRecompensa:o}=Vc(),[i,c]=x.useState(!1),[l,u]=x.useState(null),[d,f]=x.useState({nome:"",descricao:"",pontos_necessarios:0,tipo:"desconto_percentual",valor_desconto:0,classe_id:void 0,validade_dias:30}),h=()=>{f({nome:"",descricao:"",pontos_necessarios:0,tipo:"desconto_percentual",valor_desconto:0,classe_id:void 0,validade_dias:30}),u(null)},p=async b=>{b.preventDefault(),l?await s(l,d):await n(d),c(!1),h()},v=b=>{f({nome:b.nome,descricao:b.descricao||"",pontos_necessarios:b.pontos_necessarios,tipo:b.tipo,valor_desconto:b.valor_desconto,classe_id:b.classe_id,validade_dias:b.validade_dias}),u(b.id),c(!0)},m=async b=>{confirm("Tem certeza que deseja excluir esta recompensa?")&&await o(b)},g=b=>({desconto_percentual:"Desconto %",desconto_valor:"Desconto R$",servico_gratis:"Servio Grtis"})[b]||b,y=b=>b&&t.find(j=>j.id===b)?.nome||"Todas";return a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tu,{className:"h-5 w-5 text-primary"}),a.jsx(ae,{children:"Recompensas"})]}),a.jsxs(Fr,{open:i,onOpenChange:b=>{c(b),b||h()},children:[a.jsx(sd,{asChild:!0,children:a.jsxs(z,{children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Recompensa"]})}),a.jsxs(Nr,{className:"max-w-2xl",children:[a.jsxs(_r,{children:[a.jsx(Sr,{children:l?"Editar Recompensa":"Nova Recompensa"}),a.jsx(Nn,{children:"Configure uma recompensa para seus clientes fiis"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"col-span-2 space-y-2",children:[a.jsx(H,{htmlFor:"nome",children:"Nome da Recompensa"}),a.jsx(ee,{id:"nome",value:d.nome,onChange:b=>f({...d,nome:b.target.value}),placeholder:"Ex: 10% de desconto",required:!0})]}),a.jsxs("div",{className:"col-span-2 space-y-2",children:[a.jsx(H,{htmlFor:"descricao",children:"Descrio"}),a.jsx(mr,{id:"descricao",value:d.descricao,onChange:b=>f({...d,descricao:b.target.value}),placeholder:"Detalhes da recompensa...",rows:2})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"pontos",children:"Pontos Necessrios"}),a.jsx(ee,{id:"pontos",type:"number",min:"0",value:d.pontos_necessarios,onChange:b=>f({...d,pontos_necessarios:parseInt(b.target.value)}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tipo",children:"Tipo"}),a.jsxs(Le,{value:d.tipo,onValueChange:b=>f({...d,tipo:b}),children:[a.jsx(Me,{children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"desconto_percentual",children:"Desconto %"}),a.jsx(X,{value:"desconto_valor",children:"Desconto R$"}),a.jsx(X,{value:"servico_gratis",children:"Servio Grtis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"valor",children:"Valor do Desconto"}),a.jsx(ee,{id:"valor",type:"number",min:"0",step:d.tipo==="desconto_percentual"?"1":"0.01",value:d.valor_desconto,onChange:b=>f({...d,valor_desconto:parseFloat(b.target.value)}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"classe",children:"Classe Exclusiva"}),a.jsxs(Le,{value:d.classe_id||"todas",onValueChange:b=>f({...d,classe_id:b==="todas"?void 0:b}),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Todas as classes"})}),a.jsxs(De,{children:[a.jsx(X,{value:"todas",children:"Todas as classes"}),t.map(b=>a.jsx(X,{value:b.id,children:b.nome},b.id))]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Restrinja esta recompensa a uma classe especfica"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"validade",children:"Validade (dias)"}),a.jsx(ee,{id:"validade",type:"number",min:"1",value:d.validade_dias,onChange:b=>f({...d,validade_dias:parseInt(b.target.value)}),required:!0})]})]}),a.jsxs(z,{type:"submit",disabled:r,className:"w-full",children:[l?"Atualizar":"Criar"," Recompensa"]})]})]})]})]}),a.jsx(He,{children:"Configure recompensas que seus clientes podem resgatar com pontos"})]}),a.jsx(U,{children:e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma recompensa cadastrada. Crie recompensas para incentivar seus clientes."})}):a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Nome"}),a.jsx(xe,{children:"Tipo"}),a.jsx(xe,{children:"Pontos"}),a.jsx(xe,{children:"Valor"}),a.jsx(xe,{children:"Classe"}),a.jsx(xe,{children:"Status"}),a.jsx(xe,{className:"text-right",children:"Aes"})]})}),a.jsx(qr,{children:e.map(b=>a.jsxs(gt,{children:[a.jsx(ge,{className:"font-medium",children:b.nome}),a.jsx(ge,{children:g(b.tipo)}),a.jsxs(ge,{children:[b.pontos_necessarios," pts"]}),a.jsx(ge,{children:b.tipo==="desconto_percentual"?`${b.valor_desconto}%`:b.tipo==="desconto_valor"?`R$ ${b.valor_desconto.toFixed(2)}`:"-"}),a.jsx(ge,{children:a.jsx(ue,{variant:"outline",children:y(b.classe_id)})}),a.jsx(ge,{children:a.jsx(ue,{variant:b.ativo?"default":"secondary",children:b.ativo?"Ativo":"Inativo"})}),a.jsx(ge,{className:"text-right",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(b),children:a.jsx(sm,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>m(b.id),children:a.jsx(pr,{className:"h-4 w-4"})})]})})]},b.id))})]})})]})},R_e=({cliente:e,open:t,onOpenChange:r,onResgate:n})=>{const{recompensas:s}=Vc(),[o,i]=x.useState(""),[c,l]=x.useState(!1),[u,d]=x.useState([]);x.useEffect(()=>{const h=s.filter(p=>!p.ativo||p.pontos_necessarios>e.pontos_disponiveis?!1:(p.classe_id&&e.classe_nome,!0));d(h)},[s,e]);const f=async()=>{if(!o){B.error("Selecione uma recompensa");return}const h=s.find(p=>p.id===o);if(h)try{l(!0);const p=new Date;p.setDate(p.getDate()+h.validade_dias);const{data:v,error:m}=await W.from("historico_resgates").insert({user_id:e.user_id,cliente_id:e.cliente_id,recompensa_id:h.id,pontos_gastos:h.pontos_necessarios,data_expiracao:p.toISOString().split("T")[0]}).select().single();if(m)throw m;const{error:g}=await W.from("pontos_fidelidade").insert({user_id:e.user_id,cliente_id:e.cliente_id,pontos:-h.pontos_necessarios,origem:"resgate",origem_id:v.id,descricao:`Resgate: ${h.nome}`});if(g)throw g;const y=` *Recompensa Resgatada!*

Ol ${e.cliente_nome}!

Voc resgatou: *${h.nome}*
Pontos gastos: ${h.pontos_necessarios}
Pontos restantes: ${e.pontos_disponiveis-h.pontos_necessarios}

${h.descricao||""}

Vlido at: ${new Date(p).toLocaleDateString("pt-BR")}

Apresente esta mensagem no seu prximo atendimento! `,w=`https://wa.me/55${e.telefone.replace(/\D/g,"")}?text=${encodeURIComponent(y)}`;window.open(w,"_blank"),B.success("Resgate realizado! WhatsApp aberto para enviar confirmao."),n(),r(!1)}catch(p){console.error("Erro ao resgatar recompensa:",p),B.error("Erro ao processar resgate")}finally{l(!1)}};return a.jsx(Fr,{open:t,onOpenChange:r,children:a.jsxs(Nr,{children:[a.jsxs(_r,{children:[a.jsxs(Sr,{className:"flex items-center gap-2",children:[a.jsx(Tu,{className:"h-5 w-5 text-primary"}),"Resgatar Recompensa"]}),a.jsxs(Nn,{children:["Cliente: ",e.cliente_nome]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(bn,{children:[a.jsx(mc,{className:"h-4 w-4"}),a.jsxs(wn,{children:["Pontos disponveis: ",a.jsx("strong",{children:e.pontos_disponiveis})]})]}),u.length===0?a.jsx(bn,{children:a.jsx(wn,{children:"Este cliente no tem pontos suficientes para resgatar nenhuma recompensa no momento."})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Selecione a Recompensa"}),a.jsxs(Le,{value:o,onValueChange:i,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Escolha uma recompensa"})}),a.jsx(De,{children:u.map(h=>a.jsxs(X,{value:h.id,children:[h.nome," - ",h.pontos_necessarios," pontos"]},h.id))})]})]}),o&&(()=>{const h=s.find(p=>p.id===o);return h?a.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50 space-y-2",children:[a.jsx("h4",{className:"font-medium",children:h.nome}),h.descricao&&a.jsx("p",{className:"text-sm text-muted-foreground",children:h.descricao}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{children:["Pontos necessrios: ",a.jsx("strong",{children:h.pontos_necessarios})]}),a.jsxs("p",{children:["Validade: ",a.jsxs("strong",{children:[h.validade_dias," dias"]})]})]})]}):null})(),a.jsx(z,{onClick:f,disabled:!o||c,className:"w-full",children:c?"Processando...":"Resgatar e Enviar WhatsApp"})]})]})]})})},I_e=()=>{const{ranking:e,carregarRanking:t}=Vc(),[r,n]=x.useState(null),[s,o]=x.useState(!1),i=d=>{n(d),o(!0)},c=()=>{t()},l=d=>d.classe_nome&&d.classe_cor?{color:"border",label:d.classe_nome,style:{backgroundColor:d.classe_cor,color:"#fff"}}:{color:"bg-muted text-muted-foreground",label:"Sem classe",style:void 0},u=d=>d===1?a.jsx(aj,{className:"h-5 w-5 text-accent"}):d===2?a.jsx(GF,{className:"h-5 w-5 text-muted-foreground"}):d===3?a.jsx(nm,{className:"h-5 w-5 text-warning"}):a.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["#",d]});return a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(aj,{className:"h-5 w-5 text-primary"}),a.jsx(ae,{children:"Top 10 Clientes"})]}),a.jsx(He,{children:"Ranking dos clientes mais engajados no programa"})]}),a.jsx(U,{children:e.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum cliente no programa ainda"}):a.jsx("div",{className:"space-y-4",children:e.map(d=>{const f=l(d);return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-10",children:u(d.ranking)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:d.cliente_nome}),a.jsx("div",{className:"text-sm text-muted-foreground",children:d.telefone})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-primary",children:[d.pontos_totais," pts"]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[d.pontos_disponiveis," disponveis"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{className:f.color,style:f.style,children:f.label}),d.pontos_disponiveis>0&&a.jsxs(z,{size:"sm",variant:"outline",onClick:()=>i(d),children:[a.jsx(Tu,{className:"h-4 w-4 mr-1"}),"Resgatar"]})]})]})]},d.cliente_id)})})}),r&&a.jsx(R_e,{cliente:r,open:s,onOpenChange:o,onResgate:c})]})},L_e=()=>{const{classes:e,loading:t,criarClasse:r,atualizarClasse:n,excluirClasse:s}=Vc(),[o,i]=x.useState(!1),[c,l]=x.useState(null),[u,d]=x.useState({nome:"",pontos_minimos:0,cor:"#94a3b8",beneficios:"",ordem:e.length}),f=()=>{d({nome:"",pontos_minimos:0,cor:"#94a3b8",beneficios:"",ordem:e.length}),l(null)},h=async m=>{m.preventDefault(),(c?await n(c,u):await r(u))&&(i(!1),f())},p=m=>{d({nome:m.nome,pontos_minimos:m.pontos_minimos,cor:m.cor,beneficios:m.beneficios||"",ordem:m.ordem}),l(m.id),i(!0)},v=async m=>{confirm("Deseja realmente excluir esta classe?")&&await s(m)};return a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nm,{className:"h-5 w-5 text-primary"}),a.jsx(ae,{children:"Classes de Fidelidade"})]}),a.jsxs(Fr,{open:o,onOpenChange:m=>{i(m),m||f()},children:[a.jsx(sd,{asChild:!0,children:a.jsxs(z,{children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Classe"]})}),a.jsxs(Nr,{children:[a.jsx(_r,{children:a.jsx(Sr,{children:c?"Editar Classe":"Nova Classe"})}),a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome",children:"Nome da Classe"}),a.jsx(ee,{id:"nome",value:u.nome,onChange:m=>d({...u,nome:m.target.value}),placeholder:"Ex: Bronze, Prata, Ouro, Platina",required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"pontos_minimos",children:"Pontos Mnimos"}),a.jsx(ee,{id:"pontos_minimos",type:"number",min:"0",value:u.pontos_minimos,onChange:m=>d({...u,pontos_minimos:parseInt(m.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pontos necessrios para alcanar esta classe"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cor",children:"Cor"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ee,{id:"cor",type:"color",value:u.cor,onChange:m=>d({...u,cor:m.target.value}),className:"w-20"}),a.jsx(ee,{type:"text",value:u.cor,onChange:m=>d({...u,cor:m.target.value}),placeholder:"#94a3b8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"beneficios",children:"Benefcios"}),a.jsx(mr,{id:"beneficios",value:u.beneficios,onChange:m=>d({...u,beneficios:m.target.value}),placeholder:"Descreva os benefcios desta classe...",rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ordem",children:"Ordem de Exibio"}),a.jsx(ee,{id:"ordem",type:"number",min:"0",value:u.ordem,onChange:m=>d({...u,ordem:parseInt(m.target.value)}),required:!0}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Menor nmero aparece primeiro"})]}),a.jsxs(z,{type:"submit",disabled:t,className:"w-full",children:[c?"Atualizar":"Criar"," Classe"]})]})]})]})]}),a.jsx(He,{children:"Configure as classes/nveis do seu programa de fidelidade"})]}),a.jsx(U,{children:e.length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma classe configurada. Crie classes para organizar seus clientes por nvel de fidelidade."})}):a.jsxs(Ur,{children:[a.jsx(Wr,{children:a.jsxs(gt,{children:[a.jsx(xe,{children:"Ordem"}),a.jsx(xe,{children:"Nome"}),a.jsx(xe,{children:"Pontos Mnimos"}),a.jsx(xe,{children:"Cor"}),a.jsx(xe,{children:"Benefcios"}),a.jsx(xe,{className:"text-right",children:"Aes"})]})}),a.jsx(qr,{children:e.map(m=>a.jsxs(gt,{children:[a.jsx(ge,{children:m.ordem}),a.jsx(ge,{className:"font-medium",children:m.nome}),a.jsxs(ge,{children:[m.pontos_minimos," pts"]}),a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border",style:{backgroundColor:m.cor}}),a.jsx("span",{className:"text-sm",children:m.cor})]})}),a.jsx(ge,{className:"max-w-xs truncate",children:m.beneficios||"-"}),a.jsx(ge,{className:"text-right",children:a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>p(m),children:a.jsx(sm,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>v(m.id),children:a.jsx(pr,{className:"h-4 w-4"})})]})})]},m.id))})]})})]})};function F_e(){return a.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(nm,{className:"h-8 w-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Programa de Fidelidade"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Recompense seus clientes mais fiis e aumente o engajamento"})]})]}),a.jsx(M_e,{}),a.jsxs(is,{defaultValue:"configuracao",className:"space-y-6",children:[a.jsxs(Ea,{className:"grid w-full grid-cols-3",children:[a.jsx(ct,{value:"configuracao",children:"Configurao"}),a.jsx(ct,{value:"recompensas",children:"Recompensas"}),a.jsx(ct,{value:"clientes",children:"Clientes"})]}),a.jsxs(lt,{value:"configuracao",className:"space-y-6",children:[a.jsx($_e,{}),a.jsx(L_e,{})]}),a.jsx(lt,{value:"recompensas",className:"space-y-6",children:a.jsx(D_e,{})}),a.jsx(lt,{value:"clientes",className:"space-y-6",children:a.jsx(I_e,{})})]})]})}function dd(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)return;const{data:u,error:d}=await W.from("produtos").select("*").eq("user_id",l.id).order("nome");if(d)throw d;t(u||[])}catch(l){B.error("Erro ao carregar produtos: "+l.message)}finally{n(!1)}},o=async l=>{try{const{data:{user:u}}=await W.auth.getUser();if(!u)throw new Error("Usurio no autenticado");const{error:d}=await W.from("produtos").insert([{...l,user_id:u.id,estoque_atual:0}]);if(d)throw d;B.success("Produto cadastrado com sucesso!"),await s()}catch(u){throw B.error("Erro ao cadastrar produto: "+u.message),u}},i=async(l,u)=>{try{const{error:d}=await W.from("produtos").update(u).eq("id",l);if(d)throw d;B.success("Produto atualizado com sucesso!"),await s()}catch(d){throw B.error("Erro ao atualizar produto: "+d.message),d}},c=async l=>{try{const{error:u}=await W.from("produtos").update({ativo:!1}).eq("id",l);if(u)throw u;B.success("Produto desativado com sucesso!"),await s()}catch(u){throw B.error("Erro ao desativar produto: "+u.message),u}};return x.useEffect(()=>{s()},[]),{produtos:e,loading:r,createProduto:o,updateProduto:i,deleteProduto:c,recarregar:s}}function Fp(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)return;const{data:u,error:d}=await W.from("fornecedores").select("*").eq("user_id",l.id).order("nome");if(d)throw d;t(u||[])}catch(l){B.error("Erro ao carregar fornecedores: "+l.message)}finally{n(!1)}},o=async l=>{try{const{data:{user:u}}=await W.auth.getUser();if(!u)throw new Error("Usurio no autenticado");const{error:d}=await W.from("fornecedores").insert([{...l,user_id:u.id}]);if(d)throw d;B.success("Fornecedor cadastrado com sucesso!"),await s()}catch(u){throw B.error("Erro ao cadastrar fornecedor: "+u.message),u}},i=async(l,u)=>{try{const{error:d}=await W.from("fornecedores").update(u).eq("id",l);if(d)throw d;B.success("Fornecedor atualizado com sucesso!"),await s()}catch(d){throw B.error("Erro ao atualizar fornecedor: "+d.message),d}},c=async l=>{try{const{error:u}=await W.from("fornecedores").delete().eq("id",l);if(u)throw u;B.success("Fornecedor excludo com sucesso!"),await s()}catch(u){throw B.error("Erro ao excluir fornecedor: "+u.message),u}};return x.useEffect(()=>{s()},[]),{fornecedores:e,loading:r,createFornecedor:o,updateFornecedor:i,deleteFornecedor:c,recarregar:s}}function hw(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),s=async()=>{try{const{data:{user:l}}=await W.auth.getUser();if(!l)return;const{data:u,error:d}=await W.from("categorias_produtos").select("*").eq("user_id",l.id).order("tipo",{ascending:!0}).order("nome",{ascending:!0});if(d)throw d;t(u||[])}catch(l){B.error("Erro ao carregar categorias: "+l.message)}finally{n(!1)}},o=async l=>{try{const{data:{user:u}}=await W.auth.getUser();if(!u)throw new Error("Usurio no autenticado");const{error:d}=await W.from("categorias_produtos").insert([{...l,user_id:u.id}]);if(d)throw d;B.success("Categoria criada com sucesso!"),await s()}catch(u){throw B.error("Erro ao criar categoria: "+u.message),u}},i=async(l,u)=>{try{const{error:d}=await W.from("categorias_produtos").update(u).eq("id",l);if(d)throw d;B.success("Categoria atualizada com sucesso!"),await s()}catch(d){throw B.error("Erro ao atualizar categoria: "+d.message),d}},c=async l=>{try{const{error:u}=await W.from("categorias_produtos").delete().eq("id",l);if(u)throw u;B.success("Categoria excluda com sucesso!"),await s()}catch(u){throw B.error("Erro ao excluir categoria: "+u.message),u}};return x.useEffect(()=>{s()},[]),{categorias:e,loading:r,createCategoria:o,updateCategoria:i,deleteCategoria:c,recarregar:s}}function z_e({produto:e,onSuccess:t,onCancel:r}){const{createProduto:n,updateProduto:s}=dd(),{fornecedores:o}=Fp(),{categorias:i}=hw(),[c,l]=x.useState({nome:"",descricao:"",codigo_barras:"",categoria:"uso_profissional",fornecedor_id:"",estoque_minimo:0,unidade_medida:"un",preco_custo:0,preco_venda:0,ativo:!0});x.useEffect(()=>{e&&l({nome:e.nome,descricao:e.descricao||"",codigo_barras:e.codigo_barras||"",categoria:e.categoria,fornecedor_id:e.fornecedor_id||"",estoque_minimo:e.estoque_minimo,unidade_medida:e.unidade_medida,preco_custo:e.preco_custo,preco_venda:e.preco_venda,ativo:e.ativo})},[e]);const u=async d=>{d.preventDefault();try{e?await s(e.id,c):await n(c),t()}catch(f){console.error("Erro ao salvar produto:",f)}};return a.jsxs("form",{onSubmit:u,className:"space-y-5 sm:space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome",className:"text-sm sm:text-base",children:"Nome *"}),a.jsx(ee,{id:"nome",required:!0,className:"h-12 sm:h-11 text-base sm:text-sm",value:c.nome,onChange:d=>l({...c,nome:d.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"categoria",children:"Tipo *"}),a.jsxs(Le,{value:c.categoria,onValueChange:d=>l({...c,categoria:d}),children:[a.jsx(Me,{children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"uso_profissional",children:"Uso Profissional"}),a.jsx(X,{value:"revenda",children:"Revenda"}),a.jsx(X,{value:"consumo",children:"Consumo"})]})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.categoria==="revenda"&&"Produtos para revender aos clientes",c.categoria==="uso_profissional"&&"Produtos usados em procedimentos",c.categoria==="consumo"&&"Produtos de uso prprio do salo"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"categoria_id",children:"Categoria Personalizada"}),a.jsxs(Le,{value:c.categoria_id||"none",onValueChange:d=>l({...c,categoria_id:d==="none"?void 0:d}),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Nenhuma"})}),a.jsxs(De,{children:[a.jsx(X,{value:"none",children:"Nenhuma"}),i.filter(d=>d.tipo===c.categoria&&d.ativo).map(d=>a.jsx(X,{value:d.id,children:d.nome},d.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"fornecedor_id",children:"Fornecedor"}),a.jsxs(Le,{value:c.fornecedor_id,onValueChange:d=>l({...c,fornecedor_id:d}),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um fornecedor"})}),a.jsx(De,{children:o.map(d=>a.jsx(X,{value:d.id,children:d.nome},d.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"codigo_barras",children:"Cdigo de Barras"}),a.jsx(ee,{id:"codigo_barras",value:c.codigo_barras,onChange:d=>l({...c,codigo_barras:d.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"estoque_minimo",children:"Estoque Mnimo *"}),a.jsx(ee,{id:"estoque_minimo",type:"number",min:"0",step:"0.01",required:!0,value:c.estoque_minimo,onChange:d=>l({...c,estoque_minimo:parseFloat(d.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"unidade_medida",children:"Unidade de Medida *"}),a.jsx(ee,{id:"unidade_medida",required:!0,value:c.unidade_medida,onChange:d=>l({...c,unidade_medida:d.target.value}),placeholder:"Ex: un, kg, L"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"preco_custo",children:"Preo de Custo (R$) *"}),a.jsx(ee,{id:"preco_custo",type:"number",min:"0",step:"0.01",required:!0,value:c.preco_custo,onChange:d=>l({...c,preco_custo:parseFloat(d.target.value)||0})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"preco_venda",children:"Preo de Venda (R$) *"}),a.jsx(ee,{id:"preco_venda",type:"number",min:"0",step:"0.01",required:!0,value:c.preco_venda,onChange:d=>l({...c,preco_venda:parseFloat(d.target.value)||0})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"descricao",children:"Descrio"}),a.jsx(mr,{id:"descricao",value:c.descricao,onChange:d=>l({...c,descricao:d.target.value}),rows:3})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{id:"ativo",checked:c.ativo,onCheckedChange:d=>l({...c,ativo:d})}),a.jsx(H,{htmlFor:"ativo",children:"Produto Ativo"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-end pt-4",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,className:"h-11 btn-touch sm:flex-1",children:"Cancelar"}),a.jsx(z,{type:"submit",className:"h-11 btn-touch sm:flex-1",children:e?"Atualizar":"Cadastrar"})]})]})}function B_e(){const{produtos:e,loading:t,deleteProduto:r}=dd(),[n,s]=x.useState(null),[o,i]=x.useState(!1),c=async(u,d)=>{confirm(`Desativar o produto "${d}"? Ele ficar oculto mas o histrico ser preservado.`)&&await r(u)},l=u=>({uso_profissional:"Uso Profissional",revenda:"Revenda",consumo:"Consumo"})[u]||u;return t?a.jsx("div",{className:"flex justify-center p-8",children:"Carregando..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Produtos"}),a.jsxs(z,{onClick:()=>{s(null),i(!0)},children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Produto"]})]}),o&&a.jsx(F,{className:"p-6",children:a.jsx(z_e,{produto:n,onSuccess:()=>{i(!1),s(null)},onCancel:()=>{i(!1),s(null)}})}),a.jsxs("div",{className:"grid gap-3 sm:gap-4",children:[e.map(u=>a.jsx(F,{className:"p-4 sm:p-5 border-border/50 bg-card/50 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4",children:[a.jsxs("div",{className:"flex-1 w-full min-w-0",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold",children:u.nome}),a.jsx(ue,{variant:u.ativo?"default":"secondary",className:"text-xs h-5",children:u.ativo?"Ativo":"Inativo"}),a.jsx(ue,{variant:"outline",className:"text-xs h-5",children:l(u.categoria)}),u.estoque_atual<=u.estoque_minimo&&a.jsxs(ue,{variant:"destructive",className:"flex items-center gap-1 text-xs h-5",children:[a.jsx(Ja,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden xs:inline",children:"Estoque Baixo"}),a.jsx("span",{className:"xs:hidden",children:"Baixo"})]})]}),u.descricao&&a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3",children:u.descricao}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Estoque:"}),a.jsxs("span",{className:"font-medium",children:[u.estoque_atual," ",u.unidade_medida]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mnimo:"}),a.jsxs("span",{className:"font-medium",children:[u.estoque_minimo," ",u.unidade_medida]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Custo:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",Number(u.preco_custo).toFixed(2)]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1",children:[a.jsx("span",{className:"text-muted-foreground",children:"Venda:"}),a.jsxs("span",{className:"font-medium",children:["R$ ",Number(u.preco_venda).toFixed(2)]})]})]})]}),a.jsxs("div",{className:"flex sm:flex-col gap-2 w-full sm:w-auto",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>{s(u),i(!0)},className:"flex-1 sm:flex-none h-10 btn-touch",children:[a.jsx(sm,{className:"h-3 w-3 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Editar"})]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>c(u.id,u.nome),className:"flex-1 sm:flex-none h-10 btn-touch hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(pr,{className:"h-3 w-3 sm:mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Desativar"})]})]})]})},u.id)),e.length===0&&a.jsx(F,{className:"p-8 text-center text-muted-foreground",children:"Nenhum produto cadastrado ainda."})]})]})}function V_e({fornecedor:e,onSuccess:t,onCancel:r}){const{createFornecedor:n,updateFornecedor:s}=Fp(),[o,i]=x.useState({nome:"",cnpj:"",telefone:"",email:"",endereco:"",cidade:"",estado:"",cep:"",observacoes:"",ativo:!0});x.useEffect(()=>{e&&i({nome:e.nome,cnpj:e.cnpj||"",telefone:e.telefone||"",email:e.email||"",endereco:e.endereco||"",cidade:e.cidade||"",estado:e.estado||"",cep:e.cep||"",observacoes:e.observacoes||"",ativo:e.ativo})},[e]);const c=async l=>{l.preventDefault();try{e?await s(e.id,o):await n(o),t()}catch(u){console.error("Erro ao salvar fornecedor:",u)}};return a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome",children:"Nome *"}),a.jsx(ee,{id:"nome",required:!0,value:o.nome,onChange:l=>i({...o,nome:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cnpj",children:"CNPJ"}),a.jsx(ee,{id:"cnpj",value:o.cnpj,onChange:l=>i({...o,cnpj:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"telefone",children:"Telefone"}),a.jsx(ee,{id:"telefone",value:o.telefone,onChange:l=>i({...o,telefone:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"E-mail"}),a.jsx(ee,{id:"email",type:"email",value:o.email,onChange:l=>i({...o,email:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cidade",children:"Cidade"}),a.jsx(ee,{id:"cidade",value:o.cidade,onChange:l=>i({...o,cidade:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"estado",children:"Estado"}),a.jsx(ee,{id:"estado",maxLength:2,value:o.estado,onChange:l=>i({...o,estado:l.target.value.toUpperCase()})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cep",children:"CEP"}),a.jsx(ee,{id:"cep",value:o.cep,onChange:l=>i({...o,cep:l.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"endereco",children:"Endereo"}),a.jsx(ee,{id:"endereco",value:o.endereco,onChange:l=>i({...o,endereco:l.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"observacoes",children:"Observaes"}),a.jsx(mr,{id:"observacoes",value:o.observacoes,onChange:l=>i({...o,observacoes:l.target.value}),rows:3})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wt,{id:"ativo",checked:o.ativo,onCheckedChange:l=>i({...o,ativo:l})}),a.jsx(H,{htmlFor:"ativo",children:"Fornecedor Ativo"})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),a.jsx(z,{type:"submit",children:e?"Atualizar":"Cadastrar"})]})]})}function U_e(){const{fornecedores:e,loading:t,deleteFornecedor:r}=Fp(),[n,s]=x.useState(null),[o,i]=x.useState(!1),c=async l=>{confirm("Tem certeza que deseja excluir este fornecedor?")&&await r(l)};return t?a.jsx("div",{className:"flex justify-center p-8",children:"Carregando..."}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Fornecedores"}),a.jsxs(z,{onClick:()=>{s(null),i(!0)},children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Novo Fornecedor"]})]}),o&&a.jsx(F,{className:"p-6",children:a.jsx(V_e,{fornecedor:n,onSuccess:()=>{i(!1),s(null)},onCancel:()=>{i(!1),s(null)}})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.map(l=>a.jsx(F,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:l.nome}),a.jsx(ue,{variant:l.ativo?"default":"secondary",children:l.ativo?"Ativo":"Inativo"})]}),l.cnpj&&a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["CNPJ: ",l.cnpj]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[l.telefone&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xa,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:l.telefone})]}),l.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(am,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{children:l.email})]}),l.cidade&&l.estado&&a.jsxs("p",{className:"text-muted-foreground",children:[l.cidade," - ",l.estado]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-4",children:[a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>{s(l),i(!0)},children:a.jsx(sm,{className:"h-4 w-4"})}),a.jsx(z,{variant:"ghost",size:"icon",onClick:()=>c(l.id),children:a.jsx(pr,{className:"h-4 w-4"})})]})]})},l.id)),e.length===0&&a.jsx(F,{className:"p-8 text-center text-muted-foreground col-span-2",children:"Nenhum fornecedor cadastrado ainda."})]})]})}function W_e({onSuccess:e}){const{createCompra:t}=id(),{fornecedores:r}=Fp(),{produtos:n}=dd(),[s,o]=x.useState(""),[i,c]=x.useState(""),[l,u]=x.useState(new Date().toISOString().split("T")[0]),[d,f]=x.useState(""),[h,p]=x.useState(""),[v,m]=x.useState(""),[g,y]=x.useState([{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}]),b=()=>{y([...g,{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}])},w=_=>{y(g.filter((P,E)=>E!==_))},j=(_,P,E)=>{const $=[...g];$[_]={...$[_],[P]:E},(P==="quantidade"||P==="valor_unitario")&&($[_].valor_total=$[_].quantidade*$[_].valor_unitario),y($)},N=()=>g.reduce((_,P)=>_+P.valor_total,0),S=async _=>{if(_.preventDefault(),g.some(P=>!P.produto_id)){alert("Selecione um produto para cada item");return}try{await t({fornecedor_id:s||void 0,numero_nota:i||void 0,data_compra:l,data_vencimento:d||void 0,valor_total:N(),forma_pagamento:h||void 0,observacoes:v||void 0,itens:g}),e()}catch(P){console.error("Erro ao registrar compra:",P)}};return a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs(F,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Informaes da Compra"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Fornecedor"}),a.jsxs(Le,{value:s,onValueChange:o,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um fornecedor (opcional)"})}),a.jsx(De,{children:r.map(_=>a.jsx(X,{value:_.id,children:_.nome},_.id))})]})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Nmero da Nota"}),a.jsx(ee,{value:i,onChange:_=>c(_.target.value),placeholder:"Ex: NF-12345"})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Data da Compra"}),a.jsx(ee,{type:"date",value:l,onChange:_=>u(_.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Data de Vencimento"}),a.jsx(ee,{type:"date",value:d,onChange:_=>f(_.target.value)})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Forma de Pagamento"}),a.jsxs(Le,{value:h,onValueChange:p,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione"})}),a.jsxs(De,{children:[a.jsx(X,{value:"dinheiro",children:"Dinheiro"}),a.jsx(X,{value:"pix",children:"PIX"}),a.jsx(X,{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx(X,{value:"cartao_debito",children:"Carto de Dbito"}),a.jsx(X,{value:"boleto",children:"Boleto"}),a.jsx(X,{value:"a_prazo",children:"A Prazo"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Observaes"}),a.jsx(mr,{value:v,onChange:_=>m(_.target.value),placeholder:"Observaes sobre a compra"})]})]})]}),a.jsxs(F,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Itens da Compra"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:b,children:[a.jsx(wr,{className:"h-4 w-4 mr-1"}),"Adicionar Item"]})]}),a.jsx("div",{className:"space-y-4",children:g.map((_,P)=>a.jsx(F,{className:"p-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-12 items-end",children:[a.jsxs("div",{className:"md:col-span-5",children:[a.jsx(H,{children:"Produto"}),a.jsxs(Le,{value:_.produto_id,onValueChange:E=>j(P,"produto_id",E),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione o produto"})}),a.jsx(De,{children:n.map(E=>a.jsx(X,{value:E.id,children:E.nome},E.id))})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Quantidade"}),a.jsx(ee,{type:"number",min:"0",step:"0.01",value:_.quantidade,onChange:E=>j(P,"quantidade",parseFloat(E.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Valor Unitrio"}),a.jsx(ee,{type:"number",min:"0",step:"0.01",value:_.valor_unitario,onChange:E=>j(P,"valor_unitario",parseFloat(E.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Total"}),a.jsx(ee,{type:"number",value:_.valor_total.toFixed(2),disabled:!0})]}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>w(P),disabled:g.length===1,children:a.jsx(pr,{className:"h-4 w-4"})})})]})},P))}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"Valor Total:"}),a.jsxs("span",{children:["R$ ",N().toFixed(2)]})]})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),a.jsx(z,{type:"submit",children:"Registrar Compra"})]})]})}function q_e(){const{compras:e,loading:t}=id(),[r,n]=x.useState(!1),s=o=>{const i={pendente:"secondary",pago_parcial:"default",pago:"default",vencido:"destructive"},c={pendente:"Pendente",pago_parcial:"Pago Parcial",pago:"Pago",vencido:"Vencido"};return a.jsx(ue,{variant:i[o],children:c[o]})};return t?a.jsx("div",{className:"flex justify-center p-8",children:"Carregando..."}):r?a.jsxs(F,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Registrar Nova Compra"}),a.jsx(W_e,{onSuccess:()=>n(!1)})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Histrico de Compras"}),a.jsxs(z,{onClick:()=>n(!0),children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Compra"]})]}),a.jsxs("div",{className:"grid gap-4",children:[e.map(o=>a.jsxs(F,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h3",{className:"font-semibold",children:o.numero_nota?`Nota: ${o.numero_nota}`:`Compra #${o.id.slice(0,8)}`}),s(o.status_pagamento)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:ke(new Date(o.data_compra),"dd 'de' MMMM 'de' yyyy",{locale:Ie})})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",Number(o.valor_total).toFixed(2)]}),o.valor_devido>0&&a.jsxs("p",{className:"text-sm text-destructive",children:["Devido: R$ ",Number(o.valor_devido).toFixed(2)]})]})]}),o.itens_compra&&o.itens_compra.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Itens:"}),a.jsx("div",{className:"space-y-1",children:o.itens_compra.map(i=>a.jsxs("div",{className:"text-sm flex justify-between",children:[a.jsxs("span",{children:[i.quantidade,"x - Produto ID: ",i.produto_id.slice(0,8)]}),a.jsxs("span",{children:["R$ ",Number(i.valor_total).toFixed(2)]})]},i.id))})]})]},o.id)),e.length===0&&a.jsx(F,{className:"p-8 text-center text-muted-foreground",children:"Nenhuma compra registrada ainda."})]})]})}function H_e({categoria:e,onSuccess:t,onCancel:r}){const{createCategoria:n,updateCategoria:s}=hw(),[o,i]=x.useState({nome:"",tipo:"revenda",cor:"#94a3b8",ativo:!0});x.useEffect(()=>{e&&i({nome:e.nome,tipo:e.tipo,cor:e.cor||"#94a3b8",icone:e.icone,ativo:e.ativo})},[e]);const c=async u=>{u.preventDefault();try{e?await s(e.id,o):await n(o),t()}catch(d){console.error("Erro ao salvar categoria:",d)}},l=u=>({revenda:"Revenda",uso_profissional:"Uso Profissional",consumo:"Consumo"})[u];return a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"nome",children:"Nome da Categoria"}),a.jsx(ee,{id:"nome",value:o.nome,onChange:u=>i({...o,nome:u.target.value}),placeholder:"Ex: Esmaltes, Shampoos, Material de Limpeza",required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"tipo",children:"Tipo"}),a.jsxs(Le,{value:o.tipo,onValueChange:u=>i({...o,tipo:u}),children:[a.jsx(Me,{children:a.jsx(Fe,{})}),a.jsxs(De,{children:[a.jsx(X,{value:"revenda",children:l("revenda")}),a.jsx(X,{value:"uso_profissional",children:l("uso_profissional")}),a.jsx(X,{value:"consumo",children:l("consumo")})]})]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[o.tipo==="revenda"&&"Produtos que voc compra para revender no salo",o.tipo==="uso_profissional"&&"Produtos usados em procedimentos com clientes",o.tipo==="consumo"&&"Produtos para uso prprio do salo"]})]}),a.jsxs("div",{children:[a.jsx(H,{htmlFor:"cor",children:"Cor"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ee,{id:"cor",type:"color",value:o.cor,onChange:u=>i({...o,cor:u.target.value}),className:"w-20 h-10"}),a.jsx(ee,{value:o.cor,onChange:u=>i({...o,cor:u.target.value}),placeholder:"#94a3b8"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(H,{htmlFor:"ativo",children:"Categoria Ativa"}),a.jsx(Wt,{id:"ativo",checked:o.ativo,onCheckedChange:u=>i({...o,ativo:u})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),a.jsx(z,{type:"submit",children:e?"Atualizar":"Cadastrar"})]})]})}function G_e(){const{categorias:e,loading:t,deleteCategoria:r}=hw(),[n,s]=x.useState(!1),[o,i]=x.useState(),[c,l]=x.useState(null),u=p=>{i(p),s(!0)},d=async()=>{c&&(await r(c),l(null))},f=p=>({revenda:"Revenda",uso_profissional:"Uso Profissional",consumo:"Consumo"})[p],h=p=>({revenda:"default",uso_profissional:"secondary",consumo:"outline"})[p];return t?a.jsx("div",{children:"Carregando categorias..."}):n?a.jsxs(F,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:o?"Editar Categoria":"Nova Categoria"}),a.jsx(H_e,{categoria:o,onSuccess:()=>{s(!1),i(void 0)},onCancel:()=>{s(!1),i(void 0)}})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Categorias de Produtos"}),a.jsxs(z,{onClick:()=>s(!0),children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Categoria"]})]}),e.length===0?a.jsxs(F,{className:"p-8 text-center",children:[a.jsx($u,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma categoria cadastrada. Crie categorias para organizar seus produtos!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(p=>a.jsxs(F,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:p.cor}}),a.jsx("h3",{className:"font-semibold",children:p.nome})]}),!p.ativo&&a.jsx(ue,{variant:"outline",children:"Inativa"})]}),a.jsx(ue,{variant:h(p.tipo),className:"mb-3",children:f(p.tipo)}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>u(p),className:"flex-1",children:[a.jsx(Hn,{className:"h-4 w-4 mr-1"}),"Editar"]}),a.jsxs(z,{variant:"outline",size:"sm",onClick:()=>l(p.id),className:"flex-1",children:[a.jsx(pr,{className:"h-4 w-4 mr-1"}),"Excluir"]})]})]},p.id))}),a.jsx(Xn,{open:!!c,onOpenChange:()=>l(null),children:a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsx(Pn,{children:"Confirmar excluso"}),a.jsx(An,{children:"Tem certeza que deseja excluir esta categoria? Os produtos associados no sero excludos, mas perdero a referncia  categoria."})]}),a.jsxs(Cn,{children:[a.jsx(Jn,{children:"Cancelar"}),a.jsx(kn,{onClick:d,children:"Excluir"})]})]})})]})}function K_e({onSuccess:e}){const{createVenda:t}=cd(),{produtos:r}=dd(),{clientes:n}=jc(),[s,o]=x.useState(""),[i,c]=x.useState(new Date().toISOString().split("T")[0]),[l,u]=x.useState(""),[d,f]=x.useState(""),[h,p]=x.useState([{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}]),v=r.filter(j=>j.categoria==="revenda"&&j.ativo),m=()=>{p([...h,{produto_id:"",quantidade:1,valor_unitario:0,valor_total:0}])},g=j=>{p(h.filter((N,S)=>S!==j))},y=(j,N,S)=>{const _=[...h];if(_[j]={..._[j],[N]:S},N==="produto_id"){const P=r.find(E=>E.id===S);P&&(_[j].valor_unitario=P.preco_venda)}(N==="quantidade"||N==="valor_unitario")&&(_[j].valor_total=_[j].quantidade*_[j].valor_unitario),p(_)},b=()=>h.reduce((j,N)=>j+N.valor_total,0),w=async j=>{if(j.preventDefault(),h.some(N=>!N.produto_id)){alert("Selecione um produto para cada item");return}try{await t({cliente_id:s||void 0,data_venda:i,forma_pagamento:l||void 0,observacoes:d||void 0,itens:h}),e()}catch(N){console.error("Erro ao registrar venda:",N)}};return a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs(F,{className:"p-4",children:[a.jsx("h3",{className:"font-semibold mb-4",children:"Informaes da Venda"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Cliente (opcional)"}),a.jsxs(Le,{value:s,onValueChange:o,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione um cliente"})}),a.jsx(De,{children:n.map(j=>a.jsx(X,{value:j.id,children:j.nome},j.id))})]})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Data da Venda"}),a.jsx(ee,{type:"date",value:i,onChange:j=>c(j.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(H,{children:"Forma de Pagamento"}),a.jsxs(Le,{value:l,onValueChange:u,children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione"})}),a.jsxs(De,{children:[a.jsx(X,{value:"dinheiro",children:"Dinheiro"}),a.jsx(X,{value:"pix",children:"PIX"}),a.jsx(X,{value:"cartao_credito",children:"Carto de Crdito"}),a.jsx(X,{value:"cartao_debito",children:"Carto de Dbito"})]})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Observaes"}),a.jsx(mr,{value:d,onChange:j=>f(j.target.value),placeholder:"Observaes sobre a venda"})]})]})]}),a.jsxs(F,{className:"p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Itens da Venda"}),a.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:m,children:[a.jsx(wr,{className:"h-4 w-4 mr-1"}),"Adicionar Item"]})]}),v.length===0&&a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:'Nenhum produto de revenda cadastrado. Cadastre produtos com a categoria "Revenda" para poder vend-los.'}),a.jsx("div",{className:"space-y-4",children:h.map((j,N)=>a.jsx(F,{className:"p-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-12 items-end",children:[a.jsxs("div",{className:"md:col-span-5",children:[a.jsx(H,{children:"Produto"}),a.jsxs(Le,{value:j.produto_id,onValueChange:S=>y(N,"produto_id",S),children:[a.jsx(Me,{children:a.jsx(Fe,{placeholder:"Selecione o produto"})}),a.jsx(De,{children:v.map(S=>a.jsxs(X,{value:S.id,children:[S.nome," - R$ ",S.preco_venda.toFixed(2)]},S.id))})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Quantidade"}),a.jsx(ee,{type:"number",min:"0",step:"0.01",value:j.quantidade,onChange:S=>y(N,"quantidade",parseFloat(S.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Valor Unitrio"}),a.jsx(ee,{type:"number",min:"0",step:"0.01",value:j.valor_unitario,onChange:S=>y(N,"valor_unitario",parseFloat(S.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(H,{children:"Total"}),a.jsx(ee,{type:"number",value:j.valor_total.toFixed(2),disabled:!0})]}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(z,{type:"button",variant:"outline",size:"icon",onClick:()=>g(N),disabled:h.length===1,children:a.jsx(pr,{className:"h-4 w-4"})})})]})},N))}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{children:"Valor Total:"}),a.jsxs("span",{children:["R$ ",b().toFixed(2)]})]})})]}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(z,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),a.jsx(z,{type:"submit",children:"Registrar Venda"})]})]})}function Y_e(){const{vendas:e,loading:t}=cd(),[r,n]=x.useState(!1);return t?a.jsx("div",{children:"Carregando vendas..."}):r?a.jsxs(F,{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Registrar Nova Venda"}),a.jsx(K_e,{onSuccess:()=>n(!1)})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Vendas de Produtos"}),a.jsxs(z,{onClick:()=>n(!0),children:[a.jsx(wr,{className:"h-4 w-4 mr-2"}),"Nova Venda"]})]}),e.length===0?a.jsxs(F,{className:"p-8 text-center",children:[a.jsx(RP,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma venda registrada ainda."})]}):a.jsx("div",{className:"space-y-3",children:e.map(s=>a.jsx(F,{className:"p-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsxs("h3",{className:"font-semibold",children:["Venda #",s.id.slice(0,8)]}),a.jsx(ue,{variant:s.status_pagamento==="pago"?"default":"secondary",children:s.status_pagamento==="pago"?"Pago":"Pendente"})]}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsxs("p",{children:["Data: ",ke(new Date(s.data_venda),"dd/MM/yyyy",{locale:Ie})]}),s.forma_pagamento&&a.jsxs("p",{children:["Pagamento: ",s.forma_pagamento]}),s.observacoes&&a.jsx("p",{className:"mt-2",children:s.observacoes})]}),s.itens_venda&&s.itens_venda.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t",children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Itens:"}),a.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:s.itens_venda.map(o=>a.jsxs("li",{children:[o.quantidade,"x - R$ ",o.valor_unitario.toFixed(2)," = R$ ",o.valor_total.toFixed(2)]},o.id))})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",s.valor_total.toFixed(2)]})})]})},s.id))})]})}function Z_e(){const[e,t]=x.useState("produtos"),{produtos:r}=dd(),{compras:n}=id(),{vendas:s}=cd(),o={totalProdutos:r.length,produtosAtivos:r.filter(i=>i.ativo).length,estoqueTotal:r.reduce((i,c)=>i+c.estoque_atual,0),comprasRealizadas:n.length,vendasRealizadas:s.length};return a.jsxs("div",{className:"container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Produtos e Estoque"}),a.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Gerencie seus produtos, fornecedores e movimentaes de estoque"})]})}),a.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 sm:grid-cols-3 lg:grid-cols-5",children:[a.jsx(F,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg flex-shrink-0",children:a.jsx(pi,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Total de Produtos"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.totalProdutos})]})]})}),a.jsx(F,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg flex-shrink-0",children:a.jsx(pi,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Produtos Ativos"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.produtosAtivos})]})]})}),a.jsx(F,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg flex-shrink-0",children:a.jsx(Bt,{className:"h-5 w-5 sm:h-6 sm:w-6 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Estoque Total"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.estoqueTotal})]})]})}),a.jsx(F,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg flex-shrink-0",children:a.jsx(bf,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Compras Realizadas"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.comprasRealizadas})]})]})}),a.jsx(F,{className:"p-3 sm:p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500/10 rounded-lg flex-shrink-0",children:a.jsx(ut,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:"Vendas Realizadas"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",children:o.vendasRealizadas})]})]})})]}),a.jsxs(is,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(Ea,{className:"w-full",children:[a.jsxs(ct,{value:"produtos",className:"gap-2",children:[a.jsx(pi,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Produtos"})]}),a.jsxs(ct,{value:"fornecedores",className:"gap-2",children:[a.jsx(ba,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Fornecedores"})]}),a.jsxs(ct,{value:"compras",className:"gap-2",children:[a.jsx(bf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Compras"})]}),a.jsxs(ct,{value:"categorias",className:"gap-2",children:[a.jsx($u,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Categorias"})]}),a.jsxs(ct,{value:"vendas",className:"gap-2",children:[a.jsx(ut,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden xs:inline",children:"Vendas"})]})]}),a.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-background to-transparent pointer-events-none sm:hidden"})]}),a.jsx(lt,{value:"produtos",className:"space-y-4",children:a.jsx(B_e,{})}),a.jsx(lt,{value:"fornecedores",className:"space-y-4",children:a.jsx(U_e,{})}),a.jsx(lt,{value:"compras",className:"space-y-4",children:a.jsx(q_e,{})}),a.jsx(lt,{value:"categorias",className:"space-y-4",children:a.jsx(G_e,{})}),a.jsx(lt,{value:"vendas",className:"space-y-4",children:a.jsx(Y_e,{})})]})]})}function X_e(){const e=fn(),{subscription:t,isSubscriptionLoading:r,checkSubscription:n,session:s,user:o,setSubscription:i}=Lt(),[c,l]=x.useState(!1);x.useEffect(()=>{t?.status==="active"&&(console.log("[ASSINATURA] User has active subscription, redirecting to dashboard"),e("/",{replace:!0}))},[t,e]);const u=async()=>{if(!s){B.error("Voc precisa estar logado para assinar");return}l(!0);try{console.log("[SUBSCRIBE] Iniciando checkout...");const{data:m,error:g}=await W.functions.invoke("create-checkout");if(g){B.error("Erro ao criar sesso de checkout"),console.error(g);return}if(m?.message==="Already subscribed"&&m?.redirect){B.success("Voc j tem uma assinatura ativa!"),await n(),setTimeout(()=>e("/"),1500);return}m?.url&&(window.open(m.url,"_blank"),B.info("Complete o pagamento na janela que abriu. Seu status ser atualizado automaticamente."),setTimeout(()=>n(),5e3),setTimeout(()=>n(),1e4),setTimeout(()=>n(),2e4))}catch(m){console.error("Erro ao iniciar checkout:",m),B.error("Erro ao processar pagamento")}finally{l(!1)}},d=async()=>{l(!0);try{B.info("Verificando status da assinatura..."),await n(),B.success("Status atualizado!")}catch(m){console.error("Erro ao verificar status:",m),B.error("Erro ao verificar status")}finally{l(!1)}},f=async()=>{if(!s){B.error("Voc precisa estar logado");return}l(!0);try{const{data:m,error:g}=await W.functions.invoke("customer-portal",{headers:{Authorization:`Bearer ${s.access_token}`}});if(g){B.error("Erro ao abrir portal de gerenciamento"),console.error(g);return}m?.url&&window.open(m.url,"_blank")}catch(m){console.error("Erro ao abrir portal:",m),B.error("Erro ao abrir portal de gerenciamento")}finally{l(!1)}};if(r)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Fn,{className:"h-8 w-8 animate-spin"})});const h=t?.subscribed,p=t?.status==="trial",v=t?.status==="expired";return t?.status,t?.status,a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/20",children:a.jsxs("div",{className:"container mx-auto py-12 px-4 max-w-5xl",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold mb-3 bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Sua Assinatura"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Gerencie seu plano e aproveite todos os recursos"})]}),h||p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(F,{className:"border-primary/20 shadow-lg",children:[a.jsx(ne,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:a.jsx(bd,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx(ae,{className:"text-2xl mb-1",children:p?"Perodo de Teste Grtis":"Plano Premium Ativo"}),a.jsx(He,{className:"text-base",children:p?"Aproveite todos os recursos sem custo":"Acesso completo a todas as funcionalidades"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ue,{className:"bg-green-500/10 text-green-700 dark:text-green-400 border-green-500/20",children:[a.jsx(bt,{className:"h-3 w-3 mr-1"}),"Ativo"]}),a.jsxs(ue,{variant:"outline",className:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800 text-green-700 dark:text-green-400",children:[a.jsx(bt,{className:"h-3 w-3 mr-1"}),"Cancele quando quiser"]})]})]})}),a.jsxs(U,{className:"space-y-6",children:[p&&t.trial_end_date&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/20 p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:a.jsx(za,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg text-blue-900 dark:text-blue-100 mb-1",children:" Teste Grtis Ativo"}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300 mb-3",children:"Voc est aproveitando 7 dias de acesso gratuito a todos os recursos premium"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Se,{className:"h-4 w-4"}),a.jsxs("span",{className:"font-medium",children:["Termina em: ",ke(new Date(t.trial_end_date),"dd 'de' MMMM 'de' yyyy",{locale:Ie})]})]})]})]})}),a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm",children:[a.jsx("p",{className:"text-blue-900 dark:text-blue-100 font-medium mb-1",children:" Durante o Trial"}),a.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Nenhum carto de crdito necessrio. Voc pode cancelar a qualquer momento ou deixar expirar automaticamente sem cobranas."})]})]}),!p&&t.subscription_end&&a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a.jsx(Se,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Prxima renovao"}),a.jsx("p",{className:"font-semibold text-lg",children:ke(new Date(t.subscription_end),"dd 'de' MMMM 'de' yyyy",{locale:Ie})})]}),a.jsx(ue,{variant:"outline",className:"text-sm",children:"R$ 20,00/ms"})]}),a.jsxs("div",{className:"pt-4 border-t space-y-3",children:[a.jsxs("div",{className:"text-sm text-muted-foreground text-center mb-2",children:[a.jsx("p",{className:"font-medium mb-1",children:"Gerenciar sua Assinatura"}),a.jsx("p",{className:"text-xs",children:"Acesse o portal para atualizar pagamento, ver faturas ou cancelar quando quiser"})]}),a.jsx(z,{onClick:f,disabled:c,className:"w-full",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Carregando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vo,{className:"mr-2 h-4 w-4"}),"Abrir Portal de Gerenciamento"]})})]})]})]}),p&&a.jsx(F,{className:"border-blue-200 dark:border-blue-800",children:a.jsx(U,{className:"pt-6",children:a.jsxs("div",{className:"text-center space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Acabou de assinar? Clique abaixo para atualizar seu status"}),a.jsx(z,{onClick:async()=>{l(!0),await n(),l(!1),B.success("Status atualizado!")},variant:"outline",disabled:c,className:"w-full",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(la,{className:"mr-2 h-4 w-4"}),"Atualizar Status da Assinatura"]})})]})})}),a.jsxs(F,{className:"border-muted",children:[a.jsx(ne,{children:a.jsx(ae,{className:"text-lg",children:" Sobre o Cancelamento"})}),a.jsxs(U,{className:"space-y-3 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Cancele a qualquer momento sem multas ou taxas"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Acesso garantido at o fim do perodo j pago"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Todos os seus dados ficam salvos se quiser retornar"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),a.jsx("p",{children:"Processo 100% online atravs do portal seguro do Stripe"})]})]})]}),a.jsxs(F,{children:[a.jsxs(ne,{children:[a.jsx(ae,{children:"Recursos Includos"}),a.jsx(He,{children:"Tudo que voc tem acesso com seu plano"})]}),a.jsx(U,{children:a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Agendamentos ilimitados"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sem limites de quantidade"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Gerenciamento de clientes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cadastro completo"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Controle financeiro"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Relatrios e anlises"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Programa de fidelidade"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Recompense seus clientes"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Agendamento online"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Link personalizado"})]})]}),a.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"p-1 bg-primary/10 rounded",children:a.jsx(bt,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Notificaes push"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nunca perca um compromisso"})]})]})]})})]})]}):v?a.jsxs(F,{className:"shadow-xl border-orange-200 dark:border-orange-900",children:[a.jsxs(ne,{className:"text-center pb-6",children:[a.jsx("div",{className:"mx-auto mb-4 p-3 bg-orange-100 dark:bg-orange-900/20 rounded-full w-fit",children:a.jsx(bd,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),a.jsx(ae,{className:"text-3xl mb-2",children:"Seu teste grtis terminou"}),a.jsx(He,{className:"text-base",children:"Assine agora para continuar aproveitando todos os recursos"})]}),a.jsxs(U,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-5xl font-bold mb-2",children:["R$ 20,00",a.jsx("span",{className:"text-xl font-normal text-muted-foreground",children:"/ms"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Cobrado mensalmente"})]}),a.jsxs("div",{className:"space-y-3 bg-muted/50 p-4 rounded-lg",children:[a.jsx("p",{className:"font-semibold text-center",children:"O que voc vai manter:"}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Agendamentos ilimitados"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Gerenciamento de clientes"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Controle financeiro"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bt,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm",children:"Agendamento online"})]})]})]}),a.jsx(z,{onClick:u,disabled:c,className:"w-full",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bd,{className:"mr-2 h-4 w-4"}),"Assinar Plano Premium"]})}),a.jsx(z,{onClick:d,variant:"outline",disabled:c,className:"w-full",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(la,{className:"mr-2 h-4 w-4"}),"Verificar Status"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cancele quando quiser, sem multas ou taxas"})]})]}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Escolha seu Plano"}),a.jsx("p",{className:"text-muted-foreground",children:"Experimente grtis por 7 dias ou assine agora"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(F,{className:"relative overflow-hidden border-2 border-primary shadow-xl",children:[a.jsx("div",{className:"absolute top-0 right-0 bg-primary text-primary-foreground px-4 py-1 text-sm font-bold rounded-bl-lg",children:"RECOMENDADO"}),a.jsxs(ne,{className:"pt-8",children:[a.jsx("div",{className:"mx-auto mb-4 p-3 bg-primary/10 rounded-full w-fit",children:a.jsx(za,{className:"h-8 w-8 text-primary"})}),a.jsx(ae,{className:"text-2xl text-center",children:" 7 Dias Grtis"}),a.jsx(He,{className:"text-center",children:"Experimente sem compromisso"})]}),a.jsxs(U,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold mb-2",children:"R$ 0,00"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"depois R$ 20,00/ms"})]}),a.jsx("div",{className:"space-y-3",children:["Acesso total por 7 dias","Sem carto de crdito","Cancele quando quiser","Todas as funcionalidades"].map(m=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[a.jsx(bt,{className:"h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},m))}),a.jsx(z,{onClick:async()=>{if(!s?.user){B.error("Voc precisa estar logado");return}l(!0);try{console.log("[TRIAL] Iniciando checkout com trial de 7 dias..."),await u()}catch(m){console.error(m),B.error("Erro ao iniciar trial")}finally{l(!1)}},disabled:c,className:"w-full h-12 text-lg font-semibold",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-5 w-5 animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(za,{className:"mr-2 h-5 w-5"}),"Comear Teste Grtis"]})})]})]}),a.jsxs(F,{className:"shadow-xl",children:[a.jsxs(ne,{children:[a.jsx("div",{className:"mx-auto mb-4 p-3 bg-secondary/10 rounded-full w-fit",children:a.jsx(bd,{className:"h-8 w-8 text-primary"})}),a.jsx(ae,{className:"text-2xl text-center",children:" Assinar Agora"}),a.jsx(He,{className:"text-center",children:"Acesso imediato e completo"})]}),a.jsxs(U,{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold mb-2",children:"R$ 20,00"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"por ms"})]}),a.jsx("div",{className:"space-y-3",children:["Agendamentos ilimitados","Gesto financeira completa","Programa de fidelidade","Suporte prioritrio"].map(m=>a.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-muted/50",children:[a.jsx(bt,{className:"h-5 w-5 text-primary flex-shrink-0"}),a.jsx("span",{className:"text-sm",children:m})]},m))}),a.jsx(z,{onClick:u,disabled:c,variant:"outline",className:"w-full h-12 text-lg font-semibold",size:"lg",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"mr-2 h-5 w-5 animate-spin"}),"Processando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vo,{className:"mr-2 h-5 w-5"}),"Assinar Agora"]})}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Cobrana mensal automtica. Cancele quando quiser."})]})]})]})]})]})})}function J_e(){const e=fn(),[t]=Py(),{checkSubscription:r,subscription:n}=Lt(),[s,o]=x.useState("checking"),[i,c]=x.useState(0),l=5;return x.useEffect(()=>{if(!t.get("session_id")){o("error");return}const d=async()=>{console.log("[CHECKOUT-SUCCESS] Verificando assinatura... tentativa",i+1);try{await r(),setTimeout(()=>{n?.subscribed?(console.log("[CHECKOUT-SUCCESS]  Assinatura confirmada!"),o("success"),setTimeout(()=>{e("/")},2e3)):i<l?c(f=>f+1):(console.log("[CHECKOUT-SUCCESS]  Max retries atingido"),o("error"))},1e3)}catch(f){console.error("[CHECKOUT-SUCCESS] Erro ao verificar:",f),i<l?c(h=>h+1):o("error")}};if(d(),i<l){const f=setInterval(d,2e3);return()=>clearInterval(f)}},[i,t,r,n,e]),s==="checking"?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 to-primary/10",children:a.jsxs(F,{className:"w-full max-w-md",children:[a.jsxs(ne,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:a.jsx(Fn,{className:"h-8 w-8 animate-spin text-primary"})}),a.jsx(ae,{className:"text-2xl",children:"Processando pagamento..."}),a.jsx(He,{children:"Aguarde enquanto confirmamos sua assinatura"})]}),a.jsx(U,{children:a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Tentativa ",i+1," de ",l]}),a.jsx("p",{className:"mt-2",children:"Isso pode levar alguns segundos"})]})})]})}):s==="success"?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-green-50 to-green-100",children:a.jsxs(F,{className:"w-full max-w-md border-green-200",children:[a.jsxs(ne,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-green-100",children:a.jsx(bt,{className:"h-8 w-8 text-green-600"})}),a.jsx(ae,{className:"text-2xl text-green-900",children:"Pagamento confirmado!"}),a.jsx(He,{className:"text-green-700",children:"Sua assinatura foi ativada com sucesso"})]}),a.jsxs(U,{className:"text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:a.jsx("p",{className:"text-sm text-green-800",children:n?.status==="trial"?" Seu perodo de teste gratuito de 7 dias comeou!":" Sua assinatura premium est ativa!"})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Redirecionando para o dashboard..."})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-orange-50 to-orange-100",children:a.jsxs(F,{className:"w-full max-w-md border-orange-200",children:[a.jsxs(ne,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-orange-100",children:a.jsx(mc,{className:"h-8 w-8 text-orange-600"})}),a.jsx(ae,{className:"text-2xl text-orange-900",children:"Verificao em andamento"}),a.jsx(He,{className:"text-orange-700",children:"No conseguimos confirmar sua assinatura ainda"})]}),a.jsxs(U,{className:"text-center space-y-4",children:[a.jsx("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:a.jsx("p",{className:"text-sm text-orange-800",children:"Isso pode acontecer se o pagamento ainda est sendo processado pelo Stripe. Seu status ser atualizado automaticamente quando o pagamento for confirmado."})}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(z,{onClick:()=>e("/"),className:"w-full",children:"Ir para o Dashboard"}),a.jsx(z,{onClick:()=>e("/assinatura"),variant:"outline",className:"w-full",children:"Ver Status da Assinatura"})]})]})]})})}const il=[{title:"Bem-vindo ao seu Sistema de Gesto!",description:"Vamos fazer um tour rpido pelas principais funcionalidades",icon:za,features:["Gerencie seus agendamentos de forma simples","Controle completo de clientes e servios","Acompanhe seu financeiro em tempo real","Fidelize seus clientes com recompensas"]},{title:"Agendamentos e Agenda",description:"Organize seus horrios de forma profissional",icon:Se,features:["Visualizao diria, semanal e mensal","Notificaes automticas para voc e seus clientes","Agendamento online para seus clientes","Controle de confirmaes e reagendamentos"]},{title:"Clientes e Servios",description:"Mantenha tudo organizado",icon:ba,features:["Cadastro completo de clientes com histrico","Gesto de servios com preos e duraes","Cronogramas de retorno automticos","Histrico completo de atendimentos"]},{title:"Controle Financeiro",description:"Acompanhe seu faturamento",icon:ut,features:["Lanamentos de receitas e despesas","Relatrios e grficos detalhados","Controle de contas a pagar e receber","Visualizao de lucro por perodo"]},{title:"Programa de Fidelidade",description:"Fidelize e recompense seus clientes",icon:Tu,features:["Sistema de pontos por agendamento","Recompensas personalizveis","Nveis de fidelidade (Bronze, Prata, Ouro)","Aumente seu faturamento e reteno"]},{title:"Sua Assinatura",description:"Aproveite todos os benefcios",icon:Ha,features:["7 dias grtis para testar todas as funcionalidades","Apenas R$ 20,00/ms aps o perodo de teste","Sem compromisso - cancele quando quiser","Suporte e atualizaes constantes"]}];function Q_e(){const[e,t]=x.useState(0),r=fn(),n=()=>{e<il.length-1&&t(e+1)},s=()=>{e>0&&t(e-1)},o=()=>{localStorage.setItem("onboarding-completed","true"),r("/")},i=()=>{localStorage.setItem("onboarding-completed","true"),r("/")},c=(e+1)/il.length*100,l=il[e],u=l.icon;return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 p-4",children:a.jsxs(F,{className:"w-full max-w-2xl",children:[a.jsxs(ne,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:a.jsx(u,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsx(ae,{className:"text-2xl",children:l.title}),a.jsx(He,{children:l.description})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:i,children:"Pular"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Passo ",e+1," de ",il.length]}),a.jsxs("span",{children:[Math.round(c),"%"]})]}),a.jsx(db,{value:c,className:"h-2"})]})]}),a.jsxs(U,{className:"space-y-6",children:[a.jsx("ul",{className:"space-y-3",children:l.features.map((d,f)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx(bt,{className:"h-3 w-3 text-primary"})}),a.jsx("span",{className:"text-base",children:d})]},f))}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(z,{variant:"outline",onClick:s,disabled:e===0,className:"flex-1",children:[a.jsx(Ou,{className:"mr-2 h-4 w-4"}),"Anterior"]}),e===il.length-1?a.jsxs(z,{onClick:o,className:"flex-1",children:["Comear a usar",a.jsx(bt,{className:"ml-2 h-4 w-4"})]}):a.jsxs(z,{onClick:n,className:"flex-1",children:["Prximo",a.jsx(_F,{className:"ml-2 h-4 w-4"})]})]})]})]})})}const e1e=Bs({email:dt().email("E-mail invlido"),senha:dt().min(1,"Senha  obrigatria")}),t1e=()=>{const e=fn(),[t]=Py(),r=t.get("redirect")||"/",{signIn:n}=Lt(),[s,o]=x.useState(""),[i,c]=x.useState(!1),{register:l,handleSubmit:u,formState:{errors:d}}=ks({resolver:Es(e1e)}),f=async h=>{c(!0),o("");try{const{error:p}=await n(h.email,h.senha);p?o("E-mail ou senha incorretos"):e(r)}catch{o("Erro ao fazer login. Tente novamente.")}finally{c(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-responsive",children:a.jsxs(F,{className:"w-full max-w-md mx-auto",children:[a.jsxs(ne,{className:"space-responsive text-center p-responsive",children:[a.jsx(ae,{className:"text-responsive-xl font-bold",children:"Fazer Login"}),a.jsx(He,{className:"text-responsive-sm",children:"Entre com suas credenciais para acessar o sistema"})]}),a.jsx(U,{className:"p-responsive",children:a.jsxs("form",{onSubmit:u(f),className:"space-responsive",children:[s&&a.jsx(bn,{variant:"destructive",children:a.jsx(wn,{className:"text-responsive-sm",children:s})}),a.jsxs("div",{className:"space-responsive-sm",children:[a.jsx(H,{htmlFor:"email",className:"text-responsive-sm",children:"E-mail"}),a.jsx(ee,{id:"email",type:"email",placeholder:"seu@email.com",...l("email"),disabled:i,className:"btn-touch text-responsive-sm"}),d.email&&a.jsx("p",{className:"text-responsive-xs text-destructive",children:d.email.message})]}),a.jsxs("div",{className:"space-responsive-sm",children:[a.jsx(H,{htmlFor:"senha",className:"text-responsive-sm",children:"Senha"}),a.jsx(ee,{id:"senha",type:"password",placeholder:"Sua senha",...l("senha"),disabled:i,className:"btn-touch text-responsive-sm"}),d.senha&&a.jsx("p",{className:"text-responsive-xs text-destructive",children:d.senha.message})]}),a.jsx(z,{type:"submit",className:"w-full btn-touch text-responsive-sm",disabled:i,children:i?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center space-responsive-sm",children:[a.jsx(Ni,{to:"/esqueci-senha",className:"text-responsive-xs text-muted-foreground hover:text-primary underline",children:"Esqueci minha senha"}),a.jsxs("div",{className:"text-responsive-xs text-muted-foreground",children:["No tem uma conta?"," ",a.jsx(Ni,{to:"/cadastro",className:"text-primary hover:underline font-medium",children:"Cadastre-se aqui"})]})]})]})})]})})},r1e=Bs({nome_personalizado_app:dt().min(1,"Nome da profissional/salo  obrigatrio"),nome_completo:dt().min(1,"Nome completo  obrigatrio"),email:dt().email("E-mail invlido"),telefone:dt().min(10,"Telefone deve ter pelo menos 10 dgitos"),tema_preferencia:go(["feminino","masculino"]),senha:dt().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmar_senha:dt().min(1,"Confirmao de senha  obrigatria")}).refine(e=>e.senha===e.confirmar_senha,{message:"Senhas no coincidem",path:["confirmar_senha"]}),n1e=()=>{const e=fn(),{signUp:t}=Lt(),[r,n]=x.useState(""),[s,o]=x.useState(!1),[i,c]=x.useState("trial"),{register:l,handleSubmit:u,formState:{errors:d},watch:f,setValue:h}=ks({resolver:Es(r1e),defaultValues:{tema_preferencia:"feminino"}}),p=f("tema_preferencia");x.useEffect(()=>{p&&(console.log("Aplicando tema preview:",p),document.documentElement.setAttribute("data-theme",p),localStorage.setItem("app-theme",p))},[p]);const v=async m=>{o(!0),n("");try{const{error:g}=await t(m.email,m.senha,{nome_completo:m.nome_completo,nome_personalizado_app:m.nome_personalizado_app,telefone:m.telefone,tema_preferencia:m.tema_preferencia},i);g?n(g.message||"Erro ao criar conta"):i==="trial"?(await new Promise(y=>setTimeout(y,800)),e("/")):e("/login?redirect=/assinatura")}catch(g){n(g.message||"Erro ao criar conta. Tente novamente.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:a.jsxs(F,{className:"w-full max-w-md",children:[a.jsxs(ne,{className:"space-y-1 text-center",children:[a.jsx(ae,{className:"text-2xl font-bold",children:"Criar Conta"}),a.jsx(He,{children:"Cadastre-se para comear a usar o sistema"})]}),a.jsx(U,{children:a.jsxs("form",{onSubmit:u(v),className:"space-y-4",children:[r&&a.jsx(bn,{variant:"destructive",children:a.jsx(wn,{children:r})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-base",children:"Escolha seu plano *"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{className:"flex flex-col cursor-pointer",onClick:()=>!s&&c("trial"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${i==="trial"?"border-primary shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-semibold text-lg mb-1",children:"7 Dias Grtis"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Sem necessidade de carto"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso completo por 7 dias"})]}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${i==="trial"?"bg-primary border-primary":"border-border"}`})]})}),a.jsx("div",{className:"flex flex-col cursor-pointer",onClick:()=>!s&&c("paid"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${i==="paid"?"border-primary shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:""}),a.jsx("p",{className:"font-semibold text-lg mb-1",children:"Assinar Agora"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"R$ 20,00/ms"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cobrana recorrente"})]}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${i==="paid"?"bg-primary border-primary":"border-border"}`})]})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome_personalizado_app",children:"Nome da Profissional / Nome do Salo *"}),a.jsx(ee,{id:"nome_personalizado_app",placeholder:"Ex: Camila Hair Studio",...l("nome_personalizado_app"),disabled:s}),d.nome_personalizado_app&&a.jsx("p",{className:"text-sm text-destructive",children:d.nome_personalizado_app.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"nome_completo",children:"Nome Completo da Responsvel *"}),a.jsx(ee,{id:"nome_completo",placeholder:"Ex: Camila Lopes",...l("nome_completo"),disabled:s}),d.nome_completo&&a.jsx("p",{className:"text-sm text-destructive",children:d.nome_completo.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"E-mail *"}),a.jsx(ee,{id:"email",type:"email",placeholder:"seu@email.com",...l("email"),disabled:s}),d.email&&a.jsx("p",{className:"text-sm text-destructive",children:d.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"telefone",children:"Telefone com DDD *"}),a.jsx(ee,{id:"telefone",placeholder:"(11) 99999-9999",...l("telefone"),disabled:s}),d.telefone&&a.jsx("p",{className:"text-sm text-destructive",children:d.telefone.message})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(H,{className:"text-base",children:"Escolha o Esquema de Cores do App *"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta escolha definir as cores de todo o aplicativo"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx("div",{className:"flex flex-col cursor-pointer group",onClick:()=>!s&&h("tema_preferencia","feminino"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${p==="feminino"?"border-[hsl(267,83%,58%)] shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(267 83% 58%), hsl(320 85% 75%))"}}),a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(320 85% 75%), hsl(267 83% 58%))"}})]}),a.jsx("p",{className:"text-center font-semibold text-lg mb-1",children:"Feminino"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Lils e Rosa"}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${p==="feminino"?"bg-[hsl(267,83%,58%)] border-[hsl(267,83%,58%)]":"border-border"}`})]})}),a.jsx("div",{className:"flex flex-col cursor-pointer group",onClick:()=>!s&&h("tema_preferencia","masculino"),children:a.jsxs("div",{className:`relative w-full p-5 border-2 rounded-xl transition-all hover:shadow-md bg-card ${p==="masculino"?"border-[hsl(217,91%,60%)] shadow-lg":"border-border"}`,children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(217 91% 60%), hsl(220 60% 50%))"}}),a.jsx("div",{className:"w-10 h-10 rounded-full shadow-sm",style:{background:"linear-gradient(135deg, hsl(220 60% 50%), hsl(217 91% 60%))"}})]}),a.jsx("p",{className:"text-center font-semibold text-lg mb-1",children:"Masculino"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Azul e Cinza"}),a.jsx("div",{className:`absolute top-3 right-3 w-5 h-5 rounded-full border-2 transition-all ${p==="masculino"?"bg-[hsl(217,91%,60%)] border-[hsl(217,91%,60%)]":"border-border"}`})]})})]}),d.tema_preferencia&&a.jsx("p",{className:"text-sm text-destructive",children:d.tema_preferencia.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"senha",children:"Senha *"}),a.jsx(ee,{id:"senha",type:"password",placeholder:"Mnimo 6 caracteres",...l("senha"),disabled:s}),d.senha&&a.jsx("p",{className:"text-sm text-destructive",children:d.senha.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirmar_senha",children:"Confirmar Senha *"}),a.jsx(ee,{id:"confirmar_senha",type:"password",placeholder:"Digite a senha novamente",...l("confirmar_senha"),disabled:s}),d.confirmar_senha&&a.jsx("p",{className:"text-sm text-destructive",children:d.confirmar_senha.message})]}),a.jsx(z,{type:"submit",className:"w-full",disabled:s,children:s?"Criando conta...":i==="trial"?"Comear Teste Grtis":"Criar Conta e Assinar"}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-muted-foreground",children:["J tem uma conta?"," ",a.jsx(Ni,{to:"/login",className:"text-primary hover:underline font-medium",children:"Faa login aqui"})]})})]})})]})})},$C={soundEnabled:!0,visualEnabled:!0,autoHide:!0,hideDelay:1e4,soundType:"notification"},mw=()=>{const{usuario:e}=Lt(),[t,r]=x.useState(()=>{const g=localStorage.getItem("notification-settings");if(g){const y=JSON.parse(g);return{...$C,...y}}return $C}),[n,s]=x.useState([]),[o,i]=x.useState(new Date().toISOString()),c=x.useRef(null),l=x.useRef(new Set);x.useEffect(()=>{if(t.soundEnabled){const g=t.soundType||"notification",y=g==="notification"?"notification":g;c.current=new Audio(`/sounds/${y}.mp3`),c.current.volume=.5,c.current.preload="auto"}return()=>{c.current&&(c.current=null)}},[t.soundEnabled,t.soundType]),x.useEffect(()=>{localStorage.setItem("notification-settings",JSON.stringify(t))},[t]);const u=x.useCallback(async()=>{if(!(!t.soundEnabled||!c.current))try{c.current.currentTime=0,await c.current.play()}catch(g){console.log("No foi possvel reproduzir som de notificao:",g)}},[t.soundEnabled]),d=x.useCallback(g=>{if(!e||!t.visualEnabled||l.current.has(g.id))return;const y={...g,shown:!1};s(b=>[y,...b.slice(0,2)]),l.current.add(g.id),u(),B.success(`Novo Agendamento! ${g.clienteNome} - ${g.servicoNome}`),t.autoHide&&setTimeout(()=>{f(g.id)},t.hideDelay)},[e,t,u]),f=x.useCallback(g=>{s(y=>y.filter(b=>b.id!==g))},[]),h=x.useCallback(()=>{s([])},[]),p=x.useCallback(g=>{r(y=>({...y,...g}))},[]),v=x.useCallback(g=>{if(!e)return;const y=g.filter(b=>{if(b.userId!==e.id)return!1;const w=new Date(b.createdAt),j=new Date(o);return w>j&&!l.current.has(b.id)});y.length>0&&(y.forEach(b=>{const w=b.origem||"manual";d({id:b.id,clienteNome:b.clienteNome,servicoNome:b.servicoNome,data:b.data,horario:b.hora,origem:w,criadoEm:b.createdAt})}),i(new Date().toISOString()))},[e,o,d]),m=x.useCallback(async()=>"Notification"in window?await Notification.requestPermission()==="granted":!1,[]);return{notifications:n,settings:t,addNotification:d,removeNotification:f,clearAllNotifications:h,updateSettings:p,checkForNewAgendamentos:v,requestNotificationPermission:m,playNotificationSound:u}},mR=()=>{const{usuario:e}=Lt(),{isSubscribed:t}=Lp(),r=x.useCallback(async f=>{if(!(!e||!t))try{const h=new Date,p=f.programadaPara.getTime()-h.getTime();if(p<=0){await s(f);return}if(p<=24*60*60*1e3){setTimeout(async()=>{await s(f)},p);const v=n();v.push({...f,programadaPara:f.programadaPara.toISOString()}),localStorage.setItem(`scheduled-notifications-${e.id}`,JSON.stringify(v))}else{const v=n();v.push({...f,programadaPara:f.programadaPara.toISOString()}),localStorage.setItem(`scheduled-notifications-${e.id}`,JSON.stringify(v))}}catch(h){console.error("Erro ao agendar notificao:",h)}},[e,t]),n=x.useCallback(()=>{if(!e)return[];const f=localStorage.getItem(`scheduled-notifications-${e.id}`);return f?JSON.parse(f):[]},[e]),s=x.useCallback(async f=>{if(t)try{if("serviceWorker"in navigator){const h=await navigator.serviceWorker.ready,p={body:f.mensagem,icon:"/icons/icon-192x192.png",badge:"/icons/icon-192x192.png",tag:`${f.tipo}-${f.id}`,data:{...f.dados,notificationId:f.id,tipo:f.tipo,timestamp:Date.now()}};await h.showNotification(f.titulo,p),o(f.id)}}catch(h){console.error("Erro ao enviar notificao:",h)}},[t]),o=x.useCallback(f=>{if(!e)return;const p=n().filter(v=>v.id!==f);localStorage.setItem(`scheduled-notifications-${e.id}`,JSON.stringify(p))},[e,n]),i=x.useCallback(async()=>{if(!e||!t)return;const f=n(),h=new Date;for(const p of f){const v=new Date(p.programadaPara);v<=h&&await s({...p,programadaPara:v})}},[e,t,n,s]),c=x.useCallback(async(f,h=60)=>{const p=new Date(`${f.data}T${f.hora}`),v=new Date(p.getTime()-h*60*1e3);await r({id:`reminder-${f.id}`,tipo:"lembrete_agendamento",titulo:"Lembrete de Agendamento",mensagem:`${f.clienteNome} tem agendamento em ${h} minutos - ${f.servicoNome}`,programadaPara:v,dados:{agendamentoId:f.id,clienteNome:f.clienteNome,servicoNome:f.servicoNome,data:f.data,horario:f.hora}})},[r]),l=x.useCallback(async(f,h=7)=>{const p=new Date(f.dataVencimento),v=new Date(p.getTime()-h*24*60*60*1e3);await r({id:`expense-${f.id}`,tipo:"despesa_fixa",titulo:"Lembrete de Despesa Fixa",mensagem:`${f.descricao} vence em ${h} dias - R$ ${f.valor.toFixed(2)}`,programadaPara:v,dados:{contaFixaId:f.id,descricao:f.descricao,valor:f.valor,dataVencimento:f.dataVencimento,diasRestantes:h}})},[r]),u=x.useCallback(async f=>{await s({id:`new-appointment-${f.id}`,tipo:"novo_agendamento",titulo:"Novo Agendamento!",mensagem:`${f.clienteNome} agendou ${f.servicoNome} para ${f.data} s ${f.hora}`,programadaPara:new Date,dados:{agendamentoId:f.id,clienteNome:f.clienteNome,servicoNome:f.servicoNome,data:f.data,horario:f.hora,origem:f.origem||"manual"}})},[s]),d=x.useCallback(async f=>{await s({id:`service-completed-${f.id}`,tipo:"servico_finalizado",titulo:"Servio Finalizado",mensagem:`Servio de ${f.servicoNome} para ${f.clienteNome} foi finalizado`,programadaPara:new Date,dados:{agendamentoId:f.id,clienteNome:f.clienteNome,servicoNome:f.servicoNome,valor:f.valor}})},[s]);return x.useEffect(()=>{const f=setInterval(i,3e5);return()=>clearInterval(f)},[i]),{scheduleNotification:r,scheduleAppointmentReminder:c,scheduleExpenseReminder:l,notifyNewAppointment:u,notifyServiceCompleted:d,checkPendingNotifications:i,getScheduledNotifications:n,removeScheduledNotification:o}},pR=()=>{const e=Vu();return x.useMemo(()=>{if(!e.configuracaoHorarios||!e.configuracaoNotificacoes||!e.configuracaoBackup)return{...e,configuracoes:null,updateConfiguracoes:async()=>null,isHorarioDisponivel:()=>!1,getHorariosDisponiveis:()=>[],exportarDados:async()=>{},enviarBackupPorEmail:async()=>!1};const r={id:"supabase-config",userId:e.configuracaoHorarios[0]?.user_id||"",horarios:{diasAtivos:{domingo:e.configuracaoHorarios.find(n=>n.dia_semana===0)?.ativo||!1,segunda:e.configuracaoHorarios.find(n=>n.dia_semana===1)?.ativo||!1,terca:e.configuracaoHorarios.find(n=>n.dia_semana===2)?.ativo||!1,quarta:e.configuracaoHorarios.find(n=>n.dia_semana===3)?.ativo||!1,quinta:e.configuracaoHorarios.find(n=>n.dia_semana===4)?.ativo||!1,sexta:e.configuracaoHorarios.find(n=>n.dia_semana===5)?.ativo||!1,sabado:e.configuracaoHorarios.find(n=>n.dia_semana===6)?.ativo||!1},horarioExpediente:{inicio:e.configuracaoHorarios.find(n=>n.ativo)?.horario_abertura||"08:00",termino:e.configuracaoHorarios.find(n=>n.ativo)?.horario_fechamento||"18:00"},intervaloAlmoco:{inicio:e.configuracaoHorarios.find(n=>n.intervalo_inicio)?.intervalo_inicio||"12:00",termino:e.configuracaoHorarios.find(n=>n.intervalo_fim)?.intervalo_fim||"13:00"},intervalosPersonalizados:[]},notificacoes:{push:{ativo:e.configuracaoNotificacoes.notificacoes_push},novosAgendamentos:{visual:!0,sonoro:e.configuracaoNotificacoes.notificacoes_som,push:e.configuracaoNotificacoes.notificacoes_push,som:"notification"},lembretesAgendamento:{ativo:!0,antecedencia:e.configuracaoNotificacoes.lembrete_agendamento_minutos,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},retornoCronograma:{ativo:!0,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},despesasFixas:{ativo:!0,antecedencia:e.configuracaoNotificacoes.lembrete_contas_fixas_dias,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},servicoFinalizado:{ativo:!0,push:e.configuracaoNotificacoes.notificacoes_push,sonoro:e.configuracaoNotificacoes.notificacoes_som},tempoAntecedencia:e.configuracaoNotificacoes.lembrete_agendamento_minutos},backup:{backupAutomatico:e.configuracaoBackup.backup_automatico,emailBackup:e.configuracaoBackup.email_backup||"",diasSemanaBackup:[0],ultimoBackup:e.configuracaoBackup.ultimo_backup},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...e,configuracoes:r,updateConfiguracoes:async n=>(n.notificacoes&&await e.salvarNotificacoes({notificacoes_push:n.notificacoes.push?.ativo||!1,notificacoes_som:n.notificacoes.novosAgendamentos?.sonoro||!1,lembrete_agendamento_minutos:n.notificacoes.lembretesAgendamento?.antecedencia||60}),n.backup&&await e.salvarBackup({backup_automatico:n.backup.backupAutomatico||!1,email_backup:n.backup.emailBackup||""}),r),isHorarioDisponivel:e.verificarDisponibilidade,getHorariosDisponiveis:(n,s=60)=>e.getHorariosDisponiveisDia(n,s),exportarDados:async()=>{console.log("Export de dados no implementado para Supabase ainda")},enviarBackupPorEmail:async n=>(console.log("Envio por email no implementado ainda"),!1)}},[e.configuracaoHorarios,e.configuracaoNotificacoes,e.configuracaoBackup,e.loading])},a1e=()=>{const{playNotificationSound:e}=mw(),{isSubscribed:t}=Lp(),{notifyNewAppointment:r,notifyServiceCompleted:n,scheduleAppointmentReminder:s}=mR(),{configuracoes:o}=pR(),i=x.useRef(null),c=x.useCallback(async f=>{if(f)try{const h=f==="notification"?"notification":f;(!i.current||i.current.src!==`/sounds/${h}.mp3`)&&(i.current=new Audio(`/sounds/${h}.mp3`),i.current.volume=.7,i.current.preload="auto"),i.current.currentTime=0,await i.current.play()}catch(h){console.log("Erro ao reproduzir som:",h)}},[]),l=x.useCallback(async f=>{if(!o?.notificacoes)return;const h=o.notificacoes.novosAgendamentos;if(h.visual&&Xt({title:"Novo Agendamento!",description:`${f.clienteNome} agendou ${f.servicoNome} para ${f.data} s ${f.hora}`,duration:5e3}),h.sonoro&&await c(h.som),h.push&&t&&await r(f),o.notificacoes.lembretesAgendamento.ativo){const p=o.notificacoes.lembretesAgendamento.antecedencia;await s(f,p)}},[o,e,t,r,s]),u=x.useCallback(async f=>{if(!o?.notificacoes?.servicoFinalizado?.ativo)return;const h=o.notificacoes.servicoFinalizado;Xt({title:"Servio Finalizado",description:`${f.servicoNome} para ${f.clienteNome} foi concludo`,duration:3e3}),h.sonoro&&await c("notification2"),h.push&&t&&await n(f)},[o,e,t,n]),d=x.useCallback(async f=>{if(!o?.notificacoes?.despesasFixas?.ativo)return;const h=o.notificacoes.despesasFixas,p=Math.ceil((new Date(f.dataVencimento).getTime()-Date.now())/(1e3*60*60*24));Xt({title:"Lembrete de Despesa",description:`${f.descricao} vence em ${p} dias - R$ ${f.valor.toFixed(2)}`,duration:8e3}),h.sonoro&&await c("notification3")},[o,e]);return{handleNewAppointment:l,handleServiceCompleted:u,handleExpenseReminder:d}};function s1e(){const{notifications:e,removeNotification:t,clearAllNotifications:r}=mw(),n=c=>{window.location.href=c},s=c=>{const l={online:{text:"Online",variant:"default",class:"bg-green-500/10 text-green-700 dark:text-green-400"},cronograma:{text:"Automtico",variant:"secondary",class:"bg-blue-500/10 text-blue-700 dark:text-blue-400"},manual:{text:"Manual",variant:"outline",class:"bg-gray-500/10 text-gray-700 dark:text-gray-400"}};return l[c]||l.manual},o=c=>new Date(c).toLocaleDateString("pt-BR"),i=()=>{n("/agendamentos"),r()};return e.length===0?null:a.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm animate-fade-in",children:a.jsxs(bn,{className:"bg-gradient-to-r from-primary/10 to-accent/10 border-primary/30 shadow-elegant backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ha,{className:"h-5 w-5 text-primary animate-pulse"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-foreground",children:e.length===1?"Novo Agendamento!":"Novos Agendamentos!"}),a.jsxs(wn,{className:"text-muted-foreground",children:[e.length," novo(s) agendamento(s) recebido(s)"]})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:r,className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",children:a.jsx(Vt,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"mt-3 space-y-2 max-h-60 overflow-y-auto",children:e.map(c=>{const l=s(c.origem);return a.jsx(F,{className:"border-primary/20 hover:bg-primary/5 transition-colors",children:a.jsx(U,{className:"p-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:c.clienteNome}),a.jsx(ue,{variant:l.variant,className:`text-xs ${l.class}`,children:l.text})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(an,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c.servicoNome})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:o(c.data)}),a.jsx(it,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c.horario})]})]}),a.jsx(z,{variant:"ghost",size:"sm",onClick:()=>t(c.id),className:"h-6 w-6 p-0 ml-2",children:a.jsx(Vt,{className:"h-3 w-3"})})]})})},c.id)})}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 text-xs h-7",onClick:i,children:[a.jsx(Dy,{className:"h-3 w-3 mr-1"}),"Ver Agendamentos"]}),a.jsx(z,{variant:"default",size:"sm",className:"flex-1 text-xs h-7 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90",onClick:r,children:"Marcar como Visto"})]})]})})}const o1e=x.createContext(void 0),i1e=({children:e})=>{const{checkForNewAgendamentos:t}=mw();Lp();const{scheduleAppointmentReminder:r,notifyNewAppointment:n,notifyServiceCompleted:s,checkPendingNotifications:o}=mR(),{handleNewAppointment:i,handleServiceCompleted:c,handleExpenseReminder:l}=a1e(),{configuracoes:u}=pR();x.useEffect(()=>{const f=setInterval(()=>{o()},3e5);return()=>clearInterval(f)},[o]);const d={checkForNewAgendamentos:t,scheduleAppointmentReminder:r,notifyNewAppointment:n,notifyServiceCompleted:s,handleNewAppointment:i,handleServiceCompleted:c,handleExpenseReminder:l};return a.jsxs(o1e.Provider,{value:d,children:[e,a.jsx(s1e,{})]})};function c1e(){const{user:e}=Lt(),{configuracaoBackup:t}=Vu(),[r,n]=x.useState(!1),[s,o]=x.useState(0);x.useEffect(()=>{if(!e?.id||!t?.backup_automatico)return;(()=>{const u=new Date;let d=!1;if(!t.ultimo_backup)d=!0,o(0);else{const h=new Date(t.ultimo_backup),p=Math.floor((u.getTime()-h.getTime())/(1e3*60*60*24));switch(o(p),t.frequencia_backup){case"diario":d=p>=1;break;case"semanal":d=p>=7;break;case"mensal":d=p>=30;break}}const f=sessionStorage.getItem("backup_prompt_shown");d&&!f&&(n(!0),sessionStorage.setItem("backup_prompt_shown","true"))})()},[e?.id,t]);const i=()=>{n(!1)},c=()=>{n(!1),window.location.href="/configuracoes?tab=backup"};return r?a.jsx(Xn,{open:r,onOpenChange:n,children:a.jsxs(_n,{children:[a.jsxs(Sn,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-amber-100 dark:bg-amber-900/20 flex items-center justify-center",children:a.jsx(Ja,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsx(Pn,{className:"text-xl",children:"Hora de Fazer Backup!"})]}),a.jsxs(An,{className:"space-y-3 text-base",children:[s===0?a.jsx("p",{children:"Voc ainda no realizou nenhum backup dos seus dados."}):a.jsxs("p",{children:["J se passaram ",a.jsxs("strong",{children:[s," dias"]})," desde o seu ltimo backup."]}),a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(yf,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Proteo dos seus dados"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fazer backups regulares protege suas informaes de clientes, agendamentos e dados financeiros."})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recomendamos fazer o backup ",t?.frequencia_backup==="diario"?"diariamente":t?.frequencia_backup==="semanal"?"semanalmente":"mensalmente","."]})]})]}),a.jsxs(Cn,{className:"flex-col sm:flex-row gap-2",children:[a.jsx("button",{onClick:i,className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-4 py-2 text-sm font-medium ring-offset-background transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 w-full sm:w-auto",children:"Lembrar Depois"}),a.jsxs(kn,{onClick:c,className:"w-full sm:w-auto",children:[a.jsx(yf,{className:"h-4 w-4 mr-2"}),"Fazer Backup Agora"]})]})]})}):null}const l1e=new zR,u1e=()=>a.jsx(VR,{client:l1e,children:a.jsx(zI,{basename:"/lilac-luxe-salon-100/",children:a.jsx(TL,{children:a.jsx(i1e,{children:a.jsx(a3,{children:a.jsxs("div",{id:"app-container",children:[a.jsx(c1e,{}),a.jsx(OL,{position:"top-right"}),a.jsxs(TI,{children:[a.jsx(Mt,{path:"/login",element:a.jsx(t1e,{})}),a.jsx(Mt,{path:"/cadastro",element:a.jsx(n1e,{})}),a.jsx(Mt,{path:"/onboarding",element:a.jsx(Ar,{children:a.jsx(Q_e,{})})}),a.jsx(Mt,{path:"/ai-consultor",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx($S,{})})})}),a.jsx(Mt,{path:"/agendamento-online",element:a.jsx(Hg,{})}),a.jsx(Mt,{path:"/agendamento-publico",element:a.jsx(Hg,{})}),a.jsx(Mt,{path:"/agendar",element:a.jsx(Hg,{})}),a.jsx(Mt,{path:"/",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(fhe,{})})})}),a.jsx(Mt,{path:"/consultor",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx($S,{})})})}),a.jsx(Mt,{path:"/minha-agenda",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(s_e,{})})})}),a.jsx(Mt,{path:"/clientes",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(J0e,{})})})}),a.jsx(Mt,{path:"/servicos",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(Ewe,{})})})}),a.jsx(Mt,{path:"/cronogramas",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(Lwe,{})})})}),a.jsx(Mt,{path:"/financeiro",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(Sje,{})})})}),a.jsx(Mt,{path:"/auditoria",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(T_e,{})})})}),a.jsx(Mt,{path:"/agendamentos",element:a.jsx(pf,{to:"/minha-agenda",replace:!0})}),a.jsx(Mt,{path:"/agenda",element:a.jsx(pf,{to:"/minha-agenda",replace:!0})}),a.jsx(Mt,{path:"/configuracoes",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(E_e,{})})})}),a.jsx(Mt,{path:"/marketing",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(F_e,{})})})}),a.jsx(Mt,{path:"/produtos",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(Z_e,{})})})}),a.jsx(Mt,{path:"/assinatura",element:a.jsx(Ar,{children:a.jsx(Yr,{children:a.jsx(X_e,{})})})}),a.jsx(Mt,{path:"/checkout-success",element:a.jsx(Ar,{children:a.jsx(J_e,{})})}),a.jsx(Mt,{path:"*",element:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 to-secondary/5",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Pgina no encontrada"}),a.jsx(Ni,{to:"/",className:"text-primary hover:underline",children:"Voltar ao incio"})]})})})]})]})})})})})}),gR=document.getElementById("root");if(!gR)throw new Error("Failed to find the root element");RC(gR).render(a.jsx(u1e,{}));export{Fe as A,z as B,bt as C,De as D,X as E,DF as F,bn as G,mc as H,VF as I,B as J,wn as K,H as L,HF as M,vo as N,Ou as O,Pe as P,_F as Q,Le as S,mr as T,Ir as U,_1e as Z,wa as a,Qn as b,se as c,fe as d,Cr as e,K0 as f,ab as g,J as h,A_e as i,Xa as j,am as k,it as l,dt as m,nw as n,Bs as o,JNe as p,F as q,ne as r,W as s,Se as t,Be as u,ae as v,He as w,U as x,ee as y,Me as z};
